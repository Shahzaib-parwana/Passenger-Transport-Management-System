(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Fq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lx={exports:{}},Dh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function gE(){if(bw)return Dh;bw=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function r(a,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var A in i)A!=="key"&&(o[A]=i[A])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:o}}return Dh.Fragment=s,Dh.jsx=r,Dh.jsxs=r,Dh}var yw;function pE(){return yw||(yw=1,lx.exports=gE()),lx.exports}var e=pE(),ox={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function xE(){if(vw)return $t;vw=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=b&&ee[b]||ee["@@iterator"],typeof ee=="function"?ee:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,j={};function _(ee,M,H){this.props=ee,this.context=M,this.refs=j,this.updater=H||w}_.prototype.isReactComponent={},_.prototype.setState=function(ee,M){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,M,"setState")},_.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function Q(){}Q.prototype=_.prototype;function E(ee,M,H){this.props=ee,this.context=M,this.refs=j,this.updater=H||w}var T=E.prototype=new Q;T.constructor=E,B(T,_.prototype),T.isPureReactComponent=!0;var U=Array.isArray;function k(){}var q={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function z(ee,M,H){var Z=H.ref;return{$$typeof:t,type:ee,key:M,ref:Z!==void 0?Z:null,props:H}}function $(ee,M){return z(ee.type,M,ee.props)}function D(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function L(ee){var M={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(H){return M[H]})}var R=/\/+/g;function P(ee,M){return typeof ee=="object"&&ee!==null&&ee.key!=null?L(""+ee.key):M.toString(36)}function re(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(k,k):(ee.status="pending",ee.then(function(M){ee.status==="pending"&&(ee.status="fulfilled",ee.value=M)},function(M){ee.status==="pending"&&(ee.status="rejected",ee.reason=M)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function I(ee,M,H,Z,Ae){var fe=typeof ee;(fe==="undefined"||fe==="boolean")&&(ee=null);var pe=!1;if(ee===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(ee.$$typeof){case t:case s:pe=!0;break;case f:return pe=ee._init,I(pe(ee._payload),M,H,Z,Ae)}}if(pe)return Ae=Ae(ee),pe=Z===""?"."+P(ee,0):Z,U(Ae)?(H="",pe!=null&&(H=pe.replace(R,"$&/")+"/"),I(Ae,M,H,"",function(Le){return Le})):Ae!=null&&(D(Ae)&&(Ae=$(Ae,H+(Ae.key==null||ee&&ee.key===Ae.key?"":(""+Ae.key).replace(R,"$&/")+"/")+pe)),M.push(Ae)),1;pe=0;var Se=Z===""?".":Z+":";if(U(ee))for(var me=0;me<ee.length;me++)Z=ee[me],fe=Se+P(Z,me),pe+=I(Z,M,H,fe,Ae);else if(me=x(ee),typeof me=="function")for(ee=me.call(ee),me=0;!(Z=ee.next()).done;)Z=Z.value,fe=Se+P(Z,me++),pe+=I(Z,M,H,fe,Ae);else if(fe==="object"){if(typeof ee.then=="function")return I(re(ee),M,H,Z,Ae);throw M=String(ee),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(ee,M,H){if(ee==null)return ee;var Z=[],Ae=0;return I(ee,Z,"","",function(fe){return M.call(H,fe,Ae++)}),Z}function X(ee){if(ee._status===-1){var M=ee._result;M=M(),M.then(function(H){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=H)},function(H){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=H)}),ee._status===-1&&(ee._status=0,ee._result=M)}if(ee._status===1)return ee._result.default;throw ee._result}var ie=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},ge={map:G,forEach:function(ee,M,H){G(ee,function(){M.apply(this,arguments)},H)},count:function(ee){var M=0;return G(ee,function(){M++}),M},toArray:function(ee){return G(ee,function(M){return M})||[]},only:function(ee){if(!D(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return $t.Activity=g,$t.Children=ge,$t.Component=_,$t.Fragment=r,$t.Profiler=i,$t.PureComponent=E,$t.StrictMode=a,$t.Suspense=u,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,$t.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return q.H.useMemoCache(ee)}},$t.cache=function(ee){return function(){return ee.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(ee,M,H){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var Z=B({},ee.props),Ae=ee.key;if(M!=null)for(fe in M.key!==void 0&&(Ae=""+M.key),M)!K.call(M,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&M.ref===void 0||(Z[fe]=M[fe]);var fe=arguments.length-2;if(fe===1)Z.children=H;else if(1<fe){for(var pe=Array(fe),Se=0;Se<fe;Se++)pe[Se]=arguments[Se+2];Z.children=pe}return z(ee.type,Ae,Z)},$t.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},$t.createElement=function(ee,M,H){var Z,Ae={},fe=null;if(M!=null)for(Z in M.key!==void 0&&(fe=""+M.key),M)K.call(M,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(Ae[Z]=M[Z]);var pe=arguments.length-2;if(pe===1)Ae.children=H;else if(1<pe){for(var Se=Array(pe),me=0;me<pe;me++)Se[me]=arguments[me+2];Ae.children=Se}if(ee&&ee.defaultProps)for(Z in pe=ee.defaultProps,pe)Ae[Z]===void 0&&(Ae[Z]=pe[Z]);return z(ee,fe,Ae)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(ee){return{$$typeof:A,render:ee}},$t.isValidElement=D,$t.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:X}},$t.memo=function(ee,M){return{$$typeof:h,type:ee,compare:M===void 0?null:M}},$t.startTransition=function(ee){var M=q.T,H={};q.T=H;try{var Z=ee(),Ae=q.S;Ae!==null&&Ae(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(k,ie)}catch(fe){ie(fe)}finally{M!==null&&H.types!==null&&(M.types=H.types),q.T=M}},$t.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},$t.use=function(ee){return q.H.use(ee)},$t.useActionState=function(ee,M,H){return q.H.useActionState(ee,M,H)},$t.useCallback=function(ee,M){return q.H.useCallback(ee,M)},$t.useContext=function(ee){return q.H.useContext(ee)},$t.useDebugValue=function(){},$t.useDeferredValue=function(ee,M){return q.H.useDeferredValue(ee,M)},$t.useEffect=function(ee,M){return q.H.useEffect(ee,M)},$t.useEffectEvent=function(ee){return q.H.useEffectEvent(ee)},$t.useId=function(){return q.H.useId()},$t.useImperativeHandle=function(ee,M,H){return q.H.useImperativeHandle(ee,M,H)},$t.useInsertionEffect=function(ee,M){return q.H.useInsertionEffect(ee,M)},$t.useLayoutEffect=function(ee,M){return q.H.useLayoutEffect(ee,M)},$t.useMemo=function(ee,M){return q.H.useMemo(ee,M)},$t.useOptimistic=function(ee,M){return q.H.useOptimistic(ee,M)},$t.useReducer=function(ee,M,H){return q.H.useReducer(ee,M,H)},$t.useRef=function(ee){return q.H.useRef(ee)},$t.useState=function(ee){return q.H.useState(ee)},$t.useSyncExternalStore=function(ee,M,H){return q.H.useSyncExternalStore(ee,M,H)},$t.useTransition=function(){return q.H.useTransition()},$t.version="19.2.0",$t}var ww;function Yy(){return ww||(ww=1,ox.exports=xE()),ox.exports}var S=Yy();const Ds=n4(S);var Ax={exports:{}},Ih={},cx={exports:{}},dx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function bE(){return Nw||(Nw=1,function(t){function s(I,G){var X=I.length;I.push(G);e:for(;0<X;){var ie=X-1>>>1,ge=I[ie];if(0<i(ge,G))I[ie]=G,I[X]=ge,X=ie;else break e}}function r(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var G=I[0],X=I.pop();if(X!==G){I[0]=X;e:for(var ie=0,ge=I.length,ee=ge>>>1;ie<ee;){var M=2*(ie+1)-1,H=I[M],Z=M+1,Ae=I[Z];if(0>i(H,X))Z<ge&&0>i(Ae,H)?(I[ie]=Ae,I[Z]=X,ie=Z):(I[ie]=H,I[M]=X,ie=M);else if(Z<ge&&0>i(Ae,X))I[ie]=Ae,I[Z]=X,ie=Z;else break e}}return G}function i(I,G){var X=I.sortIndex-G.sortIndex;return X!==0?X:I.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,A=c.now();t.unstable_now=function(){return c.now()-A}}var u=[],h=[],f=1,g=null,b=3,x=!1,w=!1,B=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(I){for(var G=r(h);G!==null;){if(G.callback===null)a(h);else if(G.startTime<=I)a(h),G.sortIndex=G.expirationTime,s(u,G);else break;G=r(h)}}function U(I){if(B=!1,T(I),!w)if(r(u)!==null)w=!0,k||(k=!0,L());else{var G=r(h);G!==null&&re(U,G.startTime-I)}}var k=!1,q=-1,K=5,z=-1;function $(){return j?!0:!(t.unstable_now()-z<K)}function D(){if(j=!1,k){var I=t.unstable_now();z=I;var G=!0;try{e:{w=!1,B&&(B=!1,Q(q),q=-1),x=!0;var X=b;try{t:{for(T(I),g=r(u);g!==null&&!(g.expirationTime>I&&$());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,b=g.priorityLevel;var ge=ie(g.expirationTime<=I);if(I=t.unstable_now(),typeof ge=="function"){g.callback=ge,T(I),G=!0;break t}g===r(u)&&a(u),T(I)}else a(u);g=r(u)}if(g!==null)G=!0;else{var ee=r(h);ee!==null&&re(U,ee.startTime-I),G=!1}}break e}finally{g=null,b=X,x=!1}G=void 0}}finally{G?L():k=!1}}}var L;if(typeof E=="function")L=function(){E(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=D,L=function(){P.postMessage(null)}}else L=function(){_(D,0)};function re(I,G){q=_(function(){I(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(I){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var X=b;b=G;try{return I()}finally{b=X}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=b;b=I;try{return G()}finally{b=X}},t.unstable_scheduleCallback=function(I,G,X){var ie=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,I){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=X+ge,I={id:f++,callback:G,priorityLevel:I,startTime:X,expirationTime:ge,sortIndex:-1},X>ie?(I.sortIndex=X,s(h,I),r(u)===null&&I===r(h)&&(B?(Q(q),q=-1):B=!0,re(U,X-ie))):(I.sortIndex=ge,s(u,I),w||x||(w=!0,k||(k=!0,L()))),I},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(I){var G=b;return function(){var X=b;b=G;try{return I.apply(this,arguments)}finally{b=X}}}}(dx)),dx}var jw;function yE(){return jw||(jw=1,cx.exports=bE()),cx.exports}var ux={exports:{}},Ya={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function vE(){if(Bw)return Ya;Bw=1;var t=Yy();function s(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:h,implementation:f}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ya.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return o(u,h,null,f)},Ya.flushSync=function(u){var h=c.T,f=a.p;try{if(c.T=null,a.p=2,u)return u()}finally{c.T=h,a.p=f,a.d.f()}},Ya.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(u,h))},Ya.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},Ya.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,g=A(f,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?a.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):f==="script"&&a.d.X(u,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ya.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=A(h.as,h.crossOrigin);a.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(u)},Ya.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=A(f,h.crossOrigin);a.d.L(u,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ya.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=A(h.as,h.crossOrigin);a.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(u)},Ya.requestFormReset=function(u){a.d.r(u)},Ya.unstable_batchedUpdates=function(u,h){return u(h)},Ya.useFormState=function(u,h,f){return c.H.useFormState(u,h,f)},Ya.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ya.version="19.2.0",Ya}var _w;function wE(){if(_w)return ux.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),ux.exports=vE(),ux.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function NE(){if(Cw)return Ih;Cw=1;var t=yE(),s=Yy(),r=wE();function a(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var l=n,d=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(d=l.return),n=l.return;while(n)}return l.tag===3?d:null}function c(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function A(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function u(n){if(o(n)!==n)throw Error(a(188))}function h(n){var l=n.alternate;if(!l){if(l=o(n),l===null)throw Error(a(188));return l!==n?null:n}for(var d=n,m=l;;){var y=d.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===d)return u(y),n;if(N===m)return u(y),l;N=N.sibling}throw Error(a(188))}if(d.return!==m.return)d=y,m=N;else{for(var V=!1,ne=y.child;ne;){if(ne===d){V=!0,d=y,m=N;break}if(ne===m){V=!0,m=y,d=N;break}ne=ne.sibling}if(!V){for(ne=N.child;ne;){if(ne===d){V=!0,d=N,m=y;break}if(ne===m){V=!0,m=N,d=y;break}ne=ne.sibling}if(!V)throw Error(a(189))}}if(d.alternate!==m)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?n:l}function f(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=f(n),l!==null)return l;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function P(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case U:return"Suspense";case k:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case E:return n.displayName||"Context";case Q:return(n._context.displayName||"Context")+".Consumer";case T:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return l=n.displayName||null,l!==null?l:P(n.type)||"Memo";case K:l=n._payload,n=n._init;try{return P(n(l))}catch{}}return null}var re=Array.isArray,I=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ie=[],ge=-1;function ee(n){return{current:n}}function M(n){0>ge||(n.current=ie[ge],ie[ge]=null,ge--)}function H(n,l){ge++,ie[ge]=n.current,n.current=l}var Z=ee(null),Ae=ee(null),fe=ee(null),pe=ee(null);function Se(n,l){switch(H(fe,l),H(Ae,n),H(Z,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?P2(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=P2(l),n=V2(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}M(Z),H(Z,n)}function me(){M(Z),M(Ae),M(fe)}function Le(n){n.memoizedState!==null&&H(pe,n);var l=Z.current,d=V2(l,n.type);l!==d&&(H(Ae,n),H(Z,d))}function Ve(n){Ae.current===n&&(M(Z),M(Ae)),pe.current===n&&(M(pe),kh._currentValue=X)}var ke,Ke;function ae(n){if(ke===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ke=l&&l[1]||"",Ke=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+n+Ke}var Y=!1;function xe(n,l){if(!n||Y)return"";Y=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Pe){var Re=Pe}Reflect.construct(n,[],et)}else{try{et.call()}catch(Pe){Re=Pe}n.call(et.prototype)}}else{try{throw Error()}catch(Pe){Re=Pe}(et=n())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Pe){if(Pe&&Re&&typeof Pe.stack=="string")return[Pe.stack,Re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),V=N[0],ne=N[1];if(V&&ne){var be=V.split(`
`),Me=ne.split(`
`);for(y=m=0;m<be.length&&!be[m].includes("DetermineComponentFrameRoot");)m++;for(;y<Me.length&&!Me[y].includes("DetermineComponentFrameRoot");)y++;if(m===be.length||y===Me.length)for(m=be.length-1,y=Me.length-1;1<=m&&0<=y&&be[m]!==Me[y];)y--;for(;1<=m&&0<=y;m--,y--)if(be[m]!==Me[y]){if(m!==1||y!==1)do if(m--,y--,0>y||be[m]!==Me[y]){var $e=`
`+be[m].replace(" at new "," at ");return n.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",n.displayName)),$e}while(1<=m&&0<=y);break}}}finally{Y=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?ae(d):""}function Ue(n,l){switch(n.tag){case 26:case 27:case 5:return ae(n.type);case 16:return ae("Lazy");case 13:return n.child!==l&&l!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return xe(n.type,!1);case 11:return xe(n.type.render,!1);case 1:return xe(n.type,!0);case 31:return ae("Activity");default:return""}}function ve(n){try{var l="",d=null;do l+=Ue(n,d),d=n,n=n.return;while(n);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var oe=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,Ee=t.unstable_cancelCallback,ze=t.unstable_shouldYield,Oe=t.unstable_requestPaint,Je=t.unstable_now,ot=t.unstable_getCurrentPriorityLevel,ht=t.unstable_ImmediatePriority,_t=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,dt=t.unstable_LowPriority,At=t.unstable_IdlePriority,ye=t.log,es=t.unstable_setDisableYieldValue,Qt=null,rt=null;function vt(n){if(typeof ye=="function"&&es(n),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Qt,n)}catch{}}var Tt=Math.clz32?Math.clz32:St,it=Math.log,Lt=Math.LN2;function St(n){return n>>>=0,n===0?32:31-(it(n)/Lt|0)|0}var us=256,ls=262144,Dt=4194304;function Ct(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ts(n,l,d){var m=n.pendingLanes;if(m===0)return 0;var y=0,N=n.suspendedLanes,V=n.pingedLanes;n=n.warmLanes;var ne=m&134217727;return ne!==0?(m=ne&~N,m!==0?y=Ct(m):(V&=ne,V!==0?y=Ct(V):d||(d=ne&~n,d!==0&&(y=Ct(d))))):(ne=m&~N,ne!==0?y=Ct(ne):V!==0?y=Ct(V):d||(d=m&~n,d!==0&&(y=Ct(d)))),y===0?0:l!==0&&l!==y&&(l&N)===0&&(N=y&-y,d=l&-l,N>=d||N===32&&(d&4194048)!==0)?l:y}function on(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function wr(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var n=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),n}function Zr(n){for(var l=[],d=0;31>d;d++)l.push(n);return l}function Et(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gi(n,l,d,m,y,N){var V=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var ne=n.entanglements,be=n.expirationTimes,Me=n.hiddenUpdates;for(d=V&~d;0<d;){var $e=31-Tt(d),et=1<<$e;ne[$e]=0,be[$e]=-1;var Re=Me[$e];if(Re!==null)for(Me[$e]=null,$e=0;$e<Re.length;$e++){var Pe=Re[$e];Pe!==null&&(Pe.lane&=-536870913)}d&=~et}m!==0&&mi(n,m,0),N!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=N&~(V&~l))}function mi(n,l,d){n.pendingLanes|=l,n.suspendedLanes&=~l;var m=31-Tt(l);n.entangledLanes|=l,n.entanglements[m]=n.entanglements[m]|1073741824|d&261930}function An(n,l){var d=n.entangledLanes|=l;for(n=n.entanglements;d;){var m=31-Tt(d),y=1<<m;y&l|n[m]&l&&(n[m]|=l),d&=~y}}function cn(n,l){var d=l&-l;return d=(d&42)!==0?1:rr(d),(d&(n.suspendedLanes|l))!==0?0:d}function rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function kr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ea(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:uw(n.type))}function Fl(n,l){var d=G.p;try{return G.p=n,l()}finally{G.p=d}}var La=Math.random().toString(36).slice(2),Ms="__reactFiber$"+La,nr="__reactProps$"+La,Na="__reactContainer$"+La,dn="__reactEvents$"+La,Bn="__reactListeners$"+La,uo="__reactHandles$"+La,$n="__reactResources$"+La,Xn="__reactMarker$"+La;function Ul(n){delete n[Ms],delete n[nr],delete n[dn],delete n[Bn],delete n[uo]}function Yn(n){var l=n[Ms];if(l)return l;for(var d=n.parentNode;d;){if(l=d[Na]||d[Ms]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(n=Y2(n);n!==null;){if(d=n[Ms])return d;n=Y2(n)}return l}n=d,d=n.parentNode}return null}function Wn(n){if(n=n[Ms]||n[Na]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function ho(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(a(33))}function gi(n){var l=n[$n];return l||(l=n[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Nr(n){n[Xn]=!0}var oc=new Set,un={};function Jn(n,l){qi(n,l),qi(n+"Capture",l)}function qi(n,l){for(un[n]=l,n=0;n<l.length;n++)oc.add(l[n])}var Ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},dc={};function hd(n){return oe.call(dc,n)?!0:oe.call(cc,n)?!1:Ac.test(n)?dc[n]=!0:(cc[n]=!0,!1)}function $i(n,l,d){if(hd(l))if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+d)}}function aA(n,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+d)}}function Qs(n,l,d,m){if(m===null)n.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(l,d,""+m)}}function Qa(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function uc(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Xi(n,l,d){var m=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,N=m.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return y.call(this)},set:function(V){d=""+V,N.call(this,V)}}),Object.defineProperty(n,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(V){d=""+V},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function Yi(n){if(!n._valueTracker){var l=uc(n)?"checked":"value";n._valueTracker=Xi(n,l,""+n[l])}}function _n(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return n&&(m=uc(n)?n.checked?"true":"false":n.value),n=m,n!==d?(l.setValue(n),!0):!1}function pi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jr=/[\n"\\]/g;function ja(n){return n.replace(jr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function hc(n,l,d,m,y,N,V,ne){n.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?n.type=V:n.removeAttribute("type"),l!=null?V==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+Qa(l)):n.value!==""+Qa(l)&&(n.value=""+Qa(l)):V!=="submit"&&V!=="reset"||n.removeAttribute("value"),l!=null?fc(n,V,Qa(l)):d!=null?fc(n,V,Qa(d)):m!=null&&n.removeAttribute("value"),y==null&&N!=null&&(n.defaultChecked=!!N),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?n.name=""+Qa(ne):n.removeAttribute("name")}function fd(n,l,d,m,y,N,V,ne){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),l!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){Yi(n);return}d=d!=null?""+Qa(d):"",l=l!=null?""+Qa(l):d,ne||l===n.value||(n.value=l),n.defaultValue=l}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,n.checked=ne?n.checked:!!m,n.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(n.name=V),Yi(n)}function fc(n,l,d){l==="number"&&pi(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function Ta(n,l,d,m){if(n=n.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<n.length;d++)y=l.hasOwnProperty("$"+n[d].value),n[d].selected!==y&&(n[d].selected=y),y&&m&&(n[d].defaultSelected=!0)}else{for(d=""+Qa(d),l=null,y=0;y<n.length;y++){if(n[y].value===d){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}l!==null||n[y].disabled||(l=n[y])}l!==null&&(l.selected=!0)}}function mc(n,l,d){if(l!=null&&(l=""+Qa(l),l!==n.value&&(n.value=l),d==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=d!=null?""+Qa(d):""}function gc(n,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(a(92));if(re(m)){if(1<m.length)throw Error(a(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Qa(l),n.defaultValue=d,m=n.textContent,m===d&&m!==""&&m!==null&&(n.value=m),Yi(n)}function hn(n,l){if(l){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=l;return}}n.textContent=l}var pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(n,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":m?n.setProperty(l,d):typeof d!="number"||d===0||pc.has(l)?l==="float"?n.cssFloat=d:n[l]=(""+d).trim():n[l]=d+"px"}function gd(n,l,d){if(l!=null&&typeof l!="object")throw Error(a(62));if(n=n.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?n.setProperty(m,""):m==="float"?n.cssFloat="":n[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&d[y]!==m&&md(n,y,m)}else for(var N in l)l.hasOwnProperty(N)&&md(n,N,l[N])}function xc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(n){return fo.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ei(){}var Wi=null;function mo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var It=null,kl=null;function pd(n){var l=Wn(n);if(l&&(n=l.stateNode)){var d=n[nr]||null;e:switch(n=l.stateNode,l.type){case"input":if(hc(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ja(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==n&&m.form===n.form){var y=m[nr]||null;if(!y)throw Error(a(90));hc(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===n.form&&_n(m)}break e;case"textarea":mc(n,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Ta(n,!!d.multiple,l,!1)}}}var yc=!1;function xd(n,l,d){if(yc)return n(l,d);yc=!0;try{var m=n(l);return m}finally{if(yc=!1,(It!==null||kl!==null)&&(vm(),It&&(l=It,n=kl,kl=It=null,pd(l),n)))for(l=0;l<n.length;l++)pd(n[l])}}function fn(n,l){var d=n.stateNode;if(d===null)return null;var m=d[nr]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(a(231,l,typeof d));return d}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(la)try{var go={};Object.defineProperty(go,"passive",{get:function(){vc=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{vc=!1}var mn=null,po=null,xi=null;function xo(){if(xi)return xi;var n,l=po,d=l.length,m,y="value"in mn?mn.value:mn.textContent,N=y.length;for(n=0;n<d&&l[n]===y[n];n++);var V=d-n;for(m=1;m<=V&&l[d-m]===y[N-m];m++);return xi=y.slice(n,1<m?1-m:void 0)}function Ji(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function nA(){return!0}function iA(){return!1}function ta(n){function l(d,m,y,N,V){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var ne in n)n.hasOwnProperty(ne)&&(d=n[ne],this[ne]=d?d(N):N[ne]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?nA:iA,this.isPropagationStopped=iA,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=nA)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=nA)},persist:function(){},isPersistent:nA}),l}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=ta(gn),Zi=g({},gn,{view:0,detail:0}),lA=ta(Zi),bo,el,Ll,yo=g({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ot,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ll&&(Ll&&n.type==="mousemove"?(bo=n.screenX-Ll.screenX,el=n.screenY-Ll.screenY):el=bo=0,Ll=n),bo)},movementY:function(n){return"movementY"in n?n.movementY:el}}),yi=ta(yo),tl=g({},yo,{dataTransfer:0}),bd=ta(tl),yd=g({},Zi,{relatedTarget:0}),sl=ta(yd),vd=g({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),C=ta(vd),W=g({},gn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),he=ta(W),we=g({},gn,{data:0}),_e=ta(we),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=xt[n])?!!l[n]:!1}function Ot(){return jt}var zt=g({},Zi,{key:function(n){if(n.key){var l=Xe[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=Ji(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?st[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ot,charCode:function(n){return n.type==="keypress"?Ji(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ji(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ns=ta(zt),ir=g({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Br=ta(ir),Ks=g({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ot}),zr=ta(Ks),Lr=g({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),oa=ta(Lr),Cn=g({},yo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=ta(Cn),wd=g({},gn,{newState:0,oldState:0}),oA=ta(wd),vo=[9,13,27,32],vi=la&&"CompositionEvent"in window,ti=null;la&&"documentMode"in document&&(ti=document.documentMode);var wo=la&&"TextEvent"in window&&!ti,Ql=la&&(!vi||ti&&8<ti&&11>=ti),Aa=" ",Tl=!1;function Dl(n,l){switch(n){case"keyup":return vo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wi=!1;function hr(n,l){switch(n){case"compositionend":return AA(l);case"keypress":return l.which!==32?null:(Tl=!0,Aa);case"textInput":return n=l.data,n===Aa&&Tl?null:n;default:return null}}function rl(n,l){if(wi)return n==="compositionend"||!vi&&Dl(n,l)?(n=xo(),xi=po=mn=null,wi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ql&&l.locale!=="ko"?null:l.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!cA[n.type]:l==="textarea"}function pn(n,l,d,m){It?kl?kl.push(m):kl=[m]:It=m,l=Sm(l,"onChange"),0<l.length&&(d=new bi("onChange","change",null,d,m),n.push({event:d,listeners:l}))}var si=null,al=null;function Nc(n){D2(n,0)}function ri(n){var l=ho(n);if(_n(l))return n}function Il(n,l){if(n==="change")return l}var $a=!1;if(la){var Da;if(la){var Ni="oninput"in document;if(!Ni){var ji=document.createElement("div");ji.setAttribute("oninput","return;"),Ni=typeof ji.oninput=="function"}Da=Ni}else Da=!1;$a=Da&&(!document.documentMode||9<document.documentMode)}function nl(){si&&(si.detachEvent("onpropertychange",dA),al=si=null)}function dA(n){if(n.propertyName==="value"&&ri(al)){var l=[];pn(l,al,n,mo(n)),xd(Nc,l)}}function uA(n,l,d){n==="focusin"?(nl(),si=l,al=d,si.attachEvent("onpropertychange",dA)):n==="focusout"&&nl()}function _r(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ri(al)}function Nd(n,l){if(n==="click")return ri(l)}function Bi(n,l){if(n==="input"||n==="change")return ri(l)}function _i(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var ca=typeof Object.is=="function"?Object.is:_i;function il(n,l){if(ca(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var d=Object.keys(n),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!oe.call(l,y)||!ca(n[y],l[y]))return!1}return!0}function hA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fA(n,l){var d=hA(n);n=0;for(var m;d;){if(d.nodeType===3){if(m=n+d.textContent.length,n<=l&&m>=l)return{node:d,offset:l-n};n=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hA(d)}}function ll(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?ll(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function ol(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=pi(n.document);l instanceof n.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)n=l.contentWindow;else break;l=pi(n.document)}return l}function Ci(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var No=la&&"documentMode"in document&&11>=document.documentMode,xn=null,Al=null,Ba=null,Sn=!1;function js(n,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sn||xn==null||xn!==pi(m)||(m=xn,"selectionStart"in m&&Ci(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ba&&il(Ba,m)||(Ba=m,m=Sm(Al,"onSelect"),0<m.length&&(l=new bi("onSelect","select",null,l,d),n.push({event:l,listeners:m}),l.target=xn)))}function xs(n,l){var d={};return d[n.toLowerCase()]=l.toLowerCase(),d["Webkit"+n]="webkit"+l,d["Moz"+n]="moz"+l,d}var Gs={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Cr={},Si={};la&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ai(n){if(Cr[n])return Cr[n];if(!Gs[n])return n;var l=Gs[n],d;for(d in l)if(l.hasOwnProperty(d)&&d in Si)return Cr[n]=l[d];return n}var jo=ai("animationend"),jc=ai("animationiteration"),th=ai("animationstart"),Wf=ai("transitionrun"),Jf=ai("transitionstart"),Zf=ai("transitioncancel"),sh=ai("transitionend"),rh=new Map,Bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bo.push("scrollEnd");function En(n,l){rh.set(n,l),Jn(l,[n])}var Bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},bn=[],_o=0,jd=0;function _c(){for(var n=_o,l=jd=_o=0;l<n;){var d=bn[l];bn[l++]=null;var m=bn[l];bn[l++]=null;var y=bn[l];bn[l++]=null;var N=bn[l];if(bn[l++]=null,m!==null&&y!==null){var V=m.pending;V===null?y.next=y:(y.next=V.next,V.next=y),m.pending=y}N!==0&&Sc(d,y,N)}}function Cc(n,l,d,m){bn[_o++]=n,bn[_o++]=l,bn[_o++]=d,bn[_o++]=m,jd|=m,n.lanes|=m,n=n.alternate,n!==null&&(n.lanes|=m)}function Bd(n,l,d,m){return Cc(n,l,d,m),_a(n)}function cl(n,l){return Cc(n,null,null,l),_a(n)}function Sc(n,l,d){n.lanes|=d;var m=n.alternate;m!==null&&(m.lanes|=d);for(var y=!1,N=n.return;N!==null;)N.childLanes|=d,m=N.alternate,m!==null&&(m.childLanes|=d),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(y=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,y&&l!==null&&(y=31-Tt(d),n=N.hiddenUpdates,m=n[y],m===null?n[y]=[l]:m.push(l),l.lane=d|536870912),N):null}function _a(n){if(50<Bh)throw Bh=0,Up=null,Error(a(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var da={};function _d(n,l,d,m){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(n,l,d,m){return new _d(n,l,d,m)}function Cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,l){var d=n.alternate;return d===null?(d=Ca(n.tag,l,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=l,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,l=n.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function Ec(n,l){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,l=d.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function mA(n,l,d,m,y,N){var V=0;if(m=n,typeof n=="function")Cd(n)&&(V=1);else if(typeof n=="string")V=aE(n,d,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=Ca(31,d,l,y),n.elementType=z,n.lanes=N,n;case B:return Ml(d.children,y,N,l);case j:V=8,y|=24;break;case _:return n=Ca(12,d,l,y|2),n.elementType=_,n.lanes=N,n;case U:return n=Ca(13,d,l,y),n.elementType=U,n.lanes=N,n;case k:return n=Ca(19,d,l,y),n.elementType=k,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:V=10;break e;case Q:V=9;break e;case T:V=11;break e;case q:V=14;break e;case K:V=16,m=null;break e}V=29,d=Error(a(130,n===null?"null":typeof n,"")),m=null}return l=Ca(V,d,l,y),l.elementType=n,l.type=m,l.lanes=N,l}function Ml(n,l,d,m){return n=Ca(7,n,m,l),n.lanes=d,n}function Fc(n,l,d){return n=Ca(6,n,null,l),n.lanes=d,n}function Sd(n){var l=Ca(18,null,null,0);return l.stateNode=n,l}function gA(n,l,d){return l=Ca(4,n.children!==null?n.children:[],n.key,l),l.lanes=d,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var Ed=new WeakMap;function Un(n,l){if(typeof n=="object"&&n!==null){var d=Ed.get(n);return d!==void 0?d:(l={value:n,source:l,stack:ve(l)},Ed.set(n,l),l)}return{value:n,source:l,stack:ve(l)}}var pA=[],Co=0,Fd=null,Uc=0,kn=[],Ln=0,Rl=null,Qn=1,Tn="";function yn(n,l){pA[Co++]=Uc,pA[Co++]=Fd,Fd=n,Uc=l}function em(n,l,d){kn[Ln++]=Qn,kn[Ln++]=Tn,kn[Ln++]=Rl,Rl=n;var m=Qn;n=Tn;var y=32-Tt(m)-1;m&=~(1<<y),d+=1;var N=32-Tt(l)+y;if(30<N){var V=y-y%5;N=(m&(1<<V)-1).toString(32),m>>=V,y-=V,Qn=1<<32-Tt(l)+y|d<<y|m,Tn=N+n}else Qn=1<<N|d<<y|m,Tn=n}function ah(n){n.return!==null&&(yn(n,1),em(n,1,0))}function Ud(n){for(;n===Fd;)Fd=pA[--Co],pA[Co]=null,Uc=pA[--Co],pA[Co]=null;for(;n===Rl;)Rl=kn[--Ln],kn[Ln]=null,Tn=kn[--Ln],kn[Ln]=null,Qn=kn[--Ln],kn[Ln]=null}function tm(n,l){kn[Ln++]=Qn,kn[Ln++]=Tn,kn[Ln++]=Rl,Qn=l.id,Tn=l.overflow,Rl=n}var ua=null,Zs=null,os=!1,Ia=null,fr=!1,ni=Error(a(519));function Ol(n){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xA(Un(l,n)),ni}function nh(n){var l=n.stateNode,d=n.type,m=n.memoizedProps;switch(l[Ms]=n,l[nr]=m,d){case"dialog":cs("cancel",l),cs("close",l);break;case"iframe":case"object":case"embed":cs("load",l);break;case"video":case"audio":for(d=0;d<Ch.length;d++)cs(Ch[d],l);break;case"source":cs("error",l);break;case"img":case"image":case"link":cs("error",l),cs("load",l);break;case"details":cs("toggle",l);break;case"input":cs("invalid",l),fd(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":cs("invalid",l);break;case"textarea":cs("invalid",l),gc(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||O2(l.textContent,d)?(m.popover!=null&&(cs("beforetoggle",l),cs("toggle",l)),m.onScroll!=null&&cs("scroll",l),m.onScrollEnd!=null&&cs("scrollend",l),m.onClick!=null&&(l.onclick=ei),l=!0):l=!1,l||Ol(n,!0)}function dl(n){for(ua=n.return;ua;)switch(ua.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:ua=ua.return}}function ha(n){if(n!==ua)return!1;if(!os)return dl(n),os=!0,!1;var l=n.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||Gp(n.type,n.memoizedProps)),d=!d),d&&Zs&&Ol(n),dl(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Zs=X2(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Zs=X2(n)}else l===27?(l=Zs,kA(n.type)?(n=Wp,Wp=null,Zs=n):Zs=l):Zs=ua?ki(n.stateNode.nextSibling):null;return!0}function So(){Zs=ua=null,os=!1}function ih(){var n=Ia;return n!==null&&(Hn===null?Hn=n:Hn.push.apply(Hn,n),Ia=null),n}function xA(n){Ia===null?Ia=[n]:Ia.push(n)}var kd=ee(null),Hl=null,Ei=null;function Pl(n,l,d){H(kd,l._currentValue),l._currentValue=d}function Dn(n){n._currentValue=kd.current,M(kd)}function bA(n,l,d){for(;n!==null;){var m=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),n===d)break;n=n.return}}function Eo(n,l,d,m){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var N=y.dependencies;if(N!==null){var V=y.child;N=N.firstContext;e:for(;N!==null;){var ne=N;N=y;for(var be=0;be<l.length;be++)if(ne.context===l[be]){N.lanes|=d,ne=N.alternate,ne!==null&&(ne.lanes|=d),bA(N.return,d,n),m||(V=null);break e}N=ne.next}}else if(y.tag===18){if(V=y.return,V===null)throw Error(a(341));V.lanes|=d,N=V.alternate,N!==null&&(N.lanes|=d),bA(V,d,n),V=null}else V=y.child;if(V!==null)V.return=y;else for(V=y;V!==null;){if(V===n){V=null;break}if(y=V.sibling,y!==null){y.return=V.return,V=y;break}V=V.return}y=V}}function Vl(n,l,d,m){n=null;for(var y=l,N=!1;y!==null;){if(!N){if((y.flags&524288)!==0)N=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var V=y.alternate;if(V===null)throw Error(a(387));if(V=V.memoizedProps,V!==null){var ne=y.type;ca(y.pendingProps.value,V.value)||(n!==null?n.push(ne):n=[ne])}}else if(y===pe.current){if(V=y.alternate,V===null)throw Error(a(387));V.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(kh):n=[kh])}y=y.return}n!==null&&Eo(l,n,d,m),l.flags|=262144}function Ld(n){for(n=n.firstContext;n!==null;){if(!ca(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zl(n){Hl=n,Ei=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function fa(n){return sm(Hl,n)}function Qd(n,l){return Hl===null&&zl(n),sm(n,l)}function sm(n,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ei===null){if(n===null)throw Error(a(308));Ei=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else Ei=Ei.next=l;return d}var Yg=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(d,m){n.push(m)}};this.abort=function(){l.aborted=!0,n.forEach(function(d){return d()})}},Wg=t.unstable_scheduleCallback,Jg=t.unstable_NormalPriority,Sr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yA(){return{controller:new Yg,data:new Map,refCount:0}}function kc(n){n.refCount--,n.refCount===0&&Wg(Jg,function(){n.controller.abort()})}var Lc=null,Td=0,p=0,v=null;function F(n,l){if(Lc===null){var d=Lc=[];Td=0,p=Ip(),v={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Td++,l.then(O,O),l}function O(){if(--Td===0&&Lc!==null){v!==null&&(v.status="fulfilled");var n=Lc;Lc=null,p=0,v=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function J(n,l){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return n.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<d.length;y++)(0,d[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var te=I.S;I.S=function(n,l){c2=Je(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&F(n,l),te!==null&&te(n,l)};var se=ee(null);function le(){var n=se.current;return n!==null?n:tr.pooledCache}function ce(n,l){l===null?H(se,se.current):H(se,l.pool)}function ue(){var n=le();return n===null?null:{parent:Sr._currentValue,pool:n}}var Ne=Error(a(460)),De=Error(a(474)),de=Error(a(542)),Be={then:function(){}};function Fe(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qe(n,l,d){switch(d=n[d],d===void 0?n.push(l):d!==l&&(l.then(ei,ei),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,at(n),n;default:if(typeof l.status=="string")l.then(ei,ei);else{if(n=tr,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=l,n.status="pending",n.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,at(n),n}throw Ge=l,Ne}}function Qe(n){try{var l=n._init;return l(n._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ge=d,Ne):d}}var Ge=null;function Ye(){if(Ge===null)throw Error(a(459));var n=Ge;return Ge=null,n}function at(n){if(n===Ne||n===de)throw Error(a(483))}var tt=null,wt=0;function ft(n){var l=wt;return wt+=1,tt===null&&(tt=[]),qe(tt,n,l)}function Pt(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function pt(n,l){throw l.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(l),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function ns(n){function l(Ce,je){if(n){var Ie=Ce.deletions;Ie===null?(Ce.deletions=[je],Ce.flags|=16):Ie.push(je)}}function d(Ce,je){if(!n)return null;for(;je!==null;)l(Ce,je),je=je.sibling;return null}function m(Ce){for(var je=new Map;Ce!==null;)Ce.key!==null?je.set(Ce.key,Ce):je.set(Ce.index,Ce),Ce=Ce.sibling;return je}function y(Ce,je){return Ce=Fn(Ce,je),Ce.index=0,Ce.sibling=null,Ce}function N(Ce,je,Ie){return Ce.index=Ie,n?(Ie=Ce.alternate,Ie!==null?(Ie=Ie.index,Ie<je?(Ce.flags|=67108866,je):Ie):(Ce.flags|=67108866,je)):(Ce.flags|=1048576,je)}function V(Ce){return n&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ne(Ce,je,Ie,Ze){return je===null||je.tag!==6?(je=Fc(Ie,Ce.mode,Ze),je.return=Ce,je):(je=y(je,Ie),je.return=Ce,je)}function be(Ce,je,Ie,Ze){var kt=Ie.type;return kt===B?$e(Ce,je,Ie.props.children,Ze,Ie.key):je!==null&&(je.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===K&&Qe(kt)===je.type)?(je=y(je,Ie.props),Pt(je,Ie),je.return=Ce,je):(je=mA(Ie.type,Ie.key,Ie.props,null,Ce.mode,Ze),Pt(je,Ie),je.return=Ce,je)}function Me(Ce,je,Ie,Ze){return je===null||je.tag!==4||je.stateNode.containerInfo!==Ie.containerInfo||je.stateNode.implementation!==Ie.implementation?(je=gA(Ie,Ce.mode,Ze),je.return=Ce,je):(je=y(je,Ie.children||[]),je.return=Ce,je)}function $e(Ce,je,Ie,Ze,kt){return je===null||je.tag!==7?(je=Ml(Ie,Ce.mode,Ze,kt),je.return=Ce,je):(je=y(je,Ie),je.return=Ce,je)}function et(Ce,je,Ie){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Fc(""+je,Ce.mode,Ie),je.return=Ce,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case x:return Ie=mA(je.type,je.key,je.props,null,Ce.mode,Ie),Pt(Ie,je),Ie.return=Ce,Ie;case w:return je=gA(je,Ce.mode,Ie),je.return=Ce,je;case K:return je=Qe(je),et(Ce,je,Ie)}if(re(je)||L(je))return je=Ml(je,Ce.mode,Ie,null),je.return=Ce,je;if(typeof je.then=="function")return et(Ce,ft(je),Ie);if(je.$$typeof===E)return et(Ce,Qd(Ce,je),Ie);pt(Ce,je)}return null}function Re(Ce,je,Ie,Ze){var kt=je!==null?je.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return kt!==null?null:ne(Ce,je,""+Ie,Ze);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case x:return Ie.key===kt?be(Ce,je,Ie,Ze):null;case w:return Ie.key===kt?Me(Ce,je,Ie,Ze):null;case K:return Ie=Qe(Ie),Re(Ce,je,Ie,Ze)}if(re(Ie)||L(Ie))return kt!==null?null:$e(Ce,je,Ie,Ze,null);if(typeof Ie.then=="function")return Re(Ce,je,ft(Ie),Ze);if(Ie.$$typeof===E)return Re(Ce,je,Qd(Ce,Ie),Ze);pt(Ce,Ie)}return null}function Pe(Ce,je,Ie,Ze,kt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ce=Ce.get(Ie)||null,ne(je,Ce,""+Ze,kt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case x:return Ce=Ce.get(Ze.key===null?Ie:Ze.key)||null,be(je,Ce,Ze,kt);case w:return Ce=Ce.get(Ze.key===null?Ie:Ze.key)||null,Me(je,Ce,Ze,kt);case K:return Ze=Qe(Ze),Pe(Ce,je,Ie,Ze,kt)}if(re(Ze)||L(Ze))return Ce=Ce.get(Ie)||null,$e(je,Ce,Ze,kt,null);if(typeof Ze.then=="function")return Pe(Ce,je,Ie,ft(Ze),kt);if(Ze.$$typeof===E)return Pe(Ce,je,Ie,Qd(je,Ze),kt);pt(je,Ze)}return null}function bt(Ce,je,Ie,Ze){for(var kt=null,Cs=null,Bt=je,Zt=je=0,fs=null;Bt!==null&&Zt<Ie.length;Zt++){Bt.index>Zt?(fs=Bt,Bt=null):fs=Bt.sibling;var Ss=Re(Ce,Bt,Ie[Zt],Ze);if(Ss===null){Bt===null&&(Bt=fs);break}n&&Bt&&Ss.alternate===null&&l(Ce,Bt),je=N(Ss,je,Zt),Cs===null?kt=Ss:Cs.sibling=Ss,Cs=Ss,Bt=fs}if(Zt===Ie.length)return d(Ce,Bt),os&&yn(Ce,Zt),kt;if(Bt===null){for(;Zt<Ie.length;Zt++)Bt=et(Ce,Ie[Zt],Ze),Bt!==null&&(je=N(Bt,je,Zt),Cs===null?kt=Bt:Cs.sibling=Bt,Cs=Bt);return os&&yn(Ce,Zt),kt}for(Bt=m(Bt);Zt<Ie.length;Zt++)fs=Pe(Bt,Ce,Zt,Ie[Zt],Ze),fs!==null&&(n&&fs.alternate!==null&&Bt.delete(fs.key===null?Zt:fs.key),je=N(fs,je,Zt),Cs===null?kt=fs:Cs.sibling=fs,Cs=fs);return n&&Bt.forEach(function(IA){return l(Ce,IA)}),os&&yn(Ce,Zt),kt}function Rt(Ce,je,Ie,Ze){if(Ie==null)throw Error(a(151));for(var kt=null,Cs=null,Bt=je,Zt=je=0,fs=null,Ss=Ie.next();Bt!==null&&!Ss.done;Zt++,Ss=Ie.next()){Bt.index>Zt?(fs=Bt,Bt=null):fs=Bt.sibling;var IA=Re(Ce,Bt,Ss.value,Ze);if(IA===null){Bt===null&&(Bt=fs);break}n&&Bt&&IA.alternate===null&&l(Ce,Bt),je=N(IA,je,Zt),Cs===null?kt=IA:Cs.sibling=IA,Cs=IA,Bt=fs}if(Ss.done)return d(Ce,Bt),os&&yn(Ce,Zt),kt;if(Bt===null){for(;!Ss.done;Zt++,Ss=Ie.next())Ss=et(Ce,Ss.value,Ze),Ss!==null&&(je=N(Ss,je,Zt),Cs===null?kt=Ss:Cs.sibling=Ss,Cs=Ss);return os&&yn(Ce,Zt),kt}for(Bt=m(Bt);!Ss.done;Zt++,Ss=Ie.next())Ss=Pe(Bt,Ce,Zt,Ss.value,Ze),Ss!==null&&(n&&Ss.alternate!==null&&Bt.delete(Ss.key===null?Zt:Ss.key),je=N(Ss,je,Zt),Cs===null?kt=Ss:Cs.sibling=Ss,Cs=Ss);return n&&Bt.forEach(function(mE){return l(Ce,mE)}),os&&yn(Ce,Zt),kt}function Ys(Ce,je,Ie,Ze){if(typeof Ie=="object"&&Ie!==null&&Ie.type===B&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case x:e:{for(var kt=Ie.key;je!==null;){if(je.key===kt){if(kt=Ie.type,kt===B){if(je.tag===7){d(Ce,je.sibling),Ze=y(je,Ie.props.children),Ze.return=Ce,Ce=Ze;break e}}else if(je.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===K&&Qe(kt)===je.type){d(Ce,je.sibling),Ze=y(je,Ie.props),Pt(Ze,Ie),Ze.return=Ce,Ce=Ze;break e}d(Ce,je);break}else l(Ce,je);je=je.sibling}Ie.type===B?(Ze=Ml(Ie.props.children,Ce.mode,Ze,Ie.key),Ze.return=Ce,Ce=Ze):(Ze=mA(Ie.type,Ie.key,Ie.props,null,Ce.mode,Ze),Pt(Ze,Ie),Ze.return=Ce,Ce=Ze)}return V(Ce);case w:e:{for(kt=Ie.key;je!==null;){if(je.key===kt)if(je.tag===4&&je.stateNode.containerInfo===Ie.containerInfo&&je.stateNode.implementation===Ie.implementation){d(Ce,je.sibling),Ze=y(je,Ie.children||[]),Ze.return=Ce,Ce=Ze;break e}else{d(Ce,je);break}else l(Ce,je);je=je.sibling}Ze=gA(Ie,Ce.mode,Ze),Ze.return=Ce,Ce=Ze}return V(Ce);case K:return Ie=Qe(Ie),Ys(Ce,je,Ie,Ze)}if(re(Ie))return bt(Ce,je,Ie,Ze);if(L(Ie)){if(kt=L(Ie),typeof kt!="function")throw Error(a(150));return Ie=kt.call(Ie),Rt(Ce,je,Ie,Ze)}if(typeof Ie.then=="function")return Ys(Ce,je,ft(Ie),Ze);if(Ie.$$typeof===E)return Ys(Ce,je,Qd(Ce,Ie),Ze);pt(Ce,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,je!==null&&je.tag===6?(d(Ce,je.sibling),Ze=y(je,Ie),Ze.return=Ce,Ce=Ze):(d(Ce,je),Ze=Fc(Ie,Ce.mode,Ze),Ze.return=Ce,Ce=Ze),V(Ce)):d(Ce,je)}return function(Ce,je,Ie,Ze){try{wt=0;var kt=Ys(Ce,je,Ie,Ze);return tt=null,kt}catch(Bt){if(Bt===Ne||Bt===de)throw Bt;var Cs=Ca(29,Bt,null,Ce.mode);return Cs.lanes=Ze,Cs.return=Ce,Cs}finally{}}}var er=ns(!0),qt=ns(!1),mt=!1;function lt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lr(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wt(n,l,d){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Us&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=_a(n),Sc(n,null,d),l}return Cc(n,m,l,d),_a(n)}function Es(n,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=n.pendingLanes,d|=m,l.lanes=d,An(n,d)}}function Kr(n,l){var d=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var V={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?y=N=V:N=N.next=V,d=d.next}while(d!==null);N===null?y=N=l:N=N.next=l}else y=N=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=l:n.next=l,d.lastBaseUpdate=l}var ma=!1;function qs(){if(ma){var n=v;if(n!==null)throw n}}function Qr(n,l,d,m){ma=!1;var y=n.updateQueue;mt=!1;var N=y.firstBaseUpdate,V=y.lastBaseUpdate,ne=y.shared.pending;if(ne!==null){y.shared.pending=null;var be=ne,Me=be.next;be.next=null,V===null?N=Me:V.next=Me,V=be;var $e=n.alternate;$e!==null&&($e=$e.updateQueue,ne=$e.lastBaseUpdate,ne!==V&&(ne===null?$e.firstBaseUpdate=Me:ne.next=Me,$e.lastBaseUpdate=be))}if(N!==null){var et=y.baseState;V=0,$e=Me=be=null,ne=N;do{var Re=ne.lane&-536870913,Pe=Re!==ne.lane;if(Pe?(hs&Re)===Re:(m&Re)===Re){Re!==0&&Re===p&&(ma=!0),$e!==null&&($e=$e.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var bt=n,Rt=ne;Re=l;var Ys=d;switch(Rt.tag){case 1:if(bt=Rt.payload,typeof bt=="function"){et=bt.call(Ys,et,Re);break e}et=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Rt.payload,Re=typeof bt=="function"?bt.call(Ys,et,Re):bt,Re==null)break e;et=g({},et,Re);break e;case 2:mt=!0}}Re=ne.callback,Re!==null&&(n.flags|=64,Pe&&(n.flags|=8192),Pe=y.callbacks,Pe===null?y.callbacks=[Re]:Pe.push(Re))}else Pe={lane:Re,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},$e===null?(Me=$e=Pe,be=et):$e=$e.next=Pe,V|=Re;if(ne=ne.next,ne===null){if(ne=y.shared.pending,ne===null)break;Pe=ne,ne=Pe.next,Pe.next=null,y.lastBaseUpdate=Pe,y.shared.pending=null}}while(!0);$e===null&&(be=et),y.baseState=be,y.firstBaseUpdate=Me,y.lastBaseUpdate=$e,N===null&&(y.shared.lanes=0),CA|=V,n.lanes=V,n.memoizedState=et}}function Sa(n,l){if(typeof n!="function")throw Error(a(191,n));n.call(l)}function Tr(n,l){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)Sa(d[n],l)}var ss=ee(null),ys=ee(0);function or(n,l){n=Ro,H(ys,n),H(ss,l),Ro=n|l.baseLanes}function Bs(){H(ys,Ro),H(ss,ss.current)}function Gr(){Ro=ys.current,M(ss),M(ys)}var Ar=ee(null),vs=null;function Er(n){var l=n.alternate;H(bs,bs.current&1),H(Ar,n),vs===null&&(l===null||ss.current!==null||l.memoizedState!==null)&&(vs=n)}function Fs(n){H(bs,bs.current),H(Ar,n),vs===null&&(vs=n)}function Dr(n){n.tag===22?(H(bs,bs.current),H(Ar,n),vs===null&&(vs=n)):Ir()}function Ir(){H(bs,bs.current),H(Ar,Ar.current)}function Rs(n){M(Ar),vs===n&&(vs=null),M(bs)}var bs=ee(0);function Ea(n){for(var l=n;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Xp(d)||Yp(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var mr=0,Ft=null,Ut=null,ws=null,Xa=!1,In=!1,Ma=!1,Mr=0,Kl=0,Gl=null,Dd=0;function $s(){throw Error(a(321))}function lh(n,l){if(l===null)return!1;for(var d=0;d<l.length&&d<n.length;d++)if(!ca(n[d],l[d]))return!1;return!0}function oh(n,l,d,m,y,N){return mr=N,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,I.H=n===null||n.memoizedState===null?vv:ip,Ma=!1,N=d(m,y),Ma=!1,In&&(N=ul(l,d,m,y)),Id(n),N}function Id(n){I.H=gh;var l=Ut!==null&&Ut.next!==null;if(mr=0,ws=Ut=Ft=null,Xa=!1,Kl=0,Gl=null,l)throw Error(a(300));n===null||ra||(n=n.dependencies,n!==null&&Ld(n)&&(ra=!0))}function ul(n,l,d,m){Ft=n;var y=0;do{if(In&&(Gl=null),Kl=0,In=!1,25<=y)throw Error(a(301));if(y+=1,ws=Ut=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}I.H=wv,N=l(d,m)}while(In);return N}function Zg(){var n=I.H,l=n.useState()[0];return l=typeof l.then=="function"?ql(l):l,n=n.useState()[0],(Ut!==null?Ut.memoizedState:null)!==n&&(Ft.flags|=1024),l}function Ah(){var n=Mr!==0;return Mr=0,n}function ch(n,l,d){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~d}function Md(n){if(Xa){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Xa=!1}mr=0,ws=Ut=Ft=null,In=!1,Kl=Mr=0,Gl=null}function sa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ws===null?Ft.memoizedState=ws=n:ws=ws.next=n,ws}function gr(){if(Ut===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var l=ws===null?Ft.memoizedState:ws.next;if(l!==null)ws=l,Ut=n;else{if(n===null)throw Ft.alternate===null?Error(a(467)):Error(a(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},ws===null?Ft.memoizedState=ws=n:ws=ws.next=n}return ws}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(n){var l=Kl;return Kl+=1,Gl===null&&(Gl=[]),n=qe(Gl,n,l),l=Ft,(ws===null?l.memoizedState:ws.next)===null&&(l=l.alternate,I.H=l===null||l.memoizedState===null?vv:ip),n}function vA(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ql(n);if(n.$$typeof===E)return fa(n)}throw Error(a(438,String(n)))}function Fo(n){var l=null,d=Ft.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ft.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Qc(),Ft.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(n),m=0;m<n;m++)d[m]=$;return l.index++,d}function Fi(n,l){return typeof l=="function"?l(n):l}function Rd(n){var l=gr();return wA(l,Ut,n)}function wA(n,l,d){var m=n.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=d;var y=n.baseQueue,N=m.pending;if(N!==null){if(y!==null){var V=y.next;y.next=N.next,N.next=V}l.baseQueue=y=N,m.pending=null}if(N=n.baseState,y===null)n.memoizedState=N;else{l=y.next;var ne=V=null,be=null,Me=l,$e=!1;do{var et=Me.lane&-536870913;if(et!==Me.lane?(hs&et)===et:(mr&et)===et){var Re=Me.revertLane;if(Re===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),et===p&&($e=!0);else if((mr&Re)===Re){Me=Me.next,Re===p&&($e=!0);continue}else et={lane:0,revertLane:Me.revertLane,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(ne=be=et,V=N):be=be.next=et,Ft.lanes|=Re,CA|=Re;et=Me.action,Ma&&d(N,et),N=Me.hasEagerState?Me.eagerState:d(N,et)}else Re={lane:et,revertLane:Me.revertLane,gesture:Me.gesture,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(ne=be=Re,V=N):be=be.next=Re,Ft.lanes|=et,CA|=et;Me=Me.next}while(Me!==null&&Me!==l);if(be===null?V=N:be.next=ne,!ca(N,n.memoizedState)&&(ra=!0,$e&&(d=v,d!==null)))throw d;n.memoizedState=N,n.baseState=V,n.baseQueue=be,m.lastRenderedState=N}return y===null&&(m.lanes=0),[n.memoizedState,m.dispatch]}function Od(n){var l=gr(),d=l.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=n;var m=d.dispatch,y=d.pending,N=l.memoizedState;if(y!==null){d.pending=null;var V=y=y.next;do N=n(N,V.action),V=V.next;while(V!==y);ca(N,l.memoizedState)||(ra=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,m]}function Hd(n,l,d){var m=Ft,y=gr(),N=os;if(N){if(d===void 0)throw Error(a(407));d=d()}else d=l();var V=!ca((Ut||y).memoizedState,d);if(V&&(y.memoizedState=d,ra=!0),y=y.queue,ep(uh.bind(null,m,y,n),[n]),y.getSnapshot!==l||V||ws!==null&&ws.memoizedState.tag&1){if(m.flags|=2048,ko(9,{destroy:void 0},dh.bind(null,m,y,d,l),null),tr===null)throw Error(a(349));N||(mr&127)!==0||hl(m,l,d)}return d}function hl(n,l,d){n.flags|=16384,n={getSnapshot:l,value:d},l=Ft.updateQueue,l===null?(l=Qc(),Ft.updateQueue=l,l.stores=[n]):(d=l.stores,d===null?l.stores=[n]:d.push(n))}function dh(n,l,d,m){l.value=d,l.getSnapshot=m,rm(l)&&hh(n)}function uh(n,l,d){return d(function(){rm(l)&&hh(n)})}function rm(n){var l=n.getSnapshot;n=n.value;try{var d=l();return!ca(n,d)}catch{return!0}}function hh(n){var l=cl(n,2);l!==null&&Pn(l,n,2)}function $l(n){var l=sa();if(typeof n=="function"){var d=n;if(n=d(),Ma){vt(!0);try{d()}finally{vt(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},l}function am(n,l,d,m){return n.baseState=d,wA(n,Ut,typeof m=="function"?m:Fi)}function nm(n,l,d,m,y){if(Am(n))throw Error(a(485));if(n=l.action,n!==null){var N={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};I.T!==null?d(!0):N.isTransition=!1,m(N),d=l.pending,d===null?(N.next=l.pending=N,im(l,N)):(N.next=d.next,l.pending=d.next=N)}}function im(n,l){var d=l.action,m=l.payload,y=n.state;if(l.isTransition){var N=I.T,V={};I.T=V;try{var ne=d(y,m),be=I.S;be!==null&&be(V,ne),fh(n,l,ne)}catch(Me){Uo(n,l,Me)}finally{N!==null&&V.types!==null&&(N.types=V.types),I.T=N}}else try{N=d(y,m),fh(n,l,N)}catch(Me){Uo(n,l,Me)}}function fh(n,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){lm(n,l,m)},function(m){return Uo(n,l,m)}):lm(n,l,d)}function lm(n,l,d){l.status="fulfilled",l.value=d,Pd(l),n.state=d,l=n.pending,l!==null&&(d=l.next,d===l?n.pending=null:(d=d.next,l.next=d,im(n,d)))}function Uo(n,l,d){var m=n.pending;if(n.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Pd(l),l=l.next;while(l!==m)}n.action=null}function Pd(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function Tc(n,l){return l}function Ui(n,l){if(os){var d=tr.formState;if(d!==null){e:{var m=Ft;if(os){if(Zs){t:{for(var y=Zs,N=fr;y.nodeType!==8;){if(!N){y=null;break t}if(y=ki(y.nextSibling),y===null){y=null;break t}}N=y.data,y=N==="F!"||N==="F"?y:null}if(y){Zs=ki(y.nextSibling),m=y.data==="F!";break e}}Ol(m)}m=!1}m&&(l=d[0])}}return d=sa(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:l},d.queue=m,d=xv.bind(null,Ft,m),m.dispatch=d,m=$l(!1),N=np.bind(null,Ft,!1,m.queue),m=sa(),y={state:l,dispatch:null,action:n,pending:null},m.queue=y,d=nm.bind(null,Ft,y,N,d),y.dispatch=d,m.memoizedState=n,[l,d,!1]}function fl(n){var l=gr();return ml(l,Ut,n)}function ml(n,l,d){if(l=wA(n,l,Tc)[0],n=Rd(Fi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=ql(l)}catch(V){throw V===Ne?de:V}else m=l;l=gr();var y=l.queue,N=y.dispatch;return d!==l.memoizedState&&(Ft.flags|=2048,ko(9,{destroy:void 0},Vd.bind(null,y,d),null)),[m,N,n]}function Vd(n,l){n.action=l}function zd(n){var l=gr(),d=Ut;if(d!==null)return ml(l,d,n);gr(),l=l.memoizedState,d=gr();var m=d.queue.dispatch;return d.memoizedState=n,[l,m,!1]}function ko(n,l,d,m){return n={tag:n,create:d,deps:m,inst:l,next:null},l=Ft.updateQueue,l===null&&(l=Qc(),Ft.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=n.next=n:(m=d.next,d.next=n,n.next=m,l.lastEffect=n),n}function om(){return gr().memoizedState}function NA(n,l,d,m){var y=sa();Ft.flags|=n,y.memoizedState=ko(1|l,{destroy:void 0},d,m===void 0?null:m)}function jA(n,l,d,m){var y=gr();m=m===void 0?null:m;var N=y.memoizedState.inst;Ut!==null&&m!==null&&lh(m,Ut.memoizedState.deps)?y.memoizedState=ko(l,N,d,m):(Ft.flags|=n,y.memoizedState=ko(1|l,N,d,m))}function av(n,l){NA(8390656,8,n,l)}function ep(n,l){jA(2048,8,n,l)}function AS(n){Ft.flags|=4;var l=Ft.updateQueue;if(l===null)l=Qc(),Ft.updateQueue=l,l.events=[n];else{var d=l.events;d===null?l.events=[n]:d.push(n)}}function nv(n){var l=gr().memoizedState;return AS({ref:l,nextImpl:n}),function(){if((Us&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function iv(n,l){return jA(4,2,n,l)}function lv(n,l){return jA(4,4,n,l)}function ov(n,l){if(typeof l=="function"){n=n();var d=l(n);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function Av(n,l,d){d=d!=null?d.concat([n]):null,jA(4,4,ov.bind(null,l,n),d)}function tp(){}function cv(n,l){var d=gr();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&lh(l,m[1])?m[0]:(d.memoizedState=[n,l],n)}function dv(n,l){var d=gr();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&lh(l,m[1]))return m[0];if(m=n(),Ma){vt(!0);try{n()}finally{vt(!1)}}return d.memoizedState=[m,l],m}function sp(n,l,d){return d===void 0||(mr&1073741824)!==0&&(hs&261930)===0?n.memoizedState=l:(n.memoizedState=d,n=u2(),Ft.lanes|=n,CA|=n,d)}function uv(n,l,d,m){return ca(d,l)?d:ss.current!==null?(n=sp(n,d,m),ca(n,l)||(ra=!0),n):(mr&42)===0||(mr&1073741824)!==0&&(hs&261930)===0?(ra=!0,n.memoizedState=d):(n=u2(),Ft.lanes|=n,CA|=n,l)}function hv(n,l,d,m,y){var N=G.p;G.p=N!==0&&8>N?N:8;var V=I.T,ne={};I.T=ne,np(n,!1,l,d);try{var be=y(),Me=I.S;if(Me!==null&&Me(ne,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var $e=J(be,m);mh(n,l,$e,oi(n))}else mh(n,l,m,oi(n))}catch(et){mh(n,l,{then:function(){},status:"rejected",reason:et},oi())}finally{G.p=N,V!==null&&ne.types!==null&&(V.types=ne.types),I.T=V}}function cS(){}function rp(n,l,d,m){if(n.tag!==5)throw Error(a(476));var y=fv(n).queue;hv(n,y,l,X,d===null?cS:function(){return mv(n),d(m)})}function fv(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:X},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:d},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function mv(n){var l=fv(n);l.next===null&&(l=n.alternate.memoizedState),mh(n,l.next.queue,{},oi())}function ap(){return fa(kh)}function gv(){return gr().memoizedState}function pv(){return gr().memoizedState}function dS(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var d=oi();n=Mt(d);var m=Wt(l,n,d);m!==null&&(Pn(m,l,d),Es(m,l,d)),l={cache:yA()},n.payload=l;return}l=l.return}}function uS(n,l,d){var m=oi();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Am(n)?bv(l,d):(d=Bd(n,l,d,m),d!==null&&(Pn(d,n,m),yv(d,l,m)))}function xv(n,l,d){var m=oi();mh(n,l,d,m)}function mh(n,l,d,m){var y={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Am(n))bv(l,y);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var V=l.lastRenderedState,ne=N(V,d);if(y.hasEagerState=!0,y.eagerState=ne,ca(ne,V))return Cc(n,l,y,0),tr===null&&_c(),!1}catch{}finally{}if(d=Bd(n,l,y,m),d!==null)return Pn(d,n,m),yv(d,l,m),!0}return!1}function np(n,l,d,m){if(m={lane:2,revertLane:Ip(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Am(n)){if(l)throw Error(a(479))}else l=Bd(n,d,m,2),l!==null&&Pn(l,n,2)}function Am(n){var l=n.alternate;return n===Ft||l!==null&&l===Ft}function bv(n,l){In=Xa=!0;var d=n.pending;d===null?l.next=l:(l.next=d.next,d.next=l),n.pending=l}function yv(n,l,d){if((d&4194048)!==0){var m=l.lanes;m&=n.pendingLanes,d|=m,l.lanes=d,An(n,d)}}var gh={readContext:fa,use:vA,useCallback:$s,useContext:$s,useEffect:$s,useImperativeHandle:$s,useLayoutEffect:$s,useInsertionEffect:$s,useMemo:$s,useReducer:$s,useRef:$s,useState:$s,useDebugValue:$s,useDeferredValue:$s,useTransition:$s,useSyncExternalStore:$s,useId:$s,useHostTransitionStatus:$s,useFormState:$s,useActionState:$s,useOptimistic:$s,useMemoCache:$s,useCacheRefresh:$s};gh.useEffectEvent=$s;var vv={readContext:fa,use:vA,useCallback:function(n,l){return sa().memoizedState=[n,l===void 0?null:l],n},useContext:fa,useEffect:av,useImperativeHandle:function(n,l,d){d=d!=null?d.concat([n]):null,NA(4194308,4,ov.bind(null,l,n),d)},useLayoutEffect:function(n,l){return NA(4194308,4,n,l)},useInsertionEffect:function(n,l){NA(4,2,n,l)},useMemo:function(n,l){var d=sa();l=l===void 0?null:l;var m=n();if(Ma){vt(!0);try{n()}finally{vt(!1)}}return d.memoizedState=[m,l],m},useReducer:function(n,l,d){var m=sa();if(d!==void 0){var y=d(l);if(Ma){vt(!0);try{d(l)}finally{vt(!1)}}}else y=l;return m.memoizedState=m.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},m.queue=n,n=n.dispatch=uS.bind(null,Ft,n),[m.memoizedState,n]},useRef:function(n){var l=sa();return n={current:n},l.memoizedState=n},useState:function(n){n=$l(n);var l=n.queue,d=xv.bind(null,Ft,l);return l.dispatch=d,[n.memoizedState,d]},useDebugValue:tp,useDeferredValue:function(n,l){var d=sa();return sp(d,n,l)},useTransition:function(){var n=$l(!1);return n=hv.bind(null,Ft,n.queue,!0,!1),sa().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,d){var m=Ft,y=sa();if(os){if(d===void 0)throw Error(a(407));d=d()}else{if(d=l(),tr===null)throw Error(a(349));(hs&127)!==0||hl(m,l,d)}y.memoizedState=d;var N={value:d,getSnapshot:l};return y.queue=N,av(uh.bind(null,m,N,n),[n]),m.flags|=2048,ko(9,{destroy:void 0},dh.bind(null,m,N,d,l),null),d},useId:function(){var n=sa(),l=tr.identifierPrefix;if(os){var d=Tn,m=Qn;d=(m&~(1<<32-Tt(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Mr++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=Dd++,l="_"+l+"r_"+d.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:ap,useFormState:Ui,useActionState:Ui,useOptimistic:function(n){var l=sa();l.memoizedState=l.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=np.bind(null,Ft,!0,d),d.dispatch=l,[n,l]},useMemoCache:Fo,useCacheRefresh:function(){return sa().memoizedState=dS.bind(null,Ft)},useEffectEvent:function(n){var l=sa(),d={impl:n};return l.memoizedState=d,function(){if((Us&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}},ip={readContext:fa,use:vA,useCallback:cv,useContext:fa,useEffect:ep,useImperativeHandle:Av,useInsertionEffect:iv,useLayoutEffect:lv,useMemo:dv,useReducer:Rd,useRef:om,useState:function(){return Rd(Fi)},useDebugValue:tp,useDeferredValue:function(n,l){var d=gr();return uv(d,Ut.memoizedState,n,l)},useTransition:function(){var n=Rd(Fi)[0],l=gr().memoizedState;return[typeof n=="boolean"?n:ql(n),l]},useSyncExternalStore:Hd,useId:gv,useHostTransitionStatus:ap,useFormState:fl,useActionState:fl,useOptimistic:function(n,l){var d=gr();return am(d,Ut,n,l)},useMemoCache:Fo,useCacheRefresh:pv};ip.useEffectEvent=nv;var wv={readContext:fa,use:vA,useCallback:cv,useContext:fa,useEffect:ep,useImperativeHandle:Av,useInsertionEffect:iv,useLayoutEffect:lv,useMemo:dv,useReducer:Od,useRef:om,useState:function(){return Od(Fi)},useDebugValue:tp,useDeferredValue:function(n,l){var d=gr();return Ut===null?sp(d,n,l):uv(d,Ut.memoizedState,n,l)},useTransition:function(){var n=Od(Fi)[0],l=gr().memoizedState;return[typeof n=="boolean"?n:ql(n),l]},useSyncExternalStore:Hd,useId:gv,useHostTransitionStatus:ap,useFormState:zd,useActionState:zd,useOptimistic:function(n,l){var d=gr();return Ut!==null?am(d,Ut,n,l):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:pv};wv.useEffectEvent=nv;function lp(n,l,d,m){l=n.memoizedState,d=d(m,l),d=d==null?l:g({},l,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var op={enqueueSetState:function(n,l,d){n=n._reactInternals;var m=oi(),y=Mt(m);y.payload=l,d!=null&&(y.callback=d),l=Wt(n,y,m),l!==null&&(Pn(l,n,m),Es(l,n,m))},enqueueReplaceState:function(n,l,d){n=n._reactInternals;var m=oi(),y=Mt(m);y.tag=1,y.payload=l,d!=null&&(y.callback=d),l=Wt(n,y,m),l!==null&&(Pn(l,n,m),Es(l,n,m))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var d=oi(),m=Mt(d);m.tag=2,l!=null&&(m.callback=l),l=Wt(n,m,d),l!==null&&(Pn(l,n,d),Es(l,n,d))}};function Nv(n,l,d,m,y,N,V){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,V):l.prototype&&l.prototype.isPureReactComponent?!il(d,m)||!il(y,N):!0}function jv(n,l,d,m){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==n&&op.enqueueReplaceState(l,l.state,null)}function Dc(n,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(n=n.defaultProps){d===l&&(d=g({},d));for(var y in n)d[y]===void 0&&(d[y]=n[y])}return d}function Bv(n){Bc(n)}function _v(n){console.error(n)}function Cv(n){Bc(n)}function cm(n,l){try{var d=n.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Sv(n,l,d){try{var m=n.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ap(n,l,d){return d=Mt(d),d.tag=3,d.payload={element:null},d.callback=function(){cm(n,l)},d}function Ev(n){return n=Mt(n),n.tag=3,n}function Fv(n,l,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var N=m.value;n.payload=function(){return y(N)},n.callback=function(){Sv(l,d,m)}}var V=d.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(n.callback=function(){Sv(l,d,m),typeof y!="function"&&(SA===null?SA=new Set([this]):SA.add(this));var ne=m.stack;this.componentDidCatch(m.value,{componentStack:ne!==null?ne:""})})}function hS(n,l,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Vl(l,d,y,!0),d=Ar.current,d!==null){switch(d.tag){case 31:case 13:return vs===null?wm():d.alternate===null&&Rr===0&&(Rr=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===Be?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Qp(n,m,y)),!1;case 22:return d.flags|=65536,m===Be?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Qp(n,m,y)),!1}throw Error(a(435,d.tag))}return Qp(n,m,y),wm(),!1}if(os)return l=Ar.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==ni&&(n=Error(a(422),{cause:m}),xA(Un(n,d)))):(m!==ni&&(l=Error(a(423),{cause:m}),xA(Un(l,d))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,m=Un(m,d),y=Ap(n.stateNode,m,y),Kr(n,y),Rr!==4&&(Rr=2)),!1;var N=Error(a(520),{cause:m});if(N=Un(N,d),jh===null?jh=[N]:jh.push(N),Rr!==4&&(Rr=2),l===null)return!0;m=Un(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,n=y&-y,d.lanes|=n,n=Ap(d.stateNode,m,n),Kr(d,n),!1;case 1:if(l=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(SA===null||!SA.has(N))))return d.flags|=65536,y&=-y,d.lanes|=y,y=Ev(y),Fv(y,n,d,m),Kr(d,y),!1}d=d.return}while(d!==null);return!1}var cp=Error(a(461)),ra=!1;function Ra(n,l,d,m){l.child=n===null?qt(l,null,d,m):er(l,n.child,d,m)}function Uv(n,l,d,m,y){d=d.render;var N=l.ref;if("ref"in m){var V={};for(var ne in m)ne!=="ref"&&(V[ne]=m[ne])}else V=m;return zl(l),m=oh(n,l,d,V,N,y),ne=Ah(),n!==null&&!ra?(ch(n,l,y),Lo(n,l,y)):(os&&ne&&ah(l),l.flags|=1,Ra(n,l,m,y),l.child)}function kv(n,l,d,m,y){if(n===null){var N=d.type;return typeof N=="function"&&!Cd(N)&&N.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=N,Lv(n,l,N,m,y)):(n=mA(d.type,null,m,l,l.mode,y),n.ref=l.ref,n.return=l,l.child=n)}if(N=n.child,!xp(n,y)){var V=N.memoizedProps;if(d=d.compare,d=d!==null?d:il,d(V,m)&&n.ref===l.ref)return Lo(n,l,y)}return l.flags|=1,n=Fn(N,m),n.ref=l.ref,n.return=l,l.child=n}function Lv(n,l,d,m,y){if(n!==null){var N=n.memoizedProps;if(il(N,m)&&n.ref===l.ref)if(ra=!1,l.pendingProps=m=N,xp(n,y))(n.flags&131072)!==0&&(ra=!0);else return l.lanes=n.lanes,Lo(n,l,y)}return dp(n,l,d,m,y)}function Qv(n,l,d,m){var y=m.children,N=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,n!==null){for(m=l.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~N}else m=0,l.child=null;return Tv(n,l,N,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&ce(l,N!==null?N.cachePool:null),N!==null?or(l,N):Bs(),Dr(l);else return m=l.lanes=536870912,Tv(n,l,N!==null?N.baseLanes|d:d,d,m)}else N!==null?(ce(l,N.cachePool),or(l,N),Ir(),l.memoizedState=null):(n!==null&&ce(l,null),Bs(),Ir());return Ra(n,l,y,d),l.child}function ph(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Tv(n,l,d,m,y){var N=le();return N=N===null?null:{parent:Sr._currentValue,pool:N},l.memoizedState={baseLanes:d,cachePool:N},n!==null&&ce(l,null),Bs(),Dr(l),n!==null&&Vl(n,l,m,!0),l.childLanes=y,null}function dm(n,l){return l=hm({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function Dv(n,l,d){return er(l,n.child,null,d),n=dm(l,l.pendingProps),n.flags|=2,Rs(l),l.memoizedState=null,n}function fS(n,l,d){var m=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,n===null){if(os){if(m.mode==="hidden")return n=dm(l,m),l.lanes=536870912,ph(null,n);if(Fs(l),(n=Zs)?(n=$2(n,fr),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Rl!==null?{id:Qn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},d=Sd(n),d.return=l,l.child=d,ua=l,Zs=null)):n=null,n===null)throw Ol(l);return l.lanes=536870912,null}return dm(l,m)}var N=n.memoizedState;if(N!==null){var V=N.dehydrated;if(Fs(l),y)if(l.flags&256)l.flags&=-257,l=Dv(n,l,d);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(a(558));else if(ra||Vl(n,l,d,!1),y=(d&n.childLanes)!==0,ra||y){if(m=tr,m!==null&&(V=cn(m,d),V!==0&&V!==N.retryLane))throw N.retryLane=V,cl(n,V),Pn(m,n,V),cp;wm(),l=Dv(n,l,d)}else n=N.treeContext,Zs=ki(V.nextSibling),ua=l,os=!0,Ia=null,fr=!1,n!==null&&tm(l,n),l=dm(l,m),l.flags|=4096;return l}return n=Fn(n.child,{mode:m.mode,children:m.children}),n.ref=l.ref,l.child=n,n.return=l,n}function um(n,l){var d=l.ref;if(d===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(n===null||n.ref!==d)&&(l.flags|=4194816)}}function dp(n,l,d,m,y){return zl(l),d=oh(n,l,d,m,void 0,y),m=Ah(),n!==null&&!ra?(ch(n,l,y),Lo(n,l,y)):(os&&m&&ah(l),l.flags|=1,Ra(n,l,d,y),l.child)}function Iv(n,l,d,m,y,N){return zl(l),l.updateQueue=null,d=ul(l,m,d,y),Id(n),m=Ah(),n!==null&&!ra?(ch(n,l,N),Lo(n,l,N)):(os&&m&&ah(l),l.flags|=1,Ra(n,l,d,N),l.child)}function Mv(n,l,d,m,y){if(zl(l),l.stateNode===null){var N=da,V=d.contextType;typeof V=="object"&&V!==null&&(N=fa(V)),N=new d(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=op,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},lt(l),V=d.contextType,N.context=typeof V=="object"&&V!==null?fa(V):da,N.state=l.memoizedState,V=d.getDerivedStateFromProps,typeof V=="function"&&(lp(l,d,V,m),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&op.enqueueReplaceState(N,N.state,null),Qr(l,m,N,y),qs(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(n===null){N=l.stateNode;var ne=l.memoizedProps,be=Dc(d,ne);N.props=be;var Me=N.context,$e=d.contextType;V=da,typeof $e=="object"&&$e!==null&&(V=fa($e));var et=d.getDerivedStateFromProps;$e=typeof et=="function"||typeof N.getSnapshotBeforeUpdate=="function",ne=l.pendingProps!==ne,$e||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ne||Me!==V)&&jv(l,N,m,V),mt=!1;var Re=l.memoizedState;N.state=Re,Qr(l,m,N,y),qs(),Me=l.memoizedState,ne||Re!==Me||mt?(typeof et=="function"&&(lp(l,d,et,m),Me=l.memoizedState),(be=mt||Nv(l,d,be,m,Re,Me,V))?($e||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Me),N.props=m,N.state=Me,N.context=V,m=be):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,lr(n,l),V=l.memoizedProps,$e=Dc(d,V),N.props=$e,et=l.pendingProps,Re=N.context,Me=d.contextType,be=da,typeof Me=="object"&&Me!==null&&(be=fa(Me)),ne=d.getDerivedStateFromProps,(Me=typeof ne=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==et||Re!==be)&&jv(l,N,m,be),mt=!1,Re=l.memoizedState,N.state=Re,Qr(l,m,N,y),qs();var Pe=l.memoizedState;V!==et||Re!==Pe||mt||n!==null&&n.dependencies!==null&&Ld(n.dependencies)?(typeof ne=="function"&&(lp(l,d,ne,m),Pe=l.memoizedState),($e=mt||Nv(l,d,$e,m,Re,Pe,be)||n!==null&&n.dependencies!==null&&Ld(n.dependencies))?(Me||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Pe,be),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Pe,be)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===n.memoizedProps&&Re===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&Re===n.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Pe),N.props=m,N.state=Pe,N.context=be,m=$e):(typeof N.componentDidUpdate!="function"||V===n.memoizedProps&&Re===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===n.memoizedProps&&Re===n.memoizedState||(l.flags|=1024),m=!1)}return N=m,um(n,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,n!==null&&m?(l.child=er(l,n.child,null,y),l.child=er(l,null,d,y)):Ra(n,l,d,y),l.memoizedState=N.state,n=l.child):n=Lo(n,l,y),n}function Rv(n,l,d,m){return So(),l.flags|=256,Ra(n,l,d,m),l.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(n){return{baseLanes:n,cachePool:ue()}}function fp(n,l,d){return n=n!==null?n.childLanes&~d:0,l&&(n|=li),n}function Ov(n,l,d){var m=l.pendingProps,y=!1,N=(l.flags&128)!==0,V;if((V=N)||(V=n!==null&&n.memoizedState===null?!1:(bs.current&2)!==0),V&&(y=!0,l.flags&=-129),V=(l.flags&32)!==0,l.flags&=-33,n===null){if(os){if(y?Er(l):Ir(),(n=Zs)?(n=$2(n,fr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Rl!==null?{id:Qn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},d=Sd(n),d.return=l,l.child=d,ua=l,Zs=null)):n=null,n===null)throw Ol(l);return Yp(n)?l.lanes=32:l.lanes=536870912,null}var ne=m.children;return m=m.fallback,y?(Ir(),y=l.mode,ne=hm({mode:"hidden",children:ne},y),m=Ml(m,y,d,null),ne.return=l,m.return=l,ne.sibling=m,l.child=ne,m=l.child,m.memoizedState=hp(d),m.childLanes=fp(n,V,d),l.memoizedState=up,ph(null,m)):(Er(l),mp(l,ne))}var be=n.memoizedState;if(be!==null&&(ne=be.dehydrated,ne!==null)){if(N)l.flags&256?(Er(l),l.flags&=-257,l=gp(n,l,d)):l.memoizedState!==null?(Ir(),l.child=n.child,l.flags|=128,l=null):(Ir(),ne=m.fallback,y=l.mode,m=hm({mode:"visible",children:m.children},y),ne=Ml(ne,y,d,null),ne.flags|=2,m.return=l,ne.return=l,m.sibling=ne,l.child=m,er(l,n.child,null,d),m=l.child,m.memoizedState=hp(d),m.childLanes=fp(n,V,d),l.memoizedState=up,l=ph(null,m));else if(Er(l),Yp(ne)){if(V=ne.nextSibling&&ne.nextSibling.dataset,V)var Me=V.dgst;V=Me,m=Error(a(419)),m.stack="",m.digest=V,xA({value:m,source:null,stack:null}),l=gp(n,l,d)}else if(ra||Vl(n,l,d,!1),V=(d&n.childLanes)!==0,ra||V){if(V=tr,V!==null&&(m=cn(V,d),m!==0&&m!==be.retryLane))throw be.retryLane=m,cl(n,m),Pn(V,n,m),cp;Xp(ne)||wm(),l=gp(n,l,d)}else Xp(ne)?(l.flags|=192,l.child=n.child,l=null):(n=be.treeContext,Zs=ki(ne.nextSibling),ua=l,os=!0,Ia=null,fr=!1,n!==null&&tm(l,n),l=mp(l,m.children),l.flags|=4096);return l}return y?(Ir(),ne=m.fallback,y=l.mode,be=n.child,Me=be.sibling,m=Fn(be,{mode:"hidden",children:m.children}),m.subtreeFlags=be.subtreeFlags&65011712,Me!==null?ne=Fn(Me,ne):(ne=Ml(ne,y,d,null),ne.flags|=2),ne.return=l,m.return=l,m.sibling=ne,l.child=m,ph(null,m),m=l.child,ne=n.child.memoizedState,ne===null?ne=hp(d):(y=ne.cachePool,y!==null?(be=Sr._currentValue,y=y.parent!==be?{parent:be,pool:be}:y):y=ue(),ne={baseLanes:ne.baseLanes|d,cachePool:y}),m.memoizedState=ne,m.childLanes=fp(n,V,d),l.memoizedState=up,ph(n.child,m)):(Er(l),d=n.child,n=d.sibling,d=Fn(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,n!==null&&(V=l.deletions,V===null?(l.deletions=[n],l.flags|=16):V.push(n)),l.child=d,l.memoizedState=null,d)}function mp(n,l){return l=hm({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function hm(n,l){return n=Ca(22,n,null,l),n.lanes=0,n}function gp(n,l,d){return er(l,n.child,null,d),n=mp(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function Hv(n,l,d){n.lanes|=l;var m=n.alternate;m!==null&&(m.lanes|=l),bA(n.return,l,d)}function pp(n,l,d,m,y,N){var V=n.memoizedState;V===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y,treeForkCount:N}:(V.isBackwards=l,V.rendering=null,V.renderingStartTime=0,V.last=m,V.tail=d,V.tailMode=y,V.treeForkCount=N)}function Pv(n,l,d){var m=l.pendingProps,y=m.revealOrder,N=m.tail;m=m.children;var V=bs.current,ne=(V&2)!==0;if(ne?(V=V&1|2,l.flags|=128):V&=1,H(bs,V),Ra(n,l,m,d),m=os?Uc:0,!ne&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hv(n,d,l);else if(n.tag===19)Hv(n,d,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(y){case"forwards":for(d=l.child,y=null;d!==null;)n=d.alternate,n!==null&&Ea(n)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),pp(l,!1,y,d,N,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(n=y.alternate,n!==null&&Ea(n)===null){l.child=y;break}n=y.sibling,y.sibling=d,d=y,y=n}pp(l,!0,d,null,N,m);break;case"together":pp(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Lo(n,l,d){if(n!==null&&(l.dependencies=n.dependencies),CA|=l.lanes,(d&l.childLanes)===0)if(n!==null){if(Vl(n,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(a(153));if(l.child!==null){for(n=l.child,d=Fn(n,n.pendingProps),l.child=d,d.return=l;n.sibling!==null;)n=n.sibling,d=d.sibling=Fn(n,n.pendingProps),d.return=l;d.sibling=null}return l.child}function xp(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&Ld(n)))}function mS(n,l,d){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),Pl(l,Sr,n.memoizedState.cache),So();break;case 27:case 5:Le(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:Pl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Fs(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Er(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Ov(n,l,d):(Er(l),n=Lo(n,l,d),n!==null?n.sibling:null);Er(l);break;case 19:var y=(n.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Vl(n,l,d,!1),m=(d&l.childLanes)!==0),y){if(m)return Pv(n,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),H(bs,bs.current),m)break;return null;case 22:return l.lanes=0,Qv(n,l,d,l.pendingProps);case 24:Pl(l,Sr,n.memoizedState.cache)}return Lo(n,l,d)}function Vv(n,l,d){if(n!==null)if(n.memoizedProps!==l.pendingProps)ra=!0;else{if(!xp(n,d)&&(l.flags&128)===0)return ra=!1,mS(n,l,d);ra=(n.flags&131072)!==0}else ra=!1,os&&(l.flags&1048576)!==0&&em(l,Uc,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(n=Qe(l.elementType),l.type=n,typeof n=="function")Cd(n)?(m=Dc(n,m),l.tag=1,l=Mv(null,l,n,m,d)):(l.tag=0,l=dp(null,l,n,m,d));else{if(n!=null){var y=n.$$typeof;if(y===T){l.tag=11,l=Uv(null,l,n,m,d);break e}else if(y===q){l.tag=14,l=kv(null,l,n,m,d);break e}}throw l=P(n)||n,Error(a(306,l,""))}}return l;case 0:return dp(n,l,l.type,l.pendingProps,d);case 1:return m=l.type,y=Dc(m,l.pendingProps),Mv(n,l,m,y,d);case 3:e:{if(Se(l,l.stateNode.containerInfo),n===null)throw Error(a(387));m=l.pendingProps;var N=l.memoizedState;y=N.element,lr(n,l),Qr(l,m,null,d);var V=l.memoizedState;if(m=V.cache,Pl(l,Sr,m),m!==N.cache&&Eo(l,[Sr],d,!0),qs(),m=V.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:V.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Rv(n,l,m,d);break e}else if(m!==y){y=Un(Error(a(424)),l),xA(y),l=Rv(n,l,m,d);break e}else{switch(n=l.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Zs=ki(n.firstChild),ua=l,os=!0,Ia=null,fr=!0,d=qt(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(So(),m===y){l=Lo(n,l,d);break e}Ra(n,l,m,d)}l=l.child}return l;case 26:return um(n,l),n===null?(d=ew(l.type,null,l.pendingProps,null))?l.memoizedState=d:os||(d=l.type,n=l.pendingProps,m=Em(fe.current).createElement(d),m[Ms]=l,m[nr]=n,Oa(m,d,n),Nr(m),l.stateNode=m):l.memoizedState=ew(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return Le(l),n===null&&os&&(m=l.stateNode=W2(l.type,l.pendingProps,fe.current),ua=l,fr=!0,y=Zs,kA(l.type)?(Wp=y,Zs=ki(m.firstChild)):Zs=y),Ra(n,l,l.pendingProps.children,d),um(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&os&&((y=m=Zs)&&(m=KS(m,l.type,l.pendingProps,fr),m!==null?(l.stateNode=m,ua=l,Zs=ki(m.firstChild),fr=!1,y=!0):y=!1),y||Ol(l)),Le(l),y=l.type,N=l.pendingProps,V=n!==null?n.memoizedProps:null,m=N.children,Gp(y,N)?m=null:V!==null&&Gp(y,V)&&(l.flags|=32),l.memoizedState!==null&&(y=oh(n,l,Zg,null,null,d),kh._currentValue=y),um(n,l),Ra(n,l,m,d),l.child;case 6:return n===null&&os&&((n=d=Zs)&&(d=GS(d,l.pendingProps,fr),d!==null?(l.stateNode=d,ua=l,Zs=null,n=!0):n=!1),n||Ol(l)),null;case 13:return Ov(n,l,d);case 4:return Se(l,l.stateNode.containerInfo),m=l.pendingProps,n===null?l.child=er(l,null,m,d):Ra(n,l,m,d),l.child;case 11:return Uv(n,l,l.type,l.pendingProps,d);case 7:return Ra(n,l,l.pendingProps,d),l.child;case 8:return Ra(n,l,l.pendingProps.children,d),l.child;case 12:return Ra(n,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,Pl(l,l.type,m.value),Ra(n,l,m.children,d),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,zl(l),y=fa(y),m=m(y),l.flags|=1,Ra(n,l,m,d),l.child;case 14:return kv(n,l,l.type,l.pendingProps,d);case 15:return Lv(n,l,l.type,l.pendingProps,d);case 19:return Pv(n,l,d);case 31:return fS(n,l,d);case 22:return Qv(n,l,d,l.pendingProps);case 24:return zl(l),m=fa(Sr),n===null?(y=le(),y===null&&(y=tr,N=yA(),y.pooledCache=N,N.refCount++,N!==null&&(y.pooledCacheLanes|=d),y=N),l.memoizedState={parent:m,cache:y},lt(l),Pl(l,Sr,y)):((n.lanes&d)!==0&&(lr(n,l),Qr(l,null,null,d),qs()),y=n.memoizedState,N=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),Pl(l,Sr,m)):(m=N.cache,Pl(l,Sr,m),m!==y.cache&&Eo(l,[Sr],d,!0))),Ra(n,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Qo(n){n.flags|=4}function bp(n,l,d,m,y){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(y&335544128)===y)if(n.stateNode.complete)n.flags|=8192;else if(g2())n.flags|=8192;else throw Ge=Be,De}else n.flags&=-16777217}function zv(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nw(l))if(g2())n.flags|=8192;else throw Ge=Be,De}function fm(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?ps():536870912,n.lanes|=l,$d|=l)}function xh(n,l){if(!os)switch(n.tailMode){case"hidden":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function cr(n){var l=n.alternate!==null&&n.alternate.child===n.child,d=0,m=0;if(l)for(var y=n.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=d,l}function gS(n,l,d){var m=l.pendingProps;switch(Ud(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(l),null;case 1:return cr(l),null;case 3:return d=l.stateNode,m=null,n!==null&&(m=n.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Dn(Sr),me(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(ha(l)?Qo(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ih())),cr(l),null;case 26:var y=l.type,N=l.memoizedState;return n===null?(Qo(l),N!==null?(cr(l),zv(l,N)):(cr(l),bp(l,y,null,m,d))):N?N!==n.memoizedState?(Qo(l),cr(l),zv(l,N)):(cr(l),l.flags&=-16777217):(n=n.memoizedProps,n!==m&&Qo(l),cr(l),bp(l,y,n,m,d)),null;case 27:if(Ve(l),d=fe.current,y=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==m&&Qo(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return cr(l),null}n=Z.current,ha(l)?nh(l):(n=W2(y,m,d),l.stateNode=n,Qo(l))}return cr(l),null;case 5:if(Ve(l),y=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==m&&Qo(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return cr(l),null}if(N=Z.current,ha(l))nh(l);else{var V=Em(fe.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof m.is=="string"?V.createElement("select",{is:m.is}):V.createElement("select"),m.multiple?N.multiple=!0:m.size&&(N.size=m.size);break;default:N=typeof m.is=="string"?V.createElement(y,{is:m.is}):V.createElement(y)}}N[Ms]=l,N[nr]=m;e:for(V=l.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===l)break e;for(;V.sibling===null;){if(V.return===null||V.return===l)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}l.stateNode=N;e:switch(Oa(N,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Qo(l)}}return cr(l),bp(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,d),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==m&&Qo(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(n=fe.current,ha(l)){if(n=l.stateNode,d=l.memoizedProps,m=null,y=ua,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}n[Ms]=l,n=!!(n.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||O2(n.nodeValue,d)),n||Ol(l,!0)}else n=Em(n).createTextNode(m),n[Ms]=l,l.stateNode=n}return cr(l),null;case 31:if(d=l.memoizedState,n===null||n.memoizedState!==null){if(m=ha(l),d!==null){if(n===null){if(!m)throw Error(a(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Ms]=l}else So(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cr(l),n=!1}else d=ih(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),n=!0;if(!n)return l.flags&256?(Rs(l),l):(Rs(l),null);if((l.flags&128)!==0)throw Error(a(558))}return cr(l),null;case 13:if(m=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=ha(l),m!==null&&m.dehydrated!==null){if(n===null){if(!y)throw Error(a(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Ms]=l}else So(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;cr(l),y=!1}else y=ih(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Rs(l),l):(Rs(l),null)}return Rs(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,n=n!==null&&n.memoizedState!==null,d&&(m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==y&&(m.flags|=2048)),d!==n&&d&&(l.child.flags|=8192),fm(l,l.updateQueue),cr(l),null);case 4:return me(),n===null&&Hp(l.stateNode.containerInfo),cr(l),null;case 10:return Dn(l.type),cr(l),null;case 19:if(M(bs),m=l.memoizedState,m===null)return cr(l),null;if(y=(l.flags&128)!==0,N=m.rendering,N===null)if(y)xh(m,!1);else{if(Rr!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(N=Ea(n),N!==null){for(l.flags|=128,xh(m,!1),n=N.updateQueue,l.updateQueue=n,fm(l,n),l.subtreeFlags=0,n=d,d=l.child;d!==null;)Ec(d,n),d=d.sibling;return H(bs,bs.current&1|2),os&&yn(l,m.treeForkCount),l.child}n=n.sibling}m.tail!==null&&Je()>bm&&(l.flags|=128,y=!0,xh(m,!1),l.lanes=4194304)}else{if(!y)if(n=Ea(N),n!==null){if(l.flags|=128,y=!0,n=n.updateQueue,l.updateQueue=n,fm(l,n),xh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!os)return cr(l),null}else 2*Je()-m.renderingStartTime>bm&&d!==536870912&&(l.flags|=128,y=!0,xh(m,!1),l.lanes=4194304);m.isBackwards?(N.sibling=l.child,l.child=N):(n=m.last,n!==null?n.sibling=N:l.child=N,m.last=N)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=Je(),n.sibling=null,d=bs.current,H(bs,y?d&1|2:d&1),os&&yn(l,m.treeForkCount),n):(cr(l),null);case 22:case 23:return Rs(l),Gr(),m=l.memoizedState!==null,n!==null?n.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(cr(l),l.subtreeFlags&6&&(l.flags|=8192)):cr(l),d=l.updateQueue,d!==null&&fm(l,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),n!==null&&M(se),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Dn(Sr),cr(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function pS(n,l){switch(Ud(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return Dn(Sr),me(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return Ve(l),null;case 31:if(l.memoizedState!==null){if(Rs(l),l.alternate===null)throw Error(a(340));So()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(Rs(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(a(340));So()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return M(bs),null;case 4:return me(),null;case 10:return Dn(l.type),null;case 22:case 23:return Rs(l),Gr(),n!==null&&M(se),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return Dn(Sr),null;case 25:return null;default:return null}}function Kv(n,l){switch(Ud(l),l.tag){case 3:Dn(Sr),me();break;case 26:case 27:case 5:Ve(l);break;case 4:me();break;case 31:l.memoizedState!==null&&Rs(l);break;case 13:Rs(l);break;case 19:M(bs);break;case 10:Dn(l.type);break;case 22:case 23:Rs(l),Gr(),n!==null&&M(se);break;case 24:Dn(Sr)}}function bh(n,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&n)===n){m=void 0;var N=d.create,V=d.inst;m=N(),V.destroy=m}d=d.next}while(d!==y)}}catch(ne){Hs(l,l.return,ne)}}function BA(n,l,d){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var N=y.next;m=N;do{if((m.tag&n)===n){var V=m.inst,ne=V.destroy;if(ne!==void 0){V.destroy=void 0,y=l;var be=d,Me=ne;try{Me()}catch($e){Hs(y,be,$e)}}}m=m.next}while(m!==N)}}catch($e){Hs(l,l.return,$e)}}function Gv(n){var l=n.updateQueue;if(l!==null){var d=n.stateNode;try{Tr(l,d)}catch(m){Hs(n,n.return,m)}}}function qv(n,l,d){d.props=Dc(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(m){Hs(n,l,m)}}function yh(n,l){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var m=n.stateNode;break;case 30:m=n.stateNode;break;default:m=n.stateNode}typeof d=="function"?n.refCleanup=d(m):d.current=m}}catch(y){Hs(n,l,y)}}function Xl(n,l){var d=n.ref,m=n.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){Hs(n,l,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Hs(n,l,y)}else d.current=null}function $v(n){var l=n.type,d=n.memoizedProps,m=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){Hs(n,n.return,y)}}function yp(n,l,d){try{var m=n.stateNode;RS(m,n.type,d,l),m[nr]=l}catch(y){Hs(n,n.return,y)}}function Xv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&kA(n.type)||n.tag===4}function vp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Xv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&kA(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wp(n,l,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(n),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ei));else if(m!==4&&(m===27&&kA(n.type)&&(d=n.stateNode,l=null),n=n.child,n!==null))for(wp(n,l,d),n=n.sibling;n!==null;)wp(n,l,d),n=n.sibling}function mm(n,l,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,l?d.insertBefore(n,l):d.appendChild(n);else if(m!==4&&(m===27&&kA(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(mm(n,l,d),n=n.sibling;n!==null;)mm(n,l,d),n=n.sibling}function Yv(n){var l=n.stateNode,d=n.memoizedProps;try{for(var m=n.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Oa(l,m,d),l[Ms]=n,l[nr]=d}catch(N){Hs(n,n.return,N)}}var To=!1,aa=!1,Np=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,Fa=null;function xS(n,l){if(n=n.containerInfo,zp=Dm,n=ol(n),Ci(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var V=0,ne=-1,be=-1,Me=0,$e=0,et=n,Re=null;t:for(;;){for(var Pe;et!==d||y!==0&&et.nodeType!==3||(ne=V+y),et!==N||m!==0&&et.nodeType!==3||(be=V+m),et.nodeType===3&&(V+=et.nodeValue.length),(Pe=et.firstChild)!==null;)Re=et,et=Pe;for(;;){if(et===n)break t;if(Re===d&&++Me===y&&(ne=V),Re===N&&++$e===m&&(be=V),(Pe=et.nextSibling)!==null)break;et=Re,Re=et.parentNode}et=Pe}d=ne===-1||be===-1?null:{start:ne,end:be}}else d=null}d=d||{start:0,end:0}}else d=null;for(Kp={focusedElem:n,selectionRange:d},Dm=!1,Fa=l;Fa!==null;)if(l=Fa,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,Fa=n;else for(;Fa!==null;){switch(l=Fa,N=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(d=0;d<n.length;d++)y=n[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,d=l,y=N.memoizedProps,N=N.memoizedState,m=d.stateNode;try{var bt=Dc(d.type,y);n=m.getSnapshotBeforeUpdate(bt,N),m.__reactInternalSnapshotBeforeUpdate=n}catch(Rt){Hs(d,d.return,Rt)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,d=n.nodeType,d===9)$p(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$p(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=l.sibling,n!==null){n.return=l.return,Fa=n;break}Fa=l.return}}function Jv(n,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Io(n,d),m&4&&bh(5,d);break;case 1:if(Io(n,d),m&4)if(n=d.stateNode,l===null)try{n.componentDidMount()}catch(V){Hs(d,d.return,V)}else{var y=Dc(d.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(y,l,n.__reactInternalSnapshotBeforeUpdate)}catch(V){Hs(d,d.return,V)}}m&64&&Gv(d),m&512&&yh(d,d.return);break;case 3:if(Io(n,d),m&64&&(n=d.updateQueue,n!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Tr(n,l)}catch(V){Hs(d,d.return,V)}}break;case 27:l===null&&m&4&&Yv(d);case 26:case 5:Io(n,d),l===null&&m&4&&$v(d),m&512&&yh(d,d.return);break;case 12:Io(n,d);break;case 31:Io(n,d),m&4&&t2(n,d);break;case 13:Io(n,d),m&4&&s2(n,d),m&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=CS.bind(null,d),qS(n,d))));break;case 22:if(m=d.memoizedState!==null||To,!m){l=l!==null&&l.memoizedState!==null||aa,y=To;var N=aa;To=m,(aa=l)&&!N?Mo(n,d,(d.subtreeFlags&8772)!==0):Io(n,d),To=y,aa=N}break;case 30:break;default:Io(n,d)}}function Zv(n){var l=n.alternate;l!==null&&(n.alternate=null,Zv(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&Ul(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pr=null,Mn=!1;function Do(n,l,d){for(d=d.child;d!==null;)e2(n,l,d),d=d.sibling}function e2(n,l,d){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Qt,d)}catch{}switch(d.tag){case 26:aa||Xl(d,l),Do(n,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:aa||Xl(d,l);var m=pr,y=Mn;kA(d.type)&&(pr=d.stateNode,Mn=!1),Do(n,l,d),Eh(d.stateNode),pr=m,Mn=y;break;case 5:aa||Xl(d,l);case 6:if(m=pr,y=Mn,pr=null,Do(n,l,d),pr=m,Mn=y,pr!==null)if(Mn)try{(pr.nodeType===9?pr.body:pr.nodeName==="HTML"?pr.ownerDocument.body:pr).removeChild(d.stateNode)}catch(N){Hs(d,l,N)}else try{pr.removeChild(d.stateNode)}catch(N){Hs(d,l,N)}break;case 18:pr!==null&&(Mn?(n=pr,G2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),su(n)):G2(pr,d.stateNode));break;case 4:m=pr,y=Mn,pr=d.stateNode.containerInfo,Mn=!0,Do(n,l,d),pr=m,Mn=y;break;case 0:case 11:case 14:case 15:BA(2,d,l),aa||BA(4,d,l),Do(n,l,d);break;case 1:aa||(Xl(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&qv(d,l,m)),Do(n,l,d);break;case 21:Do(n,l,d);break;case 22:aa=(m=aa)||d.memoizedState!==null,Do(n,l,d),aa=m;break;default:Do(n,l,d)}}function t2(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{su(n)}catch(d){Hs(l,l.return,d)}}}function s2(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{su(n)}catch(d){Hs(l,l.return,d)}}function bS(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Wv),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Wv),l;default:throw Error(a(435,n.tag))}}function gm(n,l){var d=bS(n);l.forEach(function(m){if(!d.has(m)){d.add(m);var y=SS.bind(null,n,m);m.then(y,y)}})}function Rn(n,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],N=n,V=l,ne=V;e:for(;ne!==null;){switch(ne.tag){case 27:if(kA(ne.type)){pr=ne.stateNode,Mn=!1;break e}break;case 5:pr=ne.stateNode,Mn=!1;break e;case 3:case 4:pr=ne.stateNode.containerInfo,Mn=!0;break e}ne=ne.return}if(pr===null)throw Error(a(160));e2(N,V,y),pr=null,Mn=!1,N=y.alternate,N!==null&&(N.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)r2(l,n),l=l.sibling}var gl=null;function r2(n,l){var d=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(l,n),On(n),m&4&&(BA(3,n,n.return),bh(3,n),BA(5,n,n.return));break;case 1:Rn(l,n),On(n),m&512&&(aa||d===null||Xl(d,d.return)),m&64&&To&&(n=n.updateQueue,n!==null&&(m=n.callbacks,m!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=gl;if(Rn(l,n),On(n),m&512&&(aa||d===null||Xl(d,d.return)),m&4){var N=d!==null?d.memoizedState:null;if(m=n.memoizedState,d===null)if(m===null)if(n.stateNode===null){e:{m=n.type,d=n.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":N=y.getElementsByTagName("title")[0],(!N||N[Xn]||N[Ms]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=y.createElement(m),y.head.insertBefore(N,y.querySelector("head > title"))),Oa(N,m,d),N[Ms]=n,Nr(N),m=N;break e;case"link":var V=rw("link","href",y).get(m+(d.href||""));if(V){for(var ne=0;ne<V.length;ne++)if(N=V[ne],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){V.splice(ne,1);break t}}N=y.createElement(m),Oa(N,m,d),y.head.appendChild(N);break;case"meta":if(V=rw("meta","content",y).get(m+(d.content||""))){for(ne=0;ne<V.length;ne++)if(N=V[ne],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){V.splice(ne,1);break t}}N=y.createElement(m),Oa(N,m,d),y.head.appendChild(N);break;default:throw Error(a(468,m))}N[Ms]=n,Nr(N),m=N}n.stateNode=m}else aw(y,n.type,n.stateNode);else n.stateNode=sw(y,m,n.memoizedProps);else N!==m?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,m===null?aw(y,n.type,n.stateNode):sw(y,m,n.memoizedProps)):m===null&&n.stateNode!==null&&yp(n,n.memoizedProps,d.memoizedProps)}break;case 27:Rn(l,n),On(n),m&512&&(aa||d===null||Xl(d,d.return)),d!==null&&m&4&&yp(n,n.memoizedProps,d.memoizedProps);break;case 5:if(Rn(l,n),On(n),m&512&&(aa||d===null||Xl(d,d.return)),n.flags&32){y=n.stateNode;try{hn(y,"")}catch(bt){Hs(n,n.return,bt)}}m&4&&n.stateNode!=null&&(y=n.memoizedProps,yp(n,y,d!==null?d.memoizedProps:y)),m&1024&&(Np=!0);break;case 6:if(Rn(l,n),On(n),m&4){if(n.stateNode===null)throw Error(a(162));m=n.memoizedProps,d=n.stateNode;try{d.nodeValue=m}catch(bt){Hs(n,n.return,bt)}}break;case 3:if(km=null,y=gl,gl=Fm(l.containerInfo),Rn(l,n),gl=y,On(n),m&4&&d!==null&&d.memoizedState.isDehydrated)try{su(l.containerInfo)}catch(bt){Hs(n,n.return,bt)}Np&&(Np=!1,a2(n));break;case 4:m=gl,gl=Fm(n.stateNode.containerInfo),Rn(l,n),On(n),gl=m;break;case 12:Rn(l,n),On(n);break;case 31:Rn(l,n),On(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,gm(n,m)));break;case 13:Rn(l,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(xm=Je()),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,gm(n,m)));break;case 22:y=n.memoizedState!==null;var be=d!==null&&d.memoizedState!==null,Me=To,$e=aa;if(To=Me||y,aa=$e||be,Rn(l,n),aa=$e,To=Me,On(n),m&8192)e:for(l=n.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(d===null||be||To||aa||Ic(n)),d=null,l=n;;){if(l.tag===5||l.tag===26){if(d===null){be=d=l;try{if(N=be.stateNode,y)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ne=be.stateNode;var et=be.memoizedProps.style,Re=et!=null&&et.hasOwnProperty("display")?et.display:null;ne.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(bt){Hs(be,be.return,bt)}}}else if(l.tag===6){if(d===null){be=l;try{be.stateNode.nodeValue=y?"":be.memoizedProps}catch(bt){Hs(be,be.return,bt)}}}else if(l.tag===18){if(d===null){be=l;try{var Pe=be.stateNode;y?q2(Pe,!0):q2(be.stateNode,!1)}catch(bt){Hs(be,be.return,bt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=n.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,gm(n,d))));break;case 19:Rn(l,n),On(n),m&4&&(m=n.updateQueue,m!==null&&(n.updateQueue=null,gm(n,m)));break;case 30:break;case 21:break;default:Rn(l,n),On(n)}}function On(n){var l=n.flags;if(l&2){try{for(var d,m=n.return;m!==null;){if(Xv(m)){d=m;break}m=m.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var y=d.stateNode,N=vp(n);mm(n,N,y);break;case 5:var V=d.stateNode;d.flags&32&&(hn(V,""),d.flags&=-33);var ne=vp(n);mm(n,ne,V);break;case 3:case 4:var be=d.stateNode.containerInfo,Me=vp(n);wp(n,Me,be);break;default:throw Error(a(161))}}catch($e){Hs(n,n.return,$e)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function a2(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;a2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function Io(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Jv(n,l.alternate,l),l=l.sibling}function Ic(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:BA(4,l,l.return),Ic(l);break;case 1:Xl(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&qv(l,l.return,d),Ic(l);break;case 27:Eh(l.stateNode);case 26:case 5:Xl(l,l.return),Ic(l);break;case 22:l.memoizedState===null&&Ic(l);break;case 30:Ic(l);break;default:Ic(l)}n=n.sibling}}function Mo(n,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=n,N=l,V=N.flags;switch(N.tag){case 0:case 11:case 15:Mo(y,N,d),bh(4,N);break;case 1:if(Mo(y,N,d),m=N,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Me){Hs(m,m.return,Me)}if(m=N,y=m.updateQueue,y!==null){var ne=m.stateNode;try{var be=y.shared.hiddenCallbacks;if(be!==null)for(y.shared.hiddenCallbacks=null,y=0;y<be.length;y++)Sa(be[y],ne)}catch(Me){Hs(m,m.return,Me)}}d&&V&64&&Gv(N),yh(N,N.return);break;case 27:Yv(N);case 26:case 5:Mo(y,N,d),d&&m===null&&V&4&&$v(N),yh(N,N.return);break;case 12:Mo(y,N,d);break;case 31:Mo(y,N,d),d&&V&4&&t2(y,N);break;case 13:Mo(y,N,d),d&&V&4&&s2(y,N);break;case 22:N.memoizedState===null&&Mo(y,N,d),yh(N,N.return);break;case 30:break;default:Mo(y,N,d)}l=l.sibling}}function jp(n,l){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&kc(d))}function Bp(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&kc(n))}function pl(n,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)n2(n,l,d,m),l=l.sibling}function n2(n,l,d,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:pl(n,l,d,m),y&2048&&bh(9,l);break;case 1:pl(n,l,d,m);break;case 3:pl(n,l,d,m),y&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&kc(n)));break;case 12:if(y&2048){pl(n,l,d,m),n=l.stateNode;try{var N=l.memoizedProps,V=N.id,ne=N.onPostCommit;typeof ne=="function"&&ne(V,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(be){Hs(l,l.return,be)}}else pl(n,l,d,m);break;case 31:pl(n,l,d,m);break;case 13:pl(n,l,d,m);break;case 23:break;case 22:N=l.stateNode,V=l.alternate,l.memoizedState!==null?N._visibility&2?pl(n,l,d,m):vh(n,l):N._visibility&2?pl(n,l,d,m):(N._visibility|=2,Kd(n,l,d,m,(l.subtreeFlags&10256)!==0||!1)),y&2048&&jp(V,l);break;case 24:pl(n,l,d,m),y&2048&&Bp(l.alternate,l);break;default:pl(n,l,d,m)}}function Kd(n,l,d,m,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=n,V=l,ne=d,be=m,Me=V.flags;switch(V.tag){case 0:case 11:case 15:Kd(N,V,ne,be,y),bh(8,V);break;case 23:break;case 22:var $e=V.stateNode;V.memoizedState!==null?$e._visibility&2?Kd(N,V,ne,be,y):vh(N,V):($e._visibility|=2,Kd(N,V,ne,be,y)),y&&Me&2048&&jp(V.alternate,V);break;case 24:Kd(N,V,ne,be,y),y&&Me&2048&&Bp(V.alternate,V);break;default:Kd(N,V,ne,be,y)}l=l.sibling}}function vh(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=n,m=l,y=m.flags;switch(m.tag){case 22:vh(d,m),y&2048&&jp(m.alternate,m);break;case 24:vh(d,m),y&2048&&Bp(m.alternate,m);break;default:vh(d,m)}l=l.sibling}}var wh=8192;function Gd(n,l,d){if(n.subtreeFlags&wh)for(n=n.child;n!==null;)i2(n,l,d),n=n.sibling}function i2(n,l,d){switch(n.tag){case 26:Gd(n,l,d),n.flags&wh&&n.memoizedState!==null&&nE(d,gl,n.memoizedState,n.memoizedProps);break;case 5:Gd(n,l,d);break;case 3:case 4:var m=gl;gl=Fm(n.stateNode.containerInfo),Gd(n,l,d),gl=m;break;case 22:n.memoizedState===null&&(m=n.alternate,m!==null&&m.memoizedState!==null?(m=wh,wh=16777216,Gd(n,l,d),wh=m):Gd(n,l,d));break;default:Gd(n,l,d)}}function l2(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function Nh(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fa=m,A2(m,n)}l2(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o2(n),n=n.sibling}function o2(n){switch(n.tag){case 0:case 11:case 15:Nh(n),n.flags&2048&&BA(9,n,n.return);break;case 3:Nh(n);break;case 12:Nh(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,pm(n)):Nh(n);break;default:Nh(n)}}function pm(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Fa=m,A2(m,n)}l2(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:BA(8,l,l.return),pm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,pm(l));break;default:pm(l)}n=n.sibling}}function A2(n,l){for(;Fa!==null;){var d=Fa;switch(d.tag){case 0:case 11:case 15:BA(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:kc(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Fa=m;else e:for(d=n;Fa!==null;){m=Fa;var y=m.sibling,N=m.return;if(Zv(m),m===d){Fa=null;break e}if(y!==null){y.return=N,Fa=y;break e}Fa=N}}}var yS={getCacheForType:function(n){var l=fa(Sr),d=l.data.get(n);return d===void 0&&(d=n(),l.data.set(n,d)),d},cacheSignal:function(){return fa(Sr).controller.signal}},vS=typeof WeakMap=="function"?WeakMap:Map,Us=0,tr=null,As=null,hs=0,Os=0,ii=null,_A=!1,qd=!1,_p=!1,Ro=0,Rr=0,CA=0,Mc=0,Cp=0,li=0,$d=0,jh=null,Hn=null,Sp=!1,xm=0,c2=0,bm=1/0,ym=null,SA=null,ga=0,EA=null,Xd=null,Oo=0,Ep=0,Fp=null,d2=null,Bh=0,Up=null;function oi(){return(Us&2)!==0&&hs!==0?hs&-hs:I.T!==null?Ip():ea()}function u2(){if(li===0)if((hs&536870912)===0||os){var n=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),li=n}else li=536870912;return n=Ar.current,n!==null&&(n.flags|=32),li}function Pn(n,l,d){(n===tr&&(Os===2||Os===9)||n.cancelPendingCommit!==null)&&(Yd(n,0),FA(n,hs,li,!1)),Et(n,d),((Us&2)===0||n!==tr)&&(n===tr&&((Us&2)===0&&(Mc|=d),Rr===4&&FA(n,hs,li,!1)),Yl(n))}function h2(n,l,d){if((Us&6)!==0)throw Error(a(327));var m=!d&&(l&127)===0&&(l&n.expiredLanes)===0||on(n,l),y=m?jS(n,l):Lp(n,l,!0),N=m;do{if(y===0){qd&&!m&&FA(n,l,0,!1);break}else{if(d=n.current.alternate,N&&!wS(d)){y=Lp(n,l,!1),N=!1;continue}if(y===2){if(N=l,n.errorRecoveryDisabledLanes&N)var V=0;else V=n.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){l=V;e:{var ne=n;y=jh;var be=ne.current.memoizedState.isDehydrated;if(be&&(Yd(ne,V).flags|=256),V=Lp(ne,V,!1),V!==2){if(_p&&!be){ne.errorRecoveryDisabledLanes|=N,Mc|=N,y=4;break e}N=Hn,Hn=y,N!==null&&(Hn===null?Hn=N:Hn.push.apply(Hn,N))}y=V}if(N=!1,y!==2)continue}}if(y===1){Yd(n,0),FA(n,l,0,!0);break}e:{switch(m=n,N=y,N){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:FA(m,l,li,!_A);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(y=xm+300-Je(),10<y)){if(FA(m,l,li,!_A),ts(m,0,!0)!==0)break e;Oo=l,m.timeoutHandle=z2(f2.bind(null,m,d,Hn,ym,Sp,l,li,Mc,$d,_A,N,"Throttled",-0,0),y);break e}f2(m,d,Hn,ym,Sp,l,li,Mc,$d,_A,N,null,-0,0)}}break}while(!0);Yl(n)}function f2(n,l,d,m,y,N,V,ne,be,Me,$e,et,Re,Pe){if(n.timeoutHandle=-1,et=l.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},i2(l,N,et);var bt=(N&62914560)===N?xm-Je():(N&4194048)===N?c2-Je():0;if(bt=iE(et,bt),bt!==null){Oo=N,n.cancelPendingCommit=bt(w2.bind(null,n,l,N,d,m,y,V,ne,be,$e,et,null,Re,Pe)),FA(n,N,V,!Me);return}}w2(n,l,N,d,m,y,V,ne,be)}function wS(n){for(var l=n;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],N=y.getSnapshot;y=y.value;try{if(!ca(N(),y))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function FA(n,l,d,m){l&=~Cp,l&=~Mc,n.suspendedLanes|=l,n.pingedLanes&=~l,m&&(n.warmLanes|=l),m=n.expirationTimes;for(var y=l;0<y;){var N=31-Tt(y),V=1<<N;m[N]=-1,y&=~V}d!==0&&mi(n,d,l)}function vm(){return(Us&6)===0?(_h(0),!1):!0}function kp(){if(As!==null){if(Os===0)var n=As.return;else n=As,Ei=Hl=null,Md(n),tt=null,wt=0,n=As;for(;n!==null;)Kv(n.alternate,n),n=n.return;As=null}}function Yd(n,l){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,PS(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),Oo=0,kp(),tr=n,As=d=Fn(n.current,null),hs=l,Os=0,ii=null,_A=!1,qd=on(n,l),_p=!1,$d=li=Cp=Mc=CA=Rr=0,Hn=jh=null,Sp=!1,(l&8)!==0&&(l|=l&32);var m=n.entangledLanes;if(m!==0)for(n=n.entanglements,m&=l;0<m;){var y=31-Tt(m),N=1<<y;l|=n[y],m&=~N}return Ro=l,_c(),d}function m2(n,l){Ft=null,I.H=gh,l===Ne||l===de?(l=Ye(),Os=3):l===De?(l=Ye(),Os=4):Os=l===cp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ii=l,As===null&&(Rr=1,cm(n,Un(l,n.current)))}function g2(){var n=Ar.current;return n===null?!0:(hs&4194048)===hs?vs===null:(hs&62914560)===hs||(hs&536870912)!==0?n===vs:!1}function p2(){var n=I.H;return I.H=gh,n===null?gh:n}function x2(){var n=I.A;return I.A=yS,n}function wm(){Rr=4,_A||(hs&4194048)!==hs&&Ar.current!==null||(qd=!0),(CA&134217727)===0&&(Mc&134217727)===0||tr===null||FA(tr,hs,li,!1)}function Lp(n,l,d){var m=Us;Us|=2;var y=p2(),N=x2();(tr!==n||hs!==l)&&(ym=null,Yd(n,l)),l=!1;var V=Rr;e:do try{if(Os!==0&&As!==null){var ne=As,be=ii;switch(Os){case 8:kp(),V=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(l=!0);var Me=Os;if(Os=0,ii=null,Wd(n,ne,be,Me),d&&qd){V=0;break e}break;default:Me=Os,Os=0,ii=null,Wd(n,ne,be,Me)}}NS(),V=Rr;break}catch($e){m2(n,$e)}while(!0);return l&&n.shellSuspendCounter++,Ei=Hl=null,Us=m,I.H=y,I.A=N,As===null&&(tr=null,hs=0,_c()),V}function NS(){for(;As!==null;)b2(As)}function jS(n,l){var d=Us;Us|=2;var m=p2(),y=x2();tr!==n||hs!==l?(ym=null,bm=Je()+500,Yd(n,l)):qd=on(n,l);e:do try{if(Os!==0&&As!==null){l=As;var N=ii;t:switch(Os){case 1:Os=0,ii=null,Wd(n,l,N,1);break;case 2:case 9:if(Fe(N)){Os=0,ii=null,y2(l);break}l=function(){Os!==2&&Os!==9||tr!==n||(Os=7),Yl(n)},N.then(l,l);break e;case 3:Os=7;break e;case 4:Os=5;break e;case 7:Fe(N)?(Os=0,ii=null,y2(l)):(Os=0,ii=null,Wd(n,l,N,7));break;case 5:var V=null;switch(As.tag){case 26:V=As.memoizedState;case 5:case 27:var ne=As;if(V?nw(V):ne.stateNode.complete){Os=0,ii=null;var be=ne.sibling;if(be!==null)As=be;else{var Me=ne.return;Me!==null?(As=Me,Nm(Me)):As=null}break t}}Os=0,ii=null,Wd(n,l,N,5);break;case 6:Os=0,ii=null,Wd(n,l,N,6);break;case 8:kp(),Rr=6;break e;default:throw Error(a(462))}}BS();break}catch($e){m2(n,$e)}while(!0);return Ei=Hl=null,I.H=m,I.A=y,Us=d,As!==null?0:(tr=null,hs=0,_c(),Rr)}function BS(){for(;As!==null&&!ze();)b2(As)}function b2(n){var l=Vv(n.alternate,n,Ro);n.memoizedProps=n.pendingProps,l===null?Nm(n):As=l}function y2(n){var l=n,d=l.alternate;switch(l.tag){case 15:case 0:l=Iv(d,l,l.pendingProps,l.type,void 0,hs);break;case 11:l=Iv(d,l,l.pendingProps,l.type.render,l.ref,hs);break;case 5:Md(l);default:Kv(d,l),l=As=Ec(l,Ro),l=Vv(d,l,Ro)}n.memoizedProps=n.pendingProps,l===null?Nm(n):As=l}function Wd(n,l,d,m){Ei=Hl=null,Md(l),tt=null,wt=0;var y=l.return;try{if(hS(n,y,l,d,hs)){Rr=1,cm(n,Un(d,n.current)),As=null;return}}catch(N){if(y!==null)throw As=y,N;Rr=1,cm(n,Un(d,n.current)),As=null;return}l.flags&32768?(os||m===1?n=!0:qd||(hs&536870912)!==0?n=!1:(_A=n=!0,(m===2||m===9||m===3||m===6)&&(m=Ar.current,m!==null&&m.tag===13&&(m.flags|=16384))),v2(l,n)):Nm(l)}function Nm(n){var l=n;do{if((l.flags&32768)!==0){v2(l,_A);return}n=l.return;var d=gS(l.alternate,l,Ro);if(d!==null){As=d;return}if(l=l.sibling,l!==null){As=l;return}As=l=n}while(l!==null);Rr===0&&(Rr=5)}function v2(n,l){do{var d=pS(n.alternate,n);if(d!==null){d.flags&=32767,As=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(n=n.sibling,n!==null)){As=n;return}As=n=d}while(n!==null);Rr=6,As=null}function w2(n,l,d,m,y,N,V,ne,be){n.cancelPendingCommit=null;do jm();while(ga!==0);if((Us&6)!==0)throw Error(a(327));if(l!==null){if(l===n.current)throw Error(a(177));if(N=l.lanes|l.childLanes,N|=jd,Gi(n,d,N,V,ne,be),n===tr&&(As=tr=null,hs=0),Xd=l,EA=n,Oo=d,Ep=N,Fp=y,d2=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ES(ct,function(){return C2(),null})):(n.callbackNode=null,n.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=I.T,I.T=null,y=G.p,G.p=2,V=Us,Us|=4;try{xS(n,l,d)}finally{Us=V,G.p=y,I.T=m}}ga=1,N2(),j2(),B2()}}function N2(){if(ga===1){ga=0;var n=EA,l=Xd,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=I.T,I.T=null;var m=G.p;G.p=2;var y=Us;Us|=4;try{r2(l,n);var N=Kp,V=ol(n.containerInfo),ne=N.focusedElem,be=N.selectionRange;if(V!==ne&&ne&&ne.ownerDocument&&ll(ne.ownerDocument.documentElement,ne)){if(be!==null&&Ci(ne)){var Me=be.start,$e=be.end;if($e===void 0&&($e=Me),"selectionStart"in ne)ne.selectionStart=Me,ne.selectionEnd=Math.min($e,ne.value.length);else{var et=ne.ownerDocument||document,Re=et&&et.defaultView||window;if(Re.getSelection){var Pe=Re.getSelection(),bt=ne.textContent.length,Rt=Math.min(be.start,bt),Ys=be.end===void 0?Rt:Math.min(be.end,bt);!Pe.extend&&Rt>Ys&&(V=Ys,Ys=Rt,Rt=V);var Ce=fA(ne,Rt),je=fA(ne,Ys);if(Ce&&je&&(Pe.rangeCount!==1||Pe.anchorNode!==Ce.node||Pe.anchorOffset!==Ce.offset||Pe.focusNode!==je.node||Pe.focusOffset!==je.offset)){var Ie=et.createRange();Ie.setStart(Ce.node,Ce.offset),Pe.removeAllRanges(),Rt>Ys?(Pe.addRange(Ie),Pe.extend(je.node,je.offset)):(Ie.setEnd(je.node,je.offset),Pe.addRange(Ie))}}}}for(et=[],Pe=ne;Pe=Pe.parentNode;)Pe.nodeType===1&&et.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<et.length;ne++){var Ze=et[ne];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}Dm=!!zp,Kp=zp=null}finally{Us=y,G.p=m,I.T=d}}n.current=l,ga=2}}function j2(){if(ga===2){ga=0;var n=EA,l=Xd,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=I.T,I.T=null;var m=G.p;G.p=2;var y=Us;Us|=4;try{Jv(n,l.alternate,l)}finally{Us=y,G.p=m,I.T=d}}ga=3}}function B2(){if(ga===4||ga===3){ga=0,Oe();var n=EA,l=Xd,d=Oo,m=d2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ga=5:(ga=0,Xd=EA=null,_2(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(SA=null),kr(d),l=l.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Qt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=I.T,y=G.p,G.p=2,I.T=null;try{for(var N=n.onRecoverableError,V=0;V<m.length;V++){var ne=m[V];N(ne.value,{componentStack:ne.stack})}}finally{I.T=l,G.p=y}}(Oo&3)!==0&&jm(),Yl(n),y=n.pendingLanes,(d&261930)!==0&&(y&42)!==0?n===Up?Bh++:(Bh=0,Up=n):Bh=0,_h(0)}}function _2(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,kc(l)))}function jm(){return N2(),j2(),B2(),C2()}function C2(){if(ga!==5)return!1;var n=EA,l=Ep;Ep=0;var d=kr(Oo),m=I.T,y=G.p;try{G.p=32>d?32:d,I.T=null,d=Fp,Fp=null;var N=EA,V=Oo;if(ga=0,Xd=EA=null,Oo=0,(Us&6)!==0)throw Error(a(331));var ne=Us;if(Us|=4,o2(N.current),n2(N,N.current,V,d),Us=ne,_h(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Qt,N)}catch{}return!0}finally{G.p=y,I.T=m,_2(n,l)}}function S2(n,l,d){l=Un(d,l),l=Ap(n.stateNode,l,2),n=Wt(n,l,2),n!==null&&(Et(n,2),Yl(n))}function Hs(n,l,d){if(n.tag===3)S2(n,n,d);else for(;l!==null;){if(l.tag===3){S2(l,n,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(SA===null||!SA.has(m))){n=Un(d,n),d=Ev(2),m=Wt(l,d,2),m!==null&&(Fv(d,m,l,n),Et(m,2),Yl(m));break}}l=l.return}}function Qp(n,l,d){var m=n.pingCache;if(m===null){m=n.pingCache=new vS;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(_p=!0,y.add(d),n=_S.bind(null,n,l,d),l.then(n,n))}function _S(n,l,d){var m=n.pingCache;m!==null&&m.delete(l),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,tr===n&&(hs&d)===d&&(Rr===4||Rr===3&&(hs&62914560)===hs&&300>Je()-xm?(Us&2)===0&&Yd(n,0):Cp|=d,$d===hs&&($d=0)),Yl(n)}function E2(n,l){l===0&&(l=ps()),n=cl(n,l),n!==null&&(Et(n,l),Yl(n))}function CS(n){var l=n.memoizedState,d=0;l!==null&&(d=l.retryLane),E2(n,d)}function SS(n,l){var d=0;switch(n.tag){case 31:case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=n.stateNode;break;case 22:m=n.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),E2(n,d)}function ES(n,l){return Te(n,l)}var Bm=null,Jd=null,Tp=!1,_m=!1,Dp=!1,UA=0;function Yl(n){n!==Jd&&n.next===null&&(Jd===null?Bm=Jd=n:Jd=Jd.next=n),_m=!0,Tp||(Tp=!0,US())}function _h(n,l){if(!Dp&&_m){Dp=!0;do for(var d=!1,m=Bm;m!==null;){if(n!==0){var y=m.pendingLanes;if(y===0)var N=0;else{var V=m.suspendedLanes,ne=m.pingedLanes;N=(1<<31-Tt(42|n)+1)-1,N&=y&~(V&~ne),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,L2(m,N))}else N=hs,N=ts(m,m===tr?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||on(m,N)||(d=!0,L2(m,N));m=m.next}while(d);Dp=!1}}function FS(){F2()}function F2(){_m=Tp=!1;var n=0;UA!==0&&HS()&&(n=UA);for(var l=Je(),d=null,m=Bm;m!==null;){var y=m.next,N=U2(m,l);N===0?(m.next=null,d===null?Bm=y:d.next=y,y===null&&(Jd=d)):(d=m,(n!==0||(N&3)!==0)&&(_m=!0)),m=y}ga!==0&&ga!==5||_h(n),UA!==0&&(UA=0)}function U2(n,l){for(var d=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var V=31-Tt(N),ne=1<<V,be=y[V];be===-1?((ne&d)===0||(ne&m)!==0)&&(y[V]=wr(ne,l)):be<=l&&(n.expiredLanes|=ne),N&=~ne}if(l=tr,d=hs,d=ts(n,n===l?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m=n.callbackNode,d===0||n===l&&(Os===2||Os===9)||n.cancelPendingCommit!==null)return m!==null&&m!==null&&Ee(m),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||on(n,d)){if(l=d&-d,l===n.callbackPriority)return l;switch(m!==null&&Ee(m),kr(d)){case 2:case 8:d=_t;break;case 32:d=ct;break;case 268435456:d=At;break;default:d=ct}return m=k2.bind(null,n),d=Te(d,m),n.callbackPriority=l,n.callbackNode=d,l}return m!==null&&m!==null&&Ee(m),n.callbackPriority=2,n.callbackNode=null,2}function k2(n,l){if(ga!==0&&ga!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if(jm()&&n.callbackNode!==d)return null;var m=hs;return m=ts(n,n===tr?m:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),m===0?null:(h2(n,m,l),U2(n,Je()),n.callbackNode!=null&&n.callbackNode===d?k2.bind(null,n):null)}function L2(n,l){if(jm())return null;h2(n,l,!0)}function US(){VS(function(){(Us&6)!==0?Te(ht,FS):F2()})}function Ip(){if(UA===0){var n=p;n===0&&(n=us,us<<=1,(us&261888)===0&&(us=256)),UA=n}return UA}function Q2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zn(""+n)}function T2(n,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,n.id&&d.setAttribute("form",n.id),l.parentNode.insertBefore(d,l),n=new FormData(n),d.parentNode.removeChild(d),n}function kS(n,l,d,m,y){if(l==="submit"&&d&&d.stateNode===y){var N=Q2((y[nr]||null).action),V=m.submitter;V&&(l=(l=V[nr]||null)?Q2(l.formAction):V.getAttribute("formAction"),l!==null&&(N=l,V=null));var ne=new bi("action","action",null,m,y);n.push({event:ne,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(UA!==0){var be=V?T2(y,V):new FormData(y);rp(d,{pending:!0,data:be,method:y.method,action:N},null,be)}}else typeof N=="function"&&(ne.preventDefault(),be=V?T2(y,V):new FormData(y),rp(d,{pending:!0,data:be,method:y.method,action:N},N,be))},currentTarget:y}]})}}for(var Mp=0;Mp<Bo.length;Mp++){var Rp=Bo[Mp],LS=Rp.toLowerCase(),QS=Rp[0].toUpperCase()+Rp.slice(1);En(LS,"on"+QS)}En(jo,"onAnimationEnd"),En(jc,"onAnimationIteration"),En(th,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Wf,"onTransitionRun"),En(Jf,"onTransitionStart"),En(Zf,"onTransitionCancel"),En(sh,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ch));function D2(n,l){l=(l&4)!==0;for(var d=0;d<n.length;d++){var m=n[d],y=m.event;m=m.listeners;e:{var N=void 0;if(l)for(var V=m.length-1;0<=V;V--){var ne=m[V],be=ne.instance,Me=ne.currentTarget;if(ne=ne.listener,be!==N&&y.isPropagationStopped())break e;N=ne,y.currentTarget=Me;try{N(y)}catch($e){Bc($e)}y.currentTarget=null,N=be}else for(V=0;V<m.length;V++){if(ne=m[V],be=ne.instance,Me=ne.currentTarget,ne=ne.listener,be!==N&&y.isPropagationStopped())break e;N=ne,y.currentTarget=Me;try{N(y)}catch($e){Bc($e)}y.currentTarget=null,N=be}}}}function cs(n,l){var d=l[dn];d===void 0&&(d=l[dn]=new Set);var m=n+"__bubble";d.has(m)||(I2(l,n,2,!1),d.add(m))}function Op(n,l,d){var m=0;l&&(m|=4),I2(d,n,m,l)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function Hp(n){if(!n[Cm]){n[Cm]=!0,oc.forEach(function(d){d!=="selectionchange"&&(TS.has(d)||Op(d,!1,n),Op(d,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Cm]||(l[Cm]=!0,Op("selectionchange",!1,l))}}function I2(n,l,d,m){switch(uw(l)){case 2:var y=AE;break;case 8:y=cE;break;default:y=sx}d=y.bind(null,l,d,n),y=void 0,!vc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(l,d,{capture:!0,passive:y}):n.addEventListener(l,d,!0):y!==void 0?n.addEventListener(l,d,{passive:y}):n.addEventListener(l,d,!1)}function Pp(n,l,d,m,y){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var ne=m.stateNode.containerInfo;if(ne===y)break;if(V===4)for(V=m.return;V!==null;){var be=V.tag;if((be===3||be===4)&&V.stateNode.containerInfo===y)return;V=V.return}for(;ne!==null;){if(V=Yn(ne),V===null)return;if(be=V.tag,be===5||be===6||be===26||be===27){m=N=V;continue e}ne=ne.parentNode}}m=m.return}xd(function(){var Me=N,$e=mo(d),et=[];e:{var Re=rh.get(n);if(Re!==void 0){var Pe=bi,bt=n;switch(n){case"keypress":if(Ji(d)===0)break e;case"keydown":case"keyup":Pe=Ns;break;case"focusin":bt="focus",Pe=sl;break;case"focusout":bt="blur",Pe=sl;break;case"beforeblur":case"afterblur":Pe=sl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=zr;break;case jo:case jc:case th:Pe=C;break;case sh:Pe=oa;break;case"scroll":case"scrollend":Pe=lA;break;case"wheel":Pe=qa;break;case"copy":case"cut":case"paste":Pe=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Br;break;case"toggle":case"beforetoggle":Pe=oA}var Rt=(l&4)!==0,Ys=!Rt&&(n==="scroll"||n==="scrollend"),Ce=Rt?Re!==null?Re+"Capture":null:Re;Rt=[];for(var je=Me,Ie;je!==null;){var Ze=je;if(Ie=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Ie===null||Ce===null||(Ze=fn(je,Ce),Ze!=null&&Rt.push(Sh(je,Ze,Ie))),Ys)break;je=je.return}0<Rt.length&&(Re=new Pe(Re,bt,null,d,$e),et.push({event:Re,listeners:Rt}))}}if((l&7)===0){e:{if(Re=n==="mouseover"||n==="pointerover",Pe=n==="mouseout"||n==="pointerout",Re&&d!==Wi&&(bt=d.relatedTarget||d.fromElement)&&(Yn(bt)||bt[Na]))break e;if((Pe||Re)&&(Re=$e.window===$e?$e:(Re=$e.ownerDocument)?Re.defaultView||Re.parentWindow:window,Pe?(bt=d.relatedTarget||d.toElement,Pe=Me,bt=bt?Yn(bt):null,bt!==null&&(Ys=o(bt),Rt=bt.tag,bt!==Ys||Rt!==5&&Rt!==27&&Rt!==6)&&(bt=null)):(Pe=null,bt=Me),Pe!==bt)){if(Rt=yi,Ze="onMouseLeave",Ce="onMouseEnter",je="mouse",(n==="pointerout"||n==="pointerover")&&(Rt=Br,Ze="onPointerLeave",Ce="onPointerEnter",je="pointer"),Ys=Pe==null?Re:ho(Pe),Ie=bt==null?Re:ho(bt),Re=new Rt(Ze,je+"leave",Pe,d,$e),Re.target=Ys,Re.relatedTarget=Ie,Ze=null,Yn($e)===Me&&(Rt=new Rt(Ce,je+"enter",bt,d,$e),Rt.target=Ie,Rt.relatedTarget=Ys,Ze=Rt),Ys=Ze,Pe&&bt)t:{for(Rt=DS,Ce=Pe,je=bt,Ie=0,Ze=Ce;Ze;Ze=Rt(Ze))Ie++;Ze=0;for(var kt=je;kt;kt=Rt(kt))Ze++;for(;0<Ie-Ze;)Ce=Rt(Ce),Ie--;for(;0<Ze-Ie;)je=Rt(je),Ze--;for(;Ie--;){if(Ce===je||je!==null&&Ce===je.alternate){Rt=Ce;break t}Ce=Rt(Ce),je=Rt(je)}Rt=null}else Rt=null;Pe!==null&&M2(et,Re,Pe,Rt,!1),bt!==null&&Ys!==null&&M2(et,Ys,bt,Rt,!0)}}e:{if(Re=Me?ho(Me):window,Pe=Re.nodeName&&Re.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Re.type==="file")var Cs=Il;else if(wc(Re))if($a)Cs=Bi;else{Cs=_r;var Bt=uA}else Pe=Re.nodeName,!Pe||Pe.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Me&&xc(Me.elementType)&&(Cs=Il):Cs=Nd;if(Cs&&(Cs=Cs(n,Me))){pn(et,Cs,d,$e);break e}Bt&&Bt(n,Re,Me),n==="focusout"&&Me&&Re.type==="number"&&Me.memoizedProps.value!=null&&fc(Re,"number",Re.value)}switch(Bt=Me?ho(Me):window,n){case"focusin":(wc(Bt)||Bt.contentEditable==="true")&&(xn=Bt,Al=Me,Ba=null);break;case"focusout":Ba=Al=xn=null;break;case"mousedown":Sn=!0;break;case"contextmenu":case"mouseup":case"dragend":Sn=!1,js(et,d,$e);break;case"selectionchange":if(No)break;case"keydown":case"keyup":js(et,d,$e)}var Zt;if(vi)e:{switch(n){case"compositionstart":var fs="onCompositionStart";break e;case"compositionend":fs="onCompositionEnd";break e;case"compositionupdate":fs="onCompositionUpdate";break e}fs=void 0}else wi?Dl(n,d)&&(fs="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(fs="onCompositionStart");fs&&(Ql&&d.locale!=="ko"&&(wi||fs!=="onCompositionStart"?fs==="onCompositionEnd"&&wi&&(Zt=xo()):(mn=$e,po="value"in mn?mn.value:mn.textContent,wi=!0)),Bt=Sm(Me,fs),0<Bt.length&&(fs=new _e(fs,n,null,d,$e),et.push({event:fs,listeners:Bt}),Zt?fs.data=Zt:(Zt=AA(d),Zt!==null&&(fs.data=Zt)))),(Zt=wo?hr(n,d):rl(n,d))&&(fs=Sm(Me,"onBeforeInput"),0<fs.length&&(Bt=new _e("onBeforeInput","beforeinput",null,d,$e),et.push({event:Bt,listeners:fs}),Bt.data=Zt)),kS(et,n,Me,d,$e)}D2(et,l)})}function Sh(n,l,d){return{instance:n,listener:l,currentTarget:d}}function Sm(n,l){for(var d=l+"Capture",m=[];n!==null;){var y=n,N=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||N===null||(y=fn(n,d),y!=null&&m.unshift(Sh(n,y,N)),y=fn(n,l),y!=null&&m.push(Sh(n,y,N))),n.tag===3)return m;n=n.return}return[]}function DS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function M2(n,l,d,m,y){for(var N=l._reactName,V=[];d!==null&&d!==m;){var ne=d,be=ne.alternate,Me=ne.stateNode;if(ne=ne.tag,be!==null&&be===m)break;ne!==5&&ne!==26&&ne!==27||Me===null||(be=Me,y?(Me=fn(d,N),Me!=null&&V.unshift(Sh(d,Me,be))):y||(Me=fn(d,N),Me!=null&&V.push(Sh(d,Me,be)))),d=d.return}V.length!==0&&n.push({event:l,listeners:V})}var IS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function R2(n){return(typeof n=="string"?n:""+n).replace(IS,`
`).replace(MS,"")}function O2(n,l){return l=R2(l),R2(n)===l}function Xs(n,l,d,m,y,N){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||hn(n,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&hn(n,""+m);break;case"className":aA(n,"class",m);break;case"tabIndex":aA(n,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":aA(n,d,m);break;case"style":gd(n,m,N);break;case"data":if(l!=="object"){aA(n,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){n.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(d);break}m=Zn(""+m),n.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(l!=="input"&&Xs(n,l,"name",y.name,y,null),Xs(n,l,"formEncType",y.formEncType,y,null),Xs(n,l,"formMethod",y.formMethod,y,null),Xs(n,l,"formTarget",y.formTarget,y,null)):(Xs(n,l,"encType",y.encType,y,null),Xs(n,l,"method",y.method,y,null),Xs(n,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){n.removeAttribute(d);break}m=Zn(""+m),n.setAttribute(d,m);break;case"onClick":m!=null&&(n.onclick=ei);break;case"onScroll":m!=null&&cs("scroll",n);break;case"onScrollEnd":m!=null&&cs("scrollend",n);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=d}}break;case"multiple":n.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":n.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){n.removeAttribute("xlink:href");break}d=Zn(""+m),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(d,""+m):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":m===!0?n.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?n.setAttribute(d,m):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?n.setAttribute(d,m):n.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?n.removeAttribute(d):n.setAttribute(d,m);break;case"popover":cs("beforetoggle",n),cs("toggle",n),$i(n,"popover",m);break;case"xlinkActuate":Qs(n,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Qs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Qs(n,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Qs(n,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Qs(n,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Qs(n,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Qs(n,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Qs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Qs(n,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$i(n,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=bc.get(d)||d,$i(n,d,m))}}function Vp(n,l,d,m,y,N){switch(d){case"style":gd(n,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=d}}break;case"children":typeof m=="string"?hn(n,m):(typeof m=="number"||typeof m=="bigint")&&hn(n,""+m);break;case"onScroll":m!=null&&cs("scroll",n);break;case"onScrollEnd":m!=null&&cs("scrollend",n);break;case"onClick":m!=null&&(n.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!un.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),l=d.slice(2,y?d.length-7:void 0),N=n[nr]||null,N=N!=null?N[d]:null,typeof N=="function"&&n.removeEventListener(l,N,y),typeof m=="function")){typeof N!="function"&&N!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(l,m,y);break e}d in n?n[d]=m:m===!0?n.setAttribute(d,""):$i(n,d,m)}}}function Oa(n,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cs("error",n),cs("load",n);var m=!1,y=!1,N;for(N in d)if(d.hasOwnProperty(N)){var V=d[N];if(V!=null)switch(N){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Xs(n,l,N,V,d,null)}}y&&Xs(n,l,"srcSet",d.srcSet,d,null),m&&Xs(n,l,"src",d.src,d,null);return;case"input":cs("invalid",n);var ne=N=V=y=null,be=null,Me=null;for(m in d)if(d.hasOwnProperty(m)){var $e=d[m];if($e!=null)switch(m){case"name":y=$e;break;case"type":V=$e;break;case"checked":be=$e;break;case"defaultChecked":Me=$e;break;case"value":N=$e;break;case"defaultValue":ne=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(a(137,l));break;default:Xs(n,l,m,$e,d,null)}}fd(n,N,ne,be,Me,V,y,!1);return;case"select":cs("invalid",n),m=V=N=null;for(y in d)if(d.hasOwnProperty(y)&&(ne=d[y],ne!=null))switch(y){case"value":N=ne;break;case"defaultValue":V=ne;break;case"multiple":m=ne;default:Xs(n,l,y,ne,d,null)}l=N,d=V,n.multiple=!!m,l!=null?Ta(n,!!m,l,!1):d!=null&&Ta(n,!!m,d,!0);return;case"textarea":cs("invalid",n),N=y=m=null;for(V in d)if(d.hasOwnProperty(V)&&(ne=d[V],ne!=null))switch(V){case"value":m=ne;break;case"defaultValue":y=ne;break;case"children":N=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(91));break;default:Xs(n,l,V,ne,d,null)}gc(n,m,y,N);return;case"option":for(be in d)if(d.hasOwnProperty(be)&&(m=d[be],m!=null))switch(be){case"selected":n.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Xs(n,l,be,m,d,null)}return;case"dialog":cs("beforetoggle",n),cs("toggle",n),cs("cancel",n),cs("close",n);break;case"iframe":case"object":cs("load",n);break;case"video":case"audio":for(m=0;m<Ch.length;m++)cs(Ch[m],n);break;case"image":cs("error",n),cs("load",n);break;case"details":cs("toggle",n);break;case"embed":case"source":case"link":cs("error",n),cs("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in d)if(d.hasOwnProperty(Me)&&(m=d[Me],m!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Xs(n,l,Me,m,d,null)}return;default:if(xc(l)){for($e in d)d.hasOwnProperty($e)&&(m=d[$e],m!==void 0&&Vp(n,l,$e,m,d,void 0));return}}for(ne in d)d.hasOwnProperty(ne)&&(m=d[ne],m!=null&&Xs(n,l,ne,m,d,null))}function RS(n,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,N=null,V=null,ne=null,be=null,Me=null,$e=null;for(Pe in d){var et=d[Pe];if(d.hasOwnProperty(Pe)&&et!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":be=et;default:m.hasOwnProperty(Pe)||Xs(n,l,Pe,null,m,et)}}for(var Re in m){var Pe=m[Re];if(et=d[Re],m.hasOwnProperty(Re)&&(Pe!=null||et!=null))switch(Re){case"type":N=Pe;break;case"name":y=Pe;break;case"checked":Me=Pe;break;case"defaultChecked":$e=Pe;break;case"value":V=Pe;break;case"defaultValue":ne=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(a(137,l));break;default:Pe!==et&&Xs(n,l,Re,Pe,m,et)}}hc(n,V,ne,be,Me,$e,N,y);return;case"select":Pe=V=ne=Re=null;for(N in d)if(be=d[N],d.hasOwnProperty(N)&&be!=null)switch(N){case"value":break;case"multiple":Pe=be;default:m.hasOwnProperty(N)||Xs(n,l,N,null,m,be)}for(y in m)if(N=m[y],be=d[y],m.hasOwnProperty(y)&&(N!=null||be!=null))switch(y){case"value":Re=N;break;case"defaultValue":ne=N;break;case"multiple":V=N;default:N!==be&&Xs(n,l,y,N,m,be)}l=ne,d=V,m=Pe,Re!=null?Ta(n,!!d,Re,!1):!!m!=!!d&&(l!=null?Ta(n,!!d,l,!0):Ta(n,!!d,d?[]:"",!1));return;case"textarea":Pe=Re=null;for(ne in d)if(y=d[ne],d.hasOwnProperty(ne)&&y!=null&&!m.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Xs(n,l,ne,null,m,y)}for(V in m)if(y=m[V],N=d[V],m.hasOwnProperty(V)&&(y!=null||N!=null))switch(V){case"value":Re=y;break;case"defaultValue":Pe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==N&&Xs(n,l,V,y,m,N)}mc(n,Re,Pe);return;case"option":for(var bt in d)if(Re=d[bt],d.hasOwnProperty(bt)&&Re!=null&&!m.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:Xs(n,l,bt,null,m,Re)}for(be in m)if(Re=m[be],Pe=d[be],m.hasOwnProperty(be)&&Re!==Pe&&(Re!=null||Pe!=null))switch(be){case"selected":n.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Xs(n,l,be,Re,m,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in d)Re=d[Rt],d.hasOwnProperty(Rt)&&Re!=null&&!m.hasOwnProperty(Rt)&&Xs(n,l,Rt,null,m,Re);for(Me in m)if(Re=m[Me],Pe=d[Me],m.hasOwnProperty(Me)&&Re!==Pe&&(Re!=null||Pe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(a(137,l));break;default:Xs(n,l,Me,Re,m,Pe)}return;default:if(xc(l)){for(var Ys in d)Re=d[Ys],d.hasOwnProperty(Ys)&&Re!==void 0&&!m.hasOwnProperty(Ys)&&Vp(n,l,Ys,void 0,m,Re);for($e in m)Re=m[$e],Pe=d[$e],!m.hasOwnProperty($e)||Re===Pe||Re===void 0&&Pe===void 0||Vp(n,l,$e,Re,m,Pe);return}}for(var Ce in d)Re=d[Ce],d.hasOwnProperty(Ce)&&Re!=null&&!m.hasOwnProperty(Ce)&&Xs(n,l,Ce,null,m,Re);for(et in m)Re=m[et],Pe=d[et],!m.hasOwnProperty(et)||Re===Pe||Re==null&&Pe==null||Xs(n,l,et,Re,m,Pe)}function H2(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var y=d[m],N=y.transferSize,V=y.initiatorType,ne=y.duration;if(N&&ne&&H2(V)){for(V=0,ne=y.responseEnd,m+=1;m<d.length;m++){var be=d[m],Me=be.startTime;if(Me>ne)break;var $e=be.transferSize,et=be.initiatorType;$e&&H2(et)&&(be=be.responseEnd,V+=$e*(be<ne?1:(ne-Me)/(be-Me)))}if(--m,l+=8*(N+V)/(y.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var zp=null,Kp=null;function Em(n){return n.nodeType===9?n:n.ownerDocument}function P2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V2(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function Gp(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var qp=null;function HS(){var n=window.event;return n&&n.type==="popstate"?n===qp?!1:(qp=n,!0):(qp=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,K2=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof K2<"u"?function(n){return K2.resolve(null).then(n).catch(zS)}:z2;function zS(n){setTimeout(function(){throw n})}function kA(n){return n==="head"}function G2(n,l){var d=l,m=0;do{var y=d.nextSibling;if(n.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(m===0){n.removeChild(y),su(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Eh(n.ownerDocument.documentElement);else if(d==="head"){d=n.ownerDocument.head,Eh(d);for(var N=d.firstChild;N;){var V=N.nextSibling,ne=N.nodeName;N[Xn]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=V}}else d==="body"&&Eh(n.ownerDocument.body);d=y}while(d);su(l)}function q2(n,l){var d=n;n=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(n===0)break;n--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||n++;d=m}while(d)}function $p(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$p(d),Ul(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function KS(n,l,d,m){for(;n.nodeType===1;){var y=d;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(m){if(!n[Xn])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var N=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function GS(n,l,d){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=ki(n.nextSibling),n===null))return null;return n}function $2(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=ki(n.nextSibling),n===null))return null;return n}function Xp(n){return n.data==="$?"||n.data==="$~"}function Yp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function qS(n,l){var d=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),n._reactRetry=m}}function ki(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var Wp=null;function X2(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"||d==="/&"){if(l===0)return ki(n.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}n=n.nextSibling}return null}function Y2(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return n;l--}else d!=="/$"&&d!=="/&"||l++}n=n.previousSibling}return null}function W2(n,l,d){switch(l=Em(d),n){case"html":if(n=l.documentElement,!n)throw Error(a(452));return n;case"head":if(n=l.head,!n)throw Error(a(453));return n;case"body":if(n=l.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Eh(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Ul(n)}var Li=new Map,J2=new Set;function Fm(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ho=G.d;G.d={f:$S,r:XS,D:YS,C:WS,L:JS,m:ZS,X:tE,S:eE,M:sE};function $S(){var n=Ho.f(),l=vm();return n||l}function XS(n){var l=Wn(n);l!==null&&l.tag===5&&l.type==="form"?mv(l):Ho.r(n)}var Zd=typeof document>"u"?null:document;function Z2(n,l,d){var m=Zd;if(m&&typeof l=="string"&&l){var y=ja(l);y='link[rel="'+n+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),J2.has(y)||(J2.add(y),n={rel:n,crossOrigin:d,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),Oa(l,"link",n),Nr(l),m.head.appendChild(l)))}}function YS(n){Ho.D(n),Z2("dns-prefetch",n,null)}function WS(n,l){Ho.C(n,l),Z2("preconnect",n,l)}function JS(n,l,d){Ho.L(n,l,d);var m=Zd;if(m&&n&&l){var y='link[rel="preload"][as="'+ja(l)+'"]';l==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+ja(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+ja(d.imageSizes)+'"]')):y+='[href="'+ja(n)+'"]';var N=y;switch(l){case"style":N=eu(n);break;case"script":N=tu(n)}Li.has(N)||(n=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:n,as:l},d),Li.set(N,n),m.querySelector(y)!==null||l==="style"&&m.querySelector(Fh(N))||l==="script"&&m.querySelector(Uh(N))||(l=m.createElement("link"),Oa(l,"link",n),Nr(l),m.head.appendChild(l)))}}function ZS(n,l){Ho.m(n,l);var d=Zd;if(d&&n){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+ja(m)+'"][href="'+ja(n)+'"]',N=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=tu(n)}if(!Li.has(N)&&(n=g({rel:"modulepreload",href:n},l),Li.set(N,n),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Uh(N)))return}m=d.createElement("link"),Oa(m,"link",n),Nr(m),d.head.appendChild(m)}}}function eE(n,l,d){Ho.S(n,l,d);var m=Zd;if(m&&n){var y=gi(m).hoistableStyles,N=eu(n);l=l||"default";var V=y.get(N);if(!V){var ne={loading:0,preload:null};if(V=m.querySelector(Fh(N)))ne.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":l},d),(d=Li.get(N))&&Jp(n,d);var be=V=m.createElement("link");Nr(be),Oa(be,"link",n),be._p=new Promise(function(Me,$e){be.onload=Me,be.onerror=$e}),be.addEventListener("load",function(){ne.loading|=1}),be.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Um(V,l,m)}V={type:"stylesheet",instance:V,count:1,state:ne},y.set(N,V)}}}function tE(n,l){Ho.X(n,l);var d=Zd;if(d&&n){var m=gi(d).hoistableScripts,y=tu(n),N=m.get(y);N||(N=d.querySelector(Uh(y)),N||(n=g({src:n,async:!0},l),(l=Li.get(y))&&Zp(n,l),N=d.createElement("script"),Nr(N),Oa(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(y,N))}}function sE(n,l){Ho.M(n,l);var d=Zd;if(d&&n){var m=gi(d).hoistableScripts,y=tu(n),N=m.get(y);N||(N=d.querySelector(Uh(y)),N||(n=g({src:n,async:!0,type:"module"},l),(l=Li.get(y))&&Zp(n,l),N=d.createElement("script"),Nr(N),Oa(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(y,N))}}function ew(n,l,d,m){var y=(y=fe.current)?Fm(y):null;if(!y)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=eu(d.href),d=gi(y).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=eu(d.href);var N=gi(y).hoistableStyles,V=N.get(n);if(V||(y=y.ownerDocument||y,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,V),(N=y.querySelector(Fh(n)))&&!N._p&&(V.instance=N,V.state.loading=5),Li.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Li.set(n,d),N||rE(y,n,d,V.state))),l&&m===null)throw Error(a(528,""));return V}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=tu(d),d=gi(y).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function eu(n){return'href="'+ja(n)+'"'}function Fh(n){return'link[rel="stylesheet"]['+n+"]"}function tw(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function rE(n,l,d,m){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=n.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Oa(l,"link",d),Nr(l),n.head.appendChild(l))}function tu(n){return'[src="'+ja(n)+'"]'}function Uh(n){return"script[async]"+n}function sw(n,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=n.querySelector('style[data-href~="'+ja(d.href)+'"]');if(m)return l.instance=m,Nr(m),m;var y=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(n.ownerDocument||n).createElement("style"),Nr(m),Oa(m,"style",y),Um(m,d.precedence,n),l.instance=m;case"stylesheet":y=eu(d.href);var N=n.querySelector(Fh(y));if(N)return l.state.loading|=4,l.instance=N,Nr(N),N;m=tw(d),(y=Li.get(y))&&Jp(m,y),N=(n.ownerDocument||n).createElement("link"),Nr(N);var V=N;return V._p=new Promise(function(ne,be){V.onload=ne,V.onerror=be}),Oa(N,"link",m),l.state.loading|=4,Um(N,d.precedence,n),l.instance=N;case"script":return N=tu(d.src),(y=n.querySelector(Uh(N)))?(l.instance=y,Nr(y),y):(m=d,(y=Li.get(N))&&(m=g({},d),Zp(m,y)),n=n.ownerDocument||n,y=n.createElement("script"),Nr(y),Oa(y,"link",m),n.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Um(m,d.precedence,n));return l.instance}function Um(n,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,N=y,V=0;V<m.length;V++){var ne=m[V];if(ne.dataset.precedence===l)N=ne;else if(N!==y)break}N?N.parentNode.insertBefore(n,N.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(n,l.firstChild))}function Jp(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Zp(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var km=null;function rw(n,l,d){if(km===null){var m=new Map,y=km=new Map;y.set(d,m)}else y=km,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(n))return m;for(m.set(n,null),d=d.getElementsByTagName(n),y=0;y<d.length;y++){var N=d[y];if(!(N[Xn]||N[Ms]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(l)||"";V=n+V;var ne=m.get(V);ne?ne.push(N):m.set(V,[N])}}return m}function aw(n,l,d){n=n.ownerDocument||n,n.head.insertBefore(d,l==="title"?n.querySelector("head > title"):null)}function aE(n,l,d){if(d===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function nw(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function nE(n,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=eu(m.href),N=l.querySelector(Fh(y));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=Lm.bind(n),l.then(n,n)),d.state.loading|=4,d.instance=N,Nr(N);return}N=l.ownerDocument||l,m=tw(m),(y=Li.get(y))&&Jp(m,y),N=N.createElement("link"),Nr(N);var V=N;V._p=new Promise(function(ne,be){V.onload=ne,V.onerror=be}),Oa(N,"link",m),d.instance=N}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(n.count++,d=Lm.bind(n),l.addEventListener("load",d),l.addEventListener("error",d))}}var ex=0;function iE(n,l){return n.stylesheets&&n.count===0&&Tm(n,n.stylesheets),0<n.count||0<n.imgCount?function(d){var m=setTimeout(function(){if(n.stylesheets&&Tm(n,n.stylesheets),n.unsuspend){var N=n.unsuspend;n.unsuspend=null,N()}},6e4+l);0<n.imgBytes&&ex===0&&(ex=62500*OS());var y=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Tm(n,n.stylesheets),n.unsuspend)){var N=n.unsuspend;n.unsuspend=null,N()}},(n.imgBytes>ex?50:800)+l);return n.unsuspend=d,function(){n.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qm=null;function Tm(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qm=new Map,l.forEach(lE,n),Qm=null,Lm.call(n))}function lE(n,l){if(!(l.state.loading&4)){var d=Qm.get(n);if(d)var m=d.get(null);else{d=new Map,Qm.set(n,d);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<y.length;N++){var V=y[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(d.set(V.dataset.precedence,V),m=V)}m&&d.set(null,m)}y=l.instance,V=y.getAttribute("data-precedence"),N=d.get(V)||m,N===m&&d.set(null,y),d.set(V,y),this.count++,m=Lm.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),N?N.parentNode.insertBefore(y,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),l.state.loading|=4}}var kh={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function oE(n,l,d,m,y,N,V,ne,be){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.hiddenUpdates=Zr(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function iw(n,l,d,m,y,N,V,ne,be,Me,$e,et){return n=new oE(n,l,d,V,be,Me,$e,et,ne),l=1,N===!0&&(l|=24),N=Ca(3,null,null,l),n.current=N,N.stateNode=n,l=yA(),l.refCount++,n.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:d,cache:l},lt(N),n}function lw(n){return n?(n=da,n):da}function ow(n,l,d,m,y,N){y=lw(y),m.context===null?m.context=y:m.pendingContext=y,m=Mt(l),m.payload={element:d},N=N===void 0?null:N,N!==null&&(m.callback=N),d=Wt(n,m,l),d!==null&&(Pn(d,n,l),Es(d,n,l))}function Aw(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<l?d:l}}function tx(n,l){Aw(n,l),(n=n.alternate)&&Aw(n,l)}function cw(n){if(n.tag===13||n.tag===31){var l=cl(n,67108864);l!==null&&Pn(l,n,67108864),tx(n,67108864)}}function dw(n){if(n.tag===13||n.tag===31){var l=oi();l=rr(l);var d=cl(n,l);d!==null&&Pn(d,n,l),tx(n,l)}}var Dm=!0;function AE(n,l,d,m){var y=I.T;I.T=null;var N=G.p;try{G.p=2,sx(n,l,d,m)}finally{G.p=N,I.T=y}}function cE(n,l,d,m){var y=I.T;I.T=null;var N=G.p;try{G.p=8,sx(n,l,d,m)}finally{G.p=N,I.T=y}}function sx(n,l,d,m){if(Dm){var y=rx(m);if(y===null)Pp(n,l,m,Im,d),hw(n,m);else if(uE(y,n,l,d,m))m.stopPropagation();else if(hw(n,m),l&4&&-1<dE.indexOf(n)){for(;y!==null;){var N=Wn(y);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=Ct(N.pendingLanes);if(V!==0){var ne=N;for(ne.pendingLanes|=2,ne.entangledLanes|=2;V;){var be=1<<31-Tt(V);ne.entanglements[1]|=be,V&=~be}Yl(N),(Us&6)===0&&(bm=Je()+500,_h(0))}}break;case 31:case 13:ne=cl(N,2),ne!==null&&Pn(ne,N,2),vm(),tx(N,2)}if(N=rx(m),N===null&&Pp(n,l,m,Im,d),N===y)break;y=N}y!==null&&m.stopPropagation()}else Pp(n,l,m,null,d)}}function rx(n){return n=mo(n),ax(n)}var Im=null;function ax(n){if(Im=null,n=Yn(n),n!==null){var l=o(n);if(l===null)n=null;else{var d=l.tag;if(d===13){if(n=c(l),n!==null)return n;n=null}else if(d===31){if(n=A(l),n!==null)return n;n=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return Im=n,null}function uw(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case ht:return 2;case _t:return 8;case ct:case dt:return 32;case At:return 268435456;default:return 32}default:return 32}}var nx=!1,LA=null,QA=null,TA=null,Lh=new Map,Qh=new Map,DA=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(n,l){switch(n){case"focusin":case"focusout":LA=null;break;case"dragenter":case"dragleave":QA=null;break;case"mouseover":case"mouseout":TA=null;break;case"pointerover":case"pointerout":Lh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(l.pointerId)}}function Th(n,l,d,m,y,N){return n===null||n.nativeEvent!==N?(n={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},l!==null&&(l=Wn(l),l!==null&&cw(l)),n):(n.eventSystemFlags|=m,l=n.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),n)}function uE(n,l,d,m,y){switch(l){case"focusin":return LA=Th(LA,n,l,d,m,y),!0;case"dragenter":return QA=Th(QA,n,l,d,m,y),!0;case"mouseover":return TA=Th(TA,n,l,d,m,y),!0;case"pointerover":var N=y.pointerId;return Lh.set(N,Th(Lh.get(N)||null,n,l,d,m,y)),!0;case"gotpointercapture":return N=y.pointerId,Qh.set(N,Th(Qh.get(N)||null,n,l,d,m,y)),!0}return!1}function fw(n){var l=Yn(n.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){n.blockedOn=l,Fl(n.priority,function(){dw(d)});return}}else if(l===31){if(l=A(d),l!==null){n.blockedOn=l,Fl(n.priority,function(){dw(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mm(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var d=rx(n.nativeEvent);if(d===null){d=n.nativeEvent;var m=new d.constructor(d.type,d);Wi=m,d.target.dispatchEvent(m),Wi=null}else return l=Wn(d),l!==null&&cw(l),n.blockedOn=d,!1;l.shift()}return!0}function mw(n,l,d){Mm(n)&&d.delete(l)}function hE(){nx=!1,LA!==null&&Mm(LA)&&(LA=null),QA!==null&&Mm(QA)&&(QA=null),TA!==null&&Mm(TA)&&(TA=null),Lh.forEach(mw),Qh.forEach(mw)}function Rm(n,l){n.blockedOn===l&&(n.blockedOn=null,nx||(nx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hE)))}var Om=null;function gw(n){Om!==n&&(Om=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Om===n&&(Om=null);for(var l=0;l<n.length;l+=3){var d=n[l],m=n[l+1],y=n[l+2];if(typeof m!="function"){if(ax(m||d)===null)continue;break}var N=Wn(d);N!==null&&(n.splice(l,3),l-=3,rp(N,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function su(n){function l(be){return Rm(be,n)}LA!==null&&Rm(LA,n),QA!==null&&Rm(QA,n),TA!==null&&Rm(TA,n),Lh.forEach(l),Qh.forEach(l);for(var d=0;d<DA.length;d++){var m=DA[d];m.blockedOn===n&&(m.blockedOn=null)}for(;0<DA.length&&(d=DA[0],d.blockedOn===null);)fw(d),d.blockedOn===null&&DA.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],N=d[m+1],V=y[nr]||null;if(typeof N=="function")V||gw(d);else if(V){var ne=null;if(N&&N.hasAttribute("formAction")){if(y=N,V=N[nr]||null)ne=V.formAction;else if(ax(y)!==null)continue}else ne=V.action;typeof ne=="function"?d[m+1]=ne:(d.splice(m,3),m-=3),gw(d)}}}function pw(){function n(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return y=V})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function ix(n){this._internalRoot=n}Hm.prototype.render=ix.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(a(409));var d=l.current,m=oi();ow(d,m,n,l,null,null)},Hm.prototype.unmount=ix.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;ow(n.current,2,null,n,null,null),vm(),l[Na]=null}};function Hm(n){this._internalRoot=n}Hm.prototype.unstable_scheduleHydration=function(n){if(n){var l=ea();n={blockedOn:null,target:n,priority:l};for(var d=0;d<DA.length&&l!==0&&l<DA[d].priority;d++);DA.splice(d,0,n),d===0&&fw(n)}};var xw=s.version;if(xw!=="19.2.0")throw Error(a(527,xw,"19.2.0"));G.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(l),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var fE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{Qt=Pm.inject(fE),rt=Pm}catch{}}return Ih.createRoot=function(n,l){if(!i(n))throw Error(a(299));var d=!1,m="",y=Bv,N=_v,V=Cv;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(V=l.onRecoverableError)),l=iw(n,1,!1,null,null,d,m,null,y,N,V,pw),n[Na]=l.current,Hp(n),new ix(l)},Ih.hydrateRoot=function(n,l,d){if(!i(n))throw Error(a(299));var m=!1,y="",N=Bv,V=_v,ne=Cv,be=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(V=d.onCaughtError),d.onRecoverableError!==void 0&&(ne=d.onRecoverableError),d.formState!==void 0&&(be=d.formState)),l=iw(n,1,!0,l,d??null,m,y,be,N,V,ne,pw),l.context=lw(null),d=l.current,m=oi(),m=rr(m),y=Mt(m),y.callback=null,Wt(d,y,m),d=m,l.current.lanes=d,Et(l,d),Yl(l),n[Na]=l.current,Hp(n),new Hm(l)},Ih.version="19.2.0",Ih}var Sw;function jE(){if(Sw)return Ax.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Ax.exports=NE(),Ax.exports}var BE=jE();const _E=n4(BE);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ew="popstate";function CE(t={}){function s(a,i){let{pathname:o,search:c,hash:A}=a.location;return Qb("",{pathname:o,search:c,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:yf(i)}return EE(s,r,null,t)}function vr(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function wl(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function SE(){return Math.random().toString(36).substring(2,10)}function Fw(t,s){return{usr:t.state,key:t.key,idx:s}}function Qb(t,s,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?Vu(s):s,state:r,key:s&&s.key||a||SE()}}function yf({pathname:t="/",search:s="",hash:r=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vu(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substring(a),t=t.substring(0,a)),t&&(s.pathname=t)}return s}function EE(t,s,r,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,c=i.history,A="POP",u=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function g(){A="POP";let j=f(),_=j==null?null:j-h;h=j,u&&u({action:A,location:B.location,delta:_})}function b(j,_){A="PUSH";let Q=Qb(B.location,j,_);h=f()+1;let E=Fw(Q,h),T=B.createHref(Q);try{c.pushState(E,"",T)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(T)}o&&u&&u({action:A,location:B.location,delta:1})}function x(j,_){A="REPLACE";let Q=Qb(B.location,j,_);h=f();let E=Fw(Q,h),T=B.createHref(Q);c.replaceState(E,"",T),o&&u&&u({action:A,location:B.location,delta:0})}function w(j){return FE(j)}let B={get action(){return A},get location(){return t(i,c)},listen(j){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ew,g),u=j,()=>{i.removeEventListener(Ew,g),u=null}},createHref(j){return s(i,j)},createURL:w,encodeLocation(j){let _=w(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:x,go(j){return c.go(j)}};return B}function FE(t,s=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),vr(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:yf(t);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function i4(t,s,r="/"){return UE(t,s,r,!1)}function UE(t,s,r,a){let i=typeof s=="string"?Vu(s):s,o=Jo(i.pathname||"/",r);if(o==null)return null;let c=l4(t);kE(c);let A=null;for(let u=0;A==null&&u<c.length;++u){let h=VE(o);A=HE(c[u],h,a)}return A}function l4(t,s=[],r=[],a=""){let i=(o,c,A)=>{let u={relativePath:A===void 0?o.path||"":A,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};u.relativePath.startsWith("/")&&(vr(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length));let h=Yo([a,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(vr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),l4(o.children,s,f,h)),!(o.path==null&&!o.index)&&s.push({path:h,score:RE(h,o.index),routesMeta:f})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let A of o4(o.path))i(o,c,A)}),s}function o4(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let c=o4(a.join("/")),A=[];return A.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&A.push(...c),A.map(u=>t.startsWith("/")&&u===""?"/":u)}function kE(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:OE(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var LE=/^:[\w-]+$/,QE=3,TE=2,DE=1,IE=10,ME=-2,Uw=t=>t==="*";function RE(t,s){let r=t.split("/"),a=r.length;return r.some(Uw)&&(a+=ME),s&&(a+=TE),r.filter(i=>!Uw(i)).reduce((i,o)=>i+(LE.test(o)?QE:o===""?DE:IE),a)}function OE(t,s){return t.length===s.length&&t.slice(0,-1).every((a,i)=>a===s[i])?t[t.length-1]-s[s.length-1]:0}function HE(t,s,r=!1){let{routesMeta:a}=t,i={},o="/",c=[];for(let A=0;A<a.length;++A){let u=a[A],h=A===a.length-1,f=o==="/"?s:s.slice(o.length)||"/",g=Y0({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),b=u.route;if(!g&&h&&r&&!a[a.length-1].route.index&&(g=Y0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Yo([o,g.pathname]),pathnameBase:qE(Yo([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Yo([o,g.pathnameBase]))}return c}function Y0(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=PE(t.path,t.caseSensitive,t.end),i=s.match(r);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),A=i.slice(1);return{params:a.reduce((h,{paramName:f,isOptional:g},b)=>{if(f==="*"){let w=A[b]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=A[b];return g&&!x?h[f]=void 0:h[f]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:t}}function PE(t,s=!1,r=!0){wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,A,u)=>(a.push({paramName:A,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),a]}function VE(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return wl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Jo(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}function zE(t,s="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?Vu(t):t;return{pathname:r?r.startsWith("/")?r:KE(r,s):s,search:$E(a),hash:XE(i)}}function KE(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function hx(t,s,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GE(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Wy(t){let s=GE(t);return s.map((r,a)=>a===s.length-1?r.pathname:r.pathnameBase)}function Jy(t,s,r,a=!1){let i;typeof t=="string"?i=Vu(t):(i={...t},vr(!i.pathname||!i.pathname.includes("?"),hx("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),hx("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),hx("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,A;if(c==null)A=r;else{let g=s.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}A=g>=0?s[g]:"/"}let u=zE(i,A),h=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Yo=t=>t.join("/").replace(/\/\/+/g,"/"),qE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$E=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,XE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var A4=["POST","PUT","PATCH","DELETE"];new Set(A4);var WE=["GET",...A4];new Set(WE);var zu=S.createContext(null);zu.displayName="DataRouter";var Ng=S.createContext(null);Ng.displayName="DataRouterState";S.createContext(!1);var c4=S.createContext({isTransitioning:!1});c4.displayName="ViewTransition";var JE=S.createContext(new Map);JE.displayName="Fetchers";var ZE=S.createContext(null);ZE.displayName="Await";var Bl=S.createContext(null);Bl.displayName="Navigation";var Tf=S.createContext(null);Tf.displayName="Location";var Ki=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var Zy=S.createContext(null);Zy.displayName="RouteError";function eF(t,{relative:s}={}){vr(Ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=S.useContext(Bl),{hash:i,pathname:o,search:c}=Df(t,{relative:s}),A=o;return r!=="/"&&(A=o==="/"?r:Yo([r,o])),a.createHref({pathname:A,search:c,hash:i})}function Ku(){return S.useContext(Tf)!=null}function Ur(){return vr(Ku(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Tf).location}var d4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u4(t){S.useContext(Bl).static||S.useLayoutEffect(t)}function Js(){let{isDataRoute:t}=S.useContext(Ki);return t?mF():tF()}function tF(){vr(Ku(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(zu),{basename:s,navigator:r}=S.useContext(Bl),{matches:a}=S.useContext(Ki),{pathname:i}=Ur(),o=JSON.stringify(Wy(a)),c=S.useRef(!1);return u4(()=>{c.current=!0}),S.useCallback((u,h={})=>{if(wl(c.current,d4),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=Jy(u,JSON.parse(o),i,h.relative==="path");t==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:Yo([s,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[s,r,o,i,t])}var sF=S.createContext(null);function rF(t){let s=S.useContext(Ki).outlet;return s&&S.createElement(sF.Provider,{value:t},s)}function h4(){let{matches:t}=S.useContext(Ki),s=t[t.length-1];return s?s.params:{}}function Df(t,{relative:s}={}){let{matches:r}=S.useContext(Ki),{pathname:a}=Ur(),i=JSON.stringify(Wy(r));return S.useMemo(()=>Jy(t,JSON.parse(i),a,s==="path"),[t,i,a,s])}function aF(t,s){return f4(t,s)}function f4(t,s,r,a){vr(Ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Bl),{matches:o}=S.useContext(Ki),c=o[o.length-1],A=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",f=c&&c.route;{let _=f&&f.path||"";m4(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Ur(),b;if(s){let _=typeof s=="string"?Vu(s):s;vr(h==="/"||_.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=g;let x=b.pathname||"/",w=x;if(h!=="/"){let _=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(_.length).join("/")}let B=i4(t,{pathname:w});wl(f||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wl(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=AF(B&&B.map(_=>Object.assign({},_,{params:Object.assign({},A,_.params),pathname:Yo([h,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:Yo([h,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,r,a);return s&&j?S.createElement(Tf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},j):j}function nF(){let t=fF(),s=YE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},s),r?S.createElement("pre",{style:i},r):null,c)}var iF=S.createElement(nF,null),lF=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?S.createElement(Ki.Provider,{value:this.props.routeContext},S.createElement(Zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oF({routeContext:t,match:s,children:r}){let a=S.useContext(zu);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),S.createElement(Ki.Provider,{value:t},r)}function AF(t,s=[],r=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);vr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,A=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(A=u),h.route.id){let{loaderData:f,errors:g}=r,b=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,A>=0?i=i.slice(0,A+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let g,b=!1,x=null,w=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||iF,c&&(A<0&&f===0?(m4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):A===f&&(b=!0,w=h.route.hydrateFallbackElement||null)));let B=s.concat(i.slice(0,f+1)),j=()=>{let _;return g?_=x:b?_=w:h.route.Component?_=S.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,S.createElement(oF,{match:h,routeContext:{outlet:u,matches:B,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(lF,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):j()},null)}function e1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cF(t){let s=S.useContext(zu);return vr(s,e1(t)),s}function dF(t){let s=S.useContext(Ng);return vr(s,e1(t)),s}function uF(t){let s=S.useContext(Ki);return vr(s,e1(t)),s}function t1(t){let s=uF(t),r=s.matches[s.matches.length-1];return vr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function hF(){return t1("useRouteId")}function fF(){let t=S.useContext(Zy),s=dF("useRouteError"),r=t1("useRouteError");return t!==void 0?t:s.errors?.[r]}function mF(){let{router:t}=cF("useNavigate"),s=t1("useNavigate"),r=S.useRef(!1);return u4(()=>{r.current=!0}),S.useCallback(async(i,o={})=>{wl(r.current,d4),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:s,...o}))},[t,s])}var kw={};function m4(t,s,r){!s&&!kw[t]&&(kw[t]=!0,wl(!1,r))}S.memo(gF);function gF({routes:t,future:s,state:r}){return f4(t,void 0,r,s)}function vf({to:t,replace:s,state:r,relative:a}){vr(Ku(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Bl);wl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=S.useContext(Ki),{pathname:c}=Ur(),A=Js(),u=Jy(t,Wy(o),c,a==="path"),h=JSON.stringify(u);return S.useEffect(()=>{A(JSON.parse(h),{replace:s,state:r,relative:a})},[A,h,a,s,r]),null}function pF(t){return rF(t.context)}function _s(t){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xF({basename:t="/",children:s=null,location:r,navigationType:a="POP",navigator:i,static:o=!1}){vr(!Ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),A=S.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof r=="string"&&(r=Vu(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:b="default"}=r,x=S.useMemo(()=>{let w=Jo(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:b},navigationType:a}},[c,u,h,f,g,b,a]);return wl(x!=null,`<Router basename="${c}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Bl.Provider,{value:A},S.createElement(Tf.Provider,{children:s,value:x}))}function bF({children:t,location:s}){return aF(Tb(t),s)}function Tb(t,s=[]){let r=[];return S.Children.forEach(t,(a,i)=>{if(!S.isValidElement(a))return;let o=[...s,i];if(a.type===S.Fragment){r.push.apply(r,Tb(a.props.children,o));return}vr(a.type===_s,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Tb(a.props.children,o)),r.push(c)}),r}var L0="get",Q0="application/x-www-form-urlencoded";function jg(t){return t!=null&&typeof t.tagName=="string"}function yF(t){return jg(t)&&t.tagName.toLowerCase()==="button"}function vF(t){return jg(t)&&t.tagName.toLowerCase()==="form"}function wF(t){return jg(t)&&t.tagName.toLowerCase()==="input"}function NF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jF(t,s){return t.button===0&&(!s||s==="_self")&&!NF(t)}var Vm=null;function BF(){if(Vm===null)try{new FormData(document.createElement("form"),0),Vm=!1}catch{Vm=!0}return Vm}var _F=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fx(t){return t!=null&&!_F.has(t)?(wl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Q0}"`),null):t}function CF(t,s){let r,a,i,o,c;if(vF(t)){let A=t.getAttribute("action");a=A?Jo(A,s):null,r=t.getAttribute("method")||L0,i=fx(t.getAttribute("enctype"))||Q0,o=new FormData(t)}else if(yF(t)||wF(t)&&(t.type==="submit"||t.type==="image")){let A=t.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||A.getAttribute("action");if(a=u?Jo(u,s):null,r=t.getAttribute("formmethod")||A.getAttribute("method")||L0,i=fx(t.getAttribute("formenctype"))||fx(A.getAttribute("enctype"))||Q0,o=new FormData(A,t),!BF()){let{name:h,type:f,value:g}=t;if(f==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,g)}}else{if(jg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=L0,a=null,i=Q0,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s1(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function SF(t,s,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:s&&Jo(a.pathname,s)==="/"?a.pathname=`${s.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function EF(t,s){if(t.id in s)return s[t.id];try{let r=await import(t.module);return s[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function UF(t,s,r){let a=await Promise.all(t.map(async i=>{let o=s.routes[i.route.id];if(o){let c=await EF(o,r);return c.links?c.links():[]}return[]}));return TF(a.flat(1).filter(FF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lw(t,s,r,a,i,o){let c=(u,h)=>r[h]?u.route.id!==r[h].route.id:!0,A=(u,h)=>r[h].pathname!==u.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==u.params["*"];return o==="assets"?s.filter((u,h)=>c(u,h)||A(u,h)):o==="data"?s.filter((u,h)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(c(u,h)||A(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function kF(t,s,{includeHydrateFallback:r}={}){return LF(t.map(a=>{let i=s.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function LF(t){return[...new Set(t)]}function QF(t){let s={},r=Object.keys(t).sort();for(let a of r)s[a]=t[a];return s}function TF(t,s){let r=new Set;return new Set(s),t.reduce((a,i)=>{let o=JSON.stringify(QF(i));return r.has(o)||(r.add(o),a.push({key:o,link:i})),a},[])}function g4(){let t=S.useContext(zu);return s1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DF(){let t=S.useContext(Ng);return s1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var r1=S.createContext(void 0);r1.displayName="FrameworkContext";function p4(){let t=S.useContext(r1);return s1(t,"You must render this element inside a <HydratedRouter> element"),t}function IF(t,s){let r=S.useContext(r1),[a,i]=S.useState(!1),[o,c]=S.useState(!1),{onFocus:A,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=s,b=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let B=_=>{_.forEach(Q=>{c(Q.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[t]),S.useEffect(()=>{if(a){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Mh(A,x),onBlur:Mh(u,w),onMouseEnter:Mh(h,x),onMouseLeave:Mh(f,w),onTouchStart:Mh(g,x)}]:[!1,b,{}]}function Mh(t,s){return r=>{t&&t(r),r.defaultPrevented||s(r)}}function MF({page:t,...s}){let{router:r}=g4(),a=S.useMemo(()=>i4(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?S.createElement(OF,{page:t,matches:a,...s}):null}function RF(t){let{manifest:s,routeModules:r}=p4(),[a,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return UF(t,s,r).then(c=>{o||i(c)}),()=>{o=!0}},[t,s,r]),a}function OF({page:t,matches:s,...r}){let a=Ur(),{manifest:i,routeModules:o}=p4(),{basename:c}=g4(),{loaderData:A,matches:u}=DF(),h=S.useMemo(()=>Lw(t,s,u,i,a,"data"),[t,s,u,i,a]),f=S.useMemo(()=>Lw(t,s,u,i,a,"assets"),[t,s,u,i,a]),g=S.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,B=!1;if(s.forEach(_=>{let Q=i.routes[_.route.id];!Q||!Q.hasLoader||(!h.some(E=>E.route.id===_.route.id)&&_.route.id in A&&o[_.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:w.add(_.route.id))}),w.size===0)return[];let j=SF(t,c,"data");return B&&w.size>0&&j.searchParams.set("_routes",s.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[j.pathname+j.search]},[c,A,a,i,h,s,t,o]),b=S.useMemo(()=>kF(f,i),[f,i]),x=RF(f);return S.createElement(S.Fragment,null,g.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:B})=>S.createElement("link",{key:w,nonce:r.nonce,...B})))}function HF(...t){return s=>{t.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}var x4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x4&&(window.__reactRouterVersion="7.8.0")}catch{}function PF({basename:t,children:s,window:r}){let a=S.useRef();a.current==null&&(a.current=CE({window:r,v5Compat:!0}));let i=a.current,[o,c]=S.useState({action:i.action,location:i.location}),A=S.useCallback(u=>{S.startTransition(()=>c(u))},[c]);return S.useLayoutEffect(()=>i.listen(A),[i,A]),S.createElement(xF,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:i})}var b4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qu=S.forwardRef(function({onClick:s,discover:r="render",prefetch:a="none",relative:i,reloadDocument:o,replace:c,state:A,target:u,to:h,preventScrollReset:f,viewTransition:g,...b},x){let{basename:w}=S.useContext(Bl),B=typeof h=="string"&&b4.test(h),j,_=!1;if(typeof h=="string"&&B&&(j=h,x4))try{let z=new URL(window.location.href),$=h.startsWith("//")?new URL(z.protocol+h):new URL(h),D=Jo($.pathname,w);$.origin===z.origin&&D!=null?h=D+$.search+$.hash:_=!0}catch{wl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=eF(h,{relative:i}),[E,T,U]=IF(a,b),k=GF(h,{replace:c,state:A,target:u,preventScrollReset:f,relative:i,viewTransition:g});function q(z){s&&s(z),z.defaultPrevented||k(z)}let K=S.createElement("a",{...b,...U,href:j||Q,onClick:_||o?s:q,ref:HF(x,T),target:u,"data-discover":!B&&r==="render"?"true":void 0});return E&&!B?S.createElement(S.Fragment,null,K,S.createElement(MF,{page:Q})):K});Qu.displayName="Link";var VF=S.forwardRef(function({"aria-current":s="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:A,children:u,...h},f){let g=Df(c,{relative:h.relative}),b=Ur(),x=S.useContext(Ng),{navigator:w,basename:B}=S.useContext(Bl),j=x!=null&&WF(g)&&A===!0,_=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,Q=b.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&B&&(E=Jo(E,B)||E);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let U=Q===_||!i&&Q.startsWith(_)&&Q.charAt(T)==="/",k=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),q={isActive:U,isPending:k,isTransitioning:j},K=U?s:void 0,z;typeof a=="function"?z=a(q):z=[a,U?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(q):o;return S.createElement(Qu,{...h,"aria-current":K,className:z,ref:f,style:$,to:c,viewTransition:A},typeof u=="function"?u(q):u)});VF.displayName="NavLink";var zF=S.forwardRef(({discover:t="render",fetcherKey:s,navigate:r,reloadDocument:a,replace:i,state:o,method:c=L0,action:A,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:g,...b},x)=>{let w=XF(),B=YF(A,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",_=typeof A=="string"&&b4.test(A),Q=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,U=T?.getAttribute("formmethod")||c;w(T||E.currentTarget,{fetcherKey:s,method:U,navigate:r,replace:i,state:o,relative:h,preventScrollReset:f,viewTransition:g})};return S.createElement("form",{ref:x,method:j,action:B,onSubmit:a?u:Q,...b,"data-discover":!_&&t==="render"?"true":void 0})});zF.displayName="Form";function KF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y4(t){let s=S.useContext(zu);return vr(s,KF(t)),s}function GF(t,{target:s,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:c}={}){let A=Js(),u=Ur(),h=Df(t,{relative:o});return S.useCallback(f=>{if(jF(f,s)){f.preventDefault();let g=r!==void 0?r:yf(u)===yf(h);A(t,{replace:g,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[u,A,h,r,a,s,t,i,o,c])}var qF=0,$F=()=>`__${String(++qF)}__`;function XF(){let{router:t}=y4("useSubmit"),{basename:s}=S.useContext(Bl),r=hF();return S.useCallback(async(a,i={})=>{let{action:o,method:c,encType:A,formData:u,body:h}=CF(a,s);if(i.navigate===!1){let f=i.fetcherKey||$F();await t.fetch(f,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||A,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||A,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,s,r])}function YF(t,{relative:s}={}){let{basename:r}=S.useContext(Bl),a=S.useContext(Ki);vr(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...Df(t||".",{relative:s})},c=Ur();if(t==null){o.search=c.search;let A=new URLSearchParams(o.search),u=A.getAll("index");if(u.some(f=>f==="")){A.delete("index"),u.filter(g=>g).forEach(g=>A.append("index",g));let f=A.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Yo([r,o.pathname])),yf(o)}function WF(t,{relative:s}={}){let r=S.useContext(c4);vr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=y4("useViewTransitionState"),i=Df(t,{relative:s});if(!r.isTransitioning)return!1;let o=Jo(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Jo(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Y0(i.pathname,c)!=null||Y0(i.pathname,o)!=null}function v4(t,s){return function(){return t.apply(s,arguments)}}const{toString:JF}=Object.prototype,{getPrototypeOf:a1}=Object,{iterator:Bg,toStringTag:w4}=Symbol,_g=(t=>s=>{const r=JF.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_l=t=>(t=t.toLowerCase(),s=>_g(s)===t),Cg=t=>s=>typeof s===t,{isArray:Gu}=Array,Tu=Cg("undefined");function If(t){return t!==null&&!Tu(t)&&t.constructor!==null&&!Tu(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const N4=_l("ArrayBuffer");function ZF(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&N4(t.buffer),s}const eU=Cg("string"),Kn=Cg("function"),j4=Cg("number"),Mf=t=>t!==null&&typeof t=="object",tU=t=>t===!0||t===!1,T0=t=>{if(_g(t)!=="object")return!1;const s=a1(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(w4 in t)&&!(Bg in t)},sU=t=>{if(!Mf(t)||If(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},rU=_l("Date"),aU=_l("File"),nU=_l("Blob"),iU=_l("FileList"),lU=t=>Mf(t)&&Kn(t.pipe),oU=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((s=_g(t))==="formdata"||s==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},AU=_l("URLSearchParams"),[cU,dU,uU,hU]=["ReadableStream","Request","Response","Headers"].map(_l),fU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rf(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Gu(t))for(a=0,i=t.length;a<i;a++)s.call(null,t[a],a,t);else{if(If(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let A;for(a=0;a<c;a++)A=o[a],s.call(null,t[A],A,t)}}function B4(t,s){if(If(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,i;for(;a-- >0;)if(i=r[a],s===i.toLowerCase())return i;return null}const zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_4=t=>!Tu(t)&&t!==zc;function Db(){const{caseless:t,skipUndefined:s}=_4(this)&&this||{},r={},a=(i,o)=>{const c=t&&B4(r,o)||o;T0(r[c])&&T0(i)?r[c]=Db(r[c],i):T0(i)?r[c]=Db({},i):Gu(i)?r[c]=i.slice():(!s||!Tu(i))&&(r[c]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Rf(arguments[i],a);return r}const mU=(t,s,r,{allOwnKeys:a}={})=>(Rf(s,(i,o)=>{r&&Kn(i)?t[o]=v4(i,r):t[o]=i},{allOwnKeys:a}),t),gU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pU=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},xU=(t,s,r,a)=>{let i,o,c;const A={};if(s=s||{},t==null)return s;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)c=i[o],(!a||a(c,t,s))&&!A[c]&&(s[c]=t[c],A[c]=!0);t=r!==!1&&a1(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},bU=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},yU=t=>{if(!t)return null;if(Gu(t))return t;let s=t.length;if(!j4(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},vU=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&a1(Uint8Array)),wU=(t,s)=>{const a=(t&&t[Bg]).call(t);let i;for(;(i=a.next())&&!i.done;){const o=i.value;s.call(t,o[0],o[1])}},NU=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},jU=_l("HTMLFormElement"),BU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),Qw=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),_U=_l("RegExp"),C4=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};Rf(r,(i,o)=>{let c;(c=s(i,o,t))!==!1&&(a[o]=c||i)}),Object.defineProperties(t,a)},CU=t=>{C4(t,(s,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Kn(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},SU=(t,s)=>{const r={},a=i=>{i.forEach(o=>{r[o]=!0})};return Gu(t)?a(t):a(String(t).split(s)),r},EU=()=>{},FU=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function UU(t){return!!(t&&Kn(t.append)&&t[w4]==="FormData"&&t[Bg])}const kU=t=>{const s=new Array(10),r=(a,i)=>{if(Mf(a)){if(s.indexOf(a)>=0)return;if(If(a))return a;if(!("toJSON"in a)){s[i]=a;const o=Gu(a)?[]:{};return Rf(a,(c,A)=>{const u=r(c,i+1);!Tu(u)&&(o[A]=u)}),s[i]=void 0,o}}return a};return r(t,0)},LU=_l("AsyncFunction"),QU=t=>t&&(Mf(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),S4=((t,s)=>t?setImmediate:s?((r,a)=>(zc.addEventListener("message",({source:i,data:o})=>{i===zc&&o===r&&a.length&&a.shift()()},!1),i=>{a.push(i),zc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kn(zc.postMessage)),TU=typeof queueMicrotask<"u"?queueMicrotask.bind(zc):typeof process<"u"&&process.nextTick||S4,DU=t=>t!=null&&Kn(t[Bg]),He={isArray:Gu,isArrayBuffer:N4,isBuffer:If,isFormData:oU,isArrayBufferView:ZF,isString:eU,isNumber:j4,isBoolean:tU,isObject:Mf,isPlainObject:T0,isEmptyObject:sU,isReadableStream:cU,isRequest:dU,isResponse:uU,isHeaders:hU,isUndefined:Tu,isDate:rU,isFile:aU,isBlob:nU,isRegExp:_U,isFunction:Kn,isStream:lU,isURLSearchParams:AU,isTypedArray:vU,isFileList:iU,forEach:Rf,merge:Db,extend:mU,trim:fU,stripBOM:gU,inherits:pU,toFlatObject:xU,kindOf:_g,kindOfTest:_l,endsWith:bU,toArray:yU,forEachEntry:wU,matchAll:NU,isHTMLForm:jU,hasOwnProperty:Qw,hasOwnProp:Qw,reduceDescriptors:C4,freezeMethods:CU,toObjectSet:SU,toCamelCase:BU,noop:EU,toFiniteNumber:FU,findKey:B4,global:zc,isContextDefined:_4,isSpecCompliantForm:UU,toJSONObject:kU,isAsyncFn:LU,isThenable:QU,setImmediate:S4,asap:TU,isIterable:DU};function Jt(t,s,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}He.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:He.toJSONObject(this.config),code:this.code,status:this.status}}});const E4=Jt.prototype,F4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{F4[t]={value:t}});Object.defineProperties(Jt,F4);Object.defineProperty(E4,"isAxiosError",{value:!0});Jt.from=(t,s,r,a,i,o)=>{const c=Object.create(E4);He.toFlatObject(t,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const A=t&&t.message?t.message:"Error",u=s==null&&t?t.code:s;return Jt.call(c,A,u,r,a,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",o&&Object.assign(c,o),c};const IU=null;function Ib(t){return He.isPlainObject(t)||He.isArray(t)}function U4(t){return He.endsWith(t,"[]")?t.slice(0,-2):t}function Tw(t,s,r){return t?t.concat(s).map(function(i,o){return i=U4(i),!r&&o?"["+i+"]":i}).join(r?".":""):s}function MU(t){return He.isArray(t)&&!t.some(Ib)}const RU=He.toFlatObject(He,{},null,function(s){return/^is[A-Z]/.test(s)});function Sg(t,s,r){if(!He.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=He.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,j){return!He.isUndefined(j[B])});const a=r.metaTokens,i=r.visitor||f,o=r.dots,c=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&He.isSpecCompliantForm(s);if(!He.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(He.isDate(w))return w.toISOString();if(He.isBoolean(w))return w.toString();if(!u&&He.isBlob(w))throw new Jt("Blob is not supported. Use a Buffer instead.");return He.isArrayBuffer(w)||He.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,B,j){let _=w;if(w&&!j&&typeof w=="object"){if(He.endsWith(B,"{}"))B=a?B:B.slice(0,-2),w=JSON.stringify(w);else if(He.isArray(w)&&MU(w)||(He.isFileList(w)||He.endsWith(B,"[]"))&&(_=He.toArray(w)))return B=U4(B),_.forEach(function(E,T){!(He.isUndefined(E)||E===null)&&s.append(c===!0?Tw([B],T,o):c===null?B:B+"[]",h(E))}),!1}return Ib(w)?!0:(s.append(Tw(j,B,o),h(w)),!1)}const g=[],b=Object.assign(RU,{defaultVisitor:f,convertValue:h,isVisitable:Ib});function x(w,B){if(!He.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+B.join("."));g.push(w),He.forEach(w,function(_,Q){(!(He.isUndefined(_)||_===null)&&i.call(s,_,He.isString(Q)?Q.trim():Q,B,b))===!0&&x(_,B?B.concat(Q):[Q])}),g.pop()}}if(!He.isObject(t))throw new TypeError("data must be an object");return x(t),s}function Dw(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function n1(t,s){this._pairs=[],t&&Sg(t,this,s)}const k4=n1.prototype;k4.append=function(s,r){this._pairs.push([s,r])};k4.toString=function(s){const r=s?function(a){return s.call(this,a,Dw)}:Dw;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function OU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function L4(t,s,r){if(!s)return t;const a=r&&r.encode||OU;He.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(s,r):o=He.isURLSearchParams(s)?s.toString():new n1(s,r).toString(a),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Iw{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){He.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Q4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HU=typeof URLSearchParams<"u"?URLSearchParams:n1,PU=typeof FormData<"u"?FormData:null,VU=typeof Blob<"u"?Blob:null,zU={isBrowser:!0,classes:{URLSearchParams:HU,FormData:PU,Blob:VU},protocols:["http","https","file","blob","url","data"]},i1=typeof window<"u"&&typeof document<"u",Mb=typeof navigator=="object"&&navigator||void 0,KU=i1&&(!Mb||["ReactNative","NativeScript","NS"].indexOf(Mb.product)<0),GU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qU=i1&&window.location.href||"http://localhost",$U=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i1,hasStandardBrowserEnv:KU,hasStandardBrowserWebWorkerEnv:GU,navigator:Mb,origin:qU},Symbol.toStringTag,{value:"Module"})),rn={...$U,...zU};function XU(t,s){return Sg(t,new rn.classes.URLSearchParams,{visitor:function(r,a,i,o){return rn.isNode&&He.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function YU(t){return He.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function WU(t){const s={},r=Object.keys(t);let a;const i=r.length;let o;for(a=0;a<i;a++)o=r[a],s[o]=t[o];return s}function T4(t){function s(r,a,i,o){let c=r[o++];if(c==="__proto__")return!0;const A=Number.isFinite(+c),u=o>=r.length;return c=!c&&He.isArray(i)?i.length:c,u?(He.hasOwnProp(i,c)?i[c]=[i[c],a]:i[c]=a,!A):((!i[c]||!He.isObject(i[c]))&&(i[c]=[]),s(r,a,i[c],o)&&He.isArray(i[c])&&(i[c]=WU(i[c])),!A)}if(He.isFormData(t)&&He.isFunction(t.entries)){const r={};return He.forEachEntry(t,(a,i)=>{s(YU(a),i,r,0)}),r}return null}function JU(t,s,r){if(He.isString(t))try{return(s||JSON.parse)(t),He.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Of={transitional:Q4,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,o=He.isObject(s);if(o&&He.isHTMLForm(s)&&(s=new FormData(s)),He.isFormData(s))return i?JSON.stringify(T4(s)):s;if(He.isArrayBuffer(s)||He.isBuffer(s)||He.isStream(s)||He.isFile(s)||He.isBlob(s)||He.isReadableStream(s))return s;if(He.isArrayBufferView(s))return s.buffer;if(He.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let A;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return XU(s,this.formSerializer).toString();if((A=He.isFileList(s))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Sg(A?{"files[]":s}:s,u&&new u,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),JU(s)):s}],transformResponse:[function(s){const r=this.transitional||Of.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(He.isResponse(s)||He.isReadableStream(s))return s;if(s&&He.isString(s)&&(a&&!this.responseType||i)){const c=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(s,this.parseReviver)}catch(A){if(c)throw A.name==="SyntaxError"?Jt.from(A,Jt.ERR_BAD_RESPONSE,this,null,this.response):A}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};He.forEach(["delete","get","head","post","put","patch"],t=>{Of.headers[t]={}});const ZU=He.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e8=t=>{const s={};let r,a,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),r=c.substring(0,i).trim().toLowerCase(),a=c.substring(i+1).trim(),!(!r||s[r]&&ZU[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Mw=Symbol("internals");function Rh(t){return t&&String(t).trim().toLowerCase()}function D0(t){return t===!1||t==null?t:He.isArray(t)?t.map(D0):String(t)}function t8(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const s8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mx(t,s,r,a,i){if(He.isFunction(a))return a.call(this,s,r);if(i&&(s=r),!!He.isString(s)){if(He.isString(a))return s.indexOf(a)!==-1;if(He.isRegExp(a))return a.test(s)}}function r8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function a8(t,s){const r=He.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(i,o,c){return this[a].call(this,s,i,o,c)},configurable:!0})})}let Gn=class{constructor(s){s&&this.set(s)}set(s,r,a){const i=this;function o(A,u,h){const f=Rh(u);if(!f)throw new Error("header name must be a non-empty string");const g=He.findKey(i,f);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||u]=D0(A))}const c=(A,u)=>He.forEach(A,(h,f)=>o(h,f,u));if(He.isPlainObject(s)||s instanceof this.constructor)c(s,r);else if(He.isString(s)&&(s=s.trim())&&!s8(s))c(e8(s),r);else if(He.isObject(s)&&He.isIterable(s)){let A={},u,h;for(const f of s){if(!He.isArray(f))throw TypeError("Object iterator must return a key-value pair");A[h=f[0]]=(u=A[h])?He.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}c(A,r)}else s!=null&&o(r,s,a);return this}get(s,r){if(s=Rh(s),s){const a=He.findKey(this,s);if(a){const i=this[a];if(!r)return i;if(r===!0)return t8(i);if(He.isFunction(r))return r.call(this,i,a);if(He.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Rh(s),s){const a=He.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||mx(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let i=!1;function o(c){if(c=Rh(c),c){const A=He.findKey(a,c);A&&(!r||mx(a,a[A],A,r))&&(delete a[A],i=!0)}}return He.isArray(s)?s.forEach(o):o(s),i}clear(s){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const o=r[a];(!s||mx(this,this[o],o,s,!0))&&(delete this[o],i=!0)}return i}normalize(s){const r=this,a={};return He.forEach(this,(i,o)=>{const c=He.findKey(a,o);if(c){r[c]=D0(i),delete r[o];return}const A=s?r8(o):String(o).trim();A!==o&&delete r[o],r[A]=D0(i),a[A]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return He.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=s&&He.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(i=>a.set(i)),a}static accessor(s){const a=(this[Mw]=this[Mw]={accessors:{}}).accessors,i=this.prototype;function o(c){const A=Rh(c);a[A]||(a8(i,c),a[A]=!0)}return He.isArray(s)?s.forEach(o):o(s),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);He.reduceDescriptors(Gn.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});He.freezeMethods(Gn);function gx(t,s){const r=this||Of,a=s||r,i=Gn.from(a.headers);let o=a.data;return He.forEach(t,function(A){o=A.call(r,o,i.normalize(),s?s.status:void 0)}),i.normalize(),o}function D4(t){return!!(t&&t.__CANCEL__)}function qu(t,s,r){Jt.call(this,t??"canceled",Jt.ERR_CANCELED,s,r),this.name="CanceledError"}He.inherits(qu,Jt,{__CANCEL__:!0});function I4(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Jt("Request failed with status code "+r.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function n8(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function i8(t,s){t=t||10;const r=new Array(t),a=new Array(t);let i=0,o=0,c;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),f=a[o];c||(c=h),r[i]=u,a[i]=h;let g=o,b=0;for(;g!==i;)b+=r[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-c<s)return;const x=f&&h-f;return x?Math.round(b*1e3/x):void 0}}function l8(t,s){let r=0,a=1e3/s,i,o;const c=(h,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const f=Date.now(),g=f-r;g>=a?c(h,f):(i=h,o||(o=setTimeout(()=>{o=null,c(i)},a-g)))},()=>i&&c(i)]}const W0=(t,s,r=3)=>{let a=0;const i=i8(50,250);return l8(o=>{const c=o.loaded,A=o.lengthComputable?o.total:void 0,u=c-a,h=i(u),f=c<=A;a=c;const g={loaded:c,total:A,progress:A?c/A:void 0,bytes:u,rate:h||void 0,estimated:h&&A&&f?(A-c)/h:void 0,event:o,lengthComputable:A!=null,[s?"download":"upload"]:!0};t(g)},r)},Rw=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Ow=t=>(...s)=>He.asap(()=>t(...s)),o8=rn.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,rn.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,A8=rn.hasStandardBrowserEnv?{write(t,s,r,a,i,o){const c=[t+"="+encodeURIComponent(s)];He.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),He.isString(a)&&c.push("path="+a),He.isString(i)&&c.push("domain="+i),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function c8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function d8(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function M4(t,s,r){let a=!c8(s);return t&&(a||r==!1)?d8(t,s):s}const Hw=t=>t instanceof Gn?{...t}:t;function id(t,s){s=s||{};const r={};function a(h,f,g,b){return He.isPlainObject(h)&&He.isPlainObject(f)?He.merge.call({caseless:b},h,f):He.isPlainObject(f)?He.merge({},f):He.isArray(f)?f.slice():f}function i(h,f,g,b){if(He.isUndefined(f)){if(!He.isUndefined(h))return a(void 0,h,g,b)}else return a(h,f,g,b)}function o(h,f){if(!He.isUndefined(f))return a(void 0,f)}function c(h,f){if(He.isUndefined(f)){if(!He.isUndefined(h))return a(void 0,h)}else return a(void 0,f)}function A(h,f,g){if(g in s)return a(h,f);if(g in t)return a(void 0,h)}const u={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:A,headers:(h,f,g)=>i(Hw(h),Hw(f),g,!0)};return He.forEach(Object.keys({...t,...s}),function(f){const g=u[f]||i,b=g(t[f],s[f],f);He.isUndefined(b)&&g!==A||(r[f]=b)}),r}const R4=t=>{const s=id({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:c,auth:A}=s;if(s.headers=c=Gn.from(c),s.url=L4(M4(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),A&&c.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):""))),He.isFormData(r)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(He.isFunction(r.getHeaders)){const u=r.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,g])=>{h.includes(f.toLowerCase())&&c.set(f,g)})}}if(rn.hasStandardBrowserEnv&&(a&&He.isFunction(a)&&(a=a(s)),a||a!==!1&&o8(s.url))){const u=i&&o&&A8.read(o);u&&c.set(i,u)}return s},u8=typeof XMLHttpRequest<"u",h8=u8&&function(t){return new Promise(function(r,a){const i=R4(t);let o=i.data;const c=Gn.from(i.headers).normalize();let{responseType:A,onUploadProgress:u,onDownloadProgress:h}=i,f,g,b,x,w;function B(){x&&x(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function _(){if(!j)return;const E=Gn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),U={data:!A||A==="text"||A==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:E,config:t,request:j};I4(function(q){r(q),B()},function(q){a(q),B()},U),j=null}"onloadend"in j?j.onloadend=_:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(_)},j.onabort=function(){j&&(a(new Jt("Request aborted",Jt.ECONNABORTED,t,j)),j=null)},j.onerror=function(T){const U=T&&T.message?T.message:"Network Error",k=new Jt(U,Jt.ERR_NETWORK,t,j);k.event=T||null,a(k),j=null},j.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||Q4;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),a(new Jt(T,U.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,t,j)),j=null},o===void 0&&c.setContentType(null),"setRequestHeader"in j&&He.forEach(c.toJSON(),function(T,U){j.setRequestHeader(U,T)}),He.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),A&&A!=="json"&&(j.responseType=i.responseType),h&&([b,w]=W0(h,!0),j.addEventListener("progress",b)),u&&j.upload&&([g,x]=W0(u),j.upload.addEventListener("progress",g),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=E=>{j&&(a(!E||E.type?new qu(null,t,j):E),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const Q=n8(i.url);if(Q&&rn.protocols.indexOf(Q)===-1){a(new Jt("Unsupported protocol "+Q+":",Jt.ERR_BAD_REQUEST,t));return}j.send(o||null)})},f8=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,i;const o=function(h){if(!i){i=!0,A();const f=h instanceof Error?h:this.reason;a.abort(f instanceof Jt?f:new qu(f instanceof Error?f.message:f))}};let c=s&&setTimeout(()=>{c=null,o(new Jt(`timeout ${s} of ms exceeded`,Jt.ETIMEDOUT))},s);const A=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:u}=a;return u.unsubscribe=()=>He.asap(A),u}},m8=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,i;for(;a<r;)i=a+s,yield t.slice(a,i),a=i},g8=async function*(t,s){for await(const r of p8(t))yield*m8(r,s)},p8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Pw=(t,s,r,a)=>{const i=g8(t,s);let o=0,c,A=u=>{c||(c=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){A(),u.close();return}let g=f.byteLength;if(r){let b=o+=g;r(b)}u.enqueue(new Uint8Array(f))}catch(h){throw A(h),h}},cancel(u){return A(u),i.return()}},{highWaterMark:2})},Vw=64*1024,{isFunction:zm}=He,x8=(({Request:t,Response:s})=>({Request:t,Response:s}))(He.global),{ReadableStream:zw,TextEncoder:Kw}=He.global,Gw=(t,...s)=>{try{return!!t(...s)}catch{return!1}},b8=t=>{t=He.merge.call({skipUndefined:!0},x8,t);const{fetch:s,Request:r,Response:a}=t,i=s?zm(s):typeof fetch=="function",o=zm(r),c=zm(a);if(!i)return!1;const A=i&&zm(zw),u=i&&(typeof Kw=="function"?(w=>B=>w.encode(B))(new Kw):async w=>new Uint8Array(await new r(w).arrayBuffer())),h=o&&A&&Gw(()=>{let w=!1;const B=new r(rn.origin,{body:new zw,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!B}),f=c&&A&&Gw(()=>He.isReadableStream(new a("").body)),g={stream:f&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(B,j)=>{let _=B&&B[w];if(_)return _.call(B);throw new Jt(`Response type '${w}' is not supported`,Jt.ERR_NOT_SUPPORT,j)})});const b=async w=>{if(w==null)return 0;if(He.isBlob(w))return w.size;if(He.isSpecCompliantForm(w))return(await new r(rn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(He.isArrayBufferView(w)||He.isArrayBuffer(w))return w.byteLength;if(He.isURLSearchParams(w)&&(w=w+""),He.isString(w))return(await u(w)).byteLength},x=async(w,B)=>{const j=He.toFiniteNumber(w.getContentLength());return j??b(B)};return async w=>{let{url:B,method:j,data:_,signal:Q,cancelToken:E,timeout:T,onDownloadProgress:U,onUploadProgress:k,responseType:q,headers:K,withCredentials:z="same-origin",fetchOptions:$}=R4(w),D=s||fetch;q=q?(q+"").toLowerCase():"text";let L=f8([Q,E&&E.toAbortSignal()],T),R=null;const P=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let re;try{if(k&&h&&j!=="get"&&j!=="head"&&(re=await x(K,_))!==0){let ee=new r(B,{method:"POST",body:_,duplex:"half"}),M;if(He.isFormData(_)&&(M=ee.headers.get("content-type"))&&K.setContentType(M),ee.body){const[H,Z]=Rw(re,W0(Ow(k)));_=Pw(ee.body,Vw,H,Z)}}He.isString(z)||(z=z?"include":"omit");const I=o&&"credentials"in r.prototype,G={...$,signal:L,method:j.toUpperCase(),headers:K.normalize().toJSON(),body:_,duplex:"half",credentials:I?z:void 0};R=o&&new r(B,G);let X=await(o?D(R,$):D(B,G));const ie=f&&(q==="stream"||q==="response");if(f&&(U||ie&&P)){const ee={};["status","statusText","headers"].forEach(Ae=>{ee[Ae]=X[Ae]});const M=He.toFiniteNumber(X.headers.get("content-length")),[H,Z]=U&&Rw(M,W0(Ow(U),!0))||[];X=new a(Pw(X.body,Vw,H,()=>{Z&&Z(),P&&P()}),ee)}q=q||"text";let ge=await g[He.findKey(g,q)||"text"](X,w);return!ie&&P&&P(),await new Promise((ee,M)=>{I4(ee,M,{data:ge,headers:Gn.from(X.headers),status:X.status,statusText:X.statusText,config:w,request:R})})}catch(I){throw P&&P(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,w,R),{cause:I.cause||I}):Jt.from(I,I&&I.code,w,R)}}},y8=new Map,O4=t=>{let s=t?t.env:{};const{fetch:r,Request:a,Response:i}=s,o=[a,i,r];let c=o.length,A=c,u,h,f=y8;for(;A--;)u=o[A],h=f.get(u),h===void 0&&f.set(u,h=A?new Map:b8(s)),f=h;return h};O4();const Rb={http:IU,xhr:h8,fetch:{get:O4}};He.forEach(Rb,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const qw=t=>`- ${t}`,v8=t=>He.isFunction(t)||t===null||t===!1,H4={getAdapter:(t,s)=>{t=He.isArray(t)?t:[t];const{length:r}=t;let a,i;const o={};for(let c=0;c<r;c++){a=t[c];let A;if(i=a,!v8(a)&&(i=Rb[(A=String(a)).toLowerCase()],i===void 0))throw new Jt(`Unknown adapter '${A}'`);if(i&&(He.isFunction(i)||(i=i.get(s))))break;o[A||"#"+c]=i}if(!i){const c=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let A=r?c.length>1?`since :
`+c.map(qw).join(`
`):" "+qw(c[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+A,"ERR_NOT_SUPPORT")}return i},adapters:Rb};function px(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qu(null,t)}function $w(t){return px(t),t.headers=Gn.from(t.headers),t.data=gx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),H4.getAdapter(t.adapter||Of.adapter,t)(t).then(function(a){return px(t),a.data=gx.call(t,t.transformResponse,a),a.headers=Gn.from(a.headers),a},function(a){return D4(a)||(px(t),a&&a.response&&(a.response.data=gx.call(t,t.transformResponse,a.response),a.response.headers=Gn.from(a.response.headers))),Promise.reject(a)})}const P4="1.12.2",Eg={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Eg[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Xw={};Eg.transitional=function(s,r,a){function i(o,c){return"[Axios v"+P4+"] Transitional option '"+o+"'"+c+(a?". "+a:"")}return(o,c,A)=>{if(s===!1)throw new Jt(i(c," has been removed"+(r?" in "+r:"")),Jt.ERR_DEPRECATED);return r&&!Xw[c]&&(Xw[c]=!0,console.warn(i(c," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,c,A):!0}};Eg.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function w8(t,s,r){if(typeof t!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const o=a[i],c=s[o];if(c){const A=t[o],u=A===void 0||c(A,o,t);if(u!==!0)throw new Jt("option "+o+" must be "+u,Jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Jt("Unknown option "+o,Jt.ERR_BAD_OPTION)}}const I0={assertOptions:w8,validators:Eg},Wl=I0.validators;let Xc=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Iw,response:new Iw}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=id(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:o}=r;a!==void 0&&I0.assertOptions(a,{silentJSONParsing:Wl.transitional(Wl.boolean),forcedJSONParsing:Wl.transitional(Wl.boolean),clarifyTimeoutError:Wl.transitional(Wl.boolean)},!1),i!=null&&(He.isFunction(i)?r.paramsSerializer={serialize:i}:I0.assertOptions(i,{encode:Wl.function,serialize:Wl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),I0.assertOptions(r,{baseUrl:Wl.spelling("baseURL"),withXsrfToken:Wl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=o&&He.merge(o.common,o[r.method]);o&&He.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=Gn.concat(c,o);const A=[];let u=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(r)===!1||(u=u&&B.synchronous,A.unshift(B.fulfilled,B.rejected))});const h=[];this.interceptors.response.forEach(function(B){h.push(B.fulfilled,B.rejected)});let f,g=0,b;if(!u){const w=[$w.bind(this),void 0];for(w.unshift(...A),w.push(...h),b=w.length,f=Promise.resolve(r);g<b;)f=f.then(w[g++],w[g++]);return f}b=A.length;let x=r;for(;g<b;){const w=A[g++],B=A[g++];try{x=w(x)}catch(j){B.call(this,j);break}}try{f=$w.call(this,x)}catch(w){return Promise.reject(w)}for(g=0,b=h.length;g<b;)f=f.then(h[g++],h[g++]);return f}getUri(s){s=id(this.defaults,s);const r=M4(s.baseURL,s.url,s.allowAbsoluteUrls);return L4(r,s.params,s.paramsSerializer)}};He.forEach(["delete","get","head","options"],function(s){Xc.prototype[s]=function(r,a){return this.request(id(a||{},{method:s,url:r,data:(a||{}).data}))}});He.forEach(["post","put","patch"],function(s){function r(a){return function(o,c,A){return this.request(id(A||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Xc.prototype[s]=r(),Xc.prototype[s+"Form"]=r(!0)});let N8=class V4{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(i=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](i);a._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(A=>{a.subscribe(A),o=A}).then(i);return c.cancel=function(){a.unsubscribe(o)},c},s(function(o,c,A){a.reason||(a.reason=new qu(o,c,A),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new V4(function(i){s=i}),cancel:s}}};function j8(t){return function(r){return t.apply(null,r)}}function B8(t){return He.isObject(t)&&t.isAxiosError===!0}const Ob={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ob).forEach(([t,s])=>{Ob[s]=t});function z4(t){const s=new Xc(t),r=v4(Xc.prototype.request,s);return He.extend(r,Xc.prototype,s,{allOwnKeys:!0}),He.extend(r,s,null,{allOwnKeys:!0}),r.create=function(i){return z4(id(t,i))},r}const ks=z4(Of);ks.Axios=Xc;ks.CanceledError=qu;ks.CancelToken=N8;ks.isCancel=D4;ks.VERSION=P4;ks.toFormData=Sg;ks.AxiosError=Jt;ks.Cancel=ks.CanceledError;ks.all=function(s){return Promise.all(s)};ks.spread=j8;ks.isAxiosError=B8;ks.mergeConfig=id;ks.AxiosHeaders=Gn;ks.formToJSON=t=>T4(He.isHTMLForm(t)?new FormData(t):t);ks.getAdapter=H4.getAdapter;ks.HttpStatusCode=Ob;ks.default=ks;const{Axios:Lq,AxiosError:Qq,CanceledError:Tq,isCancel:Dq,CancelToken:Iq,VERSION:Mq,all:Rq,Cancel:Oq,isAxiosError:Hq,spread:Pq,toFormData:Vq,AxiosHeaders:zq,HttpStatusCode:Kq,formToJSON:Gq,getAdapter:qq,mergeConfig:$q}=ks,ya=ks.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),Yw=t=>{const s=C8(t);return s.charAt(0).toUpperCase()+s.slice(1)},K4=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim(),S8=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=S.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...A},u)=>S.createElement("svg",{ref:u,...E8,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:K4("lucide",i),...!o&&!S8(A)&&{"aria-hidden":"true"},...A},[...c.map(([h,f])=>S.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,s)=>{const r=S.forwardRef(({className:a,...i},o)=>S.createElement(F8,{ref:o,iconNode:s,className:K4(`lucide-${_8(Yw(t))}`,`lucide-${t}`,a),...i}));return r.displayName=Yw(t),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1",key:"ns4c3b"}],["path",{d:"m12 15 5 6H7Z",key:"14qnn2"}]],k8=We("airplay",U8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Fg=We("armchair",L8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ka=We("arrow-left",Q8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],va=We("arrow-right",T8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ww=We("arrow-up-down",D8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],M8=We("award",I8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],O8=We("banknote",R8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]],wf=We("battery-charging",H8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],V8=We("bell",P8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Jw=We("book-open",z8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],G4=We("briefcase",K8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Zo=We("building",G8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M4 6 2 7",key:"1mqr15"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"m22 7-2-1",key:"1umjhc"}],["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 21v-2",key:"sqyl04"}]],Ri=We("bus-front",q8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Vs=We("bus",$8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],J0=We("calendar-days",X8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],as=We("calendar",Y8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],J8=We("camera",W8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Hb=We("car-front",Z8);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],gs=We("car",ek);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sk=We("chart-column",tk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ak=We("chart-pie",rk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],l1=We("check",nk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hf=We("chevron-down",ik);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q4=We("chevron-left",lk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nl=We("chevron-right",ok);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ug=We("chevron-up",Ak);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nn=We("circle-alert",ck);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zs=We("circle-check-big",dk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$4=We("circle-x",uk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fk=We("clipboard-list",hk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],o1=We("clock-4",mk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],is=We("clock",gk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],X4=We("cloud",pk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Pf=We("coffee",xk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Mi=We("credit-card",bk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vr=We("dollar-sign",yk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vf=We("download",vk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Nk=We("droplets",wk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zw=We("eye-off",jk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fi=We("eye",Bk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Y4=We("facebook",_k);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],e5=We("factory",Ck);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ek=We("file-check",Sk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Uk=We("file-down",Fk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Yc=We("funnel",kk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],W4=We("globe",Lk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Tk=We("hash",Qk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],M0=We("headphones",Dk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Mk=We("heart",Ik);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ok=We("history",Rk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],Z0=We("id-card",Hk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],A1=We("image",Pk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tc=We("info",Vk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],J4=We("instagram",zk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Gk=We("key-round",Kk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Z4=We("key",qk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Xk=We("layout-grid",$k);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],e_=We("layout-dashboard",Yk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],t_=We("linkedin",Wk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lo=We("loader-circle",Jk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Nn=We("loader",Zk);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_u=We("lock",eL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],sL=We("log-in",tL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s_=We("log-out",rL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],nL=We("mail-check",aL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ln=We("mail",iL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yt=We("map-pin",lL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],AL=We("map-pinned",oL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Cu=We("map",cL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uL=We("menu",dL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fL=We("message-circle",hL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Pb=We("message-square",mL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pL=We("moon",gL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],bL=We("mountain",xL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],kg=We("navigation",yL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Du=We("package",vL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],t5=We("panel-left",wL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s5=We("pen",NL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],r_=We("phone-call",jL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ls=We("phone",BL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],CL=We("plug",_L);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Di=We("plus",SL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],FL=We("printer",EL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],kL=We("receipt",UL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],r5=We("refresh-cw",LL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Jr=We("route",QL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c1=We("save",TL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Iu=We("search",DL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a_=We("send",IL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Su=We("settings",ML);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xx=We("shield-check",RL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wa=We("shield",OL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],a5=We("smartphone",HL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],VL=We("snowflake",PL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Mu=We("sparkles",zL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GL=We("square-check-big",KL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],eg=We("square-pen",qL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],za=We("star",$L);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ka=We("tag",XL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Nf=We("thermometer",YL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],sc=We("ticket",WL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],n5=We("toggle-left",JL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],i5=We("toggle-right",ZL);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ru=We("trash-2",eQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bx=We("trash",tQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],R0=We("trending-up",sQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aQ=We("triangle-alert",rQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],jn=We("truck",nQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],n_=We("twitter",iQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WA=We("upload",lQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],l5=We("user-check",oQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cQ=We("user-plus",AQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rs=We("user",dQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gt=We("users",uQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Eu=We("wallet",hQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],eA=We("wifi",fQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],o5=We("wind",mQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Is=We("x",gQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],i_=We("youtube",pQ);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ld=We("zap",xQ),d1=S.createContext({});function u1(t){const s=S.useRef(null);return s.current===null&&(s.current=t()),s.current}const h1=typeof window<"u",l_=h1?S.useLayoutEffect:S.useEffect,Lg=S.createContext(null);function f1(t,s){t.indexOf(s)===-1&&t.push(s)}function m1(t,s){const r=t.indexOf(s);r>-1&&t.splice(r,1)}const tA=(t,s,r)=>r>s?s:r<t?t:r;let g1=()=>{};const sA={},o_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function A_(t){return typeof t=="object"&&t!==null}const c_=t=>/^0[^.\s]+$/u.test(t);function p1(t){let s;return()=>(s===void 0&&(s=t()),s)}const Vi=t=>t,bQ=(t,s)=>r=>s(t(r)),zf=(...t)=>t.reduce(bQ),jf=(t,s,r)=>{const a=s-t;return a===0?1:(r-t)/a};class x1{constructor(){this.subscriptions=[]}add(s){return f1(this.subscriptions,s),()=>m1(this.subscriptions,s)}notify(s,r,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](s,r,a);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(s,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const no=t=>t*1e3,Oi=t=>t/1e3;function d_(t,s){return s?t*(1e3/s):0}const u_=(t,s,r)=>(((1-3*r+3*s)*t+(3*r-6*s))*t+3*s)*t,yQ=1e-7,vQ=12;function wQ(t,s,r,a,i){let o,c,A=0;do c=s+(r-s)/2,o=u_(c,a,i)-t,o>0?r=c:s=c;while(Math.abs(o)>yQ&&++A<vQ);return c}function Kf(t,s,r,a){if(t===s&&r===a)return Vi;const i=o=>wQ(o,0,1,t,r);return o=>o===0||o===1?o:u_(i(o),s,a)}const h_=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,f_=t=>s=>1-t(1-s),m_=Kf(.33,1.53,.69,.99),b1=f_(m_),g_=h_(b1),p_=t=>(t*=2)<1?.5*b1(t):.5*(2-Math.pow(2,-10*(t-1))),y1=t=>1-Math.sin(Math.acos(t)),x_=f_(y1),b_=h_(y1),NQ=Kf(.42,0,1,1),jQ=Kf(0,0,.58,1),y_=Kf(.42,0,.58,1),BQ=t=>Array.isArray(t)&&typeof t[0]!="number",v_=t=>Array.isArray(t)&&typeof t[0]=="number",_Q={linear:Vi,easeIn:NQ,easeInOut:y_,easeOut:jQ,circIn:y1,circInOut:b_,circOut:x_,backIn:b1,backInOut:g_,backOut:m_,anticipate:p_},CQ=t=>typeof t=="string",A5=t=>{if(v_(t)){g1(t.length===4);const[s,r,a,i]=t;return Kf(s,r,a,i)}else if(CQ(t))return _Q[t];return t},Km=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SQ(t,s){let r=new Set,a=new Set,i=!1,o=!1;const c=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function u(f){c.has(f)&&(h.schedule(f),t()),f(A)}const h={schedule:(f,g=!1,b=!1)=>{const w=b&&i?r:a;return g&&c.add(f),w.has(f)||w.add(f),f},cancel:f=>{a.delete(f),c.delete(f)},process:f=>{if(A=f,i){o=!0;return}i=!0,[r,a]=[a,r],r.forEach(u),r.clear(),i=!1,o&&(o=!1,h.process(f))}};return h}const EQ=40;function w_(t,s){let r=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,c=Km.reduce((E,T)=>(E[T]=SQ(o),E),{}),{setup:A,read:u,resolveKeyframes:h,preUpdate:f,update:g,preRender:b,render:x,postRender:w}=c,B=()=>{const E=sA.useManualTiming?i.timestamp:performance.now();r=!1,sA.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(E-i.timestamp,EQ),1)),i.timestamp=E,i.isProcessing=!0,A.process(i),u.process(i),h.process(i),f.process(i),g.process(i),b.process(i),x.process(i),w.process(i),i.isProcessing=!1,r&&s&&(a=!1,t(B))},j=()=>{r=!0,a=!0,i.isProcessing||t(B)};return{schedule:Km.reduce((E,T)=>{const U=c[T];return E[T]=(k,q=!1,K=!1)=>(r||j(),U.schedule(k,q,K)),E},{}),cancel:E=>{for(let T=0;T<Km.length;T++)c[Km[T]].cancel(E)},state:i,steps:c}}const{schedule:yr,cancel:rc,state:Pa,steps:yx}=w_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vi,!0);let O0;function FQ(){O0=void 0}const zn={now:()=>(O0===void 0&&zn.set(Pa.isProcessing||sA.useManualTiming?Pa.timestamp:performance.now()),O0),set:t=>{O0=t,queueMicrotask(FQ)}},N_=t=>s=>typeof s=="string"&&s.startsWith(t),j_=N_("--"),UQ=N_("var(--"),v1=t=>UQ(t)?kQ.test(t.split("/*")[0].trim()):!1,kQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$u={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bf={...$u,transform:t=>tA(0,1,t)},Gm={...$u,default:1},af=t=>Math.round(t*1e5)/1e5,w1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LQ(t){return t==null}const QQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N1=(t,s)=>r=>!!(typeof r=="string"&&QQ.test(r)&&r.startsWith(t)||s&&!LQ(r)&&Object.prototype.hasOwnProperty.call(r,s)),B_=(t,s,r)=>a=>{if(typeof a!="string")return a;const[i,o,c,A]=a.match(w1);return{[t]:parseFloat(i),[s]:parseFloat(o),[r]:parseFloat(c),alpha:A!==void 0?parseFloat(A):1}},TQ=t=>tA(0,255,t),vx={...$u,transform:t=>Math.round(TQ(t))},Kc={test:N1("rgb","red"),parse:B_("red","green","blue"),transform:({red:t,green:s,blue:r,alpha:a=1})=>"rgba("+vx.transform(t)+", "+vx.transform(s)+", "+vx.transform(r)+", "+af(Bf.transform(a))+")"};function DQ(t){let s="",r="",a="",i="";return t.length>5?(s=t.substring(1,3),r=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(s=t.substring(1,2),r=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),s+=s,r+=r,a+=a,i+=i),{red:parseInt(s,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const Vb={test:N1("#"),parse:DQ,transform:Kc.transform},Gf=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),HA=Gf("deg"),io=Gf("%"),Ht=Gf("px"),IQ=Gf("vh"),MQ=Gf("vw"),c5={...io,parse:t=>io.parse(t)/100,transform:t=>io.transform(t*100)},bu={test:N1("hsl","hue"),parse:B_("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:r,alpha:a=1})=>"hsla("+Math.round(t)+", "+io.transform(af(s))+", "+io.transform(af(r))+", "+af(Bf.transform(a))+")"},na={test:t=>Kc.test(t)||Vb.test(t)||bu.test(t),parse:t=>Kc.test(t)?Kc.parse(t):bu.test(t)?bu.parse(t):Vb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kc.transform(t):bu.transform(t),getAnimatableNone:t=>{const s=na.parse(t);return s.alpha=0,na.transform(s)}},RQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OQ(t){return isNaN(t)&&typeof t=="string"&&(t.match(w1)?.length||0)+(t.match(RQ)?.length||0)>0}const __="number",C_="color",HQ="var",PQ="var(",d5="${}",VQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _f(t){const s=t.toString(),r=[],a={color:[],number:[],var:[]},i=[];let o=0;const A=s.replace(VQ,u=>(na.test(u)?(a.color.push(o),i.push(C_),r.push(na.parse(u))):u.startsWith(PQ)?(a.var.push(o),i.push(HQ),r.push(u)):(a.number.push(o),i.push(__),r.push(parseFloat(u))),++o,d5)).split(d5);return{values:r,split:A,indexes:a,types:i}}function S_(t){return _f(t).values}function E_(t){const{split:s,types:r}=_f(t),a=s.length;return i=>{let o="";for(let c=0;c<a;c++)if(o+=s[c],i[c]!==void 0){const A=r[c];A===__?o+=af(i[c]):A===C_?o+=na.transform(i[c]):o+=i[c]}return o}}const zQ=t=>typeof t=="number"?0:na.test(t)?na.getAnimatableNone(t):t;function KQ(t){const s=S_(t);return E_(t)(s.map(zQ))}const ac={test:OQ,parse:S_,createTransformer:E_,getAnimatableNone:KQ};function wx(t,s,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(s-t)*6*r:r<1/2?s:r<2/3?t+(s-t)*(2/3-r)*6:t}function GQ({hue:t,saturation:s,lightness:r,alpha:a}){t/=360,s/=100,r/=100;let i=0,o=0,c=0;if(!s)i=o=c=r;else{const A=r<.5?r*(1+s):r+s-r*s,u=2*r-A;i=wx(u,A,t+1/3),o=wx(u,A,t),c=wx(u,A,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:a}}function tg(t,s){return r=>r>0?s:t}const Fr=(t,s,r)=>t+(s-t)*r,Nx=(t,s,r)=>{const a=t*t,i=r*(s*s-a)+a;return i<0?0:Math.sqrt(i)},qQ=[Vb,Kc,bu],$Q=t=>qQ.find(s=>s.test(t));function u5(t){const s=$Q(t);if(!s)return!1;let r=s.parse(t);return s===bu&&(r=GQ(r)),r}const h5=(t,s)=>{const r=u5(t),a=u5(s);if(!r||!a)return tg(t,s);const i={...r};return o=>(i.red=Nx(r.red,a.red,o),i.green=Nx(r.green,a.green,o),i.blue=Nx(r.blue,a.blue,o),i.alpha=Fr(r.alpha,a.alpha,o),Kc.transform(i))},zb=new Set(["none","hidden"]);function XQ(t,s){return zb.has(t)?r=>r<=0?t:s:r=>r>=1?s:t}function YQ(t,s){return r=>Fr(t,s,r)}function j1(t){return typeof t=="number"?YQ:typeof t=="string"?v1(t)?tg:na.test(t)?h5:ZQ:Array.isArray(t)?F_:typeof t=="object"?na.test(t)?h5:WQ:tg}function F_(t,s){const r=[...t],a=r.length,i=t.map((o,c)=>j1(o)(o,s[c]));return o=>{for(let c=0;c<a;c++)r[c]=i[c](o);return r}}function WQ(t,s){const r={...t,...s},a={};for(const i in r)t[i]!==void 0&&s[i]!==void 0&&(a[i]=j1(t[i])(t[i],s[i]));return i=>{for(const o in a)r[o]=a[o](i);return r}}function JQ(t,s){const r=[],a={color:0,var:0,number:0};for(let i=0;i<s.values.length;i++){const o=s.types[i],c=t.indexes[o][a[o]],A=t.values[c]??0;r[i]=A,a[o]++}return r}const ZQ=(t,s)=>{const r=ac.createTransformer(s),a=_f(t),i=_f(s);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?zb.has(t)&&!i.values.length||zb.has(s)&&!a.values.length?XQ(t,s):zf(F_(JQ(a,i),i.values),r):tg(t,s)};function U_(t,s,r){return typeof t=="number"&&typeof s=="number"&&typeof r=="number"?Fr(t,s,r):j1(t)(t,s)}const eT=t=>{const s=({timestamp:r})=>t(r);return{start:(r=!0)=>yr.update(s,r),stop:()=>rc(s),now:()=>Pa.isProcessing?Pa.timestamp:zn.now()}},k_=(t,s,r=10)=>{let a="";const i=Math.max(Math.round(s/r),2);for(let o=0;o<i;o++)a+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},sg=2e4;function B1(t){let s=0;const r=50;let a=t.next(s);for(;!a.done&&s<sg;)s+=r,a=t.next(s);return s>=sg?1/0:s}function tT(t,s=100,r){const a=r({...t,keyframes:[0,s]}),i=Math.min(B1(a),sg);return{type:"keyframes",ease:o=>a.next(i*o).value/s,duration:Oi(i)}}const sT=5;function L_(t,s,r){const a=Math.max(s-sT,0);return d_(r-t(a),s-a)}const Pr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jx=.001;function rT({duration:t=Pr.duration,bounce:s=Pr.bounce,velocity:r=Pr.velocity,mass:a=Pr.mass}){let i,o,c=1-s;c=tA(Pr.minDamping,Pr.maxDamping,c),t=tA(Pr.minDuration,Pr.maxDuration,Oi(t)),c<1?(i=h=>{const f=h*c,g=f*t,b=f-r,x=Kb(h,c),w=Math.exp(-g);return jx-b/x*w},o=h=>{const g=h*c*t,b=g*r+r,x=Math.pow(c,2)*Math.pow(h,2)*t,w=Math.exp(-g),B=Kb(Math.pow(h,2),c);return(-i(h)+jx>0?-1:1)*((b-x)*w)/B}):(i=h=>{const f=Math.exp(-h*t),g=(h-r)*t+1;return-jx+f*g},o=h=>{const f=Math.exp(-h*t),g=(r-h)*(t*t);return f*g});const A=5/t,u=nT(i,o,A);if(t=no(t),isNaN(u))return{stiffness:Pr.stiffness,damping:Pr.damping,duration:t};{const h=Math.pow(u,2)*a;return{stiffness:h,damping:c*2*Math.sqrt(a*h),duration:t}}}const aT=12;function nT(t,s,r){let a=r;for(let i=1;i<aT;i++)a=a-t(a)/s(a);return a}function Kb(t,s){return t*Math.sqrt(1-s*s)}const iT=["duration","bounce"],lT=["stiffness","damping","mass"];function f5(t,s){return s.some(r=>t[r]!==void 0)}function oT(t){let s={velocity:Pr.velocity,stiffness:Pr.stiffness,damping:Pr.damping,mass:Pr.mass,isResolvedFromDuration:!1,...t};if(!f5(t,lT)&&f5(t,iT))if(t.visualDuration){const r=t.visualDuration,a=2*Math.PI/(r*1.2),i=a*a,o=2*tA(.05,1,1-(t.bounce||0))*Math.sqrt(i);s={...s,mass:Pr.mass,stiffness:i,damping:o}}else{const r=rT(t);s={...s,...r,mass:Pr.mass},s.isResolvedFromDuration=!0}return s}function rg(t=Pr.visualDuration,s=Pr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:a,restDelta:i}=r;const o=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],A={done:!1,value:o},{stiffness:u,damping:h,mass:f,duration:g,velocity:b,isResolvedFromDuration:x}=oT({...r,velocity:-Oi(r.velocity||0)}),w=b||0,B=h/(2*Math.sqrt(u*f)),j=c-o,_=Oi(Math.sqrt(u/f)),Q=Math.abs(j)<5;a||(a=Q?Pr.restSpeed.granular:Pr.restSpeed.default),i||(i=Q?Pr.restDelta.granular:Pr.restDelta.default);let E;if(B<1){const U=Kb(_,B);E=k=>{const q=Math.exp(-B*_*k);return c-q*((w+B*_*j)/U*Math.sin(U*k)+j*Math.cos(U*k))}}else if(B===1)E=U=>c-Math.exp(-_*U)*(j+(w+_*j)*U);else{const U=_*Math.sqrt(B*B-1);E=k=>{const q=Math.exp(-B*_*k),K=Math.min(U*k,300);return c-q*((w+B*_*j)*Math.sinh(K)+U*j*Math.cosh(K))/U}}const T={calculatedDuration:x&&g||null,next:U=>{const k=E(U);if(x)A.done=U>=g;else{let q=U===0?w:0;B<1&&(q=U===0?no(w):L_(E,U,k));const K=Math.abs(q)<=a,z=Math.abs(c-k)<=i;A.done=K&&z}return A.value=A.done?c:k,A},toString:()=>{const U=Math.min(B1(T),sg),k=k_(q=>T.next(U*q).value,U,30);return U+"ms "+k},toTransition:()=>{}};return T}rg.applyToOptions=t=>{const s=tT(t,100,rg);return t.ease=s.ease,t.duration=no(s.duration),t.type="keyframes",t};function Gb({keyframes:t,velocity:s=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:A,max:u,restDelta:h=.5,restSpeed:f}){const g=t[0],b={done:!1,value:g},x=K=>A!==void 0&&K<A||u!==void 0&&K>u,w=K=>A===void 0?u:u===void 0||Math.abs(A-K)<Math.abs(u-K)?A:u;let B=r*s;const j=g+B,_=c===void 0?j:c(j);_!==j&&(B=_-g);const Q=K=>-B*Math.exp(-K/a),E=K=>_+Q(K),T=K=>{const z=Q(K),$=E(K);b.done=Math.abs(z)<=h,b.value=b.done?_:$};let U,k;const q=K=>{x(b.value)&&(U=K,k=rg({keyframes:[b.value,w(b.value)],velocity:L_(E,K,b.value),damping:i,stiffness:o,restDelta:h,restSpeed:f}))};return q(0),{calculatedDuration:null,next:K=>{let z=!1;return!k&&U===void 0&&(z=!0,T(K),q(K)),U!==void 0&&K>=U?k.next(K-U):(!z&&T(K),b)}}}function AT(t,s,r){const a=[],i=r||sA.mix||U_,o=t.length-1;for(let c=0;c<o;c++){let A=i(t[c],t[c+1]);if(s){const u=Array.isArray(s)?s[c]||Vi:s;A=zf(u,A)}a.push(A)}return a}function cT(t,s,{clamp:r=!0,ease:a,mixer:i}={}){const o=t.length;if(g1(o===s.length),o===1)return()=>s[0];if(o===2&&s[0]===s[1])return()=>s[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),s=[...s].reverse());const A=AT(s,a,i),u=A.length,h=f=>{if(c&&f<t[0])return s[0];let g=0;if(u>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const b=jf(t[g],t[g+1],f);return A[g](b)};return r?f=>h(tA(t[0],t[o-1],f)):h}function dT(t,s){const r=t[t.length-1];for(let a=1;a<=s;a++){const i=jf(0,s,a);t.push(Fr(r,1,i))}}function uT(t){const s=[0];return dT(s,t.length-1),s}function hT(t,s){return t.map(r=>r*s)}function fT(t,s){return t.map(()=>s||y_).splice(0,t.length-1)}function nf({duration:t=300,keyframes:s,times:r,ease:a="easeInOut"}){const i=BQ(a)?a.map(A5):A5(a),o={done:!1,value:s[0]},c=hT(r&&r.length===s.length?r:uT(s),t),A=cT(c,s,{ease:Array.isArray(i)?i:fT(s,i)});return{calculatedDuration:t,next:u=>(o.value=A(u),o.done=u>=t,o)}}const mT=t=>t!==null;function _1(t,{repeat:s,repeatType:r="loop"},a,i=1){const o=t.filter(mT),A=i<0||s&&r!=="loop"&&s%2===1?0:o.length-1;return!A||a===void 0?o[A]:a}const gT={decay:Gb,inertia:Gb,tween:nf,keyframes:nf,spring:rg};function Q_(t){typeof t.type=="string"&&(t.type=gT[t.type])}class C1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,r){return this.finished.then(s,r)}}const pT=t=>t/100;class S1 extends C1{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==zn.now()&&this.tick(zn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;Q_(s);const{type:r=nf,repeat:a=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=s;let{keyframes:A}=s;const u=r||nf;u!==nf&&typeof A[0]!="number"&&(this.mixKeyframes=zf(pT,U_(A[0],A[1])),A=[0,100]);const h=u({...s,keyframes:A});o==="mirror"&&(this.mirroredGenerator=u({...s,keyframes:[...A].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=B1(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=h}updateTime(s){const r=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(s,r=!1){const{generator:a,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:A,calculatedDuration:u}=this;if(this.startTime===null)return a.next(0);const{delay:h=0,keyframes:f,repeat:g,repeatType:b,repeatDelay:x,type:w,onUpdate:B,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-i/this.speed,this.startTime)),r?this.currentTime=s:this.updateTime(s);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,T=a;if(g){const K=Math.min(this.currentTime,i)/A;let z=Math.floor(K),$=K%1;!$&&K>=1&&($=1),$===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(b==="reverse"?($=1-$,x&&($-=x/A)):b==="mirror"&&(T=c)),E=tA(0,1,$)*A}const U=Q?{done:!1,value:f[0]}:T.next(E);o&&(U.value=o(U.value));let{done:k}=U;!Q&&u!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return q&&w!==Gb&&(U.value=_1(f,this.options,j,this.speed)),B&&B(U.value),q&&this.finish(),U}then(s,r){return this.finished.then(s,r)}get duration(){return Oi(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Oi(s)}get time(){return Oi(this.currentTime)}set time(s){s=no(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(zn.now());const r=this.playbackSpeed!==s;this.playbackSpeed=s,r&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=eT,startTime:r}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function xT(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Gc=t=>t*180/Math.PI,qb=t=>{const s=Gc(Math.atan2(t[1],t[0]));return $b(s)},bT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qb,rotateZ:qb,skewX:t=>Gc(Math.atan(t[1])),skewY:t=>Gc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$b=t=>(t=t%360,t<0&&(t+=360),t),m5=qb,g5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),p5=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g5,scaleY:p5,scale:t=>(g5(t)+p5(t))/2,rotateX:t=>$b(Gc(Math.atan2(t[6],t[5]))),rotateY:t=>$b(Gc(Math.atan2(-t[2],t[0]))),rotateZ:m5,rotate:m5,skewX:t=>Gc(Math.atan(t[4])),skewY:t=>Gc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xb(t){return t.includes("scale")?1:0}function Yb(t,s){if(!t||t==="none")return Xb(s);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(r)a=yT,i=r;else{const A=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=bT,i=A}if(!i)return Xb(s);const o=a[s],c=i[1].split(",").map(wT);return typeof o=="function"?o(c):c[o]}const vT=(t,s)=>{const{transform:r="none"}=getComputedStyle(t);return Yb(r,s)};function wT(t){return parseFloat(t.trim())}const Xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(Xu),x5=t=>t===$u||t===Ht,NT=new Set(["x","y","z"]),jT=Xu.filter(t=>!NT.has(t));function BT(t){const s=[];return jT.forEach(r=>{const a=t.getValue(r);a!==void 0&&(s.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),s}const Wc={width:({x:t},{paddingLeft:s="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),height:({y:t},{paddingTop:s="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(s)-parseFloat(r),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Yb(s,"x"),y:(t,{transform:s})=>Yb(s,"y")};Wc.translateX=Wc.x;Wc.translateY=Wc.y;const Jc=new Set;let Wb=!1,Jb=!1,Zb=!1;function T_(){if(Jb){const t=Array.from(Jc).filter(a=>a.needsMeasurement),s=new Set(t.map(a=>a.element)),r=new Map;s.forEach(a=>{const i=BT(a);i.length&&(r.set(a,i),a.render())}),t.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const i=r.get(a);i&&i.forEach(([o,c])=>{a.getValue(o)?.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Jb=!1,Wb=!1,Jc.forEach(t=>t.complete(Zb)),Jc.clear()}function D_(){Jc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jb=!0)})}function _T(){Zb=!0,D_(),T_(),Zb=!1}class E1{constructor(s,r,a,i,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=r,this.name=a,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Jc.add(this),Wb||(Wb=!0,yr.read(D_),yr.resolveKeyframes(T_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:r,element:a,motionValue:i}=this;if(s[0]===null){const o=i?.get(),c=s[s.length-1];if(o!==void 0)s[0]=o;else if(a&&r){const A=a.readValue(r,c);A!=null&&(s[0]=A)}s[0]===void 0&&(s[0]=c),i&&o===void 0&&i.set(s[0])}xT(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Jc.delete(this)}cancel(){this.state==="scheduled"&&(Jc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CT=t=>t.startsWith("--");function ST(t,s,r){CT(s)?t.style.setProperty(s,r):t.style[s]=r}const ET=p1(()=>window.ScrollTimeline!==void 0),FT={};function UT(t,s){const r=p1(t);return()=>FT[s]??r()}const I_=UT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xh=([t,s,r,a])=>`cubic-bezier(${t}, ${s}, ${r}, ${a})`,b5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xh([0,.65,.55,1]),circOut:Xh([.55,0,1,.45]),backIn:Xh([.31,.01,.66,-.59]),backOut:Xh([.33,1.53,.69,.99])};function M_(t,s){if(t)return typeof t=="function"?I_()?k_(t,s):"ease-out":v_(t)?Xh(t):Array.isArray(t)?t.map(r=>M_(r,s)||b5.easeOut):b5[t]}function kT(t,s,r,{delay:a=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:A="easeOut",times:u}={},h=void 0){const f={[s]:r};u&&(f.offset=u);const g=M_(A,i);Array.isArray(g)&&(f.easing=g);const b={delay:a,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),t.animate(f,b)}function R_(t){return typeof t=="function"&&"applyToOptions"in t}function LT({type:t,...s}){return R_(t)&&I_()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class QT extends C1{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:r,name:a,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:A,onComplete:u}=s;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=s,g1(typeof s.type!="string");const h=LT(s);this.animation=kT(r,a,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=_1(i,this.options,A,this.speed);this.updateMotionValue?this.updateMotionValue(f):ST(r,a,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Oi(s)}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=no(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&ET()?(this.animation.timeline=s,Vi):r(this)}}const O_={anticipate:p_,backInOut:g_,circInOut:b_};function TT(t){return t in O_}function DT(t){typeof t.ease=="string"&&TT(t.ease)&&(t.ease=O_[t.ease])}const y5=10;class IT extends QT{constructor(s){DT(s),Q_(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:r,onUpdate:a,onComplete:i,element:o,...c}=this.options;if(!r)return;if(s!==void 0){r.set(s);return}const A=new S1({...c,autoplay:!1}),u=no(this.finishedTime??this.time);r.setWithVelocity(A.sample(u-y5).value,A.sample(u).value,y5),A.stop()}}const v5=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ac.test(t)||t==="0")&&!t.startsWith("url("));function MT(t){const s=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==s)return!0}function RT(t,s,r,a){const i=t[0];if(i===null)return!1;if(s==="display"||s==="visibility")return!0;const o=t[t.length-1],c=v5(i,s),A=v5(o,s);return!c||!A?!1:MT(t)||(r==="spring"||R_(r))&&a}function ey(t){t.duration=0,t.type="keyframes"}const OT=new Set(["opacity","clipPath","filter","transform"]),HT=p1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PT(t){const{motionValue:s,name:r,repeatDelay:a,repeatType:i,damping:o,type:c}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=s.owner.getProps();return HT()&&r&&OT.has(r)&&(r!=="transform"||!h)&&!u&&!a&&i!=="mirror"&&o!==0&&c!=="inertia"}const VT=40;class zT extends C1{constructor({autoplay:s=!0,delay:r=0,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:A,name:u,motionValue:h,element:f,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zn.now();const b={autoplay:s,delay:r,type:a,repeat:i,repeatDelay:o,repeatType:c,name:u,motionValue:h,element:f,...g},x=f?.KeyframeResolver||E1;this.keyframeResolver=new x(A,(w,B,j)=>this.onKeyframesResolved(w,B,b,!j),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,r,a,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:A,delay:u,isHandoff:h,onUpdate:f}=a;this.resolvedAt=zn.now(),RT(s,o,c,A)||((sA.instantAnimations||!u)&&f?.(_1(s,a,r)),s[0]=s[s.length-1],ey(a),a.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>VT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:s},x=!h&&PT(b)?new IT({...b,element:b.motionValue.owner.current}):new S1(b);x.finished.then(()=>this.notifyFinished()).catch(Vi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(s,r){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_T()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const KT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GT(t){const s=KT.exec(t);if(!s)return[,];const[,r,a,i]=s;return[`--${r??a}`,i]}function H_(t,s,r=1){const[a,i]=GT(t);if(!a)return;const o=window.getComputedStyle(s).getPropertyValue(a);if(o){const c=o.trim();return o_(c)?parseFloat(c):c}return v1(i)?H_(i,s,r+1):i}function F1(t,s){return t?.[s]??t?.default??t}const P_=new Set(["width","height","top","left","right","bottom",...Xu]),qT={test:t=>t==="auto",parse:t=>t},V_=t=>s=>s.test(t),z_=[$u,Ht,io,HA,MQ,IQ,qT],w5=t=>z_.find(V_(t));function $T(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c_(t):!0}const XT=new Set(["brightness","contrast","saturate","opacity"]);function YT(t){const[s,r]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[a]=r.match(w1)||[];if(!a)return t;const i=r.replace(a,"");let o=XT.has(s)?1:0;return a!==r&&(o*=100),s+"("+o+i+")"}const WT=/\b([a-z-]*)\(.*?\)/gu,ty={...ac,getAnimatableNone:t=>{const s=t.match(WT);return s?s.map(YT).join(" "):t}},N5={...$u,transform:Math.round},JT={rotate:HA,rotateX:HA,rotateY:HA,rotateZ:HA,scale:Gm,scaleX:Gm,scaleY:Gm,scaleZ:Gm,skew:HA,skewX:HA,skewY:HA,distance:Ht,translateX:Ht,translateY:Ht,translateZ:Ht,x:Ht,y:Ht,z:Ht,perspective:Ht,transformPerspective:Ht,opacity:Bf,originX:c5,originY:c5,originZ:Ht},U1={borderWidth:Ht,borderTopWidth:Ht,borderRightWidth:Ht,borderBottomWidth:Ht,borderLeftWidth:Ht,borderRadius:Ht,radius:Ht,borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomRightRadius:Ht,borderBottomLeftRadius:Ht,width:Ht,maxWidth:Ht,height:Ht,maxHeight:Ht,top:Ht,right:Ht,bottom:Ht,left:Ht,padding:Ht,paddingTop:Ht,paddingRight:Ht,paddingBottom:Ht,paddingLeft:Ht,margin:Ht,marginTop:Ht,marginRight:Ht,marginBottom:Ht,marginLeft:Ht,backgroundPositionX:Ht,backgroundPositionY:Ht,...JT,zIndex:N5,fillOpacity:Bf,strokeOpacity:Bf,numOctaves:N5},ZT={...U1,color:na,backgroundColor:na,outlineColor:na,fill:na,stroke:na,borderColor:na,borderTopColor:na,borderRightColor:na,borderBottomColor:na,borderLeftColor:na,filter:ty,WebkitFilter:ty},K_=t=>ZT[t];function G_(t,s){let r=K_(t);return r!==ty&&(r=ac),r.getAnimatableNone?r.getAnimatableNone(s):void 0}const e7=new Set(["auto","none","0"]);function t7(t,s,r){let a=0,i;for(;a<t.length&&!i;){const o=t[a];typeof o=="string"&&!e7.has(o)&&_f(o).values.length&&(i=t[a]),a++}if(i&&r)for(const o of s)t[o]=G_(r,i)}class s7 extends E1{constructor(s,r,a,i,o){super(s,r,a,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let h=s[u];if(typeof h=="string"&&(h=h.trim(),v1(h))){const f=H_(h,r.current);f!==void 0&&(s[u]=f),u===s.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!P_.has(a)||s.length!==2)return;const[i,o]=s,c=w5(i),A=w5(o);if(c!==A)if(x5(c)&&x5(A))for(let u=0;u<s.length;u++){const h=s[u];typeof h=="string"&&(s[u]=parseFloat(h))}else Wc[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:r}=this,a=[];for(let i=0;i<s.length;i++)(s[i]===null||$T(s[i]))&&a.push(i);a.length&&t7(s,a,r)}measureInitialState(){const{element:s,unresolvedKeyframes:r,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&s.getValue(a,i).jump(i,!1)}measureEndState(){const{element:s,name:r,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const i=s.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,c=a[o];a[o]=Wc[r](s.measureViewportBox(),window.getComputedStyle(s.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([A,u])=>{s.getValue(A).set(u)}),this.resolveNoneKeyframes()}}function r7(t,s,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const i=r?.[t]??a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const q_=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function $_(t){return A_(t)&&"offsetHeight"in t}const j5=30,a7=t=>!isNaN(parseFloat(t));class n7{constructor(s,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const i=zn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=r.owner}setCurrent(s){this.current=s,this.updatedAt=zn.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=a7(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,r){this.events[s]||(this.events[s]=new x1);const a=this.events[s].add(r);return s==="change"?()=>{a(),yr.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,r){this.passiveEffect=s,this.stopPassiveEffect=r}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,r=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>j5)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,j5);return d_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(s){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=s(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ou(t,s){return new n7(t,s)}const{schedule:k1}=w_(queueMicrotask,!1),vl={x:!1,y:!1};function X_(){return vl.x||vl.y}function i7(t){return t==="x"||t==="y"?vl[t]?null:(vl[t]=!0,()=>{vl[t]=!1}):vl.x||vl.y?null:(vl.x=vl.y=!0,()=>{vl.x=vl.y=!1})}function Y_(t,s){const r=r7(t),a=new AbortController,i={passive:!0,...s,signal:a.signal};return[r,i,()=>a.abort()]}function B5(t){return!(t.pointerType==="touch"||X_())}function l7(t,s,r={}){const[a,i,o]=Y_(t,r),c=A=>{if(!B5(A))return;const{target:u}=A,h=s(u,A);if(typeof h!="function"||!u)return;const f=g=>{B5(g)&&(h(g),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return a.forEach(A=>{A.addEventListener("pointerenter",c,i)}),o}const W_=(t,s)=>s?t===s?!0:W_(t,s.parentElement):!1,L1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,o7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A7(t){return o7.has(t.tagName)||t.tabIndex!==-1}const H0=new WeakSet;function _5(t){return s=>{s.key==="Enter"&&t(s)}}function Bx(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const c7=(t,s)=>{const r=t.currentTarget;if(!r)return;const a=_5(()=>{if(H0.has(r))return;Bx(r,"down");const i=_5(()=>{Bx(r,"up")}),o=()=>Bx(r,"cancel");r.addEventListener("keyup",i,s),r.addEventListener("blur",o,s)});r.addEventListener("keydown",a,s),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),s)};function C5(t){return L1(t)&&!X_()}function d7(t,s,r={}){const[a,i,o]=Y_(t,r),c=A=>{const u=A.currentTarget;if(!C5(A))return;H0.add(u);const h=s(u,A),f=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),H0.has(u)&&H0.delete(u),C5(x)&&typeof h=="function"&&h(x,{success:w})},g=x=>{f(x,u===window||u===document||r.useGlobalTarget||W_(u,x.target))},b=x=>{f(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return a.forEach(A=>{(r.useGlobalTarget?window:A).addEventListener("pointerdown",c,i),$_(A)&&(A.addEventListener("focus",h=>c7(h,i)),!A7(A)&&!A.hasAttribute("tabindex")&&(A.tabIndex=0))}),o}function J_(t){return A_(t)&&"ownerSVGElement"in t}function u7(t){return J_(t)&&t.tagName==="svg"}const an=t=>!!(t&&t.getVelocity),h7=[...z_,na,ac],f7=t=>h7.find(V_(t)),Q1=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function S5(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function m7(...t){return s=>{let r=!1;const a=t.map(i=>{const o=S5(i,s);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():S5(t[i],null)}}}}function g7(...t){return S.useCallback(m7(...t),t)}class p7 extends S.Component{getSnapshotBeforeUpdate(s){const r=this.props.childRef.current;if(r&&s.isPresent&&!this.props.isPresent){const a=r.offsetParent,i=$_(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x7({children:t,isPresent:s,anchorX:r,root:a}){const i=S.useId(),o=S.useRef(null),c=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:A}=S.useContext(Q1),u=g7(o,t?.ref);return S.useInsertionEffect(()=>{const{width:h,height:f,top:g,left:b,right:x}=c.current;if(s||!o.current||!h||!f)return;const w=r==="left"?`left: ${b}`:`right: ${x}`;o.current.dataset.motionPopId=i;const B=document.createElement("style");A&&(B.nonce=A);const j=a??document.head;return j.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{j.contains(B)&&j.removeChild(B)}},[s]),e.jsx(p7,{isPresent:s,childRef:o,sizeRef:c,children:S.cloneElement(t,{ref:u})})}const b7=({children:t,initial:s,isPresent:r,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:c,anchorX:A,root:u})=>{const h=u1(y7),f=S.useId();let g=!0,b=S.useMemo(()=>(g=!1,{id:f,initial:s,isPresent:r,custom:i,onExitComplete:x=>{h.set(x,!0);for(const w of h.values())if(!w)return;a&&a()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[r,h,a]);return o&&g&&(b={...b}),S.useMemo(()=>{h.forEach((x,w)=>h.set(w,!1))},[r]),S.useEffect(()=>{!r&&!h.size&&a&&a()},[r]),c==="popLayout"&&(t=e.jsx(x7,{isPresent:r,anchorX:A,root:u,children:t})),e.jsx(Lg.Provider,{value:b,children:t})};function y7(){return new Map}function Z_(t=!0){const s=S.useContext(Lg);if(s===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:i}=s,o=S.useId();S.useEffect(()=>{if(t)return i(o)},[t]);const c=S.useCallback(()=>t&&a&&a(o),[o,a,t]);return!r&&a?[!1,c]:[!0]}const qm=t=>t.key||"";function E5(t){const s=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&s.push(r)}),s}const ui=({children:t,custom:s,initial:r=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync",propagate:c=!1,anchorX:A="left",root:u})=>{const[h,f]=Z_(c),g=S.useMemo(()=>E5(t),[t]),b=c&&!h?[]:g.map(qm),x=S.useRef(!0),w=S.useRef(g),B=u1(()=>new Map),[j,_]=S.useState(g),[Q,E]=S.useState(g);l_(()=>{x.current=!1,w.current=g;for(let k=0;k<Q.length;k++){const q=qm(Q[k]);b.includes(q)?B.delete(q):B.get(q)!==!0&&B.set(q,!1)}},[Q,b.length,b.join("-")]);const T=[];if(g!==j){let k=[...g];for(let q=0;q<Q.length;q++){const K=Q[q],z=qm(K);b.includes(z)||(k.splice(q,0,K),T.push(K))}return o==="wait"&&T.length&&(k=T),E(E5(k)),_(g),null}const{forceRender:U}=S.useContext(d1);return e.jsx(e.Fragment,{children:Q.map(k=>{const q=qm(k),K=c&&!h?!1:g===Q||b.includes(q),z=()=>{if(B.has(q))B.set(q,!0);else return;let $=!0;B.forEach(D=>{D||($=!1)}),$&&(U?.(),E(w.current),c&&f?.(),a&&a())};return e.jsx(b7,{isPresent:K,initial:!x.current||r?void 0:!1,custom:s,presenceAffectsLayout:i,mode:o,root:u,onExitComplete:K?void 0:z,anchorX:A,children:k},q)})})},eC=S.createContext({strict:!1}),F5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hu={};for(const t in F5)Hu[t]={isEnabled:s=>F5[t].some(r=>!!s[r])};function v7(t){for(const s in t)Hu[s]={...Hu[s],...t[s]}}const w7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ag(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w7.has(t)}let tC=t=>!ag(t);function N7(t){typeof t=="function"&&(tC=s=>s.startsWith("on")?!ag(s):t(s))}try{N7(require("@emotion/is-prop-valid").default)}catch{}function j7(t,s,r){const a={};for(const i in t)i==="values"&&typeof t.values=="object"||(tC(i)||r===!0&&ag(i)||!s&&!ag(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}const Qg=S.createContext({});function Tg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cf(t){return typeof t=="string"||Array.isArray(t)}const T1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D1=["initial",...T1];function Dg(t){return Tg(t.animate)||D1.some(s=>Cf(t[s]))}function sC(t){return!!(Dg(t)||t.variants)}function B7(t,s){if(Dg(t)){const{initial:r,animate:a}=t;return{initial:r===!1||Cf(r)?r:void 0,animate:Cf(a)?a:void 0}}return t.inherit!==!1?s:{}}function _7(t){const{initial:s,animate:r}=B7(t,S.useContext(Qg));return S.useMemo(()=>({initial:s,animate:r}),[U5(s),U5(r)])}function U5(t){return Array.isArray(t)?t.join(" "):t}function k5(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Oh={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Ht.test(t))t=parseFloat(t);else return t;const r=k5(t,s.target.x),a=k5(t,s.target.y);return`${r}% ${a}%`}},C7={correct:(t,{treeScale:s,projectionDelta:r})=>{const a=t,i=ac.parse(t);if(i.length>5)return a;const o=ac.createTransformer(t),c=typeof i[0]!="number"?1:0,A=r.x.scale*s.x,u=r.y.scale*s.y;i[0+c]/=A,i[1+c]/=u;const h=Fr(A,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),o(i)}},sy={borderRadius:{...Oh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oh,borderTopRightRadius:Oh,borderBottomLeftRadius:Oh,borderBottomRightRadius:Oh,boxShadow:C7};function rC(t,{layout:s,layoutId:r}){return Yu.has(t)||t.startsWith("origin")||(s||r!==void 0)&&(!!sy[t]||t==="opacity")}const S7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E7=Xu.length;function F7(t,s,r){let a="",i=!0;for(let o=0;o<E7;o++){const c=Xu[o],A=t[c];if(A===void 0)continue;let u=!0;if(typeof A=="number"?u=A===(c.startsWith("scale")?1:0):u=parseFloat(A)===0,!u||r){const h=q_(A,U1[c]);if(!u){i=!1;const f=S7[c]||c;a+=`${f}(${h}) `}r&&(s[c]=h)}}return a=a.trim(),r?a=r(s,i?"":a):i&&(a="none"),a}function I1(t,s,r){const{style:a,vars:i,transformOrigin:o}=t;let c=!1,A=!1;for(const u in s){const h=s[u];if(Yu.has(u)){c=!0;continue}else if(j_(u)){i[u]=h;continue}else{const f=q_(h,U1[u]);u.startsWith("origin")?(A=!0,o[u]=f):a[u]=f}}if(s.transform||(c||r?a.transform=F7(s,t.transform,r):a.transform&&(a.transform="none")),A){const{originX:u="50%",originY:h="50%",originZ:f=0}=o;a.transformOrigin=`${u} ${h} ${f}`}}const M1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aC(t,s,r){for(const a in s)!an(s[a])&&!rC(a,r)&&(t[a]=s[a])}function U7({transformTemplate:t},s){return S.useMemo(()=>{const r=M1();return I1(r,s,t),Object.assign({},r.vars,r.style)},[s])}function k7(t,s){const r=t.style||{},a={};return aC(a,r,t),Object.assign(a,U7(t,s)),a}function L7(t,s){const r={},a=k7(t,s);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const Q7={offset:"stroke-dashoffset",array:"stroke-dasharray"},T7={offset:"strokeDashoffset",array:"strokeDasharray"};function D7(t,s,r=1,a=0,i=!0){t.pathLength=1;const o=i?Q7:T7;t[o.offset]=Ht.transform(-a);const c=Ht.transform(s),A=Ht.transform(r);t[o.array]=`${c} ${A}`}function nC(t,{attrX:s,attrY:r,attrScale:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...A},u,h,f){if(I1(t,A,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b}=t;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=f?.transformBox??"fill-box",delete g.transformBox),s!==void 0&&(g.x=s),r!==void 0&&(g.y=r),a!==void 0&&(g.scale=a),i!==void 0&&D7(g,i,o,c,!1)}const iC=()=>({...M1(),attrs:{}}),lC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I7(t,s,r,a){const i=S.useMemo(()=>{const o=iC();return nC(o,s,lC(a),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[s]);if(t.style){const o={};aC(o,t.style,t),i.style={...o,...i.style}}return i}const M7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R1(t){return typeof t!="string"||t.includes("-")?!1:!!(M7.indexOf(t)>-1||/[A-Z]/u.test(t))}function R7(t,s,r,{latestValues:a},i,o=!1){const A=(R1(t)?I7:L7)(s,a,i,t),u=j7(s,typeof t=="string",o),h=t!==S.Fragment?{...u,...A,ref:r}:{},{children:f}=s,g=S.useMemo(()=>an(f)?f.get():f,[f]);return S.createElement(t,{...h,children:g})}function L5(t){const s=[{},{}];return t?.values.forEach((r,a)=>{s[0][a]=r.get(),s[1][a]=r.getVelocity()}),s}function O1(t,s,r,a){if(typeof s=="function"){const[i,o]=L5(a);s=s(r!==void 0?r:t.custom,i,o)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[i,o]=L5(a);s=s(r!==void 0?r:t.custom,i,o)}return s}function P0(t){return an(t)?t.get():t}function O7({scrapeMotionValuesFromProps:t,createRenderState:s},r,a,i){return{latestValues:H7(r,a,i,t),renderState:s()}}function H7(t,s,r,a){const i={},o=a(t,{});for(const b in o)i[b]=P0(o[b]);let{initial:c,animate:A}=t;const u=Dg(t),h=sC(t);s&&h&&!u&&t.inherit!==!1&&(c===void 0&&(c=s.initial),A===void 0&&(A=s.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const g=f?A:c;if(g&&typeof g!="boolean"&&!Tg(g)){const b=Array.isArray(g)?g:[g];for(let x=0;x<b.length;x++){const w=O1(t,b[x]);if(w){const{transitionEnd:B,transition:j,..._}=w;for(const Q in _){let E=_[Q];if(Array.isArray(E)){const T=f?E.length-1:0;E=E[T]}E!==null&&(i[Q]=E)}for(const Q in B)i[Q]=B[Q]}}}return i}const oC=t=>(s,r)=>{const a=S.useContext(Qg),i=S.useContext(Lg),o=()=>O7(t,s,a,i);return r?o():u1(o)};function H1(t,s,r){const{style:a}=t,i={};for(const o in a)(an(a[o])||s.style&&an(s.style[o])||rC(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=a[o]);return i}const P7=oC({scrapeMotionValuesFromProps:H1,createRenderState:M1});function AC(t,s,r){const a=H1(t,s,r);for(const i in t)if(an(t[i])||an(s[i])){const o=Xu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[o]=t[i]}return a}const V7=oC({scrapeMotionValuesFromProps:AC,createRenderState:iC}),z7=Symbol.for("motionComponentSymbol");function yu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K7(t,s,r){return S.useCallback(a=>{a&&t.onMount&&t.onMount(a),s&&(a?s.mount(a):s.unmount()),r&&(typeof r=="function"?r(a):yu(r)&&(r.current=a))},[s])}const P1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),G7="framerAppearId",cC="data-"+P1(G7),dC=S.createContext({});function q7(t,s,r,a,i){const{visualElement:o}=S.useContext(Qg),c=S.useContext(eC),A=S.useContext(Lg),u=S.useContext(Q1).reducedMotion,h=S.useRef(null);a=a||c.renderer,!h.current&&a&&(h.current=a(t,{visualState:s,parent:o,props:r,presenceContext:A,blockInitialAnimation:A?A.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=S.useContext(dC);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&$7(h.current,r,i,g);const b=S.useRef(!1);S.useInsertionEffect(()=>{f&&b.current&&f.update(r,A)});const x=r[cC],w=S.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return l_(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),w.current=!1),f.enteringChildren=void 0)}),f}function $7(t,s,r,a){const{layoutId:i,layout:o,drag:c,dragConstraints:A,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=s;t.projection=new r(t.latestValues,s["data-framer-portal-id"]?void 0:uC(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||A&&yu(A),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:f,layoutScroll:u,layoutRoot:h})}function uC(t){if(t)return t.options.allowProjection!==!1?t.projection:uC(t.parent)}function _x(t,{forwardMotionProps:s=!1}={},r,a){r&&v7(r);const i=R1(t)?V7:P7;function o(A,u){let h;const f={...S.useContext(Q1),...A,layoutId:X7(A)},{isStatic:g}=f,b=_7(A),x=i(A,g);if(!g&&h1){Y7();const w=W7(f);h=w.MeasureLayout,b.visualElement=q7(t,x,f,a,w.ProjectionNode)}return e.jsxs(Qg.Provider,{value:b,children:[h&&b.visualElement?e.jsx(h,{visualElement:b.visualElement,...f}):null,R7(t,A,K7(x,b.visualElement,u),x,g,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=S.forwardRef(o);return c[z7]=t,c}function X7({layoutId:t}){const s=S.useContext(d1).id;return s&&t!==void 0?s+"-"+t:t}function Y7(t,s){S.useContext(eC).strict}function W7(t){const{drag:s,layout:r}=Hu;if(!s&&!r)return{};const a={...s,...r};return{MeasureLayout:s?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function J7(t,s){if(typeof Proxy>"u")return _x;const r=new Map,a=(o,c)=>_x(o,c,t,s),i=(o,c)=>a(o,c);return new Proxy(i,{get:(o,c)=>c==="create"?a:(r.has(c)||r.set(c,_x(c,void 0,t,s)),r.get(c))})}function hC({top:t,left:s,right:r,bottom:a}){return{x:{min:s,max:r},y:{min:t,max:a}}}function Z7({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function eD(t,s){if(!s)return t;const r=s({x:t.left,y:t.top}),a=s({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Cx(t){return t===void 0||t===1}function ry({scale:t,scaleX:s,scaleY:r}){return!Cx(t)||!Cx(s)||!Cx(r)}function Hc(t){return ry(t)||fC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fC(t){return Q5(t.x)||Q5(t.y)}function Q5(t){return t&&t!=="0%"}function ng(t,s,r){const a=t-r,i=s*a;return r+i}function T5(t,s,r,a,i){return i!==void 0&&(t=ng(t,i,a)),ng(t,r,a)+s}function ay(t,s=0,r=1,a,i){t.min=T5(t.min,s,r,a,i),t.max=T5(t.max,s,r,a,i)}function mC(t,{x:s,y:r}){ay(t.x,s.translate,s.scale,s.originPoint),ay(t.y,r.translate,r.scale,r.originPoint)}const D5=.999999999999,I5=1.0000000000001;function tD(t,s,r,a=!1){const i=r.length;if(!i)return;s.x=s.y=1;let o,c;for(let A=0;A<i;A++){o=r[A],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&wu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(s.x*=c.x.scale,s.y*=c.y.scale,mC(t,c)),a&&Hc(o.latestValues)&&wu(t,o.latestValues))}s.x<I5&&s.x>D5&&(s.x=1),s.y<I5&&s.y>D5&&(s.y=1)}function vu(t,s){t.min=t.min+s,t.max=t.max+s}function M5(t,s,r,a,i=.5){const o=Fr(t.min,t.max,i);ay(t,s,r,o,a)}function wu(t,s){M5(t.x,s.x,s.scaleX,s.scale,s.originX),M5(t.y,s.y,s.scaleY,s.scale,s.originY)}function gC(t,s){return hC(eD(t.getBoundingClientRect(),s))}function sD(t,s,r){const a=gC(t,r),{scroll:i}=s;return i&&(vu(a.x,i.offset.x),vu(a.y,i.offset.y)),a}const R5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nu=()=>({x:R5(),y:R5()}),O5=()=>({min:0,max:0}),pa=()=>({x:O5(),y:O5()}),ny={current:null},pC={current:!1};function rD(){if(pC.current=!0,!!h1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>ny.current=t.matches;t.addEventListener("change",s),s()}else ny.current=!1}const aD=new WeakMap;function nD(t,s,r){for(const a in s){const i=s[a],o=r[a];if(an(i))t.addValue(a,i);else if(an(o))t.addValue(a,Ou(i,{owner:t}));else if(o!==i)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(a);t.addValue(a,Ou(c!==void 0?c:i,{owner:t}))}}for(const a in r)s[a]===void 0&&t.removeValue(a);return s}const H5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iD{scrapeMotionValuesFromProps(s,r,a){return{}}constructor({parent:s,props:r,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},A={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=E1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=zn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,yr.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=h,this.parent=s,this.props=r,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=i,this.options=A,this.blockInitialAnimation=!!o,this.isControllingVariants=Dg(r),this.isVariantNode=sC(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const b in g){const x=g[b];u[b]!==void 0&&an(x)&&x.set(u[b])}}mount(s){this.current=s,aD.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),pC.current||rD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ny.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),rc(this.notifyUpdate),rc(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,r){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=Yu.has(s);a&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",c=>{this.latestValues[s]=c,this.props.onUpdate&&yr.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,s,r)),this.valueSubscriptions.set(s,()=>{i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Hu){const r=Hu[s];if(!r)continue;const{isEnabled:a,Feature:i}=r;if(!this.features[s]&&i&&a(this.props)&&(this.features[s]=new i(this)),this.features[s]){const o=this.features[s];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pa()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,r){this.latestValues[s]=r}update(s,r){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<H5.length;a++){const i=H5[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=s[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=nD(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(s),()=>r.variantChildren.delete(s)}addValue(s,r){const a=this.values.get(s);r!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,r),this.values.set(s,r),this.latestValues[s]=r.get())}removeValue(s){this.values.delete(s);const r=this.valueSubscriptions.get(s);r&&(r(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,r){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&r!==void 0&&(a=Ou(r===null?void 0:r,{owner:this}),this.addValue(s,a)),a}readValue(s,r){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(o_(a)||c_(a))?a=parseFloat(a):!f7(a)&&ac.test(r)&&(a=G_(s,r)),this.setBaseTarget(s,an(a)?a.get():a)),an(a)?a.get():a}setBaseTarget(s,r){this.baseTarget[s]=r}getBaseTarget(s){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=O1(this.props,r,this.presenceContext?.custom);o&&(a=o[s])}if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,s);return i!==void 0&&!an(i)?i:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,r){return this.events[s]||(this.events[s]=new x1),this.events[s].add(r)}notify(s,...r){this.events[s]&&this.events[s].notify(...r)}scheduleRenderMicrotask(){k1.render(this.render)}}class xC extends iD{constructor(){super(...arguments),this.KeyframeResolver=s7}sortInstanceNodePosition(s,r){return s.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(s,r){return s.style?s.style[r]:void 0}removeValueFromRenderState(s,{vars:r,style:a}){delete r[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;an(s)&&(this.childSubscription=s.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bC(t,{style:s,vars:r},a,i){const o=t.style;let c;for(c in s)o[c]=s[c];i?.applyProjectionStyles(o,a);for(c in r)o.setProperty(c,r[c])}function lD(t){return window.getComputedStyle(t)}class oD extends xC{constructor(){super(...arguments),this.type="html",this.renderInstance=bC}readValueFromInstance(s,r){if(Yu.has(r))return this.projection?.isProjecting?Xb(r):vT(s,r);{const a=lD(s),i=(j_(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(s,{transformPagePoint:r}){return gC(s,r)}build(s,r,a){I1(s,r,a.transformTemplate)}scrapeMotionValuesFromProps(s,r,a){return H1(s,r,a)}}const yC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AD(t,s,r,a){bC(t,s,void 0,a);for(const i in s.attrs)t.setAttribute(yC.has(i)?i:P1(i),s.attrs[i])}class cD extends xC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pa}getBaseTargetFromProps(s,r){return s[r]}readValueFromInstance(s,r){if(Yu.has(r)){const a=K_(r);return a&&a.default||0}return r=yC.has(r)?r:P1(r),s.getAttribute(r)}scrapeMotionValuesFromProps(s,r,a){return AC(s,r,a)}build(s,r,a){nC(s,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,r,a,i){AD(s,r,a,i)}mount(s){this.isSVGTag=lC(s.tagName),super.mount(s)}}const dD=(t,s)=>R1(t)?new cD(s):new oD(s,{allowProjection:t!==S.Fragment});function Fu(t,s,r){const a=t.getProps();return O1(a,s,r!==void 0?r:a.custom,t)}const iy=t=>Array.isArray(t);function uD(t,s,r){t.hasValue(s)?t.getValue(s).set(r):t.addValue(s,Ou(r))}function hD(t){return iy(t)?t[t.length-1]||0:t}function fD(t,s){const r=Fu(t,s);let{transitionEnd:a={},transition:i={},...o}=r||{};o={...o,...a};for(const c in o){const A=hD(o[c]);uD(t,c,A)}}function mD(t){return!!(an(t)&&t.add)}function ly(t,s){const r=t.getValue("willChange");if(mD(r))return r.add(s);if(!r&&sA.WillChange){const a=new sA.WillChange("auto");t.addValue("willChange",a),a.add(s)}}function vC(t){return t.props[cC]}const gD=t=>t!==null;function pD(t,{repeat:s,repeatType:r="loop"},a){const i=t.filter(gD),o=s&&r!=="loop"&&s%2===1?0:i.length-1;return i[o]}const xD={type:"spring",stiffness:500,damping:25,restSpeed:10},bD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yD={type:"keyframes",duration:.8},vD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wD=(t,{keyframes:s})=>s.length>2?yD:Yu.has(t)?t.startsWith("scale")?bD(s[1]):xD:vD;function ND({when:t,delay:s,delayChildren:r,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:A,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const V1=(t,s,r,a={},i,o)=>c=>{const A=F1(a,t)||{},u=A.delay||a.delay||0;let{elapsed:h=0}=a;h=h-no(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:s.getVelocity(),...A,delay:-h,onUpdate:b=>{s.set(b),A.onUpdate&&A.onUpdate(b)},onComplete:()=>{c(),A.onComplete&&A.onComplete()},name:t,motionValue:s,element:o?void 0:i};ND(A)||Object.assign(f,wD(t,f)),f.duration&&(f.duration=no(f.duration)),f.repeatDelay&&(f.repeatDelay=no(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(ey(f),f.delay===0&&(g=!0)),(sA.instantAnimations||sA.skipAnimations)&&(g=!0,ey(f),f.delay=0),f.allowFlatten=!A.type&&!A.ease,g&&!o&&s.get()!==void 0){const b=pD(f.keyframes,A);if(b!==void 0){yr.update(()=>{f.onUpdate(b),f.onComplete()});return}}return A.isSync?new S1(f):new zT(f)};function jD({protectedKeys:t,needsAnimating:s},r){const a=t.hasOwnProperty(r)&&s[r]!==!0;return s[r]=!1,a}function wC(t,s,{delay:r=0,transitionOverride:a,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...A}=s;a&&(o=a);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in A){const g=t.getValue(f,t.latestValues[f]??null),b=A[f];if(b===void 0||h&&jD(h,f))continue;const x={delay:r,...F1(o||{},f)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!x.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const _=vC(t);if(_){const Q=window.MotionHandoffAnimation(_,f,yr);Q!==null&&(x.startTime=Q,B=!0)}}ly(t,f),g.start(V1(f,g,b,t.shouldReduceMotion&&P_.has(f)?{type:!1}:x,t,B));const j=g.animation;j&&u.push(j)}return c&&Promise.all(u).then(()=>{yr.update(()=>{c&&fD(t,c)})}),u}function NC(t,s,r,a=0,i=1){const o=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(s),c=t.size,A=(c-1)*a;return typeof r=="function"?r(o,c):i===1?o*a:A-o*a}function oy(t,s,r={}){const a=Fu(t,s,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(wC(t,a,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:g}=i;return BD(t,s,u,h,f,g,r)}:()=>Promise.resolve(),{when:A}=i;if(A){const[u,h]=A==="beforeChildren"?[o,c]:[c,o];return u().then(()=>h())}else return Promise.all([o(),c(r.delay)])}function BD(t,s,r=0,a=0,i=0,o=1,c){const A=[];for(const u of t.variantChildren)u.notify("AnimationStart",s),A.push(oy(u,s,{...c,delay:r+(typeof a=="function"?0:a)+NC(t.variantChildren,u,a,i,o)}).then(()=>u.notify("AnimationComplete",s)));return Promise.all(A)}function _D(t,s,r={}){t.notify("AnimationStart",s);let a;if(Array.isArray(s)){const i=s.map(o=>oy(t,o,r));a=Promise.all(i)}else if(typeof s=="string")a=oy(t,s,r);else{const i=typeof s=="function"?Fu(t,s,r.custom):s;a=Promise.all(wC(t,i,r))}return a.then(()=>{t.notify("AnimationComplete",s)})}function jC(t,s){if(!Array.isArray(s))return!1;const r=s.length;if(r!==t.length)return!1;for(let a=0;a<r;a++)if(s[a]!==t[a])return!1;return!0}const CD=D1.length;function BC(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?BC(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const s={};for(let r=0;r<CD;r++){const a=D1[r],i=t.props[a];(Cf(i)||i===!1)&&(s[a]=i)}return s}const SD=[...T1].reverse(),ED=T1.length;function FD(t){return s=>Promise.all(s.map(({animation:r,options:a})=>_D(t,r,a)))}function UD(t){let s=FD(t),r=P5(),a=!0;const i=u=>(h,f)=>{const g=Fu(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:x,...w}=g;h={...h,...w,...x}}return h};function o(u){s=u(t)}function c(u){const{props:h}=t,f=BC(t.parent)||{},g=[],b=new Set;let x={},w=1/0;for(let j=0;j<ED;j++){const _=SD[j],Q=r[_],E=h[_]!==void 0?h[_]:f[_],T=Cf(E),U=_===u?Q.isActive:null;U===!1&&(w=j);let k=E===f[_]&&E!==h[_]&&T;if(k&&a&&t.manuallyAnimateOnMount&&(k=!1),Q.protectedKeys={...x},!Q.isActive&&U===null||!E&&!Q.prevProp||Tg(E)||typeof E=="boolean")continue;const q=kD(Q.prevProp,E);let K=q||_===u&&Q.isActive&&!k&&T||j>w&&T,z=!1;const $=Array.isArray(E)?E:[E];let D=$.reduce(i(_),{});U===!1&&(D={});const{prevResolvedValues:L={}}=Q,R={...L,...D},P=G=>{K=!0,b.has(G)&&(z=!0,b.delete(G)),Q.needsAnimating[G]=!0;const X=t.getValue(G);X&&(X.liveStyle=!1)};for(const G in R){const X=D[G],ie=L[G];if(x.hasOwnProperty(G))continue;let ge=!1;iy(X)&&iy(ie)?ge=!jC(X,ie):ge=X!==ie,ge?X!=null?P(G):b.add(G):X!==void 0&&b.has(G)?P(G):Q.protectedKeys[G]=!0}Q.prevProp=E,Q.prevResolvedValues=D,Q.isActive&&(x={...x,...D}),a&&t.blockInitialAnimation&&(K=!1);const re=k&&q;K&&(!re||z)&&g.push(...$.map(G=>{const X={type:_};if(typeof G=="string"&&a&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:ie}=t,ge=Fu(ie,G);if(ie.enteringChildren&&ge){const{delayChildren:ee}=ge.transition||{};X.delay=NC(ie.enteringChildren,t,ee)}}return{animation:G,options:X}}))}if(b.size){const j={};if(typeof h.initial!="boolean"){const _=Fu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(j.transition=_.transition)}b.forEach(_=>{const Q=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),j[_]=Q??null}),g.push({animation:j})}let B=!!g.length;return a&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(B=!1),a=!1,B?s(g):Promise.resolve()}function A(u,h){if(r[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(u,h)),r[u].isActive=h;const f=c(u);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:c,setActive:A,setAnimateFunction:o,getState:()=>r,reset:()=>{r=P5()}}}function kD(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!jC(s,t):!1}function Rc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P5(){return{animate:Rc(!0),whileInView:Rc(),whileHover:Rc(),whileTap:Rc(),whileDrag:Rc(),whileFocus:Rc(),exit:Rc()}}class lc{constructor(s){this.isMounted=!1,this.node=s}update(){}}class LD extends lc{constructor(s){super(s),s.animationState||(s.animationState=UD(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Tg(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:r}=this.node.prevProps||{};s!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QD=0;class TD extends lc{constructor(){super(...arguments),this.id=QD++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const i=this.node.animationState.setActive("exit",!s);r&&!s&&i.then(()=>{r(this.id)})}mount(){const{register:s,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const DD={animation:{Feature:LD},exit:{Feature:TD}};function Sf(t,s,r,a={passive:!0}){return t.addEventListener(s,r,a),()=>t.removeEventListener(s,r)}function qf(t){return{point:{x:t.pageX,y:t.pageY}}}const ID=t=>s=>L1(s)&&t(s,qf(s));function lf(t,s,r,a){return Sf(t,s,ID(r),a)}const _C=1e-4,MD=1-_C,RD=1+_C,CC=.01,OD=0-CC,HD=0+CC;function wn(t){return t.max-t.min}function PD(t,s,r){return Math.abs(t-s)<=r}function V5(t,s,r,a=.5){t.origin=a,t.originPoint=Fr(s.min,s.max,t.origin),t.scale=wn(r)/wn(s),t.translate=Fr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=MD&&t.scale<=RD||isNaN(t.scale))&&(t.scale=1),(t.translate>=OD&&t.translate<=HD||isNaN(t.translate))&&(t.translate=0)}function of(t,s,r,a){V5(t.x,s.x,r.x,a?a.originX:void 0),V5(t.y,s.y,r.y,a?a.originY:void 0)}function z5(t,s,r){t.min=r.min+s.min,t.max=t.min+wn(s)}function VD(t,s,r){z5(t.x,s.x,r.x),z5(t.y,s.y,r.y)}function K5(t,s,r){t.min=s.min-r.min,t.max=t.min+wn(s)}function ig(t,s,r){K5(t.x,s.x,r.x),K5(t.y,s.y,r.y)}function Qi(t){return[t("x"),t("y")]}const SC=({current:t})=>t?t.ownerDocument.defaultView:null,G5=(t,s)=>Math.abs(t-s);function zD(t,s){const r=G5(t.x,s.x),a=G5(t.y,s.y);return Math.sqrt(r**2+a**2)}class EC{constructor(s,r,{transformPagePoint:a,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ex(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=zD(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:B}=b,{timestamp:j}=Pa;this.history.push({...B,timestamp:j});const{onStart:_,onMove:Q}=this.handlers;x||(_&&_(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Sx(x,this.transformPagePoint),yr.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:w,onSessionEnd:B,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ex(b.type==="pointercancel"?this.lastMoveEventInfo:Sx(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(b,_),B&&B(b,_)},!L1(s))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=i||window;const A=qf(s),u=Sx(A,this.transformPagePoint),{point:h}=u,{timestamp:f}=Pa;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=r;g&&g(s,Ex(u,this.history)),this.removeListeners=zf(lf(this.contextWindow,"pointermove",this.handlePointerMove),lf(this.contextWindow,"pointerup",this.handlePointerUp),lf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),rc(this.updatePoint)}}function Sx(t,s){return s?{point:s(t.point)}:t}function q5(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Ex({point:t},s){return{point:t,delta:q5(t,FC(s)),offset:q5(t,KD(s)),velocity:GD(s,.1)}}function KD(t){return t[0]}function FC(t){return t[t.length-1]}function GD(t,s){if(t.length<2)return{x:0,y:0};let r=t.length-1,a=null;const i=FC(t);for(;r>=0&&(a=t[r],!(i.timestamp-a.timestamp>no(s)));)r--;if(!a)return{x:0,y:0};const o=Oi(i.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function qD(t,{min:s,max:r},a){return s!==void 0&&t<s?t=a?Fr(s,t,a.min):Math.max(t,s):r!==void 0&&t>r&&(t=a?Fr(r,t,a.max):Math.min(t,r)),t}function $5(t,s,r){return{min:s!==void 0?t.min+s:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function $D(t,{top:s,left:r,bottom:a,right:i}){return{x:$5(t.x,r,i),y:$5(t.y,s,a)}}function X5(t,s){let r=s.min-t.min,a=s.max-t.max;return s.max-s.min<t.max-t.min&&([r,a]=[a,r]),{min:r,max:a}}function XD(t,s){return{x:X5(t.x,s.x),y:X5(t.y,s.y)}}function YD(t,s){let r=.5;const a=wn(t),i=wn(s);return i>a?r=jf(s.min,s.max-a,t.min):a>i&&(r=jf(t.min,t.max-i,s.min)),tA(0,1,r)}function WD(t,s){const r={};return s.min!==void 0&&(r.min=s.min-t.min),s.max!==void 0&&(r.max=s.max-t.min),r}const Ay=.35;function JD(t=Ay){return t===!1?t=0:t===!0&&(t=Ay),{x:Y5(t,"left","right"),y:Y5(t,"top","bottom")}}function Y5(t,s,r){return{min:W5(t,s),max:W5(t,r)}}function W5(t,s){return typeof t=="number"?t:t[s]||0}const ZD=new WeakMap;class eI{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pa(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(qf(g).point)},c=(g,b)=>{const{drag:x,dragPropagation:w,onDragStart:B}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i7(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qi(_=>{let Q=this.getAxisMotionValue(_).get()||0;if(io.test(Q)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[_];T&&(Q=wn(T)*(parseFloat(Q)/100))}}this.originPoint[_]=Q}),B&&yr.postRender(()=>B(g,b)),ly(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},A=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:B,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=b;if(w&&this.currentDirection===null){this.currentDirection=tI(_),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",b.point,_),this.updateAxis("y",b.point,_),this.visualElement.render(),j&&j(g,b)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new EC(s,{onSessionStart:o,onStart:c,onMove:A,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:a,contextWindow:SC(this.visualElement)})}stop(s,r){const a=s||this.latestPointerEvent,i=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!a)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:A}=this.getProps();A&&yr.postRender(()=>A(a,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:r}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(s,r,a){const{drag:i}=this.getProps();if(!a||!$m(s,i,this.currentDirection))return;const o=this.getAxisMotionValue(s);let c=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(c=qD(c,this.constraints[s],this.elastic[s])),o.set(c)}resolveConstraints(){const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;s&&yu(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=$D(a.layoutBox,s):this.constraints=!1,this.elastic=JD(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Qi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=WD(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:r}=this.getProps();if(!s||!yu(s))return!1;const a=s.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=sD(a,i.root,this.visualElement.getTransformPagePoint());let c=XD(i.layout.layoutBox,o);if(r){const A=r(Z7(c));this.hasMutatedConstraints=!!A,A&&(c=hC(A))}return c}startAnimation(s){const{drag:r,dragMomentum:a,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:A}=this.getProps(),u=this.constraints||{},h=Qi(f=>{if(!$m(f,r,this.currentDirection))return;let g=u&&u[f]||{};c&&(g={min:0,max:0});const b=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:a?s[f]:0,bounceStiffness:b,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(A)}startAxisValueAnimation(s,r){const a=this.getAxisMotionValue(s);return ly(this.visualElement,s),a.start(V1(s,a,0,r,this.visualElement,!1))}stopAnimation(){Qi(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Qi(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const r=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),i=a[r];return i||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){Qi(r=>{const{drag:a}=this.getProps();if(!$m(r,a,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:c,max:A}=i.layout.layoutBox[r];o.set(s[r]-Fr(c,A,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!yu(r)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qi(c=>{const A=this.getAxisMotionValue(c);if(A&&this.constraints!==!1){const u=A.get();i[c]=YD({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Qi(c=>{if(!$m(c,s,null))return;const A=this.getAxisMotionValue(c),{min:u,max:h}=this.constraints[c];A.set(Fr(u,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;ZD.set(this.visualElement,this);const s=this.visualElement.current,r=lf(s,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),a=()=>{const{dragConstraints:u}=this.getProps();yu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),yr.read(a);const c=Sf(window,"resize",()=>this.scalePositionWithinConstraints()),A=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qi(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=u[f].translate,g.set(g.get()+u[f].translate))}),this.visualElement.render())});return()=>{c(),r(),o(),A&&A()}}getProps(){const s=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=Ay,dragMomentum:A=!0}=s;return{...s,drag:r,dragDirectionLock:a,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:A}}}function $m(t,s,r){return(s===!0||s===t)&&(r===null||r===t)}function tI(t,s=10){let r=null;return Math.abs(t.y)>s?r="y":Math.abs(t.x)>s&&(r="x"),r}class sI extends lc{constructor(s){super(s),this.removeGroupControls=Vi,this.removeListeners=Vi,this.controls=new eI(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vi}unmount(){this.removeGroupControls(),this.removeListeners()}}const J5=t=>(s,r)=>{t&&yr.postRender(()=>t(s,r))};class rI extends lc{constructor(){super(...arguments),this.removePointerDownListener=Vi}onPointerDown(s){this.session=new EC(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SC(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:r,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:J5(s),onStart:J5(r),onMove:a,onEnd:(o,c)=>{delete this.session,i&&yr.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=lf(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const V0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fx=!1;class aI extends S.Component{componentDidMount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a,layoutId:i}=this.props,{projection:o}=s;o&&(r.group&&r.group.add(o),a&&a.register&&i&&a.register(o),Fx&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),V0.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:r,visualElement:a,drag:i,isPresent:o}=this.props,{projection:c}=a;return c&&(c.isPresent=o,Fx=!0,i||s.layoutDependency!==r||r===void 0||s.isPresent!==o?c.willUpdate():this.safeToRemove(),s.isPresent!==o&&(o?c.promote():c.relegate()||yr.postRender(()=>{const A=c.getStack();(!A||!A.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),k1.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:i}=s;Fx=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function UC(t){const[s,r]=Z_(),a=S.useContext(d1);return e.jsx(aI,{...t,layoutGroup:a,switchLayoutGroup:S.useContext(dC),isPresent:s,safeToRemove:r})}function nI(t,s,r){const a=an(t)?t:Ou(t);return a.start(V1("",a,s,r)),a.animation}const iI=(t,s)=>t.depth-s.depth;class lI{constructor(){this.children=[],this.isDirty=!1}add(s){f1(this.children,s),this.isDirty=!0}remove(s){m1(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(iI),this.isDirty=!1,this.children.forEach(s)}}function oI(t,s){const r=zn.now(),a=({timestamp:i})=>{const o=i-r;o>=s&&(rc(a),t(o-s))};return yr.setup(a,!0),()=>rc(a)}const kC=["TopLeft","TopRight","BottomLeft","BottomRight"],AI=kC.length,Z5=t=>typeof t=="string"?parseFloat(t):t,eN=t=>typeof t=="number"||Ht.test(t);function cI(t,s,r,a,i,o){i?(t.opacity=Fr(0,r.opacity??1,dI(a)),t.opacityExit=Fr(s.opacity??1,0,uI(a))):o&&(t.opacity=Fr(s.opacity??1,r.opacity??1,a));for(let c=0;c<AI;c++){const A=`border${kC[c]}Radius`;let u=tN(s,A),h=tN(r,A);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||eN(u)===eN(h)?(t[A]=Math.max(Fr(Z5(u),Z5(h),a),0),(io.test(h)||io.test(u))&&(t[A]+="%")):t[A]=h}(s.rotate||r.rotate)&&(t.rotate=Fr(s.rotate||0,r.rotate||0,a))}function tN(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const dI=LC(0,.5,x_),uI=LC(.5,.95,Vi);function LC(t,s,r){return a=>a<t?0:a>s?1:r(jf(t,s,a))}function sN(t,s){t.min=s.min,t.max=s.max}function xl(t,s){sN(t.x,s.x),sN(t.y,s.y)}function rN(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function aN(t,s,r,a,i){return t-=s,t=ng(t,1/r,a),i!==void 0&&(t=ng(t,1/i,a)),t}function hI(t,s=0,r=1,a=.5,i,o=t,c=t){if(io.test(s)&&(s=parseFloat(s),s=Fr(c.min,c.max,s/100)-c.min),typeof s!="number")return;let A=Fr(o.min,o.max,a);t===o&&(A-=s),t.min=aN(t.min,s,r,A,i),t.max=aN(t.max,s,r,A,i)}function nN(t,s,[r,a,i],o,c){hI(t,s[r],s[a],s[i],s.scale,o,c)}const fI=["x","scaleX","originX"],mI=["y","scaleY","originY"];function iN(t,s,r,a){nN(t.x,s,fI,r?r.x:void 0,a?a.x:void 0),nN(t.y,s,mI,r?r.y:void 0,a?a.y:void 0)}function lN(t){return t.translate===0&&t.scale===1}function QC(t){return lN(t.x)&&lN(t.y)}function oN(t,s){return t.min===s.min&&t.max===s.max}function gI(t,s){return oN(t.x,s.x)&&oN(t.y,s.y)}function AN(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function TC(t,s){return AN(t.x,s.x)&&AN(t.y,s.y)}function cN(t){return wn(t.x)/wn(t.y)}function dN(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class pI{constructor(){this.members=[]}add(s){f1(this.members,s),s.scheduleRender()}remove(s){if(m1(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(s){const r=this.members.findIndex(i=>s===i);if(r===0)return!1;let a;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(s,r){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,r&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:i}=s.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:r,resumingFrom:a}=s;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xI(t,s,r){let a="";const i=t.x.translate/s.x,o=t.y.translate/s.y,c=r?.z||0;if((i||o||c)&&(a=`translate3d(${i}px, ${o}px, ${c}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),r){const{transformPerspective:h,rotate:f,rotateX:g,rotateY:b,skewX:x,skewY:w}=r;h&&(a=`perspective(${h}px) ${a}`),f&&(a+=`rotate(${f}deg) `),g&&(a+=`rotateX(${g}deg) `),b&&(a+=`rotateY(${b}deg) `),x&&(a+=`skewX(${x}deg) `),w&&(a+=`skewY(${w}deg) `)}const A=t.x.scale*s.x,u=t.y.scale*s.y;return(A!==1||u!==1)&&(a+=`scale(${A}, ${u})`),a||"none"}const Ux=["","X","Y","Z"],bI=1e3;let yI=0;function kx(t,s,r,a){const{latestValues:i}=s;i[t]&&(r[t]=i[t],s.setStaticValue(t,0),a&&(a[t]=0))}function DC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const r=vC(s);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",yr,!(i||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&DC(a)}function IC({attachResizeListener:t,defaultParent:s,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(c={},A=s?.()){this.id=yI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NI),this.nodes.forEach(CI),this.nodes.forEach(SI),this.nodes.forEach(jI)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=A?A.root||A:this,this.path=A?[...A.path,A]:[],this.parent=A,this.depth=A?A.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new lI)}addEventListener(c,A){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new x1),this.eventHandlers.get(c).add(A)}notifyListeners(c,...A){const u=this.eventHandlers.get(c);u&&u.notify(...A)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=J_(c)&&!u7(c),this.instance=c;const{layoutId:A,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||A)&&(this.isLayoutDirty=!0),t){let f,g=0;const b=()=>this.root.updateBlockedByResize=!1;yr.read(()=>{g=window.innerWidth}),t(c,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,f&&f(),f=oI(b,250),V0.hasAnimatedSinceResize&&(V0.hasAnimatedSinceResize=!1,this.nodes.forEach(fN)))})}A&&this.root.registerSharedNode(A,this),this.options.animate!==!1&&h&&(A||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||LI,{onLayoutAnimationStart:B,onLayoutAnimationComplete:j}=h.getProps(),_=!this.targetLayout||!TC(this.targetLayout,x),Q=!g&&b;if(this.options.layoutRoot||this.resumeFrom||Q||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...F1(w,"layout"),onPlay:B,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,Q)}else g||fN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EI),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:A,layout:u}=this.options;if(A===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_I),this.nodes.forEach(vI),this.nodes.forEach(wI)):this.nodes.forEach(hN),this.clearAllSnapshots();const A=zn.now();Pa.delta=tA(0,1e3/60,A-Pa.timestamp),Pa.timestamp=A,Pa.isProcessing=!0,yx.update.process(Pa),yx.preRender.process(Pa),yx.render.process(Pa),Pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BI),this.sharedNodes.forEach(FI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=pa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:A}=this.options;A&&A.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let A=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(A=!1),A&&this.instance){const u=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,A=this.projectionDelta&&!QC(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;c&&this.instance&&(A||Hc(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const A=this.measurePageBox();let u=this.removeElementScroll(A);return c&&(u=this.removeTransform(u)),QI(u),{animationId:this.root.animationId,measuredBox:A,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return pa();const A=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(TI))){const{scroll:h}=this.root;h&&(vu(A.x,h.offset.x),vu(A.y,h.offset.y))}return A}removeElementScroll(c){const A=pa();if(xl(A,c),this.scroll?.wasRoot)return A;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:g}=h;h!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&xl(A,c),vu(A.x,f.offset.x),vu(A.y,f.offset.y))}return A}applyTransform(c,A=!1){const u=pa();xl(u,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];!A&&f.options.layoutScroll&&f.scroll&&f!==f.root&&wu(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Hc(f.latestValues)&&wu(u,f.latestValues)}return Hc(this.latestValues)&&wu(u,this.latestValues),u}removeTransform(c){const A=pa();xl(A,c);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Hc(h.latestValues))continue;ry(h.latestValues)&&h.updateSnapshot();const f=pa(),g=h.measurePageBox();xl(f,g),iN(A,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Hc(this.latestValues)&&iN(A,this.latestValues),A}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const A=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=A.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=A.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=A.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==A;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!this.layout||!(f||g))return;this.resolvedRelativeTargetAt=Pa.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pa(),this.targetWithTransforms=pa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xl(this.target,this.layout.layoutBox),mC(this.target,this.targetDelta)):xl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ry(this.parent.latestValues)||fC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,A,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pa(),this.relativeTargetOrigin=pa(),ig(this.relativeTargetOrigin,A,u),xl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),A=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),A&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Pa.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;xl(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;tD(this.layoutCorrected,this.treeScale,this.path,A),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pa());const{target:x}=c;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rN(this.prevProjectionDelta.x,this.projectionDelta.x),rN(this.prevProjectionDelta.y,this.projectionDelta.y)),of(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!dN(this.projectionDelta.x,this.prevProjectionDelta.x)||!dN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const A=this.getStack();A&&A.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nu(),this.projectionDelta=Nu(),this.projectionDeltaWithTransform=Nu()}setAnimationOrigin(c,A=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},g=Nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!A;const b=pa(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,B=x!==w,j=this.getStack(),_=!j||j.members.length<=1,Q=!!(B&&!_&&this.options.crossfade===!0&&!this.path.some(kI));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const U=T/1e3;mN(g.x,c.x,U),mN(g.y,c.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ig(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UI(this.relativeTarget,this.relativeTargetOrigin,b,U),E&&gI(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=pa()),xl(E,this.relativeTarget)),B&&(this.animationValues=f,cI(f,h,this.latestValues,U,Q,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yr.update(()=>{V0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ou(0)),this.currentAnimation=nI(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:A,target:u,layout:h,latestValues:f}=c;if(!(!A||!u||!h)){if(this!==c&&this.layout&&h&&MC(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||pa();const g=wn(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+g;const b=wn(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+b}xl(A,u),wu(A,f),of(this.projectionDeltaWithTransform,this.layoutCorrected,A,f)}}registerSharedNode(c,A){this.sharedNodes.has(c)||this.sharedNodes.set(c,new pI),this.sharedNodes.get(c).add(A);const h=A.options.initialPromotionConfig;A.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(A):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:A,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),A&&this.setOptions({transition:A})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let A=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(A=!0),!A)return;const h={};u.z&&kx("z",c,h,this.animationValues);for(let f=0;f<Ux.length;f++)kx(`rotate${Ux[f]}`,c,h,this.animationValues),kx(`skew${Ux[f]}`,c,h,this.animationValues);c.render();for(const f in h)c.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);c.scheduleRender()}applyProjectionStyles(c,A){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=P0(A?.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=P0(A?.pointerEvents)||""),this.hasProjected&&!Hc(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=xI(this.projectionDeltaWithTransform,this.treeScale,f);u&&(g=u(f,g)),c.transform=g;const{x:b,y:x}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,h.animationValues?c.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in sy){if(f[w]===void 0)continue;const{correct:B,applyTo:j,isCSSVariable:_}=sy[w],Q=g==="none"?f[w]:B(f[w],h);if(j){const E=j.length;for(let T=0;T<E;T++)c[j[T]]=Q}else _?this.options.visualElement.renderState.vars[w]=Q:c[w]=Q}this.options.layoutId&&(c.pointerEvents=h===this?P0(A?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(uN),this.root.sharedNodes.clear()}}}function vI(t){t.updateLayout()}function wI(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=s.source!==t.layout.source;i==="size"?Qi(f=>{const g=o?s.measuredBox[f]:s.layoutBox[f],b=wn(g);g.min=r[f].min,g.max=g.min+b}):MC(i,s.layoutBox,r)&&Qi(f=>{const g=o?s.measuredBox[f]:s.layoutBox[f],b=wn(r[f]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+b)});const c=Nu();of(c,r,s.layoutBox);const A=Nu();o?of(A,t.applyTransform(a,!0),s.measuredBox):of(A,r,s.layoutBox);const u=!QC(c);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:b}=f;if(g&&b){const x=pa();ig(x,s.layoutBox,g.layoutBox);const w=pa();ig(w,r,b.layoutBox),TC(x,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:A,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BI(t){t.clearSnapshot()}function uN(t){t.clearMeasurements()}function hN(t){t.isLayoutDirty=!1}function _I(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function fN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CI(t){t.resolveTargetDelta()}function SI(t){t.calcProjection()}function EI(t){t.resetSkewAndRotation()}function FI(t){t.removeLeadSnapshot()}function mN(t,s,r){t.translate=Fr(s.translate,0,r),t.scale=Fr(s.scale,1,r),t.origin=s.origin,t.originPoint=s.originPoint}function gN(t,s,r,a){t.min=Fr(s.min,r.min,a),t.max=Fr(s.max,r.max,a)}function UI(t,s,r,a){gN(t.x,s.x,r.x,a),gN(t.y,s.y,r.y,a)}function kI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LI={duration:.45,ease:[.4,0,.1,1]},pN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xN=pN("applewebkit/")&&!pN("chrome/")?Math.round:Vi;function bN(t){t.min=xN(t.min),t.max=xN(t.max)}function QI(t){bN(t.x),bN(t.y)}function MC(t,s,r){return t==="position"||t==="preserve-aspect"&&!PD(cN(s),cN(r),.2)}function TI(t){return t!==t.root&&t.scroll?.wasRoot}const DI=IC({attachResizeListener:(t,s)=>Sf(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lx={current:void 0},RC=IC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lx.current){const t=new DI({});t.mount(window),t.setOptions({layoutScroll:!0}),Lx.current=t}return Lx.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),II={pan:{Feature:rI},drag:{Feature:sI,ProjectionNode:RC,MeasureLayout:UC}};function yN(t,s,r){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,o=a[i];o&&yr.postRender(()=>o(s,qf(s)))}class MI extends lc{mount(){const{current:s}=this.node;s&&(this.unmount=l7(s,(r,a)=>(yN(this.node,a,"Start"),i=>yN(this.node,i,"End"))))}unmount(){}}class RI extends lc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(Sf(this.node.current,"focus",()=>this.onFocus()),Sf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vN(t,s,r){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),o=a[i];o&&yr.postRender(()=>o(s,qf(s)))}class OI extends lc{mount(){const{current:s}=this.node;s&&(this.unmount=d7(s,(r,a)=>(vN(this.node,a,"Start"),(i,{success:o})=>vN(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cy=new WeakMap,Qx=new WeakMap,HI=t=>{const s=cy.get(t.target);s&&s(t)},PI=t=>{t.forEach(HI)};function VI({root:t,...s}){const r=t||document;Qx.has(r)||Qx.set(r,{});const a=Qx.get(r),i=JSON.stringify(s);return a[i]||(a[i]=new IntersectionObserver(PI,{root:t,...s})),a[i]}function zI(t,s,r){const a=VI(s);return cy.set(t,r),a.observe(t),()=>{cy.delete(t),a.unobserve(t)}}const KI={some:0,all:1};class GI extends lc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:r,margin:a,amount:i="some",once:o}=s,c={root:r?r.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:KI[i]},A=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),b=h?f:g;b&&b(u)};return zI(this.node.current,c,A)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:r}=this.node;["amount","margin","root"].some(qI(s,r))&&this.startObserver()}unmount(){}}function qI({viewport:t={}},{viewport:s={}}={}){return r=>t[r]!==s[r]}const $I={inView:{Feature:GI},tap:{Feature:OI},focus:{Feature:RI},hover:{Feature:MI}},XI={layout:{ProjectionNode:RC,MeasureLayout:UC}},YI={...DD,...$I,...II,...XI},nt=J7(YI,dD);class Yq extends Ds.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught:",s,r)}render(){return this.state.hasError?e.jsxs("div",{className:"p-6 bg-red-50 text-red-800 rounded",children:[e.jsx("h3",{className:"font-bold mb-2",children:"Something went wrong rendering this form"}),e.jsx("pre",{className:"text-xs",children:String(this.state.error)})]}):this.props.children}}const Tx={company_name:"",registration_id:"",company_email:"",contact_no_1:"",contact_no_2:"",company_type:"vehicles",main_office_location:"",owner_name:"",owner_email:"",owner_contact:"",owner_cnic:"",owner_address:"",routes:[],vehicles:[],drivers:[],is_submitted:!1,agreed:!1};function WI({open:t=!1,onClose:s}){const[r,a]=S.useState(Tx),[i,o]=S.useState(!1),[c,A]=S.useState(!1),[u,h]=S.useState("");return S.useEffect(()=>{(!ya||typeof ya.get!="function")&&(console.error("axios is not configured or import path is wrong (../api/axiosConfig)."),h("Network client not available. Check axiosConfig import."))},[]),S.useEffect(()=>{if(!t)return;let f=!0;return(async()=>{try{if(!ya||typeof ya.get!="function")return;const g=await ya.get("/companies/company-detail/");if(!f)return;g&&g.data&&typeof g.data=="object"&&Object.keys(g.data).length?a(b=>({...Tx,...g.data,routes:Array.isArray(g.data.routes)?g.data.routes:[],vehicles:Array.isArray(g.data.vehicles)?g.data.vehicles:[],drivers:Array.isArray(g.data.drivers)?g.data.drivers:[],is_submitted:!!g.data.is_submitted,agreed:!!g.data.agreed})):a(Tx)}catch(g){console.error("Load draft error:",g),h("Unable to load draft (see console).")}})(),()=>{f=!1}},[t]),e.jsx("h1",{children:"Hello World - Passenger Registration"})}function dy({isModal:t=!1,onSuccessfulLogin:s}){const[r,a]=S.useState(""),[i,o]=S.useState(""),[c,A]=S.useState(""),[u,h]=S.useState(!1),f=Js(),g=Ur();g.state?.from;const b=g.state?.transport||null,x=async j=>{j.preventDefault(),A(""),h(!0);try{const Q=(await ya.post("/auth/login/",{username:r,password:i})).data||{},E=Q.access||Q.token||Q.accessToken,T=Q.refresh||Q.refreshToken,U=Q.role||Q.user_role||Q.account_type,k=Q.status||Q.company_status;if(localStorage.setItem("accessToken",E||""),localStorage.setItem("refreshToken",T||""),localStorage.setItem("access_token",E||""),localStorage.setItem("refresh_token",T||""),U&&localStorage.setItem("user_role",U),k&&localStorage.setItem("company_status",k),U==="passenger"){const q={name:Q.username||Q.name||Q.user&&(Q.user.username||Q.user.name)||"",email:Q.email||Q.user&&Q.user.email||"",contact:Q.phone_number||Q.contact||Q.phone||Q.user&&Q.user.phone_number||"",cnic:Q.cnic_or_passport||Q.cnic||Q.cnic_no||Q.user&&(Q.user.cnic_or_passport||Q.user.cnic)||""};localStorage.setItem("passenger_data",JSON.stringify(q)),localStorage.setItem("passenger_profile_data",JSON.stringify(q))}if(s&&s(),b){f("/book-seat",{state:{transport:b,fromCard:!0}});return}if(g.state?.vehicleDetails){const q=g.state.vehicleDetails;f(`/book-vehical/${q.id}`,{state:{vehicleDetails:q,fromCard:!0}});return}f(U==="passenger"?"/PassengerDashboard":U==="company"?k==="approved"?"/CompanyDashboard":"/CompanyProfileForm":U==="admin"?"/admin/dashboard":"/")}catch(_){console.error(" Login Error:",_.response?.data||_.message),A(_.response?.data?.detail||"Invalid username or password")}finally{h(!1)}},w=t?"p-2":"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 p-4",B=t?"w-full":"bg-white p-8 w-full max-w-md shadow-2xl rounded-3xl border-t-8 border-indigo-500 relative";return e.jsx("div",{className:w,children:e.jsxs("div",{className:B,children:[!t&&e.jsx("button",{onClick:()=>f("/"),className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(Is,{size:22})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-indigo-500 rounded-full w-16 h-16 mx-auto flex items-center justify-center mb-3 shadow-xl",children:e.jsx(sL,{size:30,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t?"Welcome Back!":"Login to Book Tickets"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sign in to continue your journey."})]}),c&&e.jsx("div",{className:"bg-red-50 text-red-700 border border-red-200 p-3 rounded-lg text-sm mb-4",children:c}),e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(rs,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-400"}),e.jsx("input",{type:"text",placeholder:"Username or Email",value:r,onChange:j=>a(j.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-indigo-500 outline-none transition"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_u,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-400"}),e.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:j=>o(j.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-indigo-500 outline-none transition"})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 mt-6 rounded-xl font-semibold text-lg shadow-md hover:shadow-xl transition-all disabled:opacity-60",children:u?"Logging In...":e.jsxs(e.Fragment,{children:["Login ",e.jsx(va,{size:18})]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Dont have an account?"," ",e.jsx("a",{href:"/Registration",className:"text-indigo-600 hover:text-indigo-800 font-semibold",children:"Register Now"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("a",{href:"/forgot-password",className:"text-sm text-gray-500 hover:text-indigo-600 transition-colors",children:"Forgot your password? Click hear"})})]})})}function JI(){const[t,s]=S.useState({username:"",email:"",phone_number:"",cnic_or_passport:"",address:"",password:"",password_confirmation:""}),[r,a]=S.useState(""),[i,o]=S.useState(!1),c=u=>{s({...t,[u.target.name]:u.target.value})},A=async u=>{u.preventDefault(),o(!0),a("");try{const h=await ya.post("/auth/register/passenger/",t);a(" Registration successful!"),console.log("Response:",h.data),s({username:"",email:"",phone_number:"",cnic_or_passport:"",address:"",password:"",password_confirmation:""})}catch(h){console.error("Error:",h.response?.data||h.message);const f=h.response?.data||h.response?.data&&JSON.stringify(h.response.data)||h.message;a(" Registration failed! "+(f||""))}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white shadow-xl rounded-2xl p-8 md:p-10",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-extrabold text-indigo-600",children:"Create Passenger Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Secure & quick  PTMS_GB"})]}),r&&e.jsx("div",{className:`mb-6 p-3 rounded-lg text-sm ${r.startsWith("")?"bg-green-50 text-green-800 border border-green-100":"bg-red-50 text-red-800 border border-red-100"}`,children:r}),e.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{name:"username",value:t.username,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"e.g. aziz123"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{name:"email",type:"email",value:t.email,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{name:"phone_number",value:t.phone_number,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"+92 3xx xxxxxxx"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNIC / Passport"}),e.jsx("input",{name:"cnic_or_passport",value:t.cnic_or_passport,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"XXXXX-XXXXXXX-X or Passport #"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{name:"address",value:t.address,onChange:c,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"Your full address (optional)"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{name:"password",type:"password",value:t.password,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"Choose a strong password"})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{name:"password_confirmation",type:"password",value:t.password_confirmation,onChange:c,required:!0,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-300",placeholder:"Repeat your password"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 flex items-center justify-between mt-2",children:[e.jsxs("small",{className:"text-xs text-gray-500",children:["By creating an account you agree to our ",e.jsx("span",{className:"text-indigo-600",children:"terms"}),"."]}),e.jsx("button",{type:"submit",disabled:i,className:"ml-4 inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-5 py-3 rounded-lg shadow-sm transition",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4",opacity:"0.25"}),e.jsx("path",{d:"M4 12a8 8 0 018-8",stroke:"white",strokeWidth:"4",strokeLinecap:"round"})]}),"Registering..."]}):"Create Account"})]})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-indigo-600 font-medium hover:underline",children:"Login"})]})]})})}function ZI(){const t=Js(),[s,r]=S.useState({company_name:"",registration_id:"",contact_no:"",password:"",password_confirmation:"",user_email:"",user_username:""}),[a,i]=S.useState(""),o=A=>{r({...s,[A.target.name]:A.target.value})},c=async A=>{A.preventDefault();try{const u=await ya.post("/auth/register/company/",s);i(" Company registration successful!"),console.log("Response:",u.data)}catch(u){console.error("Error:",u.response?.data||u.message),i(" Company registration failed! Check console.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl p-8 border border-gray-300",children:[e.jsx("h2",{className:"text-3xl font-bold text-blue-600 text-center mb-6",children:"Company Registration"}),a&&e.jsx("p",{className:`mb-4 text-center p-2 rounded-lg text-sm ${a.startsWith("")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a}),e.jsxs("form",{onSubmit:c,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Company Name"}),e.jsx("input",{type:"text",name:"company_name",value:s.company_name,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Enter company name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Registration ID"}),e.jsx("input",{type:"text",name:"registration_id",value:s.registration_id,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Enter registration ID",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Contact Number"}),e.jsx("input",{type:"text",name:"contact_no",value:s.contact_no,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Enter contact number",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),e.jsx("input",{type:"email",name:"user_email",value:s.user_email,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Enter email",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",name:"user_username",value:s.user_username,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Choose a username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:o,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Enter password",required:!0})]}),e.jsxs("div",{className:"md:col-span-2 flex flex-col items-center",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1 self-start md:self-center",children:"Confirm Password"}),e.jsx("input",{type:"password",name:"password_confirmation",value:s.password_confirmation,onChange:o,className:"w-full md:w-1/2 border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-400 outline-none",placeholder:"Confirm password",required:!0})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition duration-300",children:"Register Company"})})]}),e.jsxs("p",{className:"text-center mt-4 text-sm text-gray-600",children:["Already registered?"," ",e.jsx("span",{onClick:()=>t("/login"),className:"text-blue-500 hover:underline cursor-pointer",children:"Login"})]})]})})}const Kt=ks.create({baseURL:"/api"});Kt.interceptors.request.use(t=>{const s=localStorage.getItem("access_token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));const eM=({closeForm:t,editingId:s,routes:r,vehicles:a,drivers:i,setTransports:o,offerType:c="offer_sets",transports:A})=>{const u=new Date().toISOString().split("T")[0],h=new Date;h.setDate(h.getDate()+30);const f=h.toISOString().split("T")[0],g=new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),[b,x]=S.useState(!1),[w,B]=S.useState(null),[j,_]=S.useState(null),[Q,E]=S.useState(!0),[T,U]=S.useState(null),[k,q]=S.useState(!1),[K,z]=S.useState({route:"",vehicle:"",driver:"",price_per_seat:"",arrival_date:u,arrival_time:g,reserve_seats_str:"",offer_type:c});S.useEffect(()=>{if(U(null),s){const R=A.find(P=>P.id===s);R&&(x(R.reserve_seats?.length>0),z({route:String(R.route||""),vehicle:String(R.vehicle||""),driver:String(R.driver||""),price_per_seat:String(R.price_per_seat||""),arrival_date:R.arrival_date||u,arrival_time:R.arrival_time||g,reserve_seats_str:Array.isArray(R.reserve_seats)?R.reserve_seats.join(","):"",offer_type:R.offer_type||c}),B(a.find(P=>P.id===Number(R.vehicle))||null),_(i.find(P=>P.id===Number(R.driver))||null))}else z(R=>({...R,route:"",vehicle:"",driver:"",price_per_seat:"",arrival_date:u,arrival_time:g,reserve_seats_str:"",offer_type:c})),B(null),_(null),x(!1);E(!1)},[s,A,c,a,i,u,g]);const $=R=>{const{name:P,value:re}=R.target,G=(P==="route"||P==="vehicle"||P==="driver"||P==="price_per_seat")&&re!==""?Number(re):re;z(X=>({...X,[P]:G}))},D=async R=>{if(R.preventDefault(),!k){q(!0),U(null);try{const P=new FormData;P.append("route",K.route),P.append("vehicle",K.vehicle),P.append("driver",K.driver),P.append("price_per_seat",K.price_per_seat),P.append("arrival_date",K.arrival_date),P.append("arrival_time",K.arrival_time),P.append("offer_type",K.offer_type),P.append("reserve_seats",JSON.stringify(b?K.reserve_seats_str.split(",").map(I=>parseInt(I.trim())).filter(I=>!isNaN(I)):[]));let re;s!=null?re=await Kt.put(`/transports/${s}/`,P):re=await Kt.post("/transports/",P),o(I=>s?I.map(G=>G.id===s?re.data:G):[...I,re.data]),t()}catch(P){U("Save failed"),console.error(P)}finally{q(!1)}}},L=K.offer_type==="offer_sets"||K.offer_type==="seat_booking";return Q?e.jsx("div",{className:"text-center p-8 text-indigo-600",children:"Loading Offer Details..."}):e.jsxs("form",{onSubmit:D,className:"p-4 space-y-6",children:[T&&e.jsxs("div",{className:"p-3 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-md shadow-inner font-medium",children:["Error: ",T]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-5 bg-white border border-gray-200 rounded-xl shadow-md",children:[e.jsxs("h3",{className:"md:col-span-2 text-lg font-bold text-indigo-700 flex items-center mb-2 border-b pb-2",children:[e.jsx(jn,{className:"w-5 h-5 mr-2"})," Offer Specifications"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1 text-blue-500"})," Route ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{name:"route",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition shadow-sm",value:K.route,onChange:$,required:!0,children:[e.jsx("option",{value:"",children:"Select Route (From  To)"}),r.map(R=>e.jsxs("option",{value:R.id,children:[R.from_location,"  ",R.to_location]},R.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(Ka,{className:"w-4 h-4 mr-1 text-purple-500"})," Offer Type"]}),e.jsx("div",{className:"w-full border border-gray-300 p-3 rounded-lg bg-indigo-50 text-indigo-700 font-medium cursor-default shadow-sm",children:L?"Seat Booking (By Seat)":"Vehicle Hire (Whole Vehicle)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(Vr,{className:"w-4 h-4 mr-1 text-red-500"})," ",L?"Price per Seat":"Total Hire Price"," ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"number",name:"price_per_seat",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-red-500 focus:border-red-500 transition shadow-sm",placeholder:L?"Price per seat (Rs)":"Total Hire Price (Rs)",value:K.price_per_seat,onChange:$,min:"1",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-indigo-500"})," Arrival Date ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"date",name:"arrival_date",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition shadow-sm",value:K.arrival_date,onChange:$,min:u,max:f,required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-orange-500"})," Arrival Time ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"time",name:"arrival_time",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-orange-500 focus:border-orange-500 transition shadow-sm",value:K.arrival_time,onChange:$,min:K.arrival_date===u?g:"00:00",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-5 bg-white border border-gray-200 rounded-xl shadow-md",children:[e.jsxs("h3",{className:"md:col-span-2 text-lg font-bold text-indigo-700 flex items-center mb-2 border-b pb-2",children:[e.jsx(jn,{className:"w-5 h-5 mr-2"})," Vehicle & Driver Assignment"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(Vs,{className:"w-4 h-4 mr-1 text-green-500"})," Vehicle ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{name:"vehicle",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-green-500 focus:border-green-500 transition shadow-sm",value:K.vehicle,onChange:R=>{$(R);const P=Number(R.target.value);B(a.find(re=>re.id===P)||null)},required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle"}),a.map(R=>e.jsxs("option",{value:R.id,children:[R.vehicle_number," (",R.vehicle_type," - ",R.number_of_seats," Seats)"]},R.id))]}),w&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg text-sm flex items-center gap-3",children:[w.image_url?e.jsx("img",{src:w.image_url,alt:"Vehicle",className:"w-12 h-12 object-cover rounded-md"}):e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white rounded-md border text-green-500 shadow-sm",children:e.jsx(Vs,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:w.vehicle_number}),e.jsxs("div",{className:"text-gray-600",children:[w.vehicle_type," | Seats: ",w.number_of_seats]})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1 text-yellow-500"})," Driver ",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{name:"driver",className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-yellow-500 focus:border-yellow-500 transition shadow-sm",value:K.driver,onChange:R=>{$(R);const P=Number(R.target.value);_(i.find(re=>re.id===P)||null)},required:!0,children:[e.jsx("option",{value:"",children:"Select Driver"}),i.map(R=>e.jsxs("option",{value:R.id,children:[R.driver_name," (License: ",R.driving_license_no,")"]},R.id))]}),j&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm flex items-center gap-3",children:[j.image_url?e.jsx("img",{src:j.image_url,alt:"Driver",className:"w-12 h-12 object-cover rounded-full"}):e.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-white rounded-full border text-yellow-500 shadow-sm",children:e.jsx(rs,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:j.driver_name}),e.jsxs("div",{className:"text-gray-600",children:["License: ",j.driving_license_no]})]})]})]})]}),L&&e.jsxs("div",{className:"p-5 bg-indigo-50 border border-indigo-200 rounded-xl shadow-md",children:[e.jsxs("h3",{className:"text-lg font-bold text-indigo-700 flex items-center mb-3",children:[e.jsx(Ka,{className:"w-5 h-5 mr-2"})," Seat Reservations"]}),e.jsxs("label",{className:"flex items-center gap-2 font-semibold text-gray-700 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:R=>x(R.target.checked),className:"accent-blue-600 w-4 h-4"}),"Reserve specific seats for this trip?"]}),b&&e.jsx("input",{type:"text",name:"reserve_seats_str",className:"w-full border border-gray-300 p-3 rounded-lg mt-3 focus:ring-blue-500 focus:border-blue-500 transition shadow-sm",placeholder:`Enter seat numbers separated by commas (e.g. 2,4,5,8). Max seats: ${w?.number_of_seats||"N/A"}`,value:K.reserve_seats_str,onChange:$})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t mt-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-full font-semibold hover:bg-gray-400 transition",disabled:k,children:"Cancel"}),e.jsx("button",{type:"submit",className:`px-6 py-2 rounded-full font-bold shadow-lg transition transform ${k?"bg-blue-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:scale-[1.02]"}`,disabled:k,children:k?"Saving...":s?"Update Offer":"Save New Offer"})]})]})},tM=({pricingData:t,onPricingChange:s,selectedOptions:r})=>{const[a,i]=S.useState("specific_route"),o=(c,A)=>{s({...t,[c]:A})};return e.jsxs("div",{className:"space-y-4 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[r.is_specific_route&&e.jsxs("button",{type:"button",className:`px-4 py-2 font-medium text-sm border-b-2 transition ${a==="specific_route"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("specific_route"),children:[e.jsx(Jr,{className:"w-4 h-4 inline mr-1"}),"Specific Route"]}),r.is_long_drive&&e.jsxs("button",{type:"button",className:`px-4 py-2 font-medium text-sm border-b-2 transition ${a==="long_drive"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,onClick:()=>i("long_drive"),children:[e.jsx(J0,{className:"w-4 h-4 inline mr-1"}),"Long Drive"]})]}),a==="specific_route"&&r.is_specific_route&&e.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 flex items-center",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Fixed Route Pricing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fixed Fare (Rs) *"}),e.jsx("input",{type:"number",value:t.fixed_fare||"",onChange:c=>o("fixed_fare",c.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 15000",min:"1",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total fare for the complete route"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Distance (km)"}),e.jsx("input",{type:"number",value:t.distance||"",onChange:c=>o("distance",c.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., 350",min:"1"})]})]})]}),a==="long_drive"&&r.is_long_drive&&e.jsxs("div",{className:"space-y-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("h4",{className:"font-semibold text-green-800 flex items-center",children:[e.jsx(Du,{className:"w-4 h-4 mr-2"}),"Time-Based Pricing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Hour Rate (Rs)"}),e.jsx("input",{type:"number",value:t.per_hour_rate||"",onChange:c=>o("per_hour_rate",c.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 1000",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Per Day Rate (Rs) *"}),e.jsx("input",{type:"number",value:t.per_day_rate||"",onChange:c=>o("per_day_rate",c.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 8000",min:"1",required:r.is_long_drive})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weekly Package (Rs)"}),e.jsx("input",{type:"number",value:t.weekly_rate||"",onChange:c=>o("weekly_rate",c.target.value),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-green-500 focus:border-green-500",placeholder:"e.g., 45000",min:"1"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Additional Charges (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Night Charge (per night)"}),e.jsx("input",{type:"number",value:t.night_charge||"",onChange:c=>o("night_charge",c.target.value),className:"w-full border border-gray-300 p-2 rounded text-sm",placeholder:"e.g., 500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Mountain Area Surcharge"}),e.jsx("input",{type:"number",value:t.mountain_surcharge||"",onChange:c=>o("mountain_surcharge",c.target.value),className:"w-full border border-gray-300 p-2 rounded text-sm",placeholder:"e.g., 1000"})]})]})]}),e.jsxs("div",{className:"flex items-center mt-3",children:[e.jsx("input",{type:"checkbox",id:"custom_quote",checked:t.allow_custom_quote||!1,onChange:c=>o("allow_custom_quote",c.target.checked),className:"mr-2"}),e.jsx("label",{htmlFor:"custom_quote",className:"text-sm text-gray-700",children:"Allow custom quotes for special requirements"})]})]})]})},wN=({label:t,name:s,checked:r,onChange:a,icon:i,color:o,description:c})=>e.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${r?`border-${o}-500 bg-${o}-50 shadow-sm`:"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",name:s,checked:r,onChange:a,className:`mt-1 mr-3 w-4 h-4 text-${o}-600 focus:ring-${o}-500`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(i,{className:`w-5 h-5 mr-2 text-${o}-500`}),e.jsx("span",{className:"font-medium text-gray-800",children:t})]}),c&&e.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-7",children:c})]})]}),sM=({closeForm:t,editingId:s,routes:r,vehicles:a,drivers:i,setTransports:o,offerType:c="whole_hire",transports:A})=>{const[u,h]=S.useState(null),[f,g]=S.useState(null),[b,x]=S.useState(!0),[w,B]=S.useState(null),[j,_]=S.useState(!1),[Q,E]=S.useState({is_long_drive:!1,is_specific_route:!1,from_location:"",to_location:""}),[T,U]=S.useState({fixed_fare:"",distance:"",per_hour_rate:"",per_day_rate:"",weekly_rate:"",night_charge:"",mountain_surcharge:"",allow_custom_quote:!1}),[k,q]=S.useState({vehicle:"",driver:"",location_address:"",offer_type:c});S.useEffect(()=>{if(B(null),s){const R=A.find(P=>P.id===s);R&&(q({vehicle:String(R.vehicle||""),driver:String(R.driver||""),location_address:R.location_address||"",offer_type:R.offer_type||c}),E({is_long_drive:R.is_long_drive||!1,is_specific_route:R.is_specific_route||!1,from_location:R.from_location||"",to_location:R.to_location||""}),U({fixed_fare:R.fixed_fare||"",distance:R.distance||"",per_hour_rate:R.per_hour_rate||"",per_day_rate:R.per_day_rate||"",weekly_rate:R.weekly_rate||"",night_charge:R.night_charge||"",mountain_surcharge:R.mountain_surcharge||"",allow_custom_quote:R.allow_custom_quote||!1}),h(a.find(P=>P.id===Number(R.vehicle))||null),g(i.find(P=>P.id===Number(R.driver))||null))}else K();x(!1)},[s,A,c,a,i]);const K=()=>{q({vehicle:"",driver:"",location_address:"",offer_type:c}),E({is_long_drive:!1,is_specific_route:!1,from_location:"",to_location:""}),U({fixed_fare:"",distance:"",per_hour_rate:"",per_day_rate:"",weekly_rate:"",night_charge:"",mountain_surcharge:"",allow_custom_quote:!1}),h(null),g(null)},z=R=>{const{name:P,value:re}=R.target,G=(P==="vehicle"||P==="driver")&&re!==""?Number(re):re;q(X=>({...X,[P]:G}))},$=R=>{const{name:P,type:re,checked:I,value:G}=R.target;E(X=>({...X,[P]:re==="checkbox"?I:G}))},D=()=>{if(!k.vehicle||!k.driver)return"Please select both vehicle and driver.";if(!Q.is_long_drive&&!Q.is_specific_route)return"Please select at least one Vehicle Booking Offer Type.";if(Q.is_specific_route){if(!Q.from_location||!Q.to_location)return"Please provide both From and To locations for Specific Route offers.";if(!T.fixed_fare)return"Please set a Fixed Fare for Specific Route offers."}return Q.is_long_drive&&!T.per_day_rate&&!T.allow_custom_quote?"Please set at least Per Day Rate or enable Custom Quotes for Long Drive offers.":null},L=async R=>{if(R.preventDefault(),j)return;_(!0),B(null);const P=D();if(P){B(P),_(!1);return}const re=new FormData;re.append("vehicle",String(k.vehicle)),re.append("driver",String(k.driver)),re.append("offer_type","whole_hire"),re.append("location_address",k.location_address||""),re.append("is_long_drive",Q.is_long_drive),re.append("is_specific_route",Q.is_specific_route),Q.is_specific_route&&(re.append("from_location",Q.from_location),re.append("to_location",Q.to_location)),Q.is_specific_route&&(re.append("fixed_fare",T.fixed_fare),re.append("distance",T.distance||"")),Q.is_long_drive&&(re.append("per_hour_rate",T.per_hour_rate||""),re.append("per_day_rate",T.per_day_rate||""),re.append("weekly_rate",T.weekly_rate||""),re.append("night_charge",T.night_charge||""),re.append("mountain_surcharge",T.mountain_surcharge||""),re.append("allow_custom_quote",T.allow_custom_quote));try{const G=await(s?Kt.put(`/transports/${s}/`,re):Kt.post("/transports/",re)),X=a.find(ee=>ee.id===Number(k.vehicle)),ie=i.find(ee=>ee.id===Number(k.driver)),ge={...G.data,route_from:Q.is_specific_route?G.data.from_location:k.location_address,route_to:Q.is_specific_route?G.data.to_location:"Flexible Route",vehicle_number:X?.vehicle_number,driver_name:ie?.driver_name,vehicle_image:X?.image_url,driver_image:ie?.image_url};o(ee=>s?ee.map(M=>M.id===s?ge:M):[...ee,ge]),t()}catch(I){console.error(" Transport save error:",I.response?.data||I.message);const G=I.response?.data?.detail||Object.values(I.response?.data||{}).flat().join(" ")||"An unexpected error occurred.";B(`Save Failed: ${G}`)}finally{_(!1)}};return b?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading Offer Details..."})]}):e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[w&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm",children:"!"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"text-sm text-red-700 mt-1",children:w})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(Ka,{className:"w-5 h-5 mr-2 text-blue-500"}),"Service Type Selection",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(wN,{label:"Vehicle Rentals Service",name:"is_long_drive",checked:Q.is_long_drive,onChange:$,icon:J0,color:"green",description:"Hourly, daily, or weekly rentals for flexible routes"}),e.jsx(wN,{label:"Specific Route Service",name:"is_specific_route",checked:Q.is_specific_route,onChange:$,icon:Jr,color:"blue",description:"Fixed routes with predetermined pricing"})]})]}),(Q.is_specific_route||Q.is_long_drive)&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(Vr,{className:"w-5 h-5 mr-2 text-green-500"}),"Pricing Configuration",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx(tM,{pricingData:T,onPricingChange:U,selectedOptions:Q})]}),Q.is_specific_route&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(AL,{className:"w-5 h-5 mr-2 text-purple-500"}),"Route Information",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Location"}),e.jsx("input",{type:"text",name:"from_location",value:Q.from_location,onChange:$,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Gilgit",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Location"}),e.jsx("input",{type:"text",name:"to_location",value:Q.to_location,onChange:$,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Islamabad",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(jn,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Vehicle & Driver Assignment",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Vehicle"}),e.jsxs("select",{name:"vehicle",value:k.vehicle,onChange:R=>{z(R);const P=Number(R.target.value);h(a.find(re=>re.id===P)||null)},className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Choose a vehicle"}),a.map(R=>e.jsxs("option",{value:R.id,children:[R.vehicle_number," (",R.vehicle_type," - ",R.number_of_seats," seats)"]},R.id))]}),u&&e.jsx("div",{className:"p-4 bg-indigo-50 rounded-lg border border-indigo-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[u.image_url?e.jsx("img",{src:u.image_url,alt:"Vehicle",className:"w-12 h-12 object-cover rounded-lg"}):e.jsx("div",{className:"w-12 h-12 bg-white rounded-lg border flex items-center justify-center text-indigo-500",children:e.jsx(Vs,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:u.vehicle_number}),e.jsxs("div",{className:"text-sm text-gray-600",children:[u.vehicle_type,"  ",u.number_of_seats," seats"]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Driver"}),e.jsxs("select",{name:"driver",value:k.driver,onChange:R=>{z(R);const P=Number(R.target.value);g(i.find(re=>re.id===P)||null)},className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Choose a driver"}),i.map(R=>e.jsxs("option",{value:R.id,children:[R.driver_name," (License: ",R.driving_license_no,")"]},R.id))]}),f&&e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[f.image_url?e.jsx("img",{src:f.image_url,alt:"Driver",className:"w-12 h-12 object-cover rounded-full"}):e.jsx("div",{className:"w-12 h-12 bg-white rounded-full border flex items-center justify-center text-amber-500",children:e.jsx(rs,{size:24})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:f.driver_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:["License: ",f.driving_license_no]})]})]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center mb-4",children:[e.jsx(Yt,{className:"w-5 h-5 mr-2 text-red-500"}),"Base Location Information"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pickup/Base Address"}),e.jsx("input",{type:"text",name:"location_address",value:k.location_address,onChange:z,className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g., Company office location or preferred pickup point"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This address will be shown to customers for pickup coordination."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition",disabled:j,children:"Cancel"}),e.jsx("button",{type:"submit",className:`px-6 py-3 rounded-lg font-semibold transition ${j?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm"}`,disabled:j,children:j?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s?"Update Vehicle Offer":"Create Vehicle Offer"})]})]})},Xo="/api",NN="/checkout/admin/manual-bookings/",rM="/tickets/company-tickets/",aM="/checkout/admin/bookings/",$o=t=>{if(!t)return"";const s=Date.parse(t);return Number.isNaN(s)?"":new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})},Uu=t=>{if(!t)return"";try{const[s,r]=t.split(":"),a=new Date;return a.setHours(parseInt(s),parseInt(r),0),a.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return""}},OC=t=>t?{whole_hire:"Full Vehicle Hire",seat_booking:"Seat Booking",special_offer:"Special Offer",discounted:"Discounted",long_drive:"Long Drive",regular:"Regular",premium:"Premium",weekly:"Weekly",monthly:"Monthly",daily:"Daily",offer_sets:"Offer Sets"}[t]||t.replace(/_/g," ").toUpperCase():"Standard",lg=Ds.memo(({status:t,type:s="booking"})=>{let r=t?.toUpperCase()||"UNKNOWN";r==="BOOKED"&&(r="CONFIRMED"),r==="BOOKING_CONFIRMED"&&(r="CONFIRMED");const i=(()=>{switch(r){case"CONFIRMED":case"PAID":case"COMPLETED":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200 ring-green-600/20"};case"PENDING":case"RESERVED":case"UNPAID":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200 ring-yellow-600/20"};case"CANCELLED":case"FAILED":case"EXPIRED":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200 ring-red-600/20"};case"REFUNDED":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200 ring-blue-600/20"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200 ring-gray-500/20"}}})();return e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${i.bg} ${i.text} ${i.border}`,children:r})}),HC=Ds.memo(({paymentType:t})=>{const s=t?.toUpperCase()||"UNKNOWN",a=(()=>{switch(s){case"CASH":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200",icon:""};case"MANUAL":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",icon:""};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200",icon:""}}})();return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-lg ${a.bg} ${a.text} ${a.border}`,children:[e.jsx("span",{className:"mr-1",children:a.icon}),s==="MANUAL"?"MANUAL":s]})}),uy=Ds.memo(({offerType:t})=>{const s=t?.toLowerCase()||"standard",a=(()=>{switch(s){case"whole_hire":case"full vehicle hire":return{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",icon:e.jsx(gs,{className:"w-3 h-3 mr-1"})};case"seat_booking":case"seat booking":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",icon:e.jsx(Gt,{className:"w-3 h-3 mr-1"})};case"long_drive":case"long drive":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200",icon:e.jsx(Jr,{className:"w-3 h-3 mr-1"})};case"special_offer":case"special offer":case"offer_sets":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",icon:e.jsx(Ka,{className:"w-3 h-3 mr-1"})};case"discounted":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200",icon:e.jsx(Ka,{className:"w-3 h-3 mr-1"})};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200",icon:e.jsx(Ka,{className:"w-3 h-3 mr-1"})}}})();return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-lg ${a.bg} ${a.text} ${a.border}`,children:[a.icon,OC(s)]})}),nM=({booking:t,onClose:s,onUpdate:r})=>{const[a,i]=S.useState(!1),[o,c]=S.useState(t?.bookingStatus||t?.status||"PENDING"),[A,u]=S.useState(t?.paymentStatus||t?.payment_status||"PENDING"),[h,f]=S.useState(!0),[g,b]=S.useState(!1),x=t?.raw?.passenger_email||t?.raw?.passengerEmail||t?.raw?.manualData?.passenger_email||t?.customerEmail,w=async B=>{B.preventDefault(),i(!0),b(!1);try{const j=t.bookingId||t.id;console.log("Submitting update for booking:",{bookingId:j,status:o,paymentStatus:A,sendEmail:h,hasEmail:x}),await r(j,{status:o,payment_status:A},h)}catch(j){console.error("Update failed:",j),alert("Failed to update status. Please try again.")}finally{i(!1)}};return t?e.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center bg-black bg-opacity-70 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Update Booking Status"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Is,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("p",{className:"font-medium",children:t.customerName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.vehicleNumber,"  ",$o(t.date)]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",t.bookingStatus||t.status," / ",t.paymentStatus||t.payment_status]}),x?e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded flex items-center",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-500 mr-2"}),e.jsxs("span",{className:"text-sm text-blue-700",children:["Email: ",x]})]}):e.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 rounded flex items-center",children:[e.jsx(nn,{className:"w-4 h-4 text-yellow-500 mr-2"}),e.jsx("span",{className:"text-sm text-yellow-700",children:"No email found for passenger"})]})]})}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),e.jsxs("select",{value:o,onChange:B=>c(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PENDING",children:"PENDING"}),e.jsx("option",{value:"RESERVED",children:"RESERVED"}),e.jsx("option",{value:"CONFIRMED",children:"CONFIRMED"}),e.jsx("option",{value:"CANCELLED",children:"CANCELLED"}),e.jsx("option",{value:"COMPLETED",children:"COMPLETED"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:A,onChange:B=>u(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PAID",children:"PAID"}),e.jsx("option",{value:"UNPAID",children:"UNPAID"}),e.jsx("option",{value:"REFUNDED",children:"REFUNDED"}),e.jsx("option",{value:"FAILED",children:"FAILED"})]})]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"send-email",type:"checkbox",checked:h,onChange:B=>f(B.target.checked),disabled:!x,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("label",{htmlFor:"send-email",className:`font-medium ${x?"text-gray-700":"text-gray-400"}`,children:"Send Email Notification to Passenger"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x?"Passenger will receive an email about the status update":"Cannot send email: No email address found"}),g&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded flex items-center",children:[e.jsx(nL,{className:"w-4 h-4 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-green-700",children:"Email notification sent successfully!"})]})]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[a?e.jsx(Nn,{className:"w-4 h-4 animate-spin"}):e.jsx(GL,{className:"w-4 h-4"}),"Update Status"]})]})]})]})})}):null},iM=({screenshotUrl:t,onClose:s})=>{if(!t)return null;const[r,a]=S.useState(!0),[i,o]=S.useState(!1),[c,A]=S.useState(null),u=window.location.hostname==="localhost"?"http://localhost:8000":"",h=g=>g?g.startsWith("http")||g.startsWith("data:image")?g:g.startsWith("/media/")?`${u}${g}`:`${u}/media/${g}`:null;S.useEffect(()=>{const g=h(t);A(g),a(!0),o(!1)},[t]);const f=()=>{c&&window.open(c,"_blank")};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-90 p-4",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden z-[10000]",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Payment Screenshot"}),e.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100","aria-label":"Close screenshot viewer",children:e.jsx(Is,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 overflow-auto max-h-[80vh] flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-full max-w-3xl mb-4 min-h-[300px] flex items-center justify-center",children:[r&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading screenshot..."})]}),i&&e.jsxs("div",{className:"text-center p-4 text-red-600",children:[e.jsx(nn,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"Screenshot could not be loaded."})]}),c&&!i&&e.jsx("img",{src:c,alt:"Payment screenshot",className:`w-full h-auto rounded-lg shadow-lg transition-opacity duration-300 ${r?"opacity-0":"opacity-100"}`,onLoad:()=>a(!1),onError:g=>{a(!1),o(!0),console.error("Image failed to load:",c),g.target.onerror=null}})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(fi,{className:"w-4 h-4 mr-2"}),"Open in New Tab"]}),e.jsxs("button",{onClick:()=>{if(c){const g=document.createElement("a");g.href=c,g.download=`payment_screenshot_${Date.now()}.jpg`,document.body.appendChild(g),g.click(),document.body.removeChild(g)}},className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Download"]})]}),e.jsx("button",{onClick:s,className:"inline-flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})]})]})]})})},lM=({booking:t,onClose:s,bookingType:r})=>{const[a,i]=S.useState(!1),[o,c]=S.useState(null),[A,u]=S.useState(null),h=async()=>{try{i(!0),u(null);const w=localStorage.getItem("access_token");if(!w)throw new Error("Authentication required");const B=t.bookingId||t.id;console.log("Fetching ticket for booking ID:",B);let j=[`${Xo}/tickets/${B}/`,`${Xo}/tickets/my-tickets/${B}/`,`${Xo}/tickets/booking/${B}/`,`${Xo}checkout/tickets/${B}/`],_=null;for(let Q of j)try{const E=await fetch(Q,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});if(E.ok){const T=await E.json();if(T&&(T.id||T.ticket_id||T.booking_id)){_=T,console.log("Ticket found from endpoint:",Q);break}}}catch(E){console.log("Endpoint failed:",Q,E);continue}_||(console.log("Using booking data as ticket data"),_={id:t.id||B,passenger_name:t.customerName,vehicle_number:t.vehicleNumber,arrival_date:t.arrivalDate||t.date,arrival_time:t.arrivalTime,route_from:t.routeFrom||t.raw?.route_from,route_to:t.routeTo||t.raw?.route_to,seats:t.seats||t.seatsBooked,total_amount:t.amount,status:t.bookingStatus||t.raw?.status,payment_status:t.paymentStatus||t.raw?.payment_status,passenger_contact:t.raw?.passenger_contact,passenger_email:t.raw?.passenger_email,passenger_cnic:t.raw?.passenger_cnic,source:"booking_data"}),_?c(_):u("Ticket information could not be retrieved")}catch(w){console.error("Error fetching ticket:",w),u(w.message||"Failed to load ticket information")}finally{i(!1)}};S.useEffect(()=>{h()},[t]);const f=()=>{if(!o)return"";const w=o.passenger_name||o.customerName||"Guest",B=o.vehicle_number||o.vehicleNumber||"N/A",j=o.route_from||o.routeFrom||"N/A",_=o.route_to||o.routeTo||"N/A",Q=$o(o.arrival_date||o.travel_date),E=Uu(o.arrival_time||o.travel_time),T=o.seats||o.seatsBooked||"N/A",U=o.total_amount||o.amount||0,k=o.booking_id||o.bookingId||o.id;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>E-Ticket - ${w}</title>
        <style>
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
          
          body {
            font-family: 'Inter', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
          }
          
          .ticket-container {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
          }
          
          .ticket {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
          }
          
          .ticket-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            text-align: center;
          }
          
          .ticket-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
            letter-spacing: 2px;
          }
          
          .ticket-subtitle {
            font-size: 14px;
            opacity: 0.9;
            letter-spacing: 1px;
          }
          
          .ticket-content {
            padding: 25px;
          }
          
          .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eaeaea;
          }
          
          .info-label {
            font-size: 14px;
            color: #666;
            font-weight: 500;
          }
          
          .info-value {
            font-size: 16px;
            color: #333;
            font-weight: 600;
          }
          
          .route-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
          }
          
          .route-from-to {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin: 10px 0;
          }
          
          .route-arrow {
            font-size: 20px;
            color: #667eea;
            margin: 0 10px;
          }
          
          .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            margin: 5px;
          }
          
          .status-confirmed {
            background: #d1fae5;
            color: #065f46;
          }
          
          .ticket-footer {
            padding: 20px 25px;
            background: #f8f9fa;
            border-top: 1px solid #eaeaea;
            text-align: center;
          }
          
          .qr-code {
            width: 120px;
            height: 120px;
            background: #f0f0f0;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
          }
          
          @media print {
            body {
              background: white;
            }
            .ticket {
              box-shadow: none;
              border: 2px solid #333;
            }
          }
        </style>
      </head>
      <body>
        <div class="ticket-container">
          <div class="ticket">
            <div class="ticket-header">
              <div class="ticket-title">E-TICKET</div>
              <div class="ticket-subtitle">BOOKING CONFIRMED</div>
            </div>
            
            <div class="ticket-content">
              <div class="info-row">
                <span class="info-label">Booking ID</span>
                <span class="info-value">${k}</span>
              </div>
              
              <div class="info-row">
                <span class="info-label">Passenger</span>
                <span class="info-value">${w}</span>
              </div>
              
              <div class="info-row">
                <span class="info-label">Vehicle</span>
                <span class="info-value">${B}</span>
              </div>
              
              <div class="route-section">
                <div style="font-size: 14px; color: #666;">JOURNEY</div>
                <div class="route-from-to">
                  ${j}
                  <span class="route-arrow"></span>
                  ${_}
                </div>
              </div>
              
              <div class="info-row">
                <span class="info-label">Date</span>
                <span class="info-value">${Q}</span>
              </div>
              
              <div class="info-row">
                <span class="info-label">Time</span>
                <span class="info-value">${E}</span>
              </div>
              
              ${r==="seat"?`
                <div class="info-row">
                  <span class="info-label">Seats</span>
                  <span class="info-value">${T}</span>
                </div>
              `:""}
              
              <div class="info-row">
                <span class="info-label">Amount Paid</span>
                <span class="info-value" style="color: #059669; font-size: 18px;">Rs. ${U}</span>
              </div>
              
              <div style="text-align: center; margin-top: 20px;">
                <span class="status-badge status-confirmed">
                  ${o.status==="BOOKED"?"CONFIRMED":o.status||"CONFIRMED"}
                </span>
              </div>
            </div>
            
            <div class="ticket-footer">
              <div class="qr-code">
                SCAN FOR VERIFICATION
              </div>
              <div style="font-size: 12px; color: #666;">
                Thank you for choosing our service!
                <br>
                For assistance, contact: support@transport.com
              </div>
            </div>
          </div>
        </div>
      </body>
      </html>
    `},g=()=>{const w=f(),B=window.open("","_blank","width=800,height=600");B.document.write(w),B.document.close(),setTimeout(()=>{B.focus(),B.print(),B.close()},500)},b=()=>{const w=f(),B=window.open("","_blank","width=450,height=800");B.document.write(w),B.document.close()};if(a)return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-80 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-center text-gray-600",children:"Loading ticket..."})]})});if(A&&!o)return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-80 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md",children:[e.jsx(nn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Ticket Not Found"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:A}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:s,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold",children:"Close"}),e.jsx("button",{onClick:()=>{if(t){const w={passenger_name:t.customerName,vehicle_number:t.vehicleNumber,arrival_date:t.arrivalDate,arrival_time:t.arrivalTime,route_from:t.routeFrom,route_to:t.routeTo,seats:t.seats,total_amount:t.amount,status:t.bookingStatus,payment_status:t.paymentStatus};c(w),u(null)}},className:"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:"Generate Ticket from Booking Data"})]})]})});const x=o||{};return e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-80 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"E-Ticket"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Booking Reference: ",x.booking_id||x.id||"N/A"]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Is,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:"Passenger Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Full Name"}),e.jsx("p",{className:"font-semibold",children:x.passenger_name||x.customerName||"Guest"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Contact"}),e.jsx("p",{className:"font-semibold",children:x.passenger_contact||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-semibold",children:x.passenger_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"CNIC"}),e.jsx("p",{className:"font-semibold",children:x.passenger_cnic||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:"Journey Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Vehicle"}),e.jsx("p",{className:"font-semibold text-lg",children:x.vehicle_number||t.vehicleNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Booking Type"}),e.jsx("p",{className:"font-semibold",children:r==="fullVehicle"?"Full Vehicle":"Seat Booking"})]})]}),e.jsxs("div",{className:"text-center py-4 border-y border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"ROUTE"}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:x.route_from||t.routeFrom}),e.jsx("div",{className:"text-sm text-gray-600",children:"From"})]}),e.jsx(va,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:x.route_to||t.routeTo}),e.jsx("div",{className:"text-sm text-gray-600",children:"To"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),e.jsx("p",{className:"font-semibold",children:$o(x.arrival_date||t.arrivalDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Time"}),e.jsx("p",{className:"font-semibold",children:Uu(x.arrival_time||t.arrivalTime)})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-800 mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-3",children:[r==="seat"&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Seats Booked"}),e.jsx("span",{className:"font-semibold",children:x.seats||t.seats||t.seatsBooked||1})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["Rs. ",x.total_amount||x.amount||t.amount||0]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Booking Status"}),e.jsx(lg,{status:x.status==="BOOKED"?"CONFIRMED":x.status||t.bookingStatus})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),e.jsx(lg,{status:x.payment_status||t.paymentStatus,type:"payment"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsx(HC,{paymentType:t.paymentType||x.payment_type})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-8",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:"Close"}),e.jsxs("button",{onClick:b,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx(fi,{className:"w-5 h-5"}),"View Ticket"]}),e.jsxs("button",{onClick:g,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx(FL,{className:"w-5 h-5"}),"Print Ticket"]})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800 flex items-center",children:[e.jsx(tc,{className:"w-4 h-4 mr-2"}),"Note: This is an electronic ticket. No physical copy is required. Present this ticket or its QR code at the boarding point."]})})]})})})},oM=Ds.memo(({booking:t,onView:s,onUpdate:r,onViewScreenshot:a,bookingType:i})=>{const o=t.paymentType?.toUpperCase()||t.payment_method?.toUpperCase()||"UNKNOWN",c=t.bookingStatus==="CONFIRMED"&&t.paymentStatus==="PAID",A=o==="MANUAL"&&t.bookingStatus==="CONFIRMED",u=t.screenshotUrl&&t.screenshotUrl!==null,h=t.hasTicket!==!1,f=()=>{if(i==="fullVehicle")return"Full Vehicle";if(t.seats){if(Array.isArray(t.seats))return`${t.seats.length} Seats: ${t.seats.join(", ")}`;if(typeof t.seats=="string"){const b=t.seats.split(",").map(x=>x.trim());return`${b.length} Seats: ${b.join(", ")}`}}return`${t.seatsBooked||1} Seats`},g=h&&(o==="CASH"&&c||o==="MANUAL"&&A);return e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600",children:t.bookingId||t.id}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.customerName}),e.jsx("div",{className:"text-xs text-gray-500",children:f()}),i==="fullVehicle"&&t.bookingDuration&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Duration: ",t.bookingDuration]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(HC,{paymentType:o})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(uy,{offerType:t.offerType||t.raw?.offer_type})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Rs. ",t.amount?t.amount.toLocaleString():"0"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(lg,{status:t.paymentStatus,type:"payment"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(lg,{status:t.bookingStatus,type:"booking"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 justify-end items-stretch sm:items-center",children:[e.jsx("button",{onClick:()=>r(t),className:"px-3 py-1 text-xs font-semibold text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 transition duration-150",type:"button",children:"Update Status"}),u&&(o==="CASH"||o==="MANUAL")&&e.jsxs("button",{onClick:()=>a(t.screenshotUrl),className:"px-3 py-1 text-xs font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-700 shadow-md shadow-purple-500/30 transition duration-150 flex items-center justify-center gap-1",type:"button",children:[e.jsx(A1,{className:"w-4 h-4"})," View Screenshot"]}),g&&e.jsxs("button",{onClick:()=>s(t),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 shadow-md shadow-blue-500/30 transition duration-150 flex items-center justify-center gap-1",type:"button",children:[e.jsx(fi,{className:"w-4 h-4"})," View Ticket"]})]})})]})}),AM=async(t,s,r)=>{try{console.log(" Starting email notification process...");const a=t.raw?.passenger_email||t.raw?.passengerEmail||t.raw?.manualData?.passenger_email||t.raw?.customer_email||t.passengerEmail||t.customerEmail||"test@example.com";if(console.log(" Email extracted:",{rawEmail:t.raw?.passenger_email,manualEmail:t.raw?.manualData?.passenger_email,finalEmail:a}),!a||a==="N/A")return console.warn(" No valid email found, using test email"),{success:!0,message:"No email found, using test mode",hasEmail:!1};const i={booking_id:t.bookingId||t.id||"TEST-123",passenger_name:t.customerName||"Test Passenger",passenger_email:a,vehicle_number:t.vehicleNumber||"TEST-VEHICLE",route:`${t.routeFrom||"City A"}  ${t.routeTo||"City B"}`,date:$o(t.arrivalDate||t.date)||"15 Dec, 2024",time:Uu(t.arrivalTime)||"10:00 AM",previous_status:t.bookingStatus||t.status||"PENDING",new_status:s.status||"CONFIRMED",new_payment_status:s.payment_status||"PAID",amount:t.amount||1e3,booking_type:t.service||(t.seatsBooked?"Seat Booking":"Full Vehicle"),seats:t.seats||t.seatsBooked||"N/A"};console.log(" Sending email data:",i);const o=[`${Xo}/auth/notifications/send-status-email/`,"/api/auth/notifications/send-status-email/","/api/notifications/send-status-email/"];let c=null;for(let u of o)try{console.log(` Trying endpoint: ${u}`);const h=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(i)});if(console.log(` Response status: ${h.status}`),h.ok){const f=await h.json();return console.log(" Email API response:",f),{success:!0,message:f.message||"Email sent successfully",hasEmail:!0,emailAddress:a}}else{const f=await h.text();console.warn(` Endpoint failed (${h.status}):`,f),c=f}}catch(h){console.warn(` Fetch error for ${u}:`,h.message),c=h.message}console.error("All email endpoints failed");const A=c||"Email service unavailable";return A.includes("CORS")||A.includes("NetworkError")?{success:!1,message:"CORS/Network issue. Check backend URL.",hasEmail:!0}:{success:!1,message:A,hasEmail:!0}}catch(a){return console.error(" Unexpected error in email function:",a),{success:!1,message:`Unexpected error: ${a.message}`,hasEmail:!1}}},cM=({transportData:t,onClose:s})=>{const[r,a]=S.useState(!1),[i,o]=S.useState(null),[c,A]=S.useState([]),[u,h]=S.useState("details"),[f,g]=S.useState(null),[b,x]=S.useState(null),[w,B]=S.useState(!1),[j,_]=S.useState(!1),[Q,E]=S.useState(!1),[T,U]=S.useState(null),[k,q]=S.useState(""),[K,z]=S.useState("all"),[$,D]=S.useState("all"),[L,R]=S.useState(null),P=S.useMemo(()=>t?.offer_type==="whole_hire"||t?.service_type==="long_drive"||t?.ticket_type==="FULLVEHICLE"||t?.is_long_drive===!0,[t]),re=S.useMemo(()=>OC(t?.offer_type),[t]),I=S.useMemo(()=>{const me={total:c.length,confirmed:0,pending:0,reserved:0,cancelled:0,completed:0,paid:0,unpaid:0,refunded:0,failed:0};return c.forEach(Le=>{const Ve=Le.bookingStatus?.toUpperCase(),ke=Le.paymentStatus?.toUpperCase();Ve==="CONFIRMED"||Ve==="BOOKED"?me.confirmed++:Ve==="PENDING"?me.pending++:Ve==="RESERVED"?me.reserved++:Ve==="CANCELLED"?me.cancelled++:Ve==="COMPLETED"&&me.completed++,ke==="PAID"?me.paid++:ke==="UNPAID"?me.unpaid++:ke==="REFUNDED"?me.refunded++:ke==="FAILED"&&me.failed++}),me},[c]),G=S.useCallback(async(me,Le={})=>{const Ve=localStorage.getItem("access_token");if(!Ve)throw new Error("NO_TOKEN");const ke={"Content-Type":"application/json",Authorization:`Bearer ${Ve}`,...Le.headers||{}},Ke=await fetch(me,{...Le,headers:ke});if(Ke.status===401)throw localStorage.removeItem("access_token"),window.location.href="/login",new Error("Unauthorized. Redirecting to login.");return Ke},[]),X=S.useCallback(async()=>{if(t){a(!0),o(null),A([]);try{console.log(" Starting to fetch bookings for transport:",t);const me=`${Xo}${rM}`,Le=await G(me);let Ve=[];if(Le.ok){const oe=await Le.json();oe&&oe.success&&Array.isArray(oe.data)?Ve=oe.data:Array.isArray(oe)?Ve=oe:oe&&Array.isArray(oe.results)&&(Ve=oe.results)}const ke=`${Xo}${NN}`,Ke=await G(ke);let ae=[];if(Ke.ok){const oe=await Ke.json();Array.isArray(oe)?ae=oe:oe&&Array.isArray(oe.results)?ae=oe.results:oe&&Array.isArray(oe.data)&&(ae=oe.data)}const Y=new Map;ae.forEach(oe=>{oe&&(Y.set(oe.id,oe),oe.booking&&Y.set(oe.booking,oe))});const xe=Ve.map(oe=>{if(!oe||!(oe.vehicle_number===t.vehicle_number||oe.vehicle_id==(t.vehicle_id||t.id)||oe.transport_id==(t.id||t.transport_id)))return null;const Ee=oe.ticket_type==="FULLVEHICLE"||oe.offer_type==="whole_hire"||oe.service_type==="long_drive"||oe.vehicle_type&&oe.vehicle_type.toLowerCase().includes("hire");if(!P&&Ee||P&&!Ee)return null;if(!P){const it=oe.arrival_date||oe.travel_date,Lt=oe.arrival_time||oe.travel_time,St=t.arrival_date,us=t.arrival_time,ls=ts=>ts?ts.split(":").slice(0,2).join(":"):"",Dt=it===St,Ct=ls(Lt)===ls(us);if(!Dt||!Ct)return null}const ze=window.location.hostname==="localhost"?"http://localhost:8000":"",Oe=oe.booking||oe.booking_id;let Je=null;Oe&&Y.has(Oe)?Je=Y.get(Oe):oe.id&&Y.has(String(oe.id))?Je=Y.get(String(oe.id)):oe.passenger_name&&oe.vehicle_number&&(Je=ae.find(it=>it.passenger_name===oe.passenger_name&&it.vehicle_number===oe.vehicle_number));let ot=null;if(Je?.screenshot_url){const it=Je.screenshot_url;it.startsWith("http")||it.startsWith("data:image")?ot=it:it.startsWith("/media/")?ot=`${ze}${it}`:ot=`${ze}/media/${it}`}let ht="N/A",_t="N/A",ct=null;if(Ee&&(ht=oe.departure_date||oe.start_date||oe.travel_start_date||oe.arrival_date||"N/A",_t=oe.return_date||oe.end_date||oe.travel_end_date||"N/A",oe.duration_type&&oe.duration_value)){const it=parseInt(oe.duration_value)||1,Lt=oe.duration_type.toLowerCase();ct=`${it} ${Lt}${it>1?"s":""}`}let dt=[];oe.seats&&(Array.isArray(oe.seats)?dt=oe.seats:typeof oe.seats=="string"&&(dt=oe.seats.split(",").map(it=>it.trim()).filter(it=>it)));let At=0;if(Je?.total_amount)At=parseFloat(Je.total_amount)||0;else if(Je?.amount)At=parseFloat(Je.amount)||0;else if(oe.total_amount)At=parseFloat(oe.total_amount)||0;else if(oe.price_per_seat){const it=parseFloat(oe.price_per_seat)||0,Lt=dt.length||1;At=Ee?it:it*Lt}const ye=Je?.booking_status||Je?.status||oe.status||"UNKNOWN",es=Je?.payment_status||oe.payment_status||"UNKNOWN",Qt=(oe.payment_type||oe.payment_method||"").toUpperCase(),rt=oe.offer_type||Je?.offer_type||t.offer_type||"seat_booking",vt=Oe||`TICKET-${oe.id}`;let Tt="Seat Booking";return Ee&&(oe.service_type==="long_drive"?Tt="Long Drive":oe.offer_type==="whole_hire"?Tt="Full Vehicle Hire":Tt="Full Vehicle"),{id:oe.id,bookingId:vt,vehicleNumber:oe.vehicle_number||Je?.vehicle_number||t.vehicle_number,customerName:oe.passenger_name||Je?.passenger_name||"Guest",service:Ee?Tt:`${dt.length||Je?.seats_booked||0} Seats`,amount:At,date:$o(oe.arrival_date||oe.created_at),bookingStatus:ye,paymentStatus:es,paymentType:Qt,offerType:rt,screenshotUrl:ot,arrivalDate:oe.arrival_date||"N/A",arrivalTime:oe.arrival_time||"N/A",routeFrom:oe.route_from||"N/A",routeTo:oe.route_to||"N/A",departureDate:ht,returnDate:_t,bookingDuration:ct,seats:dt,seatsBooked:Je?.seats_booked||dt.length||0,hasTicket:!0,raw:{...oe,manualData:Je,departure_date:ht,return_date:_t,booking_duration:ct},source:Je?"merged":"ticket"}}).filter(oe=>oe!==null),Ue=ae.filter(oe=>{if(xe.some(Oe=>Oe.raw.manualData?.id===oe.id||Oe.bookingId===oe.id||Oe.bookingId===oe.booking)||!(oe.vehicle_number===t.vehicle_number||oe.vehicle_id==(t.vehicle_id||t.id)))return!1;const ze=oe.is_full_vehicle||oe.offer_type==="whole_vehicle"||oe.ticket_type==="FULLVEHICLE"||oe.vehicle_type&&oe.vehicle_type.toLowerCase().includes("hire")||oe.service_type==="long_drive";if(!P&&ze||P&&!ze)return!1;if(!P){const Oe=oe.arrival_date||oe.travel_date,Je=oe.arrival_time||oe.travel_time,ot=t.arrival_date,ht=t.arrival_time,_t=At=>At?At.split(":").slice(0,2).join(":"):"",ct=Oe===ot,dt=_t(Je)===_t(ht);if(!ct||!dt)return!1}return!0}).map(oe=>{const Te=oe.is_full_vehicle||oe.offer_type==="whole_vehicle"||oe.ticket_type==="FULLVEHICLE"||oe.vehicle_type&&oe.vehicle_type.toLowerCase().includes("hire")||oe.service_type==="long_drive";let Ee=[];oe.seats&&(Array.isArray(oe.seats)?Ee=oe.seats:typeof oe.seats=="string"&&(Ee=oe.seats.split(",").map(ct=>ct.trim())));const ze=window.location.hostname==="localhost"?"http://localhost:8000":"";let Oe=null;if(oe.screenshot_url){const ct=oe.screenshot_url;ct.startsWith("http")||ct.startsWith("data:image")?Oe=ct:ct.startsWith("/media/")?Oe=`${ze}${ct}`:Oe=`${ze}/media/${ct}`}let Je=0;oe.total_amount?Je=parseFloat(oe.total_amount)||0:oe.amount&&(Je=parseFloat(oe.amount)||0);const ot=oe.booking||`MANUAL-${oe.id}`,ht=oe.offer_type||t.offer_type||"seat_booking";let _t="Seat Booking";return Te&&(oe.service_type==="long_drive"?_t="Long Drive":oe.offer_type==="whole_hire"?_t="Full Vehicle Hire":_t="Full Vehicle"),{id:oe.id,bookingId:ot,vehicleNumber:oe.vehicle_number||t.vehicle_number,customerName:oe.passenger_name||"Guest",service:Te?_t:`${Ee.length||oe.seats_booked||0} Seats`,amount:Je,date:$o(oe.created_at),bookingStatus:oe.booking_status||oe.status||"UNKNOWN",paymentStatus:oe.payment_status||"UNKNOWN",paymentType:oe.payment_method||"MANUAL",offerType:ht,screenshotUrl:Oe,arrivalDate:oe.arrival_date||oe.travel_date||"N/A",arrivalTime:oe.arrival_time||oe.travel_time||"N/A",routeFrom:oe.route_from||"N/A",routeTo:oe.route_to||"N/A",seats:Ee,seatsBooked:oe.seats_booked||Ee.length||0,hasTicket:!1,raw:oe,source:"manual-only"}}),ve=[...xe,...Ue];console.log(` Total combined bookings for this transport: ${ve.length}`),A(ve)}catch(me){if(me.message==="NO_TOKEN"){o("Authentication token missing. Please log in."),a(!1);return}console.error("fetchAllBookings error:",me),o(me.message||"Failed to load booking data.")}finally{a(!1)}}},[t,P,G]);S.useEffect(()=>{X()},[X]);const ie=S.useMemo(()=>c.length,[c]),ge=S.useMemo(()=>c.reduce((me,Le)=>me+(Le.amount||0),0).toLocaleString(),[c]),ee=S.useMemo(()=>c.reduce((me,Le)=>me+(Le.seatsBooked||(Array.isArray(Le.seats)?Le.seats.length:1)||0),0),[c]),M=S.useMemo(()=>c.filter(me=>{const Le=k===""||me.customerName?.toLowerCase().includes(k.toLowerCase())||me.bookingId?.toLowerCase().includes(k.toLowerCase())||me.paymentType?.toLowerCase().includes(k.toLowerCase()),Ve=K==="all"||K==="cash"&&(me.paymentType==="CASH"||me.paymentType==="MANUAL")||K==="Manual"&&me.paymentType==="MANUAL",ke=$==="all"||me.bookingStatus?.toUpperCase()===$.toUpperCase()||me.paymentStatus?.toUpperCase()===$.toUpperCase();return Le&&Ve&&ke}),[c,k,K,$]),H=S.useCallback(me=>{x(me),_(!0)},[]),Z=S.useCallback(me=>{g(me),B(!0)},[]),Ae=S.useCallback(me=>{me&&(U(me),E(!0))},[]),fe=S.useCallback(async(me,Le,Ve=!0)=>{try{const ke=localStorage.getItem("access_token"),Ke={"Content-Type":"application/json",Authorization:`Bearer ${ke}`},ae=c.find(Ee=>Ee.id===me||Ee.bookingId===me||Ee.raw?.booking===me||Ee.raw?.booking_id===me);if(!ae){console.error("Booking not found for ID:",me),alert("Booking not found!");return}console.log(" Updating booking ID:",me),console.log("Payment Type:",ae.paymentType);const Y=ae.raw?.booking||ae.bookingId||me;let xe,Ue,ve;(ae.paymentType||ae.payment_type||"MANUAL")==="MANUAL"?(xe=`${Xo}${NN}${Y}/status/`,Ue="PATCH",ve={booking_status:Le.status,new_payment_status:Le.payment_status},console.log("Using MANUAL endpoint:",xe)):(xe=`${Xo}${aM}${Y}/status/`,Ue="PATCH",ve={booking_status:Le.status,new_payment_status:Le.payment_status},console.log("Using CASH endpoint:",xe)),console.log("Request body:",ve);const Te=await fetch(xe,{method:Ue,headers:Ke,body:JSON.stringify(ve)});if(console.log("Response status:",Te.status),Te.ok){const Ee=await Te.json();if(console.log(" Update successful:",Ee),A(ze=>ze.map(Oe=>Oe.id===ae.id||Oe.bookingId===ae.bookingId||Oe.raw?.booking===Y?{...Oe,bookingStatus:Le.status||Oe.bookingStatus,paymentStatus:Le.payment_status||Oe.paymentStatus,raw:{...Oe.raw,status:Le.status,payment_status:Le.payment_status,booking_status:Le.status}}:Oe)),Ve)try{const ze=await AM(ae,Le,ke);ze.success?R({type:"success",message:" Status updated and email notification sent successfully!",show:!0}):R({type:"warning",message:` Status updated but email notification failed: ${ze.message}`,show:!0})}catch(ze){console.error("Email sending error:",ze),R({type:"warning",message:" Status updated but failed to send email notification.",show:!0})}else R({type:"success",message:" Status updated successfully!",show:!0});setTimeout(()=>{R(null)},5e3),B(!1),g(null)}else{const Ee=await Te.text();console.error(" Update failed with response:",Ee);let ze="Failed to update status.";try{const Oe=JSON.parse(Ee);ze=Oe.detail||Oe.message||ze}catch{ze=Ee||ze}R({type:"error",message:` ${ze}`,show:!0}),setTimeout(()=>{R(null)},5e3)}}catch(ke){console.error("Update error:",ke),R({type:"error",message:` Error updating status: ${ke.message}`,show:!0}),setTimeout(()=>{R(null)},5e3)}},[c]),pe=S.useCallback(()=>{X()},[X]),Se=()=>{const me=["Booking ID","Customer","Payment Type","Offer Type","Amount","Payment Status","Booking Status"],Le=M.map(ae=>[ae.bookingId,ae.customerName,ae.paymentType,ae.offerType,ae.amount,ae.paymentStatus,ae.bookingStatus]);let Ve="data:text/csv;charset=utf-8,"+me.join(",")+`
`+Le.map(ae=>ae.join(",")).join(`
`);const ke=encodeURI(Ve),Ke=document.createElement("a");Ke.setAttribute("href",ke),Ke.setAttribute("download",`bookings_${t.vehicle_number}_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke)};return t?e.jsxs(e.Fragment,{children:[L?.show&&e.jsx("div",{className:"fixed top-4 right-4 z-[100] animate-slide-in",children:e.jsxs("div",{className:`px-6 py-4 rounded-lg shadow-lg flex items-center ${L.type==="success"?"bg-green-100 border border-green-300":L.type==="warning"?"bg-yellow-100 border border-yellow-300":"bg-red-100 border border-red-300"}`,children:[L.type==="success"?e.jsx(zs,{className:"w-5 h-5 text-green-600 mr-3"}):L.type==="warning"?e.jsx(nn,{className:"w-5 h-5 text-yellow-600 mr-3"}):e.jsx($4,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsx("span",{className:`font-medium ${L.type==="success"?"text-green-800":L.type==="warning"?"text-yellow-800":"text-red-800"}`,children:L.message}),e.jsx("button",{onClick:()=>R(null),className:"ml-4 text-gray-500 hover:text-gray-700",children:e.jsx(Is,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm p-2 sm:p-4",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl w-full max-w-full sm:max-w-7xl max-h-[95vh] sm:max-h-[90vh] overflow-hidden shadow-2xl relative",onClick:me=>me.stopPropagation(),children:[e.jsx("div",{className:"sticky top-0 bg-white border-b z-10",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:P?"Vehicle Hire Details":"Transport Details"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(wa,{className:"w-4 h-4 text-green-600"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:[t.vehicle_number,"  ",t.vehicle_type]}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:P?"Full Vehicle":"Seat Booking"}),e.jsx(uy,{offerType:t.offer_type})]})]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Is,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsxs("div",{className:"flex border-b mt-4 sm:mt-6 overflow-x-auto",children:[e.jsx("button",{onClick:()=>h("details"),className:`px-3 sm:px-4 py-2 sm:py-3 font-medium text-sm sm:text-base whitespace-nowrap ${u==="details"?"border-b-2 border-blue-500 text-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:"Transport Details"})]})}),e.jsx("button",{onClick:()=>h("bookings"),className:`px-3 sm:px-4 py-2 sm:py-3 font-medium text-sm sm:text-base whitespace-nowrap ${u==="bookings"?"border-b-2 border-blue-500 text-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jw,{className:"w-4 h-4"}),e.jsxs("span",{children:["All Bookings (",ie,")"]})]})})]})]})}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-250px)] sm:max-h-[calc(90vh-250px)]",children:r?e.jsxs("div",{className:"p-6 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:[e.jsx(Nn,{className:"animate-spin h-5 w-5 mr-3 inline-block"}),"Loading bookings from backend API..."]}):i?e.jsxs("div",{className:"p-6 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:[e.jsx(nn,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-red-600 mb-4",children:i}),e.jsxs("button",{onClick:pe,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(r5,{className:"w-4 h-4"}),"Try Again"]})]}):e.jsxs("div",{className:"p-4 sm:p-6",children:[u==="details"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[e.jsx(tc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Vs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Vehicle Number"}),e.jsx("p",{className:"font-medium",children:t.vehicle_number})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Ka,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Offer Type"}),e.jsx("p",{className:"font-medium",children:re})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Gt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Seats"}),e.jsx("p",{className:"font-medium",children:t.vehicle_seats||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(rs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Driver"}),e.jsx("p",{className:"font-medium",children:t.driver_name||"N/A"})]})]}),t.driver_contact&&e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Ls,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Driver Contact"}),e.jsx("a",{href:`tel:${t.driver_contact}`,className:"font-medium text-blue-600 hover:text-blue-700",children:t.driver_contact})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center",children:[e.jsx(Jr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-green-500"}),"Journey Details"]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[P?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(jn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Service Type"}),e.jsxs("p",{className:"font-medium",children:[t.is_long_drive&&"Long Drive",t.is_specific_route&&"Specific Route",!t.is_long_drive&&!t.is_specific_route&&"General Hire"]})]})]}),t.location_address&&e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Yt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium",children:t.location_address})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Tk,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Route"}),e.jsxs("p",{className:"font-medium",children:[t.route_from||t.from_location," ",t.route_to||t.to_location]})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(as,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Departure Date"}),e.jsx("p",{className:"font-medium",children:$o(t.arrival_date)})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(is,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Departure Time"}),e.jsx("p",{className:"font-medium",children:Uu(t.arrival_time)})]})]})]}),e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-100 rounded",children:[e.jsx(Vr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 mr-2 sm:mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Pricing"}),e.jsx("p",{className:"font-medium",children:P?t.fixed_fare?`Fixed: Rs. ${t.fixed_fare}`:t.per_day_rate?`Daily: Rs. ${t.per_day_rate}`:`Rate: Rs. ${t.rate_per_km}/km`:`Rs. ${t.price_per_seat}/seat`})]})]})]})]})]}),e.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-4 sm:p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx(sk,{className:"w-5 h-5 mr-2 text-blue-500"}),"Booking Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:I.total})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[e.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Confirmed"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:I.confirmed})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-xl border border-yellow-100",children:[e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:I.pending})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100",children:[e.jsx("p",{className:"text-xs text-red-600 font-medium",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold text-red-700",children:I.cancelled})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center",children:[e.jsx(ak,{className:"w-4 h-4 mr-2 text-purple-500"}),"Booking Status Breakdown"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Confirmed"}),e.jsx("span",{className:"font-bold text-green-600",children:I.confirmed})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("span",{className:"font-bold text-yellow-600",children:I.pending})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Reserved"}),e.jsx("span",{className:"font-bold text-blue-600",children:I.reserved})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Cancelled"}),e.jsx("span",{className:"font-bold text-red-600",children:I.cancelled})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("span",{className:"font-bold text-green-600",children:I.completed})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center",children:[e.jsx(R0,{className:"w-4 h-4 mr-2 text-teal-500"}),"Payment Status Breakdown"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Paid"}),e.jsx("span",{className:"font-bold text-green-600",children:I.paid})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Unpaid"}),e.jsx("span",{className:"font-bold text-red-600",children:I.unpaid})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Refunded"}),e.jsx("span",{className:"font-bold text-blue-600",children:I.refunded})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Failed"}),e.jsx("span",{className:"font-bold text-red-600",children:I.failed})]})]})]})]})]})]}),u==="bookings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white shadow-xl rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by passenger, booking ID...",value:k,onChange:me=>q(me.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:K,onChange:me=>z(me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Payments"}),e.jsx("option",{value:"Manual",children:"Manual"}),e.jsx("option",{value:"cash",children:"Cash"})]}),e.jsxs("select",{value:$,onChange:me=>D(me.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"UNPAID",children:"Unpaid"})]}),e.jsx("button",{onClick:()=>{q(""),z("all"),D("all")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Reset"}),e.jsxs("button",{onClick:Se,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[e.jsx(Uk,{className:"w-4 h-4"}),"Download CSV"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white shadow-xl rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Bookings"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:ie})]}),e.jsx(Jw,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white shadow-xl rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:["Rs. ",ge]})]}),e.jsx(Vr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white shadow-xl rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Booked Seats"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600",children:ee})]}),e.jsx(Gt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500"})]})})]}),e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[e.jsx(Vs,{className:"inline-block w-5 h-5 mr-2 -mt-1 text-gray-800"}),"Vehicle: ",e.jsx("span",{className:"text-indigo-600",children:t.vehicle_number}),e.jsx("span",{className:"ml-2 text-sm font-medium px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:P?"Full Vehicle":"Seat Booking"}),e.jsx(uy,{offerType:t.offer_type})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),$o(t.arrival_date),e.jsxs("span",{className:"ml-4 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Time: ",Uu(t.arrival_time)]})]}),e.jsxs("p",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"mr-2",children:""}),t.route_from||t.from_location,"  ",t.route_to||t.to_location]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:M.length})," bookings"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Total bookings: ",c.length]})]})]})}),e.jsx("div",{className:"overflow-x-auto max-h-[500px]",children:M.length===0?e.jsxs("div",{className:"p-10 text-center text-gray-500 bg-white",children:[e.jsx(kL,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No bookings found for this trip"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:k||K!=="all"||$!=="all"?"Try different search or filter":"No bookings recorded yet"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer / Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Offer Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(me=>e.jsx(oM,{booking:me,bookingType:P?"fullVehicle":"seat",onView:H,onUpdate:Z,onViewScreenshot:Ae},`${me.id}-${me.bookingId}`))})]})})]})]})]})}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[t.vehicle_number,"  ",$o(t.arrival_date),"  ",Uu(t.arrival_time),t.offer_type&&e.jsxs("span",{className:"ml-2",children:[" Offer: ",re]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:pe,className:"flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[e.jsx(r5,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Refresh"]}),e.jsx("button",{onClick:s,className:"px-4 sm:px-6 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-colors shadow-sm text-sm",children:"Close"})]})]})})]})}),w&&e.jsx(nM,{booking:f,onClose:()=>{B(!1),g(null)},onUpdate:fe}),j&&e.jsx(lM,{booking:b,onClose:()=>{_(!1),x(null)},bookingType:P?"fullVehicle":"seat"}),Q&&e.jsx(iM,{screenshotUrl:T,onClose:()=>{E(!1),U(null)}})]}):null},PC=Ds.memo(cM),jN=({onConfirm:t,onCancel:s,isLoading:r})=>e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm transform transition-all",children:[e.jsx("h3",{className:"text-xl font-bold text-red-700 mb-3",children:"Delete Confirmation"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this offer?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:s,disabled:r,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300 transition disabled:opacity-50 shadow-sm",children:"Cancel"}),e.jsxs("button",{onClick:t,disabled:r,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition disabled:opacity-50 shadow-md flex items-center justify-center gap-2",children:[r?e.jsx(Nn,{className:"w-4 h-4 animate-spin"}):e.jsx(Ru,{className:"w-4 h-4"}),"Confirm"]})]})]})}),Dx=({transport:t,t:s,setInfoVehicle:r,onEdit:a,onDelete:i,onToggleStatus:o,isLoading:c=!1,offerType:A})=>{const[u,h]=S.useState(!1),[f,g]=S.useState(!1),[b,x]=S.useState([]),[w,B]=S.useState(!1),[j,_]=S.useState(null),[Q,E]=S.useState(0),[T,U]=S.useState(0),k=t||s;if(S.useEffect(()=>{const X=()=>{g(window.innerWidth<768)};return X(),window.addEventListener("resize",X),()=>window.removeEventListener("resize",X)},[]),S.useEffect(()=>{if(!k||A==="hire")return;const X=async()=>{B(!0),_(null);const ge=k.vehicle_id||k.vehicle||k.id||k.transport_id,ee=k.arrival_date||k.departure_date,M=k.arrival_time||k.departure_time;if(!ge||!ee||!M){console.log("Missing required parameters for seat fetch"),B(!1);return}try{let H=M;H&&H.split(":").length===2&&(H=`${H}:00`);const Z=`/api/checkout/bookings/?vehicle_id=${ge}&arrival_date=${ee}&arrival_time=${H}`,Ae=await fetch(Z,{headers:{"Content-Type":"application/json"}});if(Ae.ok){const fe=await Ae.json();if(Array.isArray(fe)){x(fe);const pe=k.vehicle_seats||40,Se=k?.reserve_seats||[],me=Array.isArray(Se)?Se.length:0,Le=fe.length,Ve=me+Le,ke=pe-Ve;E(ke>=0?ke:0),U(pe)}else x([]),ie()}else Ae.status===404?(x([]),ie()):(_("Could not load seat data"),ie())}catch(H){console.error("Error fetching booked seats:",H),_("Network error loading seats"),x([]),ie()}finally{B(!1)}},ie=()=>{const ge=k.vehicle_seats||40,ee=k?.reserve_seats||[],M=Array.isArray(ee)?ee.length:0,H=ge-M;E(H>=0?H:0),U(ge)};X()},[k,A]),!k)return e.jsx("div",{className:"bg-white rounded-2xl p-5 border-2 border-gray-200 shadow-sm",children:e.jsxs("div",{className:"text-center text-gray-500 py-4",children:[e.jsx(Nn,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),e.jsx("p",{children:"Transport data load ho raha hai..."})]})});const q=()=>{h(!0)},K=()=>{i&&i(),h(!1)},z=()=>{h(!1)},$=A==="hire"||k.offer_type==="whole_hire",L=$||!k.vehicle_seats?"N/A":Q,R=()=>$?0:b.length,P=()=>{const X=[];return k.is_long_drive&&X.push("Long Drive"),k.is_specific_route&&X.push("Specific Route"),X.length>0?X.join(" + "):"Flexible Service"},re=()=>$?k.fixed_fare?`Fixed: Rs. ${k.fixed_fare}`:k.per_day_rate?`Daily: Rs. ${k.per_day_rate}`:k.rate_per_km?`Rate: Rs. ${k.rate_per_km}/km`:"Custom Pricing":`Rs. ${k.price_per_seat||"N/A"}/seat`,I=()=>{const X=k.is_active!==!1;return e.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${X?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200":"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-800 border border-gray-300"}`,children:X?e.jsxs(e.Fragment,{children:[e.jsx(zs,{size:12,className:"mr-1.5"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx($4,{size:12,className:"mr-1.5"}),"Inactive"]})})},G=()=>{if($)return null;const X=L;let ie="";return X===0?ie="bg-red-100 text-red-800 border border-red-200":X<=5?ie="bg-amber-100 text-amber-800 border border-amber-200":ie="bg-green-100 text-green-800 border border-green-200",e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${ie}`,children:[e.jsx(rs,{size:12,className:"mr-1.5"}),w?"...":X," / ",k.vehicle_seats," Seats"]})};return f?e.jsxs("div",{className:`bg-white rounded-2xl border-2 shadow-lg transition-all hover:shadow-xl overflow-hidden ${k.is_active===!1?"opacity-80 border-gray-200":$?"border-teal-200":"border-blue-200"}`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-bold mb-1 flex items-center ${$?"text-teal-700":"text-blue-700"}`,children:$?k.is_specific_route?e.jsxs(e.Fragment,{children:[e.jsx(Jr,{size:18,className:"mr-2 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[k.from_location||k.route_from,"  ",k.to_location||k.route_to]})]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{size:18,className:"mr-2 flex-shrink-0"}),e.jsx("span",{children:"Vehicle Hire Service"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vs,{size:18,className:"mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:k.route_display||"Seat Booking"})]})}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium mr-2",children:k.vehicle_number||"N/A"}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"ml-2",children:k.vehicle_type||"N/A"})]})]}),o&&e.jsx("button",{onClick:o,disabled:c,className:"flex-shrink-0",children:c?e.jsx(Nn,{className:"w-5 h-5 text-gray-400 animate-spin"}):k.is_active!==!1?e.jsx(i5,{className:"w-6 h-6 text-green-500"}):e.jsx(n5,{className:"w-6 h-6 text-gray-400"})})]}),e.jsxs("div",{className:"flex gap-3 mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[k.vehicle_image?e.jsx("img",{src:k.vehicle_image,alt:"Vehicle",className:"w-full h-32 object-cover rounded-xl border shadow-sm",onError:X=>{X.target.onerror=null,X.target.src="https://placehold.co/300x128/2563EB/FFFFFF?text=Vehicle"}}):e.jsx("div",{className:`w-full h-32 flex items-center justify-center rounded-xl border shadow-sm ${$?"bg-teal-50":"bg-blue-50"}`,children:e.jsx(Vs,{className:`w-10 h-10 ${$?"text-teal-400":"text-blue-400"}`})}),e.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"Vehicle"})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[k.driver_image?e.jsx("img",{src:k.driver_image,alt:"Driver",className:"w-full h-32 object-cover rounded-xl border shadow-sm",onError:X=>{X.target.onerror=null,X.target.src="https://placehold.co/300x128/4B5563/FFFFFF?text=Driver"}}):e.jsx("div",{className:"w-full h-32 flex items-center justify-center rounded-xl border shadow-sm bg-gray-50",children:e.jsx(rs,{className:"w-10 h-10 text-gray-400"})}),e.jsx("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"Driver"})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[I(),!$&&G()]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center text-gray-700 text-sm mb-3",children:[e.jsx(rs,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:k.driver_name||"N/A"}),k.driver_contact&&e.jsxs("a",{href:`tel:${k.driver_contact}`,className:"ml-auto flex items-center text-blue-600 text-xs",children:[e.jsx(Ls,{size:12,className:"mr-1"}),"Call"]})]}),e.jsxs("div",{className:"flex items-center font-semibold text-sm mb-3",children:[e.jsx(Vr,{className:`w-4 h-4 mr-2 flex-shrink-0 ${$?"text-teal-600":"text-blue-600"}`}),e.jsx("span",{className:$?"text-teal-700":"text-blue-700",children:re()})]}),$?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx(Du,{className:"w-4 h-4 mr-2 text-teal-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Services:"})," ",P()]})]}),k.location_address&&e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:k.location_address})]})]}):e.jsxs("div",{className:"space-y-2",children:[(k.arrival_date||k.arrival_time)&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-purple-500 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[k.arrival_date||"Flexible",k.arrival_time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-1",children:""}),e.jsx(is,{size:12,className:"inline mr-1"}),k.arrival_time.substring(0,5)]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Seat Status:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-gray-900",children:k.vehicle_seats||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-red-600",children:Array.isArray(k.reserve_seats)?k.reserve_seats.length:0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Reserved"})]}),e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-blue-600",children:w?"...":R()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Booked"})]})]}),j&&e.jsx("div",{className:"text-xs text-red-500 mt-1 text-center",children:j})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>r(k),disabled:c,className:"flex-1 flex items-center justify-center gap-1 px-3 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition disabled:opacity-50 shadow-sm",children:[e.jsx(fi,{className:"w-4 h-4"}),e.jsx("span",{children:"Details"}),e.jsx(Nl,{size:14,className:"ml-1"})]}),e.jsxs("button",{onClick:a,disabled:c,className:"flex-1 flex items-center justify-center gap-1 px-3 py-2.5 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 rounded-lg text-sm font-medium hover:from-yellow-500 hover:to-yellow-600 transition disabled:opacity-50 shadow-sm",children:[e.jsx(eg,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:q,disabled:c,className:"flex-1 flex items-center justify-center gap-1 px-3 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg text-sm font-medium hover:from-red-600 hover:to-red-700 transition disabled:opacity-50 shadow-sm",children:[e.jsx(Ru,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})}),k.created_at&&e.jsxs("div",{className:"mt-3 text-center text-xs text-gray-500",children:["Created: ",new Date(k.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),u&&e.jsx(jN,{onConfirm:K,onCancel:z,isLoading:c})]}):e.jsxs("div",{className:`bg-white rounded-2xl p-5 border-2 shadow-lg flex flex-col transition-all hover:shadow-xl ${k.is_active===!1?"opacity-80 border-gray-200":$?"border-teal-200":"border-blue-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-xl font-bold mb-2 flex items-center ${$?"text-teal-700":"text-blue-700"}`,children:$?k.is_specific_route?e.jsxs(e.Fragment,{children:[e.jsx(Jr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),e.jsxs("span",{children:[k.from_location||k.route_from,"  ",k.to_location||k.route_to]})]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"w-5 h-5 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Vehicle Hire Service"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Vs,{className:"w-5 h-5 mr-2 flex-shrink-0"}),e.jsx("span",{children:k.route_display||"Seat Booking"})]})}),e.jsx("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[I(),e.jsx("span",{className:"font-medium",children:k.vehicle_number||"N/A"}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{children:k.vehicle_type||"N/A"}),!$&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"font-semibold",children:[k.vehicle_seats||"N/A"," seats"]})]})]})})]}),o&&e.jsx("button",{onClick:o,disabled:c,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition ${k.is_active!==!1?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${c?"opacity-50 cursor-not-allowed":""}`,children:c?e.jsx(Nn,{className:"w-4 h-4 animate-spin"}):k.is_active!==!1?e.jsxs(e.Fragment,{children:[e.jsx(i5,{className:"w-4 h-4"}),e.jsx("span",{children:"Active"})]}):e.jsxs(e.Fragment,{children:[e.jsx(n5,{className:"w-4 h-4"}),e.jsx("span",{children:"Inactive"})]})})]}),e.jsxs("div",{className:"flex justify-between items-start mb-4 gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(rs,{className:"w-4 h-4 mr-2 text-gray-500 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:k.driver_name||"N/A"}),k.driver_contact&&e.jsxs("a",{href:`tel:${k.driver_contact}`,className:"ml-auto flex items-center text-blue-600 text-sm hover:text-blue-700",children:[e.jsx(Ls,{size:14,className:"mr-1"}),k.driver_contact]})]}),e.jsxs("div",{className:"flex items-center font-semibold",children:[e.jsx(Vr,{className:`w-4 h-4 mr-2 flex-shrink-0 ${$?"text-teal-600":"text-blue-600"}`}),e.jsx("span",{className:$?"text-teal-700":"text-blue-700",children:re()})]}),$?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Du,{className:"w-4 h-4 mr-2 text-teal-500 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[e.jsx("strong",{children:"Services:"})," ",P()]})]}),k.location_address&&e.jsxs("div",{className:"flex items-start",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:k.location_address})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mt-2",children:[k.per_hour_rate&&e.jsxs("span",{children:["Hourly: Rs. ",k.per_hour_rate]}),k.weekly_rate&&e.jsxs("span",{children:["Weekly: Rs. ",k.weekly_rate]}),k.allow_custom_quote&&e.jsx("span",{className:"text-green-600 font-medium",children:"Custom Quotes Available"})]})]}):e.jsxs("div",{className:"space-y-3",children:[(k.arrival_date||k.arrival_time)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-purple-500 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-700",children:[k.arrival_date||"Flexible",k.arrival_time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsx(is,{size:14,className:"inline mr-1"}),k.arrival_time.substring(0,5)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:e.jsx("strong",{children:"Available Seats:"})})]}),e.jsx("span",{className:`text-lg font-bold ${L===0?"text-red-600":L<=5?"text-amber-600":"text-green-600"}`,children:w?"Loading...":L})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-gray-900 text-lg",children:k.vehicle_seats||0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Seats"})]}),e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-red-600 text-lg",children:Array.isArray(k.reserve_seats)?k.reserve_seats.length:0}),e.jsx("div",{className:"text-xs text-gray-600",children:"Reserved"})]}),e.jsxs("div",{className:"bg-white p-2 rounded border",children:[e.jsx("div",{className:"font-bold text-blue-600 text-lg",children:w?"...":R()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Booked"})]})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Available = Total - (Reserved + Booked)"}),j&&e.jsx("div",{className:"mt-1 text-xs text-red-500 text-center",children:j})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[k.vehicle_image?e.jsx("img",{src:k.vehicle_image,alt:"Vehicle",className:"w-24 h-24 object-cover rounded-xl border shadow-md",onError:X=>{X.target.onerror=null,X.target.src="https://placehold.co/96x96/2563EB/FFFFFF?text=Vehicle"}}):e.jsx("div",{className:`w-24 h-24 flex items-center justify-center rounded-xl border shadow-md ${$?"bg-teal-50 text-teal-400":"bg-blue-50 text-blue-400"}`,children:e.jsx(Vs,{className:"w-10 h-10"})}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-white border rounded-full p-1 shadow-sm",children:e.jsx(Vs,{size:12,className:"text-gray-600"})})]}),e.jsxs("div",{className:"relative",children:[k.driver_image?e.jsx("img",{src:k.driver_image,alt:"Driver",className:"w-24 h-24 object-cover rounded-xl border shadow-md",onError:X=>{X.target.onerror=null,X.target.src="https://placehold.co/96x96/4B5563/FFFFFF?text=Driver"}}):e.jsx("div",{className:"w-24 h-24 flex items-center justify-center rounded-xl border shadow-md bg-gray-50",children:e.jsx(rs,{className:"w-10 h-10 text-gray-400"})}),e.jsx("div",{className:"absolute -top-2 -right-2 bg-white border rounded-full p-1 shadow-sm",children:e.jsx(rs,{size:12,className:"text-gray-600"})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-500",children:k.created_at&&`Created: ${new Date(k.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>r(k),disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition disabled:opacity-50 shadow-md hover:shadow-lg",children:[e.jsx(fi,{className:"w-4 h-4"}),e.jsx("span",{children:"Details"}),e.jsx(Nl,{size:16})]}),e.jsxs("button",{onClick:a,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 rounded-lg text-sm font-medium hover:from-yellow-500 hover:to-yellow-600 transition disabled:opacity-50 shadow-md hover:shadow-lg",children:[e.jsx(eg,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:q,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg text-sm font-medium hover:from-red-600 hover:to-red-700 transition disabled:opacity-50 shadow-md hover:shadow-lg",children:[e.jsx(Ru,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]}),u&&e.jsx(jN,{onConfirm:K,onCancel:z,isLoading:c})]})},dM=({transports:t,setTransports:s,onEditTransport:r,vehicles:a,drivers:i,fullTransportList:o})=>{const[c,A]=S.useState(null),[u,h]=S.useState({}),f=t.filter(w=>{if(!w.arrival_date||!w.arrival_time)return!0;const B=new Date(`${w.arrival_date}T${w.arrival_time}`),j=new Date;return new Date(B.getTime()+720*60*1e3)>=j}),g=async w=>{if(window.confirm("Are you sure you want to delete this transport offer?")){h(B=>({...B,[w]:!0}));try{await Kt.delete(`/transports/${w}/`),s(B=>B.filter(j=>j.id!==w))}catch(B){console.error("Delete failed:",B),alert("Failed to delete transport offer. Please try again.")}finally{h(B=>({...B,[w]:!1}))}}},b=async(w,B)=>{const j=t.find(Q=>Q.id===w);if(j.offer_type==="offer_sets"&&(!j.price_per_seat||j.price_per_seat<=0)&&!B){alert("Cannot activate: Price per seat is required for seat booking offers!");return}const _=!B;h(Q=>({...Q,[w]:!0}));try{const Q=new FormData;Q.append("is_active",_);const E=await Kt.patch(`/transports/${w}/`,Q);s(T=>T.map(U=>U.id===w?{...U,is_active:E.data.is_active}:U))}catch(Q){console.error(Q.response?.data),alert(Q.response?.data?.detail||"Failed to update status")}finally{h(Q=>({...Q,[w]:!1}))}},x={seatOffers:f.filter(w=>w.offer_type==="offer_sets"),hireOffers:f.filter(w=>w.offer_type==="whole_hire")};return f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active transport offers found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"All expired transports are automatically hidden."})]}):e.jsxs("div",{className:"space-y-6",children:[x.seatOffers.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-indigo-700 mb-3 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Seat Booking Offers (",x.seatOffers.length,")"]}),e.jsx("div",{className:"space-y-4",children:x.seatOffers.map(w=>e.jsx(Dx,{transport:w,onEdit:()=>r(w.id),onDelete:()=>g(w.id),onToggleStatus:()=>b(w.id,w.is_active),isLoading:u[w.id],offerType:"seat",setInfoVehicle:A},w.id))})]}),x.hireOffers.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-teal-700 mb-3 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Vehicle Hire Offers (",x.hireOffers.length,")"]}),e.jsx("div",{className:"space-y-4",children:x.hireOffers.map(w=>e.jsx(Dx,{transport:w,onEdit:()=>r(w.id),onDelete:()=>g(w.id),onToggleStatus:()=>b(w.id,w.is_active),isLoading:u[w.id],offerType:"hire",setInfoVehicle:A},w.id))})]}),x.seatOffers.length===0&&x.hireOffers.length===0&&f.length>0&&e.jsx("div",{className:"space-y-4",children:f.map(w=>e.jsx(Dx,{transport:w,onEdit:()=>r(w.id),onDelete:()=>g(w.id),onToggleStatus:()=>b(w.id,w.is_active),isLoading:u[w.id],offerType:w.offer_type==="offer_sets"?"seat":"hire",setInfoVehicle:A},w.id))}),c&&e.jsx(PC,{transportData:c,onClose:()=>A(null)})]})},ru=({title:t,count:s,icon:r,color:a,trend:i})=>{const o={green:{border:"border-green-500",text:"text-green-500"},blue:{border:"border-blue-500",text:"text-blue-500"},orange:{border:"border-orange-500",text:"text-orange-500"},indigo:{border:"border-indigo-500",text:"text-indigo-500"},pink:{border:"border-pink-500",text:"text-pink-500"},teal:{border:"border-teal-500",text:"text-teal-500"}},c=o[a]||o.indigo;return e.jsx("div",{className:`p-5 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 rounded-xl shadow-lg border-l-4 ${c.border} transform hover:scale-[1.02] transition duration-300`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:t}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mt-1",children:s}),i&&e.jsxs("span",{className:`text-xs font-medium ${i>0?"text-green-600":"text-red-600"}`,children:[i>0?"":""," ",Math.abs(i),"%"]})]}),e.jsx(r,{size:32,className:`${c.text} opacity-70`})]})})},uM=()=>{const t=Js(),[s,r]=S.useState(null),[a,i]=S.useState([]),[o,c]=S.useState([]),[A,u]=S.useState([]),[h,f]=S.useState([]),[g,b]=S.useState(!1),[x,w]=S.useState(!1),[B,j]=S.useState(null),[_,Q]=S.useState(!1),[E,T]=S.useState("all"),[U,k]=S.useState(!1),q=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_role"),localStorage.removeItem("company_status"),t("/")},K=()=>{b(!1),w(!1),j(null)};S.useEffect(()=>{(async()=>{try{const[X,ie,ge,ee,M]=await Promise.all([Kt.get("/auth/my-company-detail/"),Kt.get("/routes"),Kt.get("/vehicles/"),Kt.get("/drivers/"),Kt.get("/transports/")]);r(X.data),i(Array.isArray(ie.data)?ie.data:[]),c(Array.isArray(ge.data)?ge.data:[]),u(Array.isArray(ee.data)?ee.data:[]),f(Array.isArray(M.data)?M.data:[])}catch(X){console.error("Error loading dashboard data:",X),i([]),c([]),u([]),f([])}})()},[]);const{seatOffers:z,hireOffers:$,activeOffers:D,revenueStats:L}=S.useMemo(()=>{const G=Array.isArray(h)?h:[],X=G.filter(M=>M.offer_type==="offer_sets"),ie=G.filter(M=>M.offer_type==="whole_hire"),ge=G.filter(M=>M.is_active!==!1),ee=G.reduce((M,H)=>H.offer_type==="offer_sets"?M+(H.price_per_seat*H.total_seats||0):M+(H.fixed_fare||H.per_day_rate||H.rate_per_km||0),0);return{seatOffers:X,hireOffers:ie,activeOffers:ge,revenueStats:{total:ee,seatRevenue:X.reduce((M,H)=>M+(H.price_per_seat*H.total_seats||0),0),hireRevenue:ie.reduce((M,H)=>M+(H.fixed_fare||H.per_day_rate||H.rate_per_km||0),0)}}},[h]),R=S.useMemo(()=>{switch(E){case"offer_sets":return z;case"whole_hire":return $;case"active":return D;default:return h}},[E,h,z,$,D]),P=G=>{const X=h.find(ie=>ie.id===G);X&&(j(G),X.offer_type==="offer_sets"?(b(!0),w(!1)):X.offer_type==="whole_hire"&&(w(!0),b(!1)))},re=o.filter(G=>G.is_active!==!1).length;A.filter(G=>G.is_active!==!1).length;const I=a.filter(G=>G.is_active!==!1).length;return e.jsxs("div",{className:"bg-gradient-to-br from-gray-100 via-blue-100 to-sky-200",children:[e.jsxs("div",{className:"lg:flex",children:[e.jsx("div",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"w-80 lg:sticky lg:top-0 h-screen p-8 bg-white shadow-xl z-30 flex flex-col justify-between overflow-y-auto",children:[e.jsxs("div",{children:[" ",e.jsx("h2",{className:"text-3xl font-bold text-indigo-600 mb-8 pt-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("button",{onClick:()=>{j(null),b(!0),w(!1)},className:"w-full flex items-center justify-center gap-3 bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-indigo-700 transition transform hover:scale-[1.01]",children:[e.jsx(Ka,{size:24})," OfferSeat Booking"]}),e.jsxs("button",{onClick:()=>{j(null),w(!0),b(!1)},className:"w-full flex items-center justify-center gap-3 bg-teal-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-teal-700 transition transform hover:scale-[1.01]",children:[e.jsx(gs,{size:24})," Offer Whole Vehicle"]}),e.jsxs("button",{onClick:()=>t("/ServiceProviderDashboard",{state:{openVehicles:!0}}),className:"w-full flex items-center justify-center gap-3 bg-amber-500 text-gray-900 font-bold py-4 rounded-xl shadow-lg hover:bg-amber-600 transition transform hover:scale-[1.01]",children:[e.jsx(Vs,{size:24}),"Management & setting"]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 rounded-xl border border-gray-100 mb-8",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-600 mb-3 flex items-center",children:[e.jsx(Su,{className:"w-5 h-5 mr-2"}),"Company Details"]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:s?.company_name||"Company Name"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s?.company_email||"N/A"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 rounded-xl border border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-3",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-1 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Active Vehicles"}),e.jsx("span",{className:"font-semibold text-blue-600",children:re})]}),e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-gray-600",children:"Active Routes"}),e.jsx("span",{className:"font-semibold text-purple-600",children:I})]})]})]})]})," ",e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("div",{className:"relative",children:_&&e.jsxs("div",{className:"absolute bottom-12 mb-2 w-full bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[e.jsx("button",{className:"block w-full text-left px-4 py-3 text-gray-700 hover:bg-indigo-50 transition",children:"Profile Settings"}),e.jsx("button",{onClick:()=>t("/CompanyProfileForm"),className:"block w-full text-left px-4 py-3 text-gray-700 hover:bg-indigo-50 transition",children:"Company Details"})]})}),e.jsxs("button",{onClick:q,className:"w-full flex items-center gap-2 bg-red-500 text-white mt-3 px-4 py-3 rounded-lg font-semibold hover:bg-red-600 transition shadow-md justify-center",children:[e.jsx(s_,{size:20})," Logout"]}),e.jsx("p",{className:"text-xs text-center text-gray-400 mt-3",children:" 2024 TransportApp"})]})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"w-full h-[45vh] relative flex items-center justify-center bg-cover bg-center shadow-lg",style:{backgroundImage:`url(${s?.company_banner||"/default-banner.jpg"})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("img",{src:s?.company_logo_url||"/default-logo.png",alt:"Company Logo",className:"w-32 h-32 rounded-full object-cover border-4 border-white mx-auto shadow-xl"}),e.jsx("h1",{className:"text-white text-4xl mt-4 font-extrabold drop-shadow-lg",children:s?.company_name||"Company Name"}),e.jsx("p",{className:"text-gray-200 font-medium mt-1",children:"Premium Transport Services"})]})]}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("button",{onClick:()=>k(!U),className:"lg:hidden w-full flex items-center justify-between p-4 bg-indigo-100 text-indigo-700 font-bold rounded-xl mb-6 shadow-lg transition hover:bg-indigo-200",children:[e.jsx("span",{children:U?"Overview Aur Revenue Chupayen":"Overview Aur Revenue Dekhen"}),U?e.jsx(Ug,{size:20}):e.jsx(Hf,{size:20})]}),e.jsxs("div",{className:`${U?"block":"hidden"} lg:block`,children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-5 mt-4 md:mt-8 lg:mt-0",children:"Business Overview"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-6 mb-10",children:[e.jsx(ru,{title:"Total Routes",count:a.length,icon:Jr,color:"green"}),e.jsx(ru,{title:"Total Vehicles",count:o.length,icon:Vs,color:"blue"}),e.jsx(ru,{title:"Total Drivers",count:A.length,icon:Gt,color:"orange"}),e.jsx(ru,{title:"Seat Offers",count:z.length,icon:Ka,color:"indigo"}),e.jsx(ru,{title:"Hire Offers",count:$.length,icon:gs,color:"pink"}),e.jsx(ru,{title:"Active Offers",count:D.length,icon:jn,color:"teal"})]})]})," ",e.jsxs("div",{className:"lg:hidden space-y-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>{j(null),b(!0),w(!1)},className:"w-full flex items-center justify-center gap-3 bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-indigo-700 transition",children:[e.jsx(Ka,{size:24})," Seat Booking Offer"]}),e.jsxs("button",{onClick:()=>{j(null),w(!0),b(!1)},className:"w-full flex items-center justify-center gap-3 bg-teal-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-teal-700 transition",children:[e.jsx(gs,{size:24})," Full Vehicle Hire Offer"]}),e.jsxs("button",{onClick:()=>t("/ServiceProviderDashboard",{state:{openVehicles:!0}}),className:"w-full flex items-center justify-center gap-3 bg-amber-500 text-gray-900 font-bold py-4 rounded-xl shadow-lg hover:bg-amber-600 transition",children:[e.jsx(Vs,{size:24})," Settings aur Management"]})]}),e.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg border border-gray-100 mt-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-600 mb-3 flex items-center",children:[e.jsx(Su,{className:"w-5 h-5 mr-2"}),"Company Details"]}),e.jsx(PC,{company:s})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-700 mb-4 sm:mb-0",children:[E==="all"?"Saare Offers":E==="offer_sets"?"Seat Booking Offers":E==="whole_hire"?"Vehicle Hire Offers":"Active Offers",e.jsxs("span",{className:"text-indigo-600 ml-2",children:["(",R.length,")"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Xm,{label:"Saare Offers",filterKey:"all",currentFilter:E,setFilter:T,Icon:Ka,color:"gray"}),e.jsx(Xm,{label:"Seat Booking",filterKey:"offer_sets",currentFilter:E,setFilter:T,Icon:Gt,color:"indigo"}),e.jsx(Xm,{label:"Vehicle Hire",filterKey:"whole_hire",currentFilter:E,setFilter:T,Icon:gs,color:"teal"}),e.jsx(Xm,{label:"Active Sirf",filterKey:"active",currentFilter:E,setFilter:T,Icon:jn,color:"green"})]})]}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg min-h-[500px]",children:e.jsx(dM,{transports:R,vehicles:o,drivers:A,setTransports:f,onEditTransport:P,fullTransportList:h})})]})]})]})]}),(g||B&&h.find(G=>G.id===B)?.offer_type==="offer_sets")&&e.jsx(BN,{closeForm:K,title:B?"Seat Booking Offer Edit Karein":"Seat Booking Offer",size:"max-w-4xl",children:e.jsx(eM,{closeForm:K,editingId:B,routes:a,vehicles:o,drivers:A,setTransports:f,offerType:"offer_sets",transports:h})}),(x||B&&h.find(G=>G.id===B)?.offer_type==="whole_hire")&&e.jsx(BN,{closeForm:K,title:B?"Vehicle Hire Offer Edit Karein":"Full Vehicle Hire Offer",size:"max-w-4xl",children:e.jsx(sM,{closeForm:K,editingId:B,vehicles:o,drivers:A,setTransports:f,offerType:"whole_hire",transports:h})})]})},Xm=({label:t,filterKey:s,currentFilter:r,setFilter:a,Icon:i,color:o})=>{const c=r===s,A={gray:{active:"bg-gray-600 text-white hover:bg-gray-700",inactive:"bg-gray-200 text-gray-700 hover:bg-gray-300"},indigo:{active:"bg-indigo-600 text-white hover:bg-indigo-700",inactive:"bg-gray-200 text-gray-700 hover:bg-gray-300"},teal:{active:"bg-teal-600 text-white hover:bg-teal-700",inactive:"bg-gray-200 text-gray-700 hover:bg-gray-300"},green:{active:"bg-green-600 text-white hover:bg-green-700",inactive:"bg-gray-200 text-gray-700 hover:bg-gray-300"}},u=A[o]||A.gray,h="flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition shadow-sm text-sm",f=u.active,g=u.inactive;return e.jsxs("button",{onClick:()=>a(s),className:`${h} ${c?f:g}`,children:[e.jsx(i,{size:16})," ",t]})},BN=({children:t,closeForm:s,title:r,size:a="max-w-2xl"})=>e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:s,children:e.jsxs("div",{className:`bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 p-6 rounded-xl shadow-2xl w-full ${a} mx-4 relative overflow-y-auto max-h-[90vh]`,onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b",children:[e.jsx("h3",{className:"text-2xl font-bold text-indigo-600",children:r}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-red-600 transition p-2 rounded-full hover:bg-gray-100",title:"Close Form",children:e.jsx(Is,{size:24})})]}),t]})}),hM="/static/assets/coaster-DK2um_o7.png",fM="/static/assets/bus-8l8bOcGE.png",mM="/static/assets/car-Cn8harX_.png",gM="/static/assets/hiace-DwYhJb7M.png";function pM({setStep:t,setSelectedService:s}){const r=[{name:"Coaster",icon:hM,color:"bg-gradient-to-br from-blue-400 to-cyan-500"},{name:"Bus",icon:fM,color:"bg-gradient-to-br from-green-400 to-emerald-500"},{name:"Car",icon:mM,color:"bg-gradient-to-br from-purple-400 to-pink-500"},{name:"Hiace",icon:gM,color:"bg-gradient-to-br from-orange-400 to-red-500"}],a=i=>{s(i),t("passengerCardList")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 p-4 md:p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 p-6 md:p-8 text-white text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-3",children:" Available Services"}),e.jsx("p",{className:"text-slate-300 text-lg",children:"Select your preferred travel option"})]}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8",children:r.map(i=>e.jsx("div",{onClick:()=>a(i.name),className:"group bg-gradient-to-br from-white to-gray-50 border border-gray-300 rounded-2xl p-6 hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1 hover:border-transparent",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:`${i.color} w-20 h-20 rounded-2xl p-4 mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300 flex items-center justify-center`,children:e.jsx("img",{src:i.icon,alt:i.name,className:"w-12 h-12 object-contain filter drop-shadow-lg"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:i.name}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("span",{className:"inline-block px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-sm font-semibold rounded-full shadow-md",children:"Select "})}),e.jsx("div",{className:"opacity-100 group-hover:opacity-0 transition-opacity duration-300",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Click to select"})})]})},i.name))}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-8 pt-8 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>t("bookingForm"),className:"group flex items-center gap-3 px-8 py-3 bg-gradient-to-r from-gray-700 to-gray-900 hover:from-gray-800 hover:to-black text-white font-bold rounded-xl shadow-lg transition-all duration-300 transform hover:-translate-x-1 min-w-[180px] justify-center",children:[e.jsx("span",{className:"text-xl transition-transform group-hover:-translate-x-1",children:""}),e.jsx("span",{children:"Back to Booking"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("button",{onClick:()=>a("ALL"),className:"group relative px-10 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg transition-all duration-300 transform hover:-translate-y-1 overflow-hidden",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),e.jsx("span",{children:"View All Services"}),e.jsx("span",{className:"text-lg",children:""})]}),e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-700",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent"})})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"See complete list of all available vehicles"})]})]})]})]})})})}function VC({setStep:t,transports:s=[],bookingType:r,setFilteredTransports:a,setPassengerInfo:i,cameFromDashboard:o,closeForm:c,editingId:A,routes:u,vehicles:h,drivers:f,setTransports:g}){const b=Js(),x=!!c,[w,B]=S.useState(!1),[j,_]=S.useState(null),[Q,E]=S.useState([]),[T,U]=S.useState([]),[k,q]=S.useState(!1),[K,z]=S.useState(0),[$,D]=S.useState(0),[L,R]=S.useState(null),[P,re]=S.useState({from:"",to:"",date:"",time:""}),[I,G]=S.useState({name:"",contact:"",email:"",cnic:""}),X={AC:{label:"AC",icon:Nf,color:"blue",bgColor:"bg-blue-400",textColor:"text-blue-700"},WiFi:{label:"Free WiFi",icon:eA,color:"purple",bgColor:"bg-purple-400",textColor:"text-purple-700"},ChargingPorts:{label:"Charging Ports",icon:wf,color:"green",bgColor:"bg-green-400",textColor:"text-green-700"},FreeWaterBottle:{label:"Free Water",icon:Pf,color:"red",bgColor:"bg-red-400",textColor:"text-red-700"},RecliningSeats:{label:"Reclining Seats",icon:Fg,color:"yellow",bgColor:"bg-yellow-400",textColor:"text-yellow-700"}},ie=xe=>{if(!xe)return 1440;const[Ue,ve]=xe.split(":").map(Number);return Ue*60+ve},ge=(xe,Ue)=>{if(!xe||xe.length===0)return xe;const ve=ie(Ue);return[...xe].sort((oe,Te)=>{const Ee=oe.arrival_time?.substring(0,5)||"23:59",ze=Te.arrival_time?.substring(0,5)||"23:59",Oe=Math.abs(ie(Ee)-ve),Je=Math.abs(ie(ze)-ve);return Oe-Je})};S.useEffect(()=>{if(!j||!w)return;const xe=async()=>{q(!0),R(null);const ve=j.vehicle_id||j.vehicle||j.id||j.transport_id,oe=j.arrival_date||j.departure_date,Te=j.arrival_time||j.departure_time;if(!ve||!oe||!Te){console.log("Missing required parameters for seat fetch"),q(!1),Ue();return}try{let Ee=Te;Ee&&Ee.split(":").length===2&&(Ee=`${Ee}:00`);const ze=`/api/checkout/bookings/?vehicle_id=${ve}&arrival_date=${oe}&arrival_time=${Ee}`,Oe=await fetch(ze,{headers:{"Content-Type":"application/json"}});if(Oe.ok){const Je=await Oe.json();if(Array.isArray(Je)){U(Je);const ot=j.vehicle_seats||40,ht=j?.reserve_seats||[],_t=Array.isArray(ht)?ht.length:0,ct=Je.length,dt=_t+ct,At=ot-dt;z(At>=0?At:0),D(ot)}else U([]),Ue()}else Oe.status===404?(U([]),Ue()):(R("Could not load seat data"),Ue())}catch(Ee){console.error("Error fetching booked seats:",Ee),R("Network error loading seats"),U([]),Ue()}finally{q(!1)}},Ue=()=>{const ve=j.vehicle_seats||40,oe=j?.reserve_seats||[],Te=Array.isArray(oe)?oe.length:0,Ee=ve-Te;z(Ee>=0?Ee:0),D(ve)};xe()},[j,w]);const ee=xe=>{if(!xe)return 0;if(w&&xe.id===j?.id)return K;const Ue=xe.vehicle_seats||0,ve=xe.reserve_seats?.length||0;return Ue-ve},M=xe=>{if(!xe||!xe.vehicle_features)return[];const Ue=[],ve=xe.vehicle_features;return Object.keys(X).forEach(oe=>{ve[oe]===!0&&Ue.push({...X[oe],key:oe})}),Ue};S.useEffect(()=>{if(x)return;const xe=JSON.parse(localStorage.getItem("passenger_data")||"{}");if(xe&&Object.keys(xe).length>0&&G({name:xe.name||"",email:xe.email||"",contact:xe.contact||"",cnic:xe.cnic||""}),s.length===1&&window.location.pathname.includes("book-seat")){const Ue=s[0]||{};B(!0),_(Ue),re({from:Ue.route_from||"",to:Ue.route_to||"",date:Ue.arrival_date||"",time:Ue.arrival_time?Ue.arrival_time.substring(0,5):""});const ve=M(Ue);E(ve)}else B(!1),_(null),E([])},[x,s]);const H=xe=>xe?{name:xe.driver_name||"Not Available",contact:xe.driver_contact||"Not Available",image:xe.driver_image||null}:null,Z=xe=>{if(!xe)return[];if(xe.payment_type==="Cash")return[{type:"Cash",message:"ONLY CASH",description:"Pay in cash to the driver",icon:Mi}];const Ue=[];return xe.easypaisa_name&&xe.easypaisa_number&&Ue.push({type:"EasyPaisa",name:xe.easypaisa_name,number:xe.easypaisa_number,icon:Mi}),xe.jazzcash_name&&xe.jazzcash_number&&Ue.push({type:"JazzCash",name:xe.jazzcash_name,number:xe.jazzcash_number,icon:Mi}),xe.bank_name&&xe.bank_account_number&&Ue.push({type:"Bank Transfer",name:xe.bank_name,details:`${xe.bank_account_title} - ${xe.bank_account_number}`,icon:Zo}),Ue},Ae=S.useMemo(()=>[...new Set(s.map(xe=>xe.route_from).filter(Boolean))],[s]),fe=S.useMemo(()=>[...new Set(s.map(xe=>xe.route_to).filter(Boolean))],[s]),pe=xe=>{w||re({...P,[xe.target.name]:xe.target.value})},Se=new Date,me=Se.toISOString().split("T")[0],Le=me,Ve=Se.toTimeString().slice(0,5),ke=P.date===me?Ve:"",Ke=()=>{w?b(-1):t("dashboard")},ae=()=>{if(localStorage.setItem("passenger_data",JSON.stringify(I)),i(I),!o&&w&&s.length===1){t({step:"seatSelection",transport:s[0]});return}let xe=s;P.from&&(xe=xe.filter(ve=>ve.route_from===P.from)),P.to&&(xe=xe.filter(ve=>ve.route_to===P.to));let Ue=P.time||Ve;if(xe=ge(xe,Ue),a(xe),o){t("services");return}xe.length===1?t({step:"seatSelection",transport:xe[0]}):t("services")};if(x)return e.jsxs("div",{className:"p-4 sm:p-6  border-2 border-amber-300 rounded-xl shadow-lg bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[e.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-amber-800 mb-3 flex items-center gap-2",children:[e.jsx(Ka,{size:20,className:"text-amber-600"})," Action Required: Create Seat Offer Form"]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-amber-200 mb-4",children:e.jsxs("p",{className:"font-semibold text-indigo-700 text-sm sm:text-base flex items-center gap-2",children:[e.jsx(tc,{size:16,className:"text-indigo-500"}),"Dashboard Data Loaded (Routes: ",u?.length||0,", Vehicles: ",h?.length||0,")"]})}),e.jsxs("button",{type:"button",onClick:c,className:"mt-4 flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all shadow-md hover:shadow-lg text-sm font-medium",children:[e.jsx(Is,{size:20})," Close Form"]})]});const Y=()=>{if(!j||!Z(j).length)return null;const xe=j.payment_type==="Cash";return e.jsxs("div",{className:`border-2 p-4 rounded-2xl shadow-md ${xe?"bg-gradient-to-br from-yellow-50 to-amber-50 border-amber-200":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-100"}`,children:[e.jsxs("div",{className:`flex items-center gap-3 mb-4 pb-3 border-b ${xe?"border-amber-200":"border-green-200"}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${xe?"bg-amber-100":"bg-green-100"}`,children:e.jsx(Mi,{className:xe?"text-amber-600":"text-green-600",size:20})}),e.jsx("h4",{className:`text-lg font-bold ${xe?"text-amber-700":"text-green-700"}`,children:"Payment Options"}),e.jsx("span",{className:`ml-auto text-xs font-bold px-2 py-1 rounded-full ${xe?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:j.payment_type})]}),xe?e.jsxs("div",{className:"text-center py-2",children:[e.jsx("div",{className:"text-3xl font-extrabold text-amber-800 mb-2",children:"ONLY CASH"}),e.jsx("p",{className:"text-sm text-amber-600",children:"Pay in cash to the driver"}),e.jsx("div",{className:"mt-3 bg-white/50 p-2 rounded-lg",children:e.jsx("p",{className:"text-xs text-gray-600",children:"No EasyPaisa or JazzCash available"})})]}):e.jsx("div",{className:"space-y-3",children:Z(j).map((Ue,ve)=>{let oe="border-blue-200",Te="text-blue-800";return Ue.type==="EasyPaisa"?(oe="border-blue-200",Te="text-blue-800"):Ue.type==="JazzCash"?(oe="border-purple-200",Te="text-purple-800"):(oe="border-green-200",Te="text-green-800"),e.jsxs("div",{className:`bg-white p-2 rounded-lg border ${oe}`,children:[e.jsx("p",{className:`font-semibold text-sm ${Te}`,children:Ue.type}),e.jsx("p",{className:"text-xs text-gray-600",children:Ue.name}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ue.number||Ue.details||Ue.message})]},ve)})})]})};return e.jsxs("div",{className:"bg-gradient-to-br from-white to-indigo-50/30 rounded-2xl shadow-2xl max-w-6xl mx-auto overflow-hidden border border-indigo-100",children:[w&&j&&e.jsxs("div",{className:"relative bg-gradient-to-r from-indigo-700 via-purple-700 to-indigo-800 p-4 sm:p-6 text-white",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-yellow-400 via-amber-400 to-yellow-400"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white rounded-2xl flex items-center justify-center shadow-lg overflow-hidden",children:j.company_logo_url?e.jsx("img",{src:j.company_logo_url,alt:j.company_name,className:"w-full h-full object-cover",onError:xe=>{xe.target.onerror=null,xe.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%234f46e5'%3E%3Cpath d='M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z'/%3E%3C/svg%3E"}}):e.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(Ri,{size:32,className:"text-white"})})}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-400 rounded-full flex items-center justify-center border-2 border-white shadow-md",children:e.jsx(zs,{size:14,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:j.company_name}),e.jsxs("p",{className:"font-bold text-green-400",children:[j.route_from,"  ",j.route_to]}),e.jsx("p",{className:"text-indigo-200 font-medium",children:j.vehicle_details||"Your Journey, Our Priority"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((xe,Ue)=>e.jsx(za,{size:14,className:"fill-yellow-400 text-yellow-400"},Ue))}),e.jsx("span",{className:"text-sm bg-white/20 px-2 py-0.5 rounded-full",children:"4.8/5 Rating"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 md:gap-4 justify-center",children:[e.jsxs("div",{className:"text-center bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wa,{size:18,className:"text-green-300"}),e.jsx("span",{className:"font-bold text-lg",children:"Price/Seat"})]}),e.jsx("p",{className:"text-sm text-indigo-200",children:j.price_per_seat})]}),e.jsxs("div",{className:"text-center bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{size:18,className:"text-blue-300"}),e.jsxs("span",{className:"font-bold text-lg",children:[k?"...":ee(j),"/",j.vehicle_seats]})]}),e.jsx("p",{className:"text-sm text-indigo-200",children:"Available Seats"}),L&&e.jsx("p",{className:"text-xs text-red-300 mt-1",children:L})]}),e.jsx("div",{className:"text-center bg-white/10 p-3 rounded-xl backdrop-blur-sm",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{className:"font-medium flex items-center gap-1",children:[e.jsx(r_,{size:14}),j.company_contact_1]}),e.jsx("p",{className:"text-indigo-200",children:"Contact Support"})]})})]})]}),Q.length>0&&e.jsx("div",{className:"mt-4 pt-3 border-t border-white/20",children:e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm",children:Q.map((xe,Ue)=>(xe.icon,e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:`w-2 h-2 ${xe.bgColor} rounded-full`}),xe.label]},Ue)))})})]}),e.jsxs("div",{className:"p-4 sm:p-6 md:p-10",children:[e.jsx("div",{className:"text-center mb-8 sm:mb-10",children:w?e.jsxs("div",{className:"inline-flex items-center justify-center gap-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white p-4 rounded-2xl mb-4 shadow-lg",children:[e.jsx(zs,{size:32,className:"animate-pulse"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold",children:"Complete Your Booking"}),e.jsxs("p",{className:"text-sm text-green-100 mt-1",children:["You're booking with ",j?.company_name]})]})]}):e.jsxs("div",{className:"inline-flex items-center justify-center gap-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-4 rounded-2xl mb-4 shadow-lg",children:[e.jsx(Ri,{size:32,className:"animate-pulse"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold",children:"Book Your Seat Now"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-indigo-50 border-2 border-indigo-100 p-5 sm:p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b border-indigo-200",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(rs,{className:"text-indigo-600",size:22})}),e.jsx("h3",{className:"text-xl font-bold text-indigo-700",children:"Passenger Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(au,{label:"Passenger Name *",icon:rs,value:I.name,onChange:xe=>G({...I,name:xe.target.value}),placeholder:"Enter full name"}),e.jsx(au,{label:"Contact No *",icon:Ls,value:I.contact,onChange:xe=>G({...I,contact:xe.target.value}),placeholder:"03XX XXXXXXX"}),e.jsx(au,{label:"Email Address",icon:ln,value:I.email,type:"email",onChange:xe=>G({...I,email:xe.target.value}),placeholder:"example@email.com"}),e.jsx(au,{label:"CNIC/Passport No",icon:Mi,value:I.cnic,onChange:xe=>G({...I,cnic:xe.target.value}),placeholder:"XXXXX-XXXXXXX-X"})]})]}),e.jsxs("div",{className:`border-2 p-5 sm:p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 ${w?"bg-gradient-to-br from-emerald-50 to-green-50 border-green-200":"bg-gradient-to-br from-white to-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-3 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${w?"bg-green-100":"bg-gray-100"}`,children:e.jsx(Yt,{className:w?"text-green-600":"text-gray-600",size:22})}),e.jsx("h3",{className:`text-xl font-bold ${w?"text-green-800":"text-gray-700"}`,children:"Trip Details"})]}),w&&e.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1",children:[e.jsx(zs,{size:14})," Locked"]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsx(_N,{label:"Leaving From *",icon:Yt,name:"from",value:P.from,onChange:pe,options:Ae,readOnly:w,variant:w?"success":"default"}),e.jsx(_N,{label:"Going To *",icon:Yt,name:"to",value:P.to,onChange:pe,options:fe,readOnly:w,variant:w?"success":"default"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsx(au,{label:"Departure Date",icon:as,name:"date",type:"date",value:P.date,onChange:pe,min:Le,readOnly:w,variant:w?"success":"default"}),e.jsx(au,{label:"Preferred Time",icon:is,name:"time",type:"time",value:P.time,onChange:pe,min:ke,readOnly:w,variant:w?"success":"default"})]})]})]})]}),w&&j&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[H(j)&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-100 p-4 rounded-2xl shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-blue-200",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rs,{className:"text-blue-600",size:20})}),e.jsx("h4",{className:"text-lg font-bold text-blue-700",children:"Driver Information"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[j.driver_image?e.jsx("img",{src:j.driver_image,alt:j.driver_name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-200 to-indigo-300 flex items-center justify-center",children:e.jsx(rs,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:j.driver_name}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-1",children:[e.jsx(Ls,{size:14}),j.driver_contact]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-100 p-4 rounded-2xl shadow-md",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-purple-200",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ri,{className:"text-purple-600",size:20})}),e.jsx("h4",{className:"text-lg font-bold text-purple-700",children:"Vehicle Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vehicle Type:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:j.vehicle_type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vehicle Number:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:j.vehicle_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Seats:"}),e.jsx("span",{className:"font-semibold text-gray-800",children:j.vehicle_seats})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Available Seats:"}),e.jsx("span",{className:`font-semibold ${ee(j)===0?"text-red-600":ee(j)<=5?"text-amber-600":"text-green-600"}`,children:k?"Loading...":ee(j)})]})]})]}),Y()]}),e.jsxs("div",{className:"mt-8 sm:mt-10 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("button",{onClick:Ke,className:"flex items-center gap-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold px-6 py-3 rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all shadow-md hover:shadow-lg w-full sm:w-auto justify-center",children:[e.jsx(va,{className:"rotate-180",size:18}),w?"Go Back":"Previous Step"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-sm text-gray-600 hidden sm:block",children:w?"Ready to select seats":`${s.length} trips available`}),e.jsx("button",{onClick:ae,disabled:!I.name||!I.contact||w&&k,className:`flex items-center gap-2 text-white font-bold px-8 py-3 rounded-xl transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] w-full sm:w-auto justify-center group ${!I.name||!I.contact||w&&k?"bg-gray-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700"}`,children:w&&k?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nn,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Continue to ",w?"Seat Selection":"Services"]}),e.jsx(va,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})]}),w&&j&&e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold text-indigo-700",children:j.company_name}),"  Contact: ",j.company_contact_1," ",j.company_contact_2&&` | ${j.company_contact_2}`," ",e.jsx("span",{className:"mx-2",children:"|"})," Secure Payment",e.jsx("span",{className:"mx-2",children:"|"})," 24/7 Customer Support"]})})]})]})}const au=({label:t,icon:s,type:r="text",name:a,value:i,onChange:o,readOnly:c,min:A,placeholder:u,variant:h="default"})=>{const f={default:c?"bg-gray-100 border-gray-300 text-gray-500":"bg-white border-indigo-200 hover:border-indigo-300 focus:border-indigo-500 text-gray-900",success:c?"bg-green-50 border-green-300 text-green-700":"bg-white border-green-200 hover:border-green-300 focus:border-green-500 text-gray-900"};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-semibold ${h==="success"?"text-green-700":"text-gray-700"}`,children:t}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(s,{size:18,className:`absolute left-3 ${h==="success"?"text-green-500":"text-indigo-400"}`}),e.jsx("input",{type:r,name:a,value:i,onChange:o,readOnly:c,min:A,placeholder:u,required:t.includes("*"),className:`w-full border-2 p-3 pl-10 rounded-xl focus:ring-2 focus:ring-offset-1 transition-all text-sm ${f[h]} ${c?"cursor-not-allowed":"cursor-text"}`}),c&&h==="success"&&e.jsx(zs,{size:16,className:"absolute right-3 text-green-500"})]})]})},_N=({label:t,icon:s,name:r,value:a,onChange:i,options:o,readOnly:c,variant:A="default"})=>{const u={default:c?"bg-gray-100 border-gray-300 text-gray-500":"bg-white border-indigo-200 hover:border-indigo-300 focus:border-indigo-500 text-gray-900",success:c?"bg-green-50 border-green-300 text-green-700":"bg-white border-green-200 hover:border-green-300 focus:border-green-500 text-gray-900"};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-semibold ${A==="success"?"text-green-700":"text-gray-700"}`,children:t}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(s,{size:18,className:`absolute left-3 top-1/2 -translate-y-1/2 ${A==="success"?"text-green-500":"text-indigo-400"} pointer-events-none`}),e.jsxs("select",{name:r,value:a,onChange:i,disabled:c,required:t.includes("*"),className:`w-full border-2 p-3 pl-10 rounded-xl appearance-none focus:ring-2 focus:ring-offset-1 transition-all text-sm ${u[A]} ${c?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxs("option",{value:"",children:["-- Select ",t.replace(" *","")," --"]}),o.map((h,f)=>e.jsx("option",{value:h,children:h},f))]}),e.jsx("div",{className:`absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none ${A==="success"?"text-green-500":"text-gray-400"}`}),c&&A==="success"&&e.jsx(zs,{size:16,className:"absolute right-8 text-green-500"})]})]})},xM=({transport:t,onSelect:s})=>{const[r,a]=S.useState([]),[i,o]=S.useState(!1),[c,A]=S.useState(0),[u,h]=S.useState(t.vehicle_seats||0),[f,g]=S.useState(!1);S.useEffect(()=>{if(!t)return;(async()=>{o(!0);const w=t.vehicle_id||t.vehicle||t.id,B=t.arrival_date||t.departure_date,j=t.arrival_time||t.departure_time;if(!w||!B||!j){o(!1);return}try{const _=localStorage.getItem("access_token");let Q=j;Q&&Q.split(":").length===2&&(Q=`${Q}:00`);const E=`/api/checkout/bookings/?vehicle_id=${w}&arrival_date=${B}&arrival_time=${Q}`,T=await fetch(E,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(T.ok){const U=await T.json();Array.isArray(U)?a(U):a([])}else T.status===404&&a([])}catch(_){console.error("Error fetching booked seats:",_),a([])}finally{o(!1)}})()},[t]),S.useEffect(()=>{if(!t)return;const x=t.vehicle_seats||t.vehicle_seats_snapshot||t.seats_available||40;h(x);const w=t?.reserve_seats||[],B=[...new Set([...w,...r])],j=x-B.length;A(j>=0?j:0)},[t,r]);const b=t.vehicle_features&&(t.vehicle_features.AC||t.vehicle_features.WiFi||t.vehicle_features.ChargingPorts||t.vehicle_features.FreeWaterBottle||t.vehicle_features.RecliningSeats);return S.useEffect(()=>{const x=()=>{g(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),f?e.jsxs("div",{onClick:()=>s(t),className:`w-full bg-white rounded-2xl overflow-hidden shadow-lg \r
                   cursor-pointer hover:shadow-xl transition-all duration-300 \r
                   border border-gray-200 hover:border-blue-300 active:scale-[0.99]`,children:[e.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[t.vehicle_image?e.jsx("img",{src:t.vehicle_image,alt:"Vehicle",className:"w-full h-full object-cover",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/400x192/2563EB/FFFFFF?text=Vehicle"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx(Ri,{className:"w-16 h-16 text-blue-400"})}),e.jsxs("div",{className:"absolute top-3 right-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-3 py-1.5 rounded-full shadow-lg",children:[e.jsx("div",{className:"text-xs font-medium",children:"PRICE"}),e.jsxs("div",{className:"text-lg font-bold",children:["Rs ",t.price_per_seat||"N/A"]})]}),e.jsx("div",{className:"absolute top-3 left-3",children:t.company_logo_url?e.jsx("img",{src:t.company_logo_url,alt:t.company_name,className:"w-12 h-12 rounded-full border-2 border-white shadow-md",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/48x48/4B5563/FFFFFF?text=Logo"}}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-white border-2 border-blue-300 flex items-center justify-center shadow-md",children:e.jsx(Ri,{className:"w-6 h-6 text-blue-600"})})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-2 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"Loading seats..."})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate",children:t.company_name||"Elite Transport"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((x,w)=>e.jsx(za,{size:12,className:"fill-yellow-400 text-yellow-400"},w))}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"4.8/5"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Yt,{size:14,className:"text-red-500"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"FROM"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:t.route_from})]}),e.jsx(va,{size:20,className:"text-blue-500 mx-2 flex-shrink-0"}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Yt,{size:14,className:"text-green-500"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"TO"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:t.route_to})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg",children:[e.jsx(is,{size:16,className:"text-blue-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Time"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t.arrival_time?.substring(0,5)||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded-lg",children:[e.jsx(as,{size:16,className:"text-purple-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:t.arrival_date||"N/A"})]})]})]}),e.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{size:16,className:"text-green-600"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Seat Availability"})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${c===0?"bg-red-100 text-red-800":c<=5?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:i?"Loading...":`${c} Available`})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900",children:u}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-red-600",children:Array.isArray(t.reserve_seats)?t.reserve_seats.length:0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Reserved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-blue-600",children:r.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Booked"})]})]})]}),b&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Vehicle Features:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.vehicle_features.AC&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[e.jsx(Nf,{size:10}),"AC"]}),t.vehicle_features.WiFi&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[e.jsx(eA,{size:10}),"WiFi"]}),t.vehicle_features.ChargingPorts&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[e.jsx(wf,{size:10}),"Charging"]}),t.vehicle_features.FreeWaterBottle&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:[e.jsx(Pf,{size:10}),"Water"]}),t.vehicle_features.RecliningSeats&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:[e.jsx(Fg,{size:10}),"Reclining"]})]})]}),e.jsxs("button",{onClick:x=>{x.stopPropagation(),s(t)},disabled:c===0||i,className:`w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white \r
                     rounded-xl font-bold text-sm hover:from-blue-700 hover:to-indigo-700 \r
                     transition-all duration-300 shadow-lg hover:shadow-xl \r
                     flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(wa,{size:16}),e.jsx("span",{children:i?"Loading...":"Book Now"}),e.jsx(Nl,{size:16})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsx("p",{className:"text-xs text-gray-500",children:i?"Checking availability...":c===0?"No seats available":`${c} seats left`})})]})]}):e.jsxs("div",{onClick:()=>s(t),className:`w-full bg-white rounded-2xl overflow-hidden shadow-lg \r
                 cursor-pointer hover:shadow-2xl hover:ring-2 hover:ring-blue-300\r
                 transition-all duration-300 transform hover:scale-[1.005] \r
                 border border-gray-200 flex flex-col lg:flex-row mx-auto`,children:[e.jsxs("div",{className:"lg:w-[40%] relative min-h-[280px]",children:[t.vehicle_image?e.jsx("img",{src:t.vehicle_image,alt:"Vehicle",className:"w-full h-full object-cover",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/400x280/2563EB/FFFFFF?text=Vehicle"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx(Ri,{className:"w-20 h-20 text-blue-400"})}),e.jsx("div",{className:"absolute top-4 left-4",children:t.company_logo_url?e.jsx("img",{src:t.company_logo_url,alt:t.company_name,className:"w-16 h-16 rounded-full border-4 border-white shadow-lg",onError:x=>{x.target.onerror=null,x.target.src="https://placehold.co/64x64/4B5563/FFFFFF?text=Logo"}}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-white border-4 border-blue-300 flex items-center justify-center shadow-lg",children:e.jsx(Ri,{className:"w-8 h-8 text-blue-600"})})}),e.jsxs("div",{className:`absolute top-4 right-4 px-4 py-2 rounded-full shadow-lg flex items-center gap-2 ${c===0?"bg-red-500":c<=5?"bg-amber-500":"bg-green-500"} text-white`,children:[e.jsx(Gt,{size:16}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium",children:"SEATS LEFT"}),e.jsx("div",{className:"text-lg font-bold",children:i?"...":c})]})]}),i&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-gray-700 mt-2",children:"Loading seat data..."})]})}),b&&e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsxs("div",{className:"flex justify-center gap-3",children:[t.vehicle_features.AC&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1 text-xs",children:[e.jsx(Nf,{size:12,className:"text-blue-600"}),e.jsx("span",{className:"font-medium",children:"AC"})]}),t.vehicle_features.WiFi&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1 text-xs",children:[e.jsx(eA,{size:12,className:"text-purple-600"}),e.jsx("span",{className:"font-medium",children:"WiFi"})]}),t.vehicle_features.ChargingPorts&&e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1 text-xs",children:[e.jsx(wf,{size:12,className:"text-green-600"}),e.jsx("span",{className:"font-medium",children:"Charging"})]})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between p-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:t.company_name||"Elite Transport"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((x,w)=>e.jsx(za,{size:16,className:"fill-yellow-400 text-yellow-400"},w))}),e.jsx("span",{className:"text-sm text-gray-600",children:"4.8/5 Rating"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium bg-blue-50 px-2 py-0.5 rounded",children:t.vehicle_type||"Luxury Coach"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Price Per Seat"}),e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["Rs ",t.price_per_seat||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Inclusive of all taxes"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Yt,{size:20,className:"text-red-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"DEPARTURE"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.route_from})]}),e.jsxs("div",{className:"mx-6 flex flex-col items-center",children:[e.jsx(va,{size:24,className:"text-blue-500 mb-1"}),e.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"DIRECT"})]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Yt,{size:20,className:"text-green-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"DESTINATION"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.route_to})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(is,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Departure Time"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.arrival_time?.substring(0,5)||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(as,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Journey Date"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:t.arrival_date||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{size:20,className:"text-gray-700"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Seat Details"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Available: ",e.jsx("span",{className:`font-bold ${c===0?"text-red-600":c<=5?"text-amber-600":"text-green-600"}`,children:i?"...":c})," of ",u]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total Seats"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:Array.isArray(t.reserve_seats)?t.reserve_seats.length:0}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Reserved"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Booked"})]}),e.jsxs("div",{className:`p-3 rounded-lg text-center ${c===0?"bg-red-50":c<=5?"bg-amber-50":"bg-green-50"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${c===0?"text-red-700":c<=5?"text-amber-700":"text-green-700"}`,children:i?"...":c}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Available"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-3 text-center",children:"Available = Total - (Reserved + Booked)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(zs,{size:16,className:"text-green-500"}),e.jsx("span",{children:"Secure Booking"}),e.jsx("span",{className:"mx-2",children:""}),e.jsx(wa,{size:16,className:"text-blue-500"}),e.jsx("span",{children:"Verified Transport"})]}),e.jsxs("button",{onClick:x=>{x.stopPropagation(),s(t)},disabled:c===0||i,className:`px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white \r
                     rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 \r
                     transition-all duration-300 shadow-lg hover:shadow-xl \r
                     flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{children:i?"Loading...":"Book Now"}),e.jsx(Nl,{size:20})]})]})]})]})};function zC({setStep:t,selectedService:s,transports:r,setSelectedTransport:a}){const[i,o]=S.useState(""),c=r.filter(A=>{const u=i.toLowerCase();return A.company_name?.toLowerCase().includes(u)||A.vehicle_type_snapshot?.toLowerCase().includes(u)||A.route_from?.toLowerCase().includes(u)||A.route_to?.toLowerCase().includes(u)||A.arrival_date?.toLowerCase().includes(u)||A.arrival_time?.toLowerCase().includes(u)});return e.jsxs("div",{className:"relative p-4 md:p-8 bg-gray-50 min-h-screen",children:[e.jsxs("button",{onClick:()=>t("services"),className:"absolute top-4 left-4 flex items-center space-x-1 px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-full shadow-lg hover:bg-blue-700 transition duration-200 z-10",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md max-w-4xl mx-auto mb-6",children:e.jsxs("h2",{className:"text-2xl font-extrabold text-gray-800 text-center",children:["Available ",s," Services"]})}),e.jsx("div",{className:"flex justify-center mb-8 max-w-4xl mx-auto",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"text",value:i,onChange:A=>o(A.target.value),placeholder:"Search by company, route, type, date, or time...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition duration-150 text-gray-700"}),e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),e.jsx("div",{className:"flex flex-col items-center gap-6 max-w-4xl mx-auto",children:c.length>0?c.map((A,u)=>e.jsx("div",{className:"w-full",children:e.jsx(xM,{transport:A,onSelect:h=>{a(h),t("seatSelection")}})},u)):e.jsxs("div",{className:"text-center p-10 bg-white rounded-xl shadow-lg border border-gray-100 mt-10 w-full max-w-md",children:[e.jsx("p",{className:"text-xl font-semibold text-red-500 mb-2",children:"No Results Found "}),e.jsxs("p",{className:"text-gray-500",children:["There are no **",s,'** services matching your search: **"',i,'"**.']})]})})]})}function Ig({onClose:t,paymentData:s,onSuccess:r}){const[a,i]=S.useState(null),[o,c]=S.useState(null),A=f=>{const g=f.target.files[0];if(!g)return;i(g);const b=new FileReader;b.onloadend=()=>{c(b.result)},b.readAsDataURL(g)},u=()=>{if(!a){alert("Please upload screenshot!");return}const f=new FileReader;f.onloadend=()=>{const g=f.result;r(g),t()},f.readAsDataURL(a)},h=({icon:f,title:g,name:b,number:x,details:w,bgColor:B,borderColor:j})=>e.jsxs("div",{className:`p-5 ${B} border-l-4 ${j} rounded-xl shadow-md transition duration-300 hover:shadow-lg`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(f,{className:`w-6 h-6 mr-3 ${j.replace("border-","text-")}`}),e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:g})]}),e.jsxs("div",{className:"space-y-1 text-base text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Account Name:"})," ",e.jsx("span",{className:"font-medium",children:b})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",e.jsx("span",{className:"font-medium",children:x})]}),w&&w.map((_,Q)=>e.jsxs("p",{children:[e.jsxs("strong",{children:[_.label,":"]})," ",e.jsx("span",{className:"font-medium",children:_.value})]},Q))]})]});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-3xl shadow-2xl relative transform transition-all duration-300 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-6 md:p-10 pb-4 md:pb-6 border-b sticky top-0 bg-white z-10 rounded-t-3xl",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(Is,{className:"w-6 h-6 text-gray-600 hover:text-red-600"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-center text-gray-900",children:" Complete Manual Payment"}),e.jsxs("p",{className:"text-center text-lg text-gray-600 mt-2",children:["Transfer ",e.jsxs("strong",{className:"text-green-700",children:[" ",s?.total_amount," Rs"]})," and upload proof."]})]}),e.jsx("div",{className:"flex-grow overflow-y-auto p-6 md:p-10 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(O8,{className:"w-6 h-6 mr-2 text-indigo-600"}),"1. Transfer to Account"]}),e.jsxs("div",{className:"space-y-4",children:[s.easypaisa_number&&e.jsx(h,{icon:xx,title:"Easypaisa Account",name:s.easypaisa_name,number:s.easypaisa_number,bgColor:"bg-green-50",borderColor:"border-green-600"}),s.jazzcash_number&&e.jsx(h,{icon:xx,title:"JazzCash Account",name:s.jazzcash_name,number:s.jazzcash_number,bgColor:"bg-red-50",borderColor:"border-red-600"}),s.bank_account_number&&e.jsx(h,{icon:xx,title:s.bank_name||"Bank Account",name:s.bank_account_title,number:s.bank_account_number,details:[{label:"Bank Name",value:s.bank_name},s.bank_iban&&{label:"IBAN",value:s.bank_iban}].filter(Boolean),bgColor:"bg-blue-50",borderColor:"border-blue-600"})]}),!s.easypaisa_number&&!s.jazzcash_number&&!s.bank_account_number&&e.jsx("p",{className:"text-orange-500 font-medium p-4 bg-orange-100 rounded-lg",children:"No payment accounts are currently available. Please contact support."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(WA,{className:"w-6 h-6 mr-2 text-purple-600"}),"2. Upload Payment Proof"]}),e.jsxs("label",{className:"block cursor-pointer",children:[e.jsxs("div",{className:"border-4 border-dashed border-gray-300 rounded-2xl p-10 text-center bg-gray-50 hover:border-indigo-500 transition-all duration-300 shadow-inner",children:[e.jsx(WA,{className:"w-16 h-16 mx-auto text-indigo-400"}),e.jsx("p",{className:"mt-4 text-xl font-medium text-gray-700",children:"Click to upload screenshot"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Accepted formats: JPG, PNG (Max 5MB)"})]}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:A})]}),o&&e.jsxs("div",{className:"mt-4 p-4 border rounded-xl bg-white shadow-lg",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-800 flex items-center mb-3",children:[e.jsx(zs,{className:"w-5 h-5 mr-2 text-green-500"}),"Proof Preview"]}),e.jsx("img",{src:o,alt:"Payment proof screenshot",className:"w-full max-h-80 object-contain rounded-xl border border-gray-200"})]})]})]})}),e.jsx("div",{className:"p-6 md:p-10 pt-4 md:pt-6 border-t sticky bottom-0 bg-white z-10 rounded-b-3xl",children:e.jsx("button",{onClick:u,disabled:!a,className:`w-full font-bold text-xl py-4 rounded-xl shadow-2xl transition duration-300 ease-in-out transform hover:scale-[1.01] ${a?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-gray-400 text-gray-700 cursor-not-allowed"}`,children:a?" Submit Payment Proof":"Please Upload Screenshot to Submit"})})]})})}function z1({transport:t,setStep:s,setSelectedSeats:r,onSelectPayment:a}){const i=Ur(),o=t||i.state?.transport,[c,A]=S.useState([]),[u,h]=S.useState([]),[f,g]=S.useState(!0),[b,x]=S.useState(null),[w,B]=S.useState(!1),[j,_]=S.useState(null),[Q,E]=S.useState(null),[T,U]=S.useState(40),[k,q]=S.useState(!1);S.useEffect(()=>{const H=()=>{q(window.innerWidth<768)};return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]);const K=()=>{const H=Date.now(),Z=Math.random().toString(36).substr(2,9).toUpperCase();return`BK-${H}-${Z}`};S.useEffect(()=>{if(!o){console.log(" Transport object is missing"),h([]),g(!1);return}const H=o.vehicle_seats_snapshot||o.seats_available||40;U(H);const Z=o.vehicle_id||o.vehicle||o.id,Ae=o.arrival_date||o.departure_date,fe=o.arrival_time||o.departure_time;if(!Z||!Ae||!fe){console.log(" Missing required data:",{vehicleId:Z,arrivalDate:Ae,arrivalTime:fe}),h([]),g(!1);return}(async()=>{g(!0),x(null);try{const Se=localStorage.getItem("access_token");let me=fe;me&&me.split(":").length===2&&(me=`${me}:00`);const Le=`/api/checkout/bookings/?vehicle_id=${Z}&arrival_date=${Ae}&arrival_time=${me}`,Ve=await fetch(Le,{headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"}});if(!Ve.ok){if(Ve.status===404){console.log(" No bookings found (404)"),h([]);return}const Ke=await Ve.text();throw console.error(" API Error Response:",Ke),new Error(`Failed to fetch seats: ${Ve.status}`)}const ke=await Ve.json();Array.isArray(ke)?h(ke):h([])}catch(Se){console.error(" Fetch Error:",Se),x(Se.message),h([])}finally{g(!1)}})()},[o]),S.useEffect(()=>{r&&r(c)},[c,r]);const z=o?.reserve_seats||[],$=[...new Set([...z,...u])],D=T,L=H=>{if($.includes(H)){console.log(`Seat ${H} is unavailable`);return}A(Z=>Z.includes(H)?Z.filter(fe=>fe!==H):[...Z,H])},R=o?.vehicle_details||"",P=o?.vehicle_features?Object.keys(o.vehicle_features).filter(H=>o.vehicle_features[H]===!0):[],re=o?.rating||4.5,I=o?.total_reviews||150,G=o?.price_per_seat||o?.fare_per_seat||2e3,X=c.length*G,ie={AC:e.jsx(Nf,{size:16,className:"text-blue-600"}),WiFi:e.jsx(eA,{size:16,className:"text-purple-600"}),ChargingPorts:e.jsx(wf,{size:16,className:"text-green-600"}),FreeWaterBottle:e.jsx(Pf,{size:16,className:"text-red-600"}),RecliningSeats:e.jsx(Fg,{size:16,className:"text-yellow-600"})},ge=H=>{const Z=K();if(E(Z),H==="CASH"){const Ae={booking_id:Z,seats:c,amount:X,transport:o,price_per_seat:G};localStorage.setItem("final_booking_payload",JSON.stringify(Ae)),s("summary"),a&&a("CASH");return}if(H==="MANUAL"){const Ae={booking_id:Z,company_name:o?.company_name||"XYZ Company",easypaisa_name:o?.easypaisa_name||"",easypaisa_number:o?.easypaisa_number||"",jazzcash_name:o?.jazzcash_name||"",jazzcash_number:o?.jazzcash_number||"",bank_name:o?.bank_name||"",bank_account_title:o?.bank_account_title||"",bank_account_number:o?.bank_account_number||"",bank_iban:o?.bank_iban||"",total_amount:X};_(Ae),B(!0),a&&a("MANUAL",Ae)}},ee=H=>{const Z={booking_id:Q,seats:c,amount:X,transport:o,price_per_seat:G,paymentType:"Manual Payment",screenshot:H};localStorage.setItem("final_booking_payload",JSON.stringify(Z)),B(!1),s("summary")},M=w&&j&&e.jsx(Ig,{onClose:()=>B(!1),paymentData:j,onSuccess:ee,bookingId:Q});return k?e.jsxs(e.Fragment,{children:[M,e.jsxs("div",{className:"p-4 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200e min-h-screen",children:[e.jsxs("button",{onClick:()=>s&&s("passengerCardList"),className:"flex items-center space-x-2 px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-full shadow-md hover:bg-gray-100 transition duration-200 mb-4",children:[e.jsx(ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 truncate",children:o?.company_name||"XYZ Company"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(za,{size:14,className:"fill-current mr-1"}),e.jsx("span",{className:"font-semibold text-sm text-gray-800",children:re})]}),e.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",I,")"]})]})]}),o?.company_logo_url?e.jsx("img",{src:o.company_logo_url,alt:"logo",className:"w-12 h-12 object-cover rounded-full border-2 border-gray-200"}):e.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 border-2 border-gray-200",children:e.jsx(Vs,{size:20})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-lg mb-3",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:o?.route_from||"Hunza"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"FROM"})]}),e.jsx(ka,{className:"rotate-180 text-blue-500",size:16}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:o?.route_to||"Astor"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"TO"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(as,{size:12}),e.jsx("span",{children:o?.arrival_date||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(is,{size:12}),e.jsx("span",{children:o?.arrival_time||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[e.jsx(tc,{size:16,className:"mr-2 text-blue-600"}),"Journey Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Vehicle Type"}),e.jsx("p",{className:"font-semibold",children:o?.vehicle_type||"Coaster"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Vehicle Number"}),e.jsx("p",{className:"font-semibold",children:o?.vehicle_number||"KHP 8906"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total Seats"}),e.jsx("p",{className:"font-semibold",children:D})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Driver"}),e.jsx("p",{className:"font-semibold",children:o?.driver_name||"Mother"})]})]}),P.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:P.slice(0,4).map((H,Z)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:[ie[H]||e.jsx(za,{size:10}),H.replace(/([A-Z])/g," $1").trim()]},Z))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"Select Seats"}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"})," Selected"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full mr-1"})," Booked"]})]})]}),f&&e.jsxs("div",{className:"text-center p-4",children:[e.jsx(Nn,{className:"w-6 h-6 animate-spin mx-auto text-blue-500 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading seats..."})]}),b&&e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(nn,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Error loading seats"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-3 py-1 bg-red-500 text-white rounded text-xs",children:"Retry"})]}),!f&&!b&&e.jsx("div",{className:"border-2 border-gray-200 rounded-lg bg-gray-50 p-3",children:e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:D},(H,Z)=>Z+1).map(H=>{const Z=$.includes(H),Ae=c.includes(H);return e.jsx("button",{onClick:()=>L(H),disabled:Z,className:`aspect-square rounded-lg text-sm font-bold transition ${Z?"bg-red-100 text-red-800 cursor-not-allowed":Ae?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"}`,children:H},H)})})}),c.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Selected Seats"}),e.jsx("p",{className:"font-bold text-gray-900",children:c.join(", ")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-bold text-green-700",children:["Rs ",X.toLocaleString()]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length," seat(s)  Rs ",G]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-3",children:"Payment Options"}),e.jsxs("div",{className:"space-y-3",children:[o?.payment_type==="BOTH"||o?.payment_type==="ADVANCE"||o?.payment_type==="ONLINE"?e.jsxs("button",{onClick:()=>ge("MANUAL"),disabled:c.length===0,className:`w-full flex items-center justify-between p-3 rounded-lg text-white transition ${c.length===0?"bg-blue-400 cursor-not-allowed opacity-70":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mi,{size:18}),e.jsx("span",{className:"font-medium",children:"Pay Now"})]}),e.jsx(Nl,{size:16})]}):null,o?.payment_type==="BOTH"||o?.payment_type==="CASH"?e.jsxs("button",{onClick:()=>ge("CASH"),disabled:c.length===0,className:`w-full flex items-center justify-between p-3 rounded-lg transition border ${c.length===0?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-300":"bg-white text-green-700 border-green-300 hover:bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Eu,{size:18}),e.jsx("span",{className:"font-medium",children:"Cash on Counter"})]}),e.jsx(Nl,{size:16})]}):null]}),!o?.payment_type&&e.jsx("p",{className:"text-center text-amber-600 text-sm mt-3",children:"Payment type not specified"})]}),o?.driver_name&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-3 flex items-center",children:[e.jsx(rs,{size:16,className:"mr-2 text-blue-600"}),"Driver Information"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[o?.driver_image?e.jsx("img",{src:o.driver_image,alt:"Driver",className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(rs,{size:20,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:o.driver_name}),o.driver_contact&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(Ls,{size:12}),e.jsx("span",{children:o.driver_contact})]})]})]})]})]})]}):e.jsxs(e.Fragment,{children:[M,e.jsx("div",{className:"p-4 md:p-8 bg-gradient-to-b from-gray-50 to-white min-h-screen",children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>s&&s("passengerCardList"),className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 text-sm font-medium rounded-full shadow-lg hover:bg-gray-50 transition duration-200 mb-6 border border-gray-200",children:[e.jsx(ka,{size:18}),e.jsx("span",{children:"Back to List"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:o?.company_name||"XYZ Company"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(za,{size:18,className:"fill-current mr-1"}),e.jsx("span",{className:"font-semibold text-lg text-gray-800",children:re}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",I,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(wa,{size:16,className:"text-green-500"}),e.jsx("span",{children:"Verified Transport"})]})]})]}),o?.company_logo_url?e.jsx("img",{src:o.company_logo_url,alt:"logo",className:"w-16 h-16 object-cover rounded-full border-4 border-gray-100 shadow-md"}):e.jsx("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white border-4 border-gray-100 shadow-md",children:e.jsx(Vs,{size:24})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Yt,{size:20,className:"text-red-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"FROM"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o?.route_from||"Hunza"})]}),e.jsx(ka,{className:"rotate-180 text-blue-500",size:24}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Yt,{size:20,className:"text-green-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"TO"})]}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o?.route_to||"Astor"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(as,{size:16,className:"text-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Date"})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:o?.arrival_date||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(is,{size:16,className:"text-purple-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Time"})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:o?.arrival_time||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Vs,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Vehicle"})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:o?.vehicle_type||"Coaster"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Gt,{size:16,className:"text-green-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Seats"})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[D," Total"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx(Vs,{size:20,className:"mr-2 text-blue-600"}),"Vehicle"]}),e.jsxs("div",{className:"relative",children:[o?.vehicle_image?e.jsx("img",{src:o.vehicle_image,alt:"Vehicle",className:"w-full h-48 object-cover rounded-xl shadow-lg"}):e.jsx("div",{className:"w-full h-48 flex items-center justify-center rounded-xl bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsx(Vs,{size:48,className:"text-blue-400"})}),o?.vehicle_number&&e.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:o.vehicle_number})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx(rs,{size:20,className:"mr-2 text-green-600"}),"Driver"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o?.driver_image?e.jsx("img",{src:o.driver_image,alt:"Driver",className:"w-20 h-20 rounded-full object-cover border-4 border-gray-200 shadow-md"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center border-4 border-gray-200",children:e.jsx(rs,{size:32,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:o?.driver_name||"Mother"}),o?.driver_contact&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mt-1",children:[e.jsx(Ls,{size:16}),e.jsx("span",{children:o.driver_contact})]})]})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Professional driver with verified license and experience."})]})]}),P.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-xl p-6 border border-blue-200",children:[e.jsxs("h3",{className:"font-bold text-blue-800 mb-4 flex items-center",children:[e.jsx(za,{size:20,className:"mr-2 text-blue-600"}),"Vehicle Features"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:P.map((H,Z)=>e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:ie[H]||e.jsx(za,{size:20,className:"text-blue-500"})}),e.jsx("p",{className:"text-center text-sm font-medium text-gray-800",children:H.replace(/([A-Z])/g," $1").trim()})]},Z))}),R&&e.jsx("p",{className:"text-gray-600 text-sm mt-4",children:R})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-6 bg-white rounded-2xl shadow-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-center gap-4 text-xs font-semibold mb-6",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"})," Selected"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full mr-1"})," Booked"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full mr-1"})," Available"]})]}),f&&e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Nn,{className:"w-8 h-8 animate-spin mx-auto text-blue-500 mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Loading seat availability..."})]}),b&&e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-xl",children:[e.jsx(nn,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Error loading seats"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:b}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600",children:"Retry"})]}),!f&&!b&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4 text-center",children:"Choose Your Seats"}),e.jsx("div",{className:"p-4 border-4 border-gray-200 rounded-xl bg-gray-50",children:e.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-xs mx-auto",children:Array.from({length:D},(H,Z)=>Z+1).map(H=>{const Z=$.includes(H),Ae=c.includes(H);return e.jsx("button",{onClick:()=>L(H),disabled:Z,className:`aspect-square rounded-lg text-sm font-bold transition duration-150 ${Z?"bg-red-100 text-red-800 cursor-not-allowed border border-red-200":Ae?"bg-green-600 text-white shadow-md border-2 border-green-400":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100 hover:border-blue-300"}`,children:H},H)})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Selected Seats"}),e.jsx("p",{className:"font-bold text-gray-900 text-lg",children:c.join(", ")||"None"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["Rs ",X.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Price per seat:"}),e.jsxs("span",{className:"font-semibold",children:["Rs ",G.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-gray-600",children:"Seats selected:"}),e.jsx("span",{className:"font-semibold",children:c.length})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[o?.payment_type==="BOTH"||o?.payment_type==="ADVANCE"||o?.payment_type==="ONLINE"?e.jsxs("button",{onClick:()=>ge("MANUAL"),disabled:c.length===0,className:`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl text-lg font-bold text-white transition duration-200 shadow-lg ${c.length===0?"bg-blue-400 cursor-not-allowed opacity-70":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:[e.jsx(Mi,{size:20}),e.jsx("span",{children:"Pay Now (MANUAL)"})]}):null,o?.payment_type==="BOTH"||o?.payment_type==="CASH"?e.jsxs("button",{onClick:()=>ge("CASH"),disabled:c.length===0,className:`w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl text-lg font-bold transition duration-200 border-2 ${c.length===0?"bg-gray-100 text-gray-500 cursor-not-allowed border-gray-300":"bg-white text-green-700 border-green-600 hover:bg-green-50"}`,children:[e.jsx(Eu,{size:20}),e.jsx("span",{children:"Cash On Counter"})]}):null,!o?.payment_type&&e.jsx("p",{className:"text-center text-amber-600 text-sm",children:"Payment type not specified"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 mt-3",children:[e.jsx(wa,{size:12}),e.jsx("span",{children:"Secure payment  100% refundable"})]})]})]})})]})]})})]})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hy=function(t,s){return hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},hy(t,s)};function Cl(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");hy(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}var fy=function(){return fy=Object.assign||function(s){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o])}return s},fy.apply(this,arguments)};function vn(t,s,r,a){function i(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function A(f){try{h(a.next(f))}catch(g){c(g)}}function u(f){try{h(a.throw(f))}catch(g){c(g)}}function h(f){f.done?o(f.value):i(f.value).then(A,u)}h((a=a.apply(t,[])).next())})}function tn(t,s){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,i,o,c;return c={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function A(h){return function(f){return u([h,f])}}function u(h){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=s.call(t,r)}catch(f){h=[6,f],i=0}finally{a=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ym(t,s,r){if(arguments.length===2)for(var a=0,i=s.length,o;a<i;a++)(o||!(a in s))&&(o||(o=Array.prototype.slice.call(s,0,a)),o[a]=s[a]);return t.concat(o||s)}var rA=function(){function t(s,r,a,i){this.left=s,this.top=r,this.width=a,this.height=i}return t.prototype.add=function(s,r,a,i){return new t(this.left+s,this.top+r,this.width+a,this.height+i)},t.fromClientRect=function(s,r){return new t(r.left+s.windowBounds.left,r.top+s.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(s,r){var a=Array.from(r).find(function(i){return i.width!==0});return a?new t(a.left+s.windowBounds.left,a.top+s.windowBounds.top,a.width,a.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Mg=function(t,s){return rA.fromClientRect(t,s.getBoundingClientRect())},bM=function(t){var s=t.body,r=t.documentElement;if(!s||!r)throw new Error("Unable to get document size");var a=Math.max(Math.max(s.scrollWidth,r.scrollWidth),Math.max(s.offsetWidth,r.offsetWidth),Math.max(s.clientWidth,r.clientWidth)),i=Math.max(Math.max(s.scrollHeight,r.scrollHeight),Math.max(s.offsetHeight,r.offsetHeight),Math.max(s.clientHeight,r.clientHeight));return new rA(0,0,a,i)},Rg=function(t){for(var s=[],r=0,a=t.length;r<a;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var o=t.charCodeAt(r++);(o&64512)===56320?s.push(((i&1023)<<10)+(o&1023)+65536):(s.push(i),r--)}else s.push(i)}return s},$r=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var a=[],i=-1,o="";++i<r;){var c=t[i];c<=65535?a.push(c):(c-=65536,a.push((c>>10)+55296,c%1024+56320)),(i+1===r||a.length>16384)&&(o+=String.fromCharCode.apply(String,a),a.length=0)}return o},CN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wm=0;Wm<CN.length;Wm++)yM[CN.charCodeAt(Wm)]=Wm;var SN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jm=0;Jm<SN.length;Jm++)Yh[SN.charCodeAt(Jm)]=Jm;var vM=function(t){var s=t.length*.75,r=t.length,a,i=0,o,c,A,u;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),f=Array.isArray(h)?h:new Uint8Array(h);for(a=0;a<r;a+=4)o=Yh[t.charCodeAt(a)],c=Yh[t.charCodeAt(a+1)],A=Yh[t.charCodeAt(a+2)],u=Yh[t.charCodeAt(a+3)],f[i++]=o<<2|c>>4,f[i++]=(c&15)<<4|A>>2,f[i++]=(A&3)<<6|u&63;return h},wM=function(t){for(var s=t.length,r=[],a=0;a<s;a+=2)r.push(t[a+1]<<8|t[a]);return r},NM=function(t){for(var s=t.length,r=[],a=0;a<s;a+=4)r.push(t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a]);return r},Zc=5,K1=11,Ix=2,jM=K1-Zc,KC=65536>>Zc,BM=1<<Zc,Mx=BM-1,_M=1024>>Zc,CM=KC+_M,SM=CM,EM=32,FM=SM+EM,UM=65536>>K1,kM=1<<jM,LM=kM-1,EN=function(t,s,r){return t.slice?t.slice(s,r):new Uint16Array(Array.prototype.slice.call(t,s,r))},QM=function(t,s,r){return t.slice?t.slice(s,r):new Uint32Array(Array.prototype.slice.call(t,s,r))},TM=function(t,s){var r=vM(t),a=Array.isArray(r)?NM(r):new Uint32Array(r),i=Array.isArray(r)?wM(r):new Uint16Array(r),o=24,c=EN(i,o/2,a[4]/2),A=a[5]===2?EN(i,(o+a[4])/2):QM(a,Math.ceil((o+a[4])/4));return new DM(a[0],a[1],a[2],a[3],c,A)},DM=function(){function t(s,r,a,i,o,c){this.initialValue=s,this.errorValue=r,this.highStart=a,this.highValueIndex=i,this.index=o,this.data=c}return t.prototype.get=function(s){var r;if(s>=0){if(s<55296||s>56319&&s<=65535)return r=this.index[s>>Zc],r=(r<<Ix)+(s&Mx),this.data[r];if(s<=65535)return r=this.index[KC+(s-55296>>Zc)],r=(r<<Ix)+(s&Mx),this.data[r];if(s<this.highStart)return r=FM-UM+(s>>K1),r=this.index[r],r+=s>>Zc&LM,r=this.index[r],r=(r<<Ix)+(s&Mx),this.data[r];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),FN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zm=0;Zm<FN.length;Zm++)IM[FN.charCodeAt(Zm)]=Zm;var MM="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",UN=50,RM=1,GC=2,qC=3,OM=4,HM=5,kN=7,$C=8,LN=9,qA=10,my=11,QN=12,gy=13,PM=14,Wh=15,py=16,e0=17,Hh=18,VM=19,TN=20,xy=21,Ph=22,Rx=23,nu=24,di=25,Jh=26,Zh=27,iu=28,zM=29,Vc=30,KM=31,t0=32,s0=33,by=34,yy=35,vy=36,Ef=37,wy=38,z0=39,K0=40,Ox=41,XC=42,GM=43,qM=[9001,65288],YC="!",ms="",r0="",Ny=TM(MM),Po=[Vc,vy],jy=[RM,GC,qC,HM],WC=[qA,$C],DN=[Zh,Jh],$M=jy.concat(WC),IN=[wy,z0,K0,by,yy],XM=[Wh,gy],YM=function(t,s){s===void 0&&(s="strict");var r=[],a=[],i=[];return t.forEach(function(o,c){var A=Ny.get(o);if(A>UN?(i.push(!0),A-=UN):i.push(!1),["normal","auto","loose"].indexOf(s)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return a.push(c),r.push(py);if(A===OM||A===my){if(c===0)return a.push(c),r.push(Vc);var u=r[c-1];return $M.indexOf(u)===-1?(a.push(a[c-1]),r.push(u)):(a.push(c),r.push(Vc))}if(a.push(c),A===KM)return r.push(s==="strict"?xy:Ef);if(A===XC||A===zM)return r.push(Vc);if(A===GM)return o>=131072&&o<=196605||o>=196608&&o<=262141?r.push(Ef):r.push(Vc);r.push(A)}),[a,r,i]},Hx=function(t,s,r,a){var i=a[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var o=r;o<=a.length;){o++;var c=a[o];if(c===s)return!0;if(c!==qA)break}if(i===qA)for(var o=r;o>0;){o--;var A=a[o];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var u=r;u<=a.length;){u++;var c=a[u];if(c===s)return!0;if(c!==qA)break}if(A!==qA)break}return!1},MN=function(t,s){for(var r=t;r>=0;){var a=s[r];if(a===qA)r--;else return a}return 0},WM=function(t,s,r,a,i){if(r[a]===0)return ms;var o=a-1;if(Array.isArray(i)&&i[o]===!0)return ms;var c=o-1,A=o+1,u=s[o],h=c>=0?s[c]:0,f=s[A];if(u===GC&&f===qC)return ms;if(jy.indexOf(u)!==-1)return YC;if(jy.indexOf(f)!==-1||WC.indexOf(f)!==-1)return ms;if(MN(o,s)===$C)return r0;if(Ny.get(t[o])===my||(u===t0||u===s0)&&Ny.get(t[A])===my||u===kN||f===kN||u===LN||[qA,gy,Wh].indexOf(u)===-1&&f===LN||[e0,Hh,VM,nu,iu].indexOf(f)!==-1||MN(o,s)===Ph||Hx(Rx,Ph,o,s)||Hx([e0,Hh],xy,o,s)||Hx(QN,QN,o,s))return ms;if(u===qA)return r0;if(u===Rx||f===Rx)return ms;if(f===py||u===py)return r0;if([gy,Wh,xy].indexOf(f)!==-1||u===PM||h===vy&&XM.indexOf(u)!==-1||u===iu&&f===vy||f===TN||Po.indexOf(f)!==-1&&u===di||Po.indexOf(u)!==-1&&f===di||u===Zh&&[Ef,t0,s0].indexOf(f)!==-1||[Ef,t0,s0].indexOf(u)!==-1&&f===Jh||Po.indexOf(u)!==-1&&DN.indexOf(f)!==-1||DN.indexOf(u)!==-1&&Po.indexOf(f)!==-1||[Zh,Jh].indexOf(u)!==-1&&(f===di||[Ph,Wh].indexOf(f)!==-1&&s[A+1]===di)||[Ph,Wh].indexOf(u)!==-1&&f===di||u===di&&[di,iu,nu].indexOf(f)!==-1)return ms;if([di,iu,nu,e0,Hh].indexOf(f)!==-1)for(var g=o;g>=0;){var b=s[g];if(b===di)return ms;if([iu,nu].indexOf(b)!==-1)g--;else break}if([Zh,Jh].indexOf(f)!==-1)for(var g=[e0,Hh].indexOf(u)!==-1?c:o;g>=0;){var b=s[g];if(b===di)return ms;if([iu,nu].indexOf(b)!==-1)g--;else break}if(wy===u&&[wy,z0,by,yy].indexOf(f)!==-1||[z0,by].indexOf(u)!==-1&&[z0,K0].indexOf(f)!==-1||[K0,yy].indexOf(u)!==-1&&f===K0||IN.indexOf(u)!==-1&&[TN,Jh].indexOf(f)!==-1||IN.indexOf(f)!==-1&&u===Zh||Po.indexOf(u)!==-1&&Po.indexOf(f)!==-1||u===nu&&Po.indexOf(f)!==-1||Po.concat(di).indexOf(u)!==-1&&f===Ph&&qM.indexOf(t[A])===-1||Po.concat(di).indexOf(f)!==-1&&u===Hh)return ms;if(u===Ox&&f===Ox){for(var x=r[o],w=1;x>0&&(x--,s[x]===Ox);)w++;if(w%2!==0)return ms}return u===t0&&f===s0?ms:r0},JM=function(t,s){s||(s={lineBreak:"normal",wordBreak:"normal"});var r=YM(t,s.lineBreak),a=r[0],i=r[1],o=r[2];(s.wordBreak==="break-all"||s.wordBreak==="break-word")&&(i=i.map(function(A){return[di,Vc,XC].indexOf(A)!==-1?Ef:A}));var c=s.wordBreak==="keep-all"?o.map(function(A,u){return A&&t[u]>=19968&&t[u]<=40959}):void 0;return[a,i,c]},ZM=function(){function t(s,r,a,i){this.codePoints=s,this.required=r===YC,this.start=a,this.end=i}return t.prototype.slice=function(){return $r.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),eR=function(t,s){var r=Rg(t),a=JM(r,s),i=a[0],o=a[1],c=a[2],A=r.length,u=0,h=0;return{next:function(){if(h>=A)return{done:!0,value:null};for(var f=ms;h<A&&(f=WM(r,o,i,++h,c))===ms;);if(f!==ms||h===A){var g=new ZM(r,f,u,h);return u=h,{value:g,done:!1}}return{done:!0,value:null}}}},tR=1,sR=2,$f=4,RN=8,og=10,ON=47,Af=92,rR=9,aR=32,a0=34,Vh=61,nR=35,iR=36,lR=37,n0=39,i0=40,zh=41,oR=95,Vn=45,AR=33,cR=60,dR=62,uR=64,hR=91,fR=93,mR=61,gR=123,l0=63,pR=125,HN=124,xR=126,bR=128,PN=65533,Px=42,qc=43,yR=44,vR=58,wR=59,Ff=46,NR=0,jR=8,BR=11,_R=14,CR=31,SR=127,Jl=-1,JC=48,ZC=97,e3=101,ER=102,FR=117,UR=122,t3=65,s3=69,r3=70,kR=85,LR=90,sn=function(t){return t>=JC&&t<=57},QR=function(t){return t>=55296&&t<=57343},lu=function(t){return sn(t)||t>=t3&&t<=r3||t>=ZC&&t<=ER},TR=function(t){return t>=ZC&&t<=UR},DR=function(t){return t>=t3&&t<=LR},IR=function(t){return TR(t)||DR(t)},MR=function(t){return t>=bR},o0=function(t){return t===og||t===rR||t===aR},Ag=function(t){return IR(t)||MR(t)||t===oR},VN=function(t){return Ag(t)||sn(t)||t===Vn},RR=function(t){return t>=NR&&t<=jR||t===BR||t>=_R&&t<=CR||t===SR},zA=function(t,s){return t!==Af?!1:s!==og},A0=function(t,s,r){return t===Vn?Ag(s)||zA(s,r):Ag(t)?!0:!!(t===Af&&zA(t,s))},Vx=function(t,s,r){return t===qc||t===Vn?sn(s)?!0:s===Ff&&sn(r):sn(t===Ff?s:t)},OR=function(t){var s=0,r=1;(t[s]===qc||t[s]===Vn)&&(t[s]===Vn&&(r=-1),s++);for(var a=[];sn(t[s]);)a.push(t[s++]);var i=a.length?parseInt($r.apply(void 0,a),10):0;t[s]===Ff&&s++;for(var o=[];sn(t[s]);)o.push(t[s++]);var c=o.length,A=c?parseInt($r.apply(void 0,o),10):0;(t[s]===s3||t[s]===e3)&&s++;var u=1;(t[s]===qc||t[s]===Vn)&&(t[s]===Vn&&(u=-1),s++);for(var h=[];sn(t[s]);)h.push(t[s++]);var f=h.length?parseInt($r.apply(void 0,h),10):0;return r*(i+A*Math.pow(10,-c))*Math.pow(10,u*f)},HR={type:2},PR={type:3},VR={type:4},zR={type:13},KR={type:8},GR={type:21},qR={type:9},$R={type:10},XR={type:11},YR={type:12},WR={type:14},c0={type:23},JR={type:1},ZR={type:25},eO={type:24},tO={type:26},sO={type:27},rO={type:28},aO={type:29},nO={type:31},By={type:32},a3=function(){function t(){this._value=[]}return t.prototype.write=function(s){this._value=this._value.concat(Rg(s))},t.prototype.read=function(){for(var s=[],r=this.consumeToken();r!==By;)s.push(r),r=this.consumeToken();return s},t.prototype.consumeToken=function(){var s=this.consumeCodePoint();switch(s){case a0:return this.consumeStringToken(a0);case nR:var r=this.peekCodePoint(0),a=this.peekCodePoint(1),i=this.peekCodePoint(2);if(VN(r)||zA(a,i)){var o=A0(r,a,i)?sR:tR,c=this.consumeName();return{type:5,value:c,flags:o}}break;case iR:if(this.peekCodePoint(0)===Vh)return this.consumeCodePoint(),zR;break;case n0:return this.consumeStringToken(n0);case i0:return HR;case zh:return PR;case Px:if(this.peekCodePoint(0)===Vh)return this.consumeCodePoint(),WR;break;case qc:if(Vx(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case yR:return VR;case Vn:var A=s,u=this.peekCodePoint(0),h=this.peekCodePoint(1);if(Vx(A,u,h))return this.reconsumeCodePoint(s),this.consumeNumericToken();if(A0(A,u,h))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();if(u===Vn&&h===dR)return this.consumeCodePoint(),this.consumeCodePoint(),eO;break;case Ff:if(Vx(s,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(s),this.consumeNumericToken();break;case ON:if(this.peekCodePoint(0)===Px)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===Px&&(f=this.consumeCodePoint(),f===ON))return this.consumeToken();if(f===Jl)return this.consumeToken()}break;case vR:return tO;case wR:return sO;case cR:if(this.peekCodePoint(0)===AR&&this.peekCodePoint(1)===Vn&&this.peekCodePoint(2)===Vn)return this.consumeCodePoint(),this.consumeCodePoint(),ZR;break;case uR:var g=this.peekCodePoint(0),b=this.peekCodePoint(1),x=this.peekCodePoint(2);if(A0(g,b,x)){var c=this.consumeName();return{type:7,value:c}}break;case hR:return rO;case Af:if(zA(s,this.peekCodePoint(0)))return this.reconsumeCodePoint(s),this.consumeIdentLikeToken();break;case fR:return aO;case mR:if(this.peekCodePoint(0)===Vh)return this.consumeCodePoint(),KR;break;case gR:return XR;case pR:return YR;case FR:case kR:var w=this.peekCodePoint(0),B=this.peekCodePoint(1);return w===qc&&(lu(B)||B===l0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(s),this.consumeIdentLikeToken();case HN:if(this.peekCodePoint(0)===Vh)return this.consumeCodePoint(),qR;if(this.peekCodePoint(0)===HN)return this.consumeCodePoint(),GR;break;case xR:if(this.peekCodePoint(0)===Vh)return this.consumeCodePoint(),$R;break;case Jl:return By}return o0(s)?(this.consumeWhiteSpace(),nO):sn(s)?(this.reconsumeCodePoint(s),this.consumeNumericToken()):Ag(s)?(this.reconsumeCodePoint(s),this.consumeIdentLikeToken()):{type:6,value:$r(s)}},t.prototype.consumeCodePoint=function(){var s=this._value.shift();return typeof s>"u"?-1:s},t.prototype.reconsumeCodePoint=function(s){this._value.unshift(s)},t.prototype.peekCodePoint=function(s){return s>=this._value.length?-1:this._value[s]},t.prototype.consumeUnicodeRangeToken=function(){for(var s=[],r=this.consumeCodePoint();lu(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();for(var a=!1;r===l0&&s.length<6;)s.push(r),r=this.consumeCodePoint(),a=!0;if(a){var i=parseInt($r.apply(void 0,s.map(function(u){return u===l0?JC:u})),16),o=parseInt($r.apply(void 0,s.map(function(u){return u===l0?r3:u})),16);return{type:30,start:i,end:o}}var c=parseInt($r.apply(void 0,s),16);if(this.peekCodePoint(0)===Vn&&lu(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];lu(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var o=parseInt($r.apply(void 0,A),16);return{type:30,start:c,end:o}}else return{type:30,start:c,end:c}},t.prototype.consumeIdentLikeToken=function(){var s=this.consumeName();return s.toLowerCase()==="url"&&this.peekCodePoint(0)===i0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===i0?(this.consumeCodePoint(),{type:19,value:s}):{type:20,value:s}},t.prototype.consumeUrlToken=function(){var s=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===n0||r===a0){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl||this.peekCodePoint(0)===zh)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),c0)}for(;;){var i=this.consumeCodePoint();if(i===Jl||i===zh)return{type:22,value:$r.apply(void 0,s)};if(o0(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl||this.peekCodePoint(0)===zh?(this.consumeCodePoint(),{type:22,value:$r.apply(void 0,s)}):(this.consumeBadUrlRemnants(),c0);if(i===a0||i===n0||i===i0||RR(i))return this.consumeBadUrlRemnants(),c0;if(i===Af)if(zA(i,this.peekCodePoint(0)))s.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),c0;else s.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;o0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var s=this.consumeCodePoint();if(s===zh||s===Jl)return;zA(s,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(s){for(var r=5e4,a="";s>0;){var i=Math.min(r,s);a+=$r.apply(void 0,this._value.splice(0,i)),s-=i}return this._value.shift(),a},t.prototype.consumeStringToken=function(s){var r="",a=0;do{var i=this._value[a];if(i===Jl||i===void 0||i===s)return r+=this.consumeStringSlice(a),{type:0,value:r};if(i===og)return this._value.splice(0,a),JR;if(i===Af){var o=this._value[a+1];o!==Jl&&o!==void 0&&(o===og?(r+=this.consumeStringSlice(a),a=-1,this._value.shift()):zA(i,o)&&(r+=this.consumeStringSlice(a),r+=$r(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},t.prototype.consumeNumber=function(){var s=[],r=$f,a=this.peekCodePoint(0);for((a===qc||a===Vn)&&s.push(this.consumeCodePoint());sn(this.peekCodePoint(0));)s.push(this.consumeCodePoint());a=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(a===Ff&&sn(i))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),r=RN;sn(this.peekCodePoint(0));)s.push(this.consumeCodePoint());a=this.peekCodePoint(0),i=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((a===s3||a===e3)&&((i===qc||i===Vn)&&sn(o)||sn(i)))for(s.push(this.consumeCodePoint(),this.consumeCodePoint()),r=RN;sn(this.peekCodePoint(0));)s.push(this.consumeCodePoint());return[OR(s),r]},t.prototype.consumeNumericToken=function(){var s=this.consumeNumber(),r=s[0],a=s[1],i=this.peekCodePoint(0),o=this.peekCodePoint(1),c=this.peekCodePoint(2);if(A0(i,o,c)){var A=this.consumeName();return{type:15,number:r,flags:a,unit:A}}return i===lR?(this.consumeCodePoint(),{type:16,number:r,flags:a}):{type:17,number:r,flags:a}},t.prototype.consumeEscapedCodePoint=function(){var s=this.consumeCodePoint();if(lu(s)){for(var r=$r(s);lu(this.peekCodePoint(0))&&r.length<6;)r+=$r(this.consumeCodePoint());o0(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(r,16);return a===0||QR(a)||a>1114111?PN:a}return s===Jl?PN:s},t.prototype.consumeName=function(){for(var s="";;){var r=this.consumeCodePoint();if(VN(r))s+=$r(r);else if(zA(r,this.peekCodePoint(0)))s+=$r(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),s}},t}(),n3=function(){function t(s){this._tokens=s}return t.create=function(s){var r=new a3;return r.write(s),new t(r.read())},t.parseValue=function(s){return t.create(s).parseComponentValue()},t.parseValues=function(s){return t.create(s).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var s=this.consumeToken();s.type===31;)s=this.consumeToken();if(s.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(s);var r=this.consumeComponentValue();do s=this.consumeToken();while(s.type===31);if(s.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var s=[];;){var r=this.consumeComponentValue();if(r.type===32)return s;s.push(r),s.push()}},t.prototype.consumeComponentValue=function(){var s=this.consumeToken();switch(s.type){case 11:case 28:case 2:return this.consumeSimpleBlock(s.type);case 19:return this.consumeFunction(s)}return s},t.prototype.consumeSimpleBlock=function(s){for(var r={type:s,values:[]},a=this.consumeToken();;){if(a.type===32||lO(a,s))return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue()),a=this.consumeToken()}},t.prototype.consumeFunction=function(s){for(var r={name:s.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var s=this._tokens.shift();return typeof s>"u"?By:s},t.prototype.reconsumeToken=function(s){this._tokens.unshift(s)},t}(),Xf=function(t){return t.type===15},Wu=function(t){return t.type===17},Ws=function(t){return t.type===20},iO=function(t){return t.type===0},_y=function(t,s){return Ws(t)&&t.value===s},i3=function(t){return t.type!==31},Pu=function(t){return t.type!==31&&t.type!==4},oo=function(t){var s=[],r=[];return t.forEach(function(a){if(a.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");s.push(r),r=[];return}a.type!==31&&r.push(a)}),r.length&&s.push(r),s},lO=function(t,s){return s===11&&t.type===12||s===28&&t.type===29?!0:s===2&&t.type===3},nc=function(t){return t.type===17||t.type===15},ia=function(t){return t.type===16||nc(t)},l3=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ga={type:17,number:0,flags:$f},G1={type:16,number:50,flags:$f},$A={type:16,number:100,flags:$f},ef=function(t,s,r){var a=t[0],i=t[1];return[ar(a,s),ar(typeof i<"u"?i:a,r)]},ar=function(t,s){if(t.type===16)return t.number/100*s;if(Xf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},o3="deg",A3="grad",c3="rad",d3="turn",Og={name:"angle",parse:function(t,s){if(s.type===15)switch(s.unit){case o3:return Math.PI*s.number/180;case A3:return Math.PI/200*s.number;case c3:return s.number;case d3:return Math.PI*2*s.number}throw new Error("Unsupported angle type")}},u3=function(t){return t.type===15&&(t.unit===o3||t.unit===A3||t.unit===c3||t.unit===d3)},h3=function(t){var s=t.filter(Ws).map(function(r){return r.value}).join(" ");switch(s){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ga,Ga];case"to top":case"bottom":return Hi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ga,$A];case"to right":case"left":return Hi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$A,$A];case"to bottom":case"top":return Hi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$A,Ga];case"to left":case"right":return Hi(270)}return 0},Hi=function(t){return Math.PI*t/180},JA={name:"color",parse:function(t,s){if(s.type===18){var r=oO[s.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+s.name+'"');return r(t,s.values)}if(s.type===5){if(s.value.length===3){var a=s.value.substring(0,1),i=s.value.substring(1,2),o=s.value.substring(2,3);return XA(parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(s.value.length===4){var a=s.value.substring(0,1),i=s.value.substring(1,2),o=s.value.substring(2,3),c=s.value.substring(3,4);return XA(parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(c+c,16)/255)}if(s.value.length===6){var a=s.value.substring(0,2),i=s.value.substring(2,4),o=s.value.substring(4,6);return XA(parseInt(a,16),parseInt(i,16),parseInt(o,16),1)}if(s.value.length===8){var a=s.value.substring(0,2),i=s.value.substring(2,4),o=s.value.substring(4,6),c=s.value.substring(6,8);return XA(parseInt(a,16),parseInt(i,16),parseInt(o,16),parseInt(c,16)/255)}}if(s.type===20){var A=Wo[s.value.toUpperCase()];if(typeof A<"u")return A}return Wo.TRANSPARENT}},ZA=function(t){return(255&t)===0},Ua=function(t){var s=255&t,r=255&t>>8,a=255&t>>16,i=255&t>>24;return s<255?"rgba("+i+","+a+","+r+","+s/255+")":"rgb("+i+","+a+","+r+")"},XA=function(t,s,r,a){return(t<<24|s<<16|r<<8|Math.round(a*255)<<0)>>>0},zN=function(t,s){if(t.type===17)return t.number;if(t.type===16){var r=s===3?1:255;return s===3?t.number/100*r:Math.round(t.number/100*r)}return 0},KN=function(t,s){var r=s.filter(Pu);if(r.length===3){var a=r.map(zN),i=a[0],o=a[1],c=a[2];return XA(i,o,c,1)}if(r.length===4){var A=r.map(zN),i=A[0],o=A[1],c=A[2],u=A[3];return XA(i,o,c,u)}return 0};function zx(t,s,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(s-t)*r*6+t:r<1/2?s:r<2/3?(s-t)*6*(2/3-r)+t:t}var GN=function(t,s){var r=s.filter(Pu),a=r[0],i=r[1],o=r[2],c=r[3],A=(a.type===17?Hi(a.number):Og.parse(t,a))/(Math.PI*2),u=ia(i)?i.number/100:0,h=ia(o)?o.number/100:0,f=typeof c<"u"&&ia(c)?ar(c,1):1;if(u===0)return XA(h*255,h*255,h*255,1);var g=h<=.5?h*(u+1):h+u-h*u,b=h*2-g,x=zx(b,g,A+1/3),w=zx(b,g,A),B=zx(b,g,A-1/3);return XA(x*255,w*255,B*255,f)},oO={hsl:GN,hsla:GN,rgb:KN,rgba:KN},cf=function(t,s){return JA.parse(t,n3.create(s).parseComponentValue())},Wo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},AO={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,s){return s.map(function(r){if(Ws(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cO={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hg=function(t,s){var r=JA.parse(t,s[0]),a=s[1];return a&&ia(a)?{color:r,stop:a}:{color:r,stop:null}},qN=function(t,s){var r=t[0],a=t[t.length-1];r.stop===null&&(r.stop=Ga),a.stop===null&&(a.stop=$A);for(var i=[],o=0,c=0;c<t.length;c++){var A=t[c].stop;if(A!==null){var u=ar(A,s);u>o?i.push(u):i.push(o),o=u}else i.push(null)}for(var h=null,c=0;c<i.length;c++){var f=i[c];if(f===null)h===null&&(h=c);else if(h!==null){for(var g=c-h,b=i[h-1],x=(f-b)/(g+1),w=1;w<=g;w++)i[h+w-1]=x*w;h=null}}return t.map(function(B,j){var _=B.color;return{color:_,stop:Math.max(Math.min(1,i[j]/s),0)}})},dO=function(t,s,r){var a=s/2,i=r/2,o=ar(t[0],s)-a,c=i-ar(t[1],r);return(Math.atan2(c,o)+Math.PI*2)%(Math.PI*2)},uO=function(t,s,r){var a=typeof t=="number"?t:dO(t,s,r),i=Math.abs(s*Math.sin(a))+Math.abs(r*Math.cos(a)),o=s/2,c=r/2,A=i/2,u=Math.sin(a-Math.PI/2)*A,h=Math.cos(a-Math.PI/2)*A;return[i,o-h,o+h,c-u,c+u]},yl=function(t,s){return Math.sqrt(t*t+s*s)},$N=function(t,s,r,a,i){var o=[[0,0],[0,s],[t,0],[t,s]];return o.reduce(function(c,A){var u=A[0],h=A[1],f=yl(r-u,a-h);return(i?f<c.optimumDistance:f>c.optimumDistance)?{optimumCorner:A,optimumDistance:f}:c},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},hO=function(t,s,r,a,i){var o=0,c=0;switch(t.size){case 0:t.shape===0?o=c=Math.min(Math.abs(s),Math.abs(s-a),Math.abs(r),Math.abs(r-i)):t.shape===1&&(o=Math.min(Math.abs(s),Math.abs(s-a)),c=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)o=c=Math.min(yl(s,r),yl(s,r-i),yl(s-a,r),yl(s-a,r-i));else if(t.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(s),Math.abs(s-a)),u=$N(a,i,s,r,!0),h=u[0],f=u[1];o=yl(h-s,(f-r)/A),c=A*o}break;case 1:t.shape===0?o=c=Math.max(Math.abs(s),Math.abs(s-a),Math.abs(r),Math.abs(r-i)):t.shape===1&&(o=Math.max(Math.abs(s),Math.abs(s-a)),c=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)o=c=Math.max(yl(s,r),yl(s,r-i),yl(s-a,r),yl(s-a,r-i));else if(t.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(s),Math.abs(s-a)),g=$N(a,i,s,r,!1),h=g[0],f=g[1];o=yl(h-s,(f-r)/A),c=A*o}break}return Array.isArray(t.size)&&(o=ar(t.size[0],a),c=t.size.length===2?ar(t.size[1],i):o),[o,c]},fO=function(t,s){var r=Hi(180),a=[];return oo(s).forEach(function(i,o){if(o===0){var c=i[0];if(c.type===20&&c.value==="to"){r=h3(i);return}else if(u3(c)){r=Og.parse(t,c);return}}var A=Hg(t,i);a.push(A)}),{angle:r,stops:a,type:1}},d0=function(t,s){var r=Hi(180),a=[];return oo(s).forEach(function(i,o){if(o===0){var c=i[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){r=h3(i);return}else if(u3(c)){r=(Og.parse(t,c)+Hi(270))%Hi(360);return}}var A=Hg(t,i);a.push(A)}),{angle:r,stops:a,type:1}},mO=function(t,s){var r=Hi(180),a=[],i=1,o=0,c=3,A=[];return oo(s).forEach(function(u,h){var f=u[0];if(h===0){if(Ws(f)&&f.value==="linear"){i=1;return}else if(Ws(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var g=JA.parse(t,f.values[0]);a.push({stop:Ga,color:g})}else if(f.name==="to"){var g=JA.parse(t,f.values[0]);a.push({stop:$A,color:g})}else if(f.name==="color-stop"){var b=f.values.filter(Pu);if(b.length===2){var g=JA.parse(t,b[1]),x=b[0];Wu(x)&&a.push({stop:{type:16,number:x.number*100,flags:x.flags},color:g})}}}}),i===1?{angle:(r+Hi(180))%Hi(360),stops:a,type:i}:{size:c,shape:o,stops:a,position:A,type:i}},f3="closest-side",m3="farthest-side",g3="closest-corner",p3="farthest-corner",x3="circle",b3="ellipse",y3="cover",v3="contain",gO=function(t,s){var r=0,a=3,i=[],o=[];return oo(s).forEach(function(c,A){var u=!0;if(A===0){var h=!1;u=c.reduce(function(g,b){if(h)if(Ws(b))switch(b.value){case"center":return o.push(G1),g;case"top":case"left":return o.push(Ga),g;case"right":case"bottom":return o.push($A),g}else(ia(b)||nc(b))&&o.push(b);else if(Ws(b))switch(b.value){case x3:return r=0,!1;case b3:return r=1,!1;case"at":return h=!0,!1;case f3:return a=0,!1;case y3:case m3:return a=1,!1;case v3:case g3:return a=2,!1;case p3:return a=3,!1}else if(nc(b)||ia(b))return Array.isArray(a)||(a=[]),a.push(b),!1;return g},u)}if(u){var f=Hg(t,c);i.push(f)}}),{size:a,shape:r,stops:i,position:o,type:2}},u0=function(t,s){var r=0,a=3,i=[],o=[];return oo(s).forEach(function(c,A){var u=!0;if(A===0?u=c.reduce(function(f,g){if(Ws(g))switch(g.value){case"center":return o.push(G1),!1;case"top":case"left":return o.push(Ga),!1;case"right":case"bottom":return o.push($A),!1}else if(ia(g)||nc(g))return o.push(g),!1;return f},u):A===1&&(u=c.reduce(function(f,g){if(Ws(g))switch(g.value){case x3:return r=0,!1;case b3:return r=1,!1;case v3:case f3:return a=0,!1;case m3:return a=1,!1;case g3:return a=2,!1;case y3:case p3:return a=3,!1}else if(nc(g)||ia(g))return Array.isArray(a)||(a=[]),a.push(g),!1;return f},u)),u){var h=Hg(t,c);i.push(h)}}),{size:a,shape:r,stops:i,position:o,type:2}},pO=function(t){return t.type===1},xO=function(t){return t.type===2},q1={name:"image",parse:function(t,s){if(s.type===22){var r={url:s.value,type:0};return t.cache.addImage(s.value),r}if(s.type===18){var a=w3[s.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+s.name+'"');return a(t,s.values)}throw new Error("Unsupported image type "+s.type)}};function bO(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!w3[t.name])}var w3={"linear-gradient":fO,"-moz-linear-gradient":d0,"-ms-linear-gradient":d0,"-o-linear-gradient":d0,"-webkit-linear-gradient":d0,"radial-gradient":gO,"-moz-radial-gradient":u0,"-ms-radial-gradient":u0,"-o-radial-gradient":u0,"-webkit-radial-gradient":u0,"-webkit-gradient":mO},yO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,s){if(s.length===0)return[];var r=s[0];return r.type===20&&r.value==="none"?[]:s.filter(function(a){return Pu(a)&&bO(a)}).map(function(a){return q1.parse(t,a)})}},vO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,s){return s.map(function(r){if(Ws(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wO={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,s){return oo(s).map(function(r){return r.filter(ia)}).map(l3)}},NO={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,s){return oo(s).map(function(r){return r.filter(Ws).map(function(a){return a.value}).join(" ")}).map(jO)}},jO=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ku;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(ku||(ku={}));var BO={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,s){return oo(s).map(function(r){return r.filter(_O)})}},_O=function(t){return Ws(t)||ia(t)},Pg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},CO=Pg("top"),SO=Pg("right"),EO=Pg("bottom"),FO=Pg("left"),Vg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(s,r){return l3(r.filter(ia))}}},UO=Vg("top-left"),kO=Vg("top-right"),LO=Vg("bottom-right"),QO=Vg("bottom-left"),zg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(s,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},TO=zg("top"),DO=zg("right"),IO=zg("bottom"),MO=zg("left"),Kg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(s,r){return Xf(r)?r.number:0}}},RO=Kg("top"),OO=Kg("right"),HO=Kg("bottom"),PO=Kg("left"),VO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,s){switch(s){case"rtl":return 1;case"ltr":default:return 0}}},KO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,s){return s.filter(Ws).reduce(function(r,a){return r|GO(a.value)},0)}},GO=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},qO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$O={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,s){return s.type===20&&s.value==="normal"?0:s.type===17||s.type===15?s.number:0}},cg;(function(t){t.NORMAL="normal",t.STRICT="strict"})(cg||(cg={}));var XO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"strict":return cg.STRICT;case"normal":default:return cg.NORMAL}}},YO={name:"line-height",initialValue:"normal",prefix:!1,type:4},XN=function(t,s){return Ws(t)&&t.value==="normal"?1.2*s:t.type===17?s*t.number:ia(t)?ar(t,s):s},WO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,s){return s.type===20&&s.value==="none"?null:q1.parse(t,s)}},JO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,s){switch(s){case"inside":return 0;case"outside":default:return 1}}},Cy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Gg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ZO=Gg("top"),eH=Gg("right"),tH=Gg("bottom"),sH=Gg("left"),rH={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,s){return s.filter(Ws).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aH={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"break-word":return"break-word";case"normal":default:return"normal"}}},qg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nH=qg("top"),iH=qg("right"),lH=qg("bottom"),oH=qg("left"),AH={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,s){switch(s){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cH={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,s){switch(s){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dH={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.length===1&&_y(s[0],"none")?[]:oo(s).map(function(r){for(var a={color:Wo.TRANSPARENT,offsetX:Ga,offsetY:Ga,blur:Ga},i=0,o=0;o<r.length;o++){var c=r[o];nc(c)?(i===0?a.offsetX=c:i===1?a.offsetY=c:a.blur=c,i++):a.color=JA.parse(t,c)}return a})}},uH={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hH={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,s){if(s.type===20&&s.value==="none")return null;if(s.type===18){var r=gH[s.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+s.name+'"');return r(s.values)}return null}},fH=function(t){var s=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return s.length===6?s:null},mH=function(t){var s=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),r=s[0],a=s[1];s[2],s[3];var i=s[4],o=s[5];s[6],s[7],s[8],s[9],s[10],s[11];var c=s[12],A=s[13];return s[14],s[15],s.length===16?[r,a,i,o,c,A]:null},gH={matrix:fH,matrix3d:mH},YN={type:16,number:50,flags:$f},pH=[YN,YN],xH={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,s){var r=s.filter(ia);return r.length!==2?pH:[r[0],r[1]]}},bH={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,s){switch(s){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},df;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(df||(df={}));var yH={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"break-all":return df.BREAK_ALL;case"keep-all":return df.KEEP_ALL;case"normal":default:return df.NORMAL}}},vH={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,s){if(s.type===20)return{auto:!0,order:0};if(Wu(s))return{auto:!1,order:s.number};throw new Error("Invalid z-index number parsed")}},N3={name:"time",parse:function(t,s){if(s.type===15)switch(s.unit.toLowerCase()){case"s":return 1e3*s.number;case"ms":return s.number}throw new Error("Unsupported time type")}},wH={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,s){return Wu(s)?s.number:1}},NH={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jH={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,s){return s.filter(Ws).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},BH={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,s){var r=[],a=[];return s.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:a.push(r.join(" ")),r.length=0;break}}),r.length&&a.push(r.join(" ")),a.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},_H={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},CH={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,s){if(Wu(s))return s.number;if(Ws(s))switch(s.value){case"bold":return 700;case"normal":default:return 400}return 400}},SH={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.filter(Ws).map(function(r){return r.value})}},EH={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,s){switch(s){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ba=function(t,s){return(t&s)!==0},FH={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,s){if(s.length===0)return[];var r=s[0];return r.type===20&&r.value==="none"?[]:s}},UH={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return null;var r=s[0];if(r.type===20&&r.value==="none")return null;for(var a=[],i=s.filter(i3),o=0;o<i.length;o++){var c=i[o],A=i[o+1];if(c.type===20){var u=A&&Wu(A)?A.number:1;a.push({counter:c.value,increment:u})}}return a}},kH={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return[];for(var r=[],a=s.filter(i3),i=0;i<a.length;i++){var o=a[i],c=a[i+1];if(Ws(o)&&o.value!=="none"){var A=c&&Wu(c)?c.number:0;r.push({counter:o.value,reset:A})}}return r}},LH={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,s){return s.filter(Xf).map(function(r){return N3.parse(t,r)})}},QH={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,s){if(s.length===0)return null;var r=s[0];if(r.type===20&&r.value==="none")return null;var a=[],i=s.filter(iO);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var c=i[o].value,A=i[o+1].value;a.push({open:c,close:A})}return a}},WN=function(t,s,r){if(!t)return"";var a=t[Math.min(s,t.length-1)];return a?r?a.open:a.close:""},TH={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,s){return s.length===1&&_y(s[0],"none")?[]:oo(s).map(function(r){for(var a={color:255,offsetX:Ga,offsetY:Ga,blur:Ga,spread:Ga,inset:!1},i=0,o=0;o<r.length;o++){var c=r[o];_y(c,"inset")?a.inset=!0:nc(c)?(i===0?a.offsetX=c:i===1?a.offsetY=c:i===2?a.blur=c:a.spread=c,i++):a.color=JA.parse(t,c)}return a})}},DH={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,s){var r=[0,1,2],a=[];return s.filter(Ws).forEach(function(i){switch(i.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),r.forEach(function(i){a.indexOf(i)===-1&&a.push(i)}),a}},IH={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},MH={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,s){return Xf(s)?s.number:0}},RH=function(){function t(s,r){var a,i;this.animationDuration=gt(s,LH,r.animationDuration),this.backgroundClip=gt(s,AO,r.backgroundClip),this.backgroundColor=gt(s,cO,r.backgroundColor),this.backgroundImage=gt(s,yO,r.backgroundImage),this.backgroundOrigin=gt(s,vO,r.backgroundOrigin),this.backgroundPosition=gt(s,wO,r.backgroundPosition),this.backgroundRepeat=gt(s,NO,r.backgroundRepeat),this.backgroundSize=gt(s,BO,r.backgroundSize),this.borderTopColor=gt(s,CO,r.borderTopColor),this.borderRightColor=gt(s,SO,r.borderRightColor),this.borderBottomColor=gt(s,EO,r.borderBottomColor),this.borderLeftColor=gt(s,FO,r.borderLeftColor),this.borderTopLeftRadius=gt(s,UO,r.borderTopLeftRadius),this.borderTopRightRadius=gt(s,kO,r.borderTopRightRadius),this.borderBottomRightRadius=gt(s,LO,r.borderBottomRightRadius),this.borderBottomLeftRadius=gt(s,QO,r.borderBottomLeftRadius),this.borderTopStyle=gt(s,TO,r.borderTopStyle),this.borderRightStyle=gt(s,DO,r.borderRightStyle),this.borderBottomStyle=gt(s,IO,r.borderBottomStyle),this.borderLeftStyle=gt(s,MO,r.borderLeftStyle),this.borderTopWidth=gt(s,RO,r.borderTopWidth),this.borderRightWidth=gt(s,OO,r.borderRightWidth),this.borderBottomWidth=gt(s,HO,r.borderBottomWidth),this.borderLeftWidth=gt(s,PO,r.borderLeftWidth),this.boxShadow=gt(s,TH,r.boxShadow),this.color=gt(s,VO,r.color),this.direction=gt(s,zO,r.direction),this.display=gt(s,KO,r.display),this.float=gt(s,qO,r.cssFloat),this.fontFamily=gt(s,BH,r.fontFamily),this.fontSize=gt(s,_H,r.fontSize),this.fontStyle=gt(s,EH,r.fontStyle),this.fontVariant=gt(s,SH,r.fontVariant),this.fontWeight=gt(s,CH,r.fontWeight),this.letterSpacing=gt(s,$O,r.letterSpacing),this.lineBreak=gt(s,XO,r.lineBreak),this.lineHeight=gt(s,YO,r.lineHeight),this.listStyleImage=gt(s,WO,r.listStyleImage),this.listStylePosition=gt(s,JO,r.listStylePosition),this.listStyleType=gt(s,Cy,r.listStyleType),this.marginTop=gt(s,ZO,r.marginTop),this.marginRight=gt(s,eH,r.marginRight),this.marginBottom=gt(s,tH,r.marginBottom),this.marginLeft=gt(s,sH,r.marginLeft),this.opacity=gt(s,wH,r.opacity);var o=gt(s,rH,r.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=gt(s,aH,r.overflowWrap),this.paddingTop=gt(s,nH,r.paddingTop),this.paddingRight=gt(s,iH,r.paddingRight),this.paddingBottom=gt(s,lH,r.paddingBottom),this.paddingLeft=gt(s,oH,r.paddingLeft),this.paintOrder=gt(s,DH,r.paintOrder),this.position=gt(s,cH,r.position),this.textAlign=gt(s,AH,r.textAlign),this.textDecorationColor=gt(s,NH,(a=r.textDecorationColor)!==null&&a!==void 0?a:r.color),this.textDecorationLine=gt(s,jH,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=gt(s,dH,r.textShadow),this.textTransform=gt(s,uH,r.textTransform),this.transform=gt(s,hH,r.transform),this.transformOrigin=gt(s,xH,r.transformOrigin),this.visibility=gt(s,bH,r.visibility),this.webkitTextStrokeColor=gt(s,IH,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=gt(s,MH,r.webkitTextStrokeWidth),this.wordBreak=gt(s,yH,r.wordBreak),this.zIndex=gt(s,vH,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ZA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ba(this.display,4)||ba(this.display,33554432)||ba(this.display,268435456)||ba(this.display,536870912)||ba(this.display,67108864)||ba(this.display,134217728)},t}(),OH=function(){function t(s,r){this.content=gt(s,FH,r.content),this.quotes=gt(s,QH,r.quotes)}return t}(),JN=function(){function t(s,r){this.counterIncrement=gt(s,UH,r.counterIncrement),this.counterReset=gt(s,kH,r.counterReset)}return t}(),gt=function(t,s,r){var a=new a3,i=r!==null&&typeof r<"u"?r.toString():s.initialValue;a.write(i);var o=new n3(a.read());switch(s.type){case 2:var c=o.parseComponentValue();return s.parse(t,Ws(c)?c.value:s.initialValue);case 0:return s.parse(t,o.parseComponentValue());case 1:return s.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(s.format){case"angle":return Og.parse(t,o.parseComponentValue());case"color":return JA.parse(t,o.parseComponentValue());case"image":return q1.parse(t,o.parseComponentValue());case"length":var A=o.parseComponentValue();return nc(A)?A:Ga;case"length-percentage":var u=o.parseComponentValue();return ia(u)?u:Ga;case"time":return N3.parse(t,o.parseComponentValue())}break}},HH="data-html2canvas-debug",PH=function(t){var s=t.getAttribute(HH);switch(s){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Sy=function(t,s){var r=PH(t);return r===1||s===r},Ao=function(){function t(s,r){if(this.context=s,this.textNodes=[],this.elements=[],this.flags=0,Sy(r,3))debugger;this.styles=new RH(s,window.getComputedStyle(r,null)),Uy(r)&&(this.styles.animationDuration.some(function(a){return a>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Mg(this.context,r),Sy(r,4)&&(this.flags|=16)}return t}(),VH="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ZN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var h0=0;h0<ZN.length;h0++)tf[ZN.charCodeAt(h0)]=h0;var zH=function(t){var s=t.length*.75,r=t.length,a,i=0,o,c,A,u;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(s):new Array(s),f=Array.isArray(h)?h:new Uint8Array(h);for(a=0;a<r;a+=4)o=tf[t.charCodeAt(a)],c=tf[t.charCodeAt(a+1)],A=tf[t.charCodeAt(a+2)],u=tf[t.charCodeAt(a+3)],f[i++]=o<<2|c>>4,f[i++]=(c&15)<<4|A>>2,f[i++]=(A&3)<<6|u&63;return h},KH=function(t){for(var s=t.length,r=[],a=0;a<s;a+=2)r.push(t[a+1]<<8|t[a]);return r},GH=function(t){for(var s=t.length,r=[],a=0;a<s;a+=4)r.push(t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a]);return r},ed=5,$1=11,Kx=2,qH=$1-ed,j3=65536>>ed,$H=1<<ed,Gx=$H-1,XH=1024>>ed,YH=j3+XH,WH=YH,JH=32,ZH=WH+JH,eP=65536>>$1,tP=1<<qH,sP=tP-1,ej=function(t,s,r){return t.slice?t.slice(s,r):new Uint16Array(Array.prototype.slice.call(t,s,r))},rP=function(t,s,r){return t.slice?t.slice(s,r):new Uint32Array(Array.prototype.slice.call(t,s,r))},aP=function(t,s){var r=zH(t),a=Array.isArray(r)?GH(r):new Uint32Array(r),i=Array.isArray(r)?KH(r):new Uint16Array(r),o=24,c=ej(i,o/2,a[4]/2),A=a[5]===2?ej(i,(o+a[4])/2):rP(a,Math.ceil((o+a[4])/4));return new nP(a[0],a[1],a[2],a[3],c,A)},nP=function(){function t(s,r,a,i,o,c){this.initialValue=s,this.errorValue=r,this.highStart=a,this.highValueIndex=i,this.index=o,this.data=c}return t.prototype.get=function(s){var r;if(s>=0){if(s<55296||s>56319&&s<=65535)return r=this.index[s>>ed],r=(r<<Kx)+(s&Gx),this.data[r];if(s<=65535)return r=this.index[j3+(s-55296>>ed)],r=(r<<Kx)+(s&Gx),this.data[r];if(s<this.highStart)return r=ZH-eP+(s>>$1),r=this.index[r],r+=s>>ed&sP,r=this.index[r],r=(r<<Kx)+(s&Gx),this.data[r];if(s<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),tj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var f0=0;f0<tj.length;f0++)iP[tj.charCodeAt(f0)]=f0;var lP=1,qx=2,$x=3,sj=4,rj=5,oP=7,aj=8,Xx=9,Yx=10,nj=11,ij=12,lj=13,oj=14,Wx=15,AP=function(t){for(var s=[],r=0,a=t.length;r<a;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var o=t.charCodeAt(r++);(o&64512)===56320?s.push(((i&1023)<<10)+(o&1023)+65536):(s.push(i),r--)}else s.push(i)}return s},cP=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var a=[],i=-1,o="";++i<r;){var c=t[i];c<=65535?a.push(c):(c-=65536,a.push((c>>10)+55296,c%1024+56320)),(i+1===r||a.length>16384)&&(o+=String.fromCharCode.apply(String,a),a.length=0)}return o},dP=aP(VH),Ti="",Jx="",uP=function(t){return dP.get(t)},hP=function(t,s,r){var a=r-2,i=s[a],o=s[r-1],c=s[r];if(o===qx&&c===$x)return Ti;if(o===qx||o===$x||o===sj||c===qx||c===$x||c===sj)return Jx;if(o===aj&&[aj,Xx,nj,ij].indexOf(c)!==-1||(o===nj||o===Xx)&&(c===Xx||c===Yx)||(o===ij||o===Yx)&&c===Yx||c===lj||c===rj||c===oP||o===lP)return Ti;if(o===lj&&c===oj){for(;i===rj;)i=s[--a];if(i===oj)return Ti}if(o===Wx&&c===Wx){for(var A=0;i===Wx;)A++,i=s[--a];if(A%2===0)return Ti}return Jx},fP=function(t){var s=AP(t),r=s.length,a=0,i=0,o=s.map(uP);return{next:function(){if(a>=r)return{done:!0,value:null};for(var c=Ti;a<r&&(c=hP(s,o,++a))===Ti;);if(c!==Ti||a===r){var A=cP.apply(null,s.slice(i,a));return i=a,{value:A,done:!1}}return{done:!0,value:null}}}},mP=function(t){for(var s=fP(t),r=[],a;!(a=s.next()).done;)a.value&&r.push(a.value.slice());return r},gP=function(t){var s=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var a=t.createElement("boundtest");a.style.height=s+"px",a.style.display="block",t.body.appendChild(a),r.selectNode(a);var i=r.getBoundingClientRect(),o=Math.round(i.height);if(t.body.removeChild(a),o===s)return!0}}return!1},pP=function(t){var s=t.createElement("boundtest");s.style.width="50px",s.style.display="block",s.style.fontSize="12px",s.style.letterSpacing="0px",s.style.wordSpacing="0px",t.body.appendChild(s);var r=t.createRange();s.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=s.firstChild,i=Rg(a.data).map(function(u){return $r(u)}),o=0,c={},A=i.every(function(u,h){r.setStart(a,o),r.setEnd(a,o+u.length);var f=r.getBoundingClientRect();o+=u.length;var g=f.x>c.x||f.y>c.y;return c=f,h===0?!0:g});return t.body.removeChild(s),A},xP=function(){return typeof new Image().crossOrigin<"u"},bP=function(){return typeof new XMLHttpRequest().responseType=="string"},yP=function(t){var s=new Image,r=t.createElement("canvas"),a=r.getContext("2d");if(!a)return!1;s.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(s,0,0),r.toDataURL()}catch{return!1}return!0},Aj=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},vP=function(t){var s=t.createElement("canvas"),r=100;s.width=r,s.height=r;var a=s.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,r,r);var i=new Image,o=s.toDataURL();i.src=o;var c=Ey(r,r,0,0,i);return a.fillStyle="red",a.fillRect(0,0,r,r),cj(c).then(function(A){a.drawImage(A,0,0);var u=a.getImageData(0,0,r,r).data;a.fillStyle="red",a.fillRect(0,0,r,r);var h=t.createElement("div");return h.style.backgroundImage="url("+o+")",h.style.height=r+"px",Aj(u)?cj(Ey(r,r,0,0,h)):Promise.reject(!1)}).then(function(A){return a.drawImage(A,0,0),Aj(a.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Ey=function(t,s,r,a,i){var o="http://www.w3.org/2000/svg",c=document.createElementNS(o,"svg"),A=document.createElementNS(o,"foreignObject");return c.setAttributeNS(null,"width",t.toString()),c.setAttributeNS(null,"height",s.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",a.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(A),A.appendChild(i),c},cj=function(t){return new Promise(function(s,r){var a=new Image;a.onload=function(){return s(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Va={get SUPPORT_RANGE_BOUNDS(){var t=gP(document);return Object.defineProperty(Va,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Va.SUPPORT_RANGE_BOUNDS&&pP(document);return Object.defineProperty(Va,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=yP(document);return Object.defineProperty(Va,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?vP(document):Promise.resolve(!1);return Object.defineProperty(Va,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=xP();return Object.defineProperty(Va,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=bP();return Object.defineProperty(Va,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Va,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Va,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},uf=function(){function t(s,r){this.text=s,this.bounds=r}return t}(),wP=function(t,s,r,a){var i=BP(s,r),o=[],c=0;return i.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Va.SUPPORT_RANGE_BOUNDS){var u=dj(a,c,A.length).getClientRects();if(u.length>1){var h=X1(A),f=0;h.forEach(function(b){o.push(new uf(b,rA.fromDOMRectList(t,dj(a,f+c,b.length).getClientRects()))),f+=b.length})}else o.push(new uf(A,rA.fromDOMRectList(t,u)))}else{var g=a.splitText(A.length);o.push(new uf(A,NP(t,a))),a=g}else Va.SUPPORT_RANGE_BOUNDS||(a=a.splitText(A.length));c+=A.length}),o},NP=function(t,s){var r=s.ownerDocument;if(r){var a=r.createElement("html2canvaswrapper");a.appendChild(s.cloneNode(!0));var i=s.parentNode;if(i){i.replaceChild(a,s);var o=Mg(t,a);return a.firstChild&&i.replaceChild(a.firstChild,a),o}}return rA.EMPTY},dj=function(t,s,r){var a=t.ownerDocument;if(!a)throw new Error("Node has no owner document");var i=a.createRange();return i.setStart(t,s),i.setEnd(t,s+r),i},X1=function(t){if(Va.SUPPORT_NATIVE_TEXT_SEGMENTATION){var s=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(s.segment(t)).map(function(r){return r.segment})}return mP(t)},jP=function(t,s){if(Va.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(a){return a.segment})}return CP(t,s)},BP=function(t,s){return s.letterSpacing!==0?X1(t):jP(t,s)},_P=[32,160,4961,65792,65793,4153,4241],CP=function(t,s){for(var r=eR(t,{lineBreak:s.lineBreak,wordBreak:s.overflowWrap==="break-word"?"break-word":s.wordBreak}),a=[],i,o=function(){if(i.value){var c=i.value.slice(),A=Rg(c),u="";A.forEach(function(h){_P.indexOf(h)===-1?u+=$r(h):(u.length&&a.push(u),a.push($r(h)),u="")}),u.length&&a.push(u)}};!(i=r.next()).done;)o();return a},SP=function(){function t(s,r,a){this.text=EP(r.data,a.textTransform),this.textBounds=wP(s,this.text,a,r)}return t}(),EP=function(t,s){switch(s){case 1:return t.toLowerCase();case 3:return t.replace(FP,UP);case 2:return t.toUpperCase();default:return t}},FP=/(^|\s|:|-|\(|\))([a-z])/g,UP=function(t,s,r){return t.length>0?s+r.toUpperCase():t},B3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.src=a.currentSrc||a.src,i.intrinsicWidth=a.naturalWidth,i.intrinsicHeight=a.naturalHeight,i.context.cache.addImage(i.src),i}return s}(Ao),_3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.canvas=a,i.intrinsicWidth=a.width,i.intrinsicHeight=a.height,i}return s}(Ao),C3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this,o=new XMLSerializer,c=Mg(r,a);return a.setAttribute("width",c.width+"px"),a.setAttribute("height",c.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(a)),i.intrinsicWidth=a.width.baseVal.value,i.intrinsicHeight=a.height.baseVal.value,i.context.cache.addImage(i.svg),i}return s}(Ao),S3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.value=a.value,i}return s}(Ao),Fy=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.start=a.start,i.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,i}return s}(Ao),kP=[{type:15,flags:0,unit:"px",number:3}],LP=[{type:16,flags:0,number:50}],QP=function(t){return t.width>t.height?new rA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new rA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},TP=function(t){var s=t.type===DP?new Array(t.value.length+1).join(""):t.value;return s.length===0?t.placeholder||"":s},dg="checkbox",ug="radio",DP="password",uj=707406591,Y1=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;switch(i.type=a.type.toLowerCase(),i.checked=a.checked,i.value=TP(a),(i.type===dg||i.type===ug)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=QP(i.bounds)),i.type){case dg:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=kP;break;case ug:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=LP;break}return i}return s}(Ao),E3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this,o=a.options[a.selectedIndex||0];return i.value=o&&o.text||"",i}return s}(Ao),F3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.value=a.value,i}return s}(Ao),U3=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;i.src=a.src,i.width=parseInt(a.width,10)||0,i.height=parseInt(a.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){i.tree=L3(r,a.contentWindow.document.documentElement);var o=a.contentWindow.document.documentElement?cf(r,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):Wo.TRANSPARENT,c=a.contentWindow.document.body?cf(r,getComputedStyle(a.contentWindow.document.body).backgroundColor):Wo.TRANSPARENT;i.backgroundColor=ZA(o)?ZA(c)?i.styles.backgroundColor:c:o}}catch{}return i}return s}(Ao),IP=["OL","UL","MENU"],G0=function(t,s,r,a){for(var i=s.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,Q3(i)&&i.data.trim().length>0)r.textNodes.push(new SP(t,i,r.styles));else if(ju(i))if(M3(i)&&i.assignedNodes)i.assignedNodes().forEach(function(A){return G0(t,A,r,a)});else{var c=k3(t,i);c.styles.isVisible()&&(MP(i,c,a)?c.flags|=4:RP(c.styles)&&(c.flags|=2),IP.indexOf(i.tagName)!==-1&&(c.flags|=8),r.elements.push(c),i.slot,i.shadowRoot?G0(t,i.shadowRoot,c,a):!hg(i)&&!T3(i)&&!fg(i)&&G0(t,i,c,a))}},k3=function(t,s){return ky(s)?new B3(t,s):D3(s)?new _3(t,s):T3(s)?new C3(t,s):OP(s)?new S3(t,s):HP(s)?new Fy(t,s):PP(s)?new Y1(t,s):fg(s)?new E3(t,s):hg(s)?new F3(t,s):I3(s)?new U3(t,s):new Ao(t,s)},L3=function(t,s){var r=k3(t,s);return r.flags|=4,G0(t,s,r,r),r},MP=function(t,s,r){return s.styles.isPositionedWithZIndex()||s.styles.opacity<1||s.styles.isTransformed()||W1(t)&&r.styles.isTransparent()},RP=function(t){return t.isPositioned()||t.isFloating()},Q3=function(t){return t.nodeType===Node.TEXT_NODE},ju=function(t){return t.nodeType===Node.ELEMENT_NODE},Uy=function(t){return ju(t)&&typeof t.style<"u"&&!q0(t)},q0=function(t){return typeof t.className=="object"},OP=function(t){return t.tagName==="LI"},HP=function(t){return t.tagName==="OL"},PP=function(t){return t.tagName==="INPUT"},VP=function(t){return t.tagName==="HTML"},T3=function(t){return t.tagName==="svg"},W1=function(t){return t.tagName==="BODY"},D3=function(t){return t.tagName==="CANVAS"},hj=function(t){return t.tagName==="VIDEO"},ky=function(t){return t.tagName==="IMG"},I3=function(t){return t.tagName==="IFRAME"},fj=function(t){return t.tagName==="STYLE"},zP=function(t){return t.tagName==="SCRIPT"},hg=function(t){return t.tagName==="TEXTAREA"},fg=function(t){return t.tagName==="SELECT"},M3=function(t){return t.tagName==="SLOT"},mj=function(t){return t.tagName.indexOf("-")>0},KP=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(s){var r=this.counters[s];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(s){var r=this.counters[s];return r||[]},t.prototype.pop=function(s){var r=this;s.forEach(function(a){return r.counters[a].pop()})},t.prototype.parse=function(s){var r=this,a=s.counterIncrement,i=s.counterReset,o=!0;a!==null&&a.forEach(function(A){var u=r.counters[A.counter];u&&A.increment!==0&&(o=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=A.increment)});var c=[];return o&&i.forEach(function(A){var u=r.counters[A.counter];c.push(A.counter),u||(u=r.counters[A.counter]=[]),u.push(A.reset)}),c},t}(),gj={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},pj={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},GP={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qP={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ou=function(t,s,r,a,i,o){return t<s||t>r?Uf(t,i,o.length>0):a.integers.reduce(function(c,A,u){for(;t>=A;)t-=A,c+=a.values[u];return c},"")+o},R3=function(t,s,r,a){var i="";do r||t--,i=a(t)+i,t/=s;while(t*s>=s);return i},qr=function(t,s,r,a,i){var o=r-s+1;return(t<0?"-":"")+(R3(Math.abs(t),o,a,function(c){return $r(Math.floor(c%o)+s)})+i)},Oc=function(t,s,r){r===void 0&&(r=". ");var a=s.length;return R3(Math.abs(t),a,!1,function(i){return s[Math.floor(i%a)]})+r},mu=1,PA=2,VA=4,sf=8,Vo=function(t,s,r,a,i,o){if(t<-9999||t>9999)return Uf(t,4,i.length>0);var c=Math.abs(t),A=i;if(c===0)return s[0]+A;for(var u=0;c>0&&u<=4;u++){var h=c%10;h===0&&ba(o,mu)&&A!==""?A=s[h]+A:h>1||h===1&&u===0||h===1&&u===1&&ba(o,PA)||h===1&&u===1&&ba(o,VA)&&t>100||h===1&&u>1&&ba(o,sf)?A=s[h]+(u>0?r[u-1]:"")+A:h===1&&u>0&&(A=r[u-1]+A),c=Math.floor(c/10)}return(t<0?a:"")+A},xj="",bj="",yj="",Zx="",Uf=function(t,s,r){var a=r?". ":"",i=r?"":"",o=r?", ":"",c=r?" ":"";switch(s){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var A=qr(t,48,57,!0,a);return A.length<4?"0"+A:A;case 4:return Oc(t,"",i);case 6:return ou(t,1,3999,gj,3,a).toLowerCase();case 7:return ou(t,1,3999,gj,3,a);case 8:return qr(t,945,969,!1,a);case 9:return qr(t,97,122,!1,a);case 10:return qr(t,65,90,!1,a);case 11:return qr(t,1632,1641,!0,a);case 12:case 49:return ou(t,1,9999,pj,3,a);case 35:return ou(t,1,9999,pj,3,a).toLowerCase();case 13:return qr(t,2534,2543,!0,a);case 14:case 30:return qr(t,6112,6121,!0,a);case 15:return Oc(t,"",i);case 16:return Oc(t,"",i);case 17:case 48:return Vo(t,"",xj,"",i,PA|VA|sf);case 47:return Vo(t,"",bj,"",i,mu|PA|VA|sf);case 42:return Vo(t,"",xj,"",i,PA|VA|sf);case 41:return Vo(t,"",bj,"",i,mu|PA|VA|sf);case 26:return Vo(t,"","",yj,i,0);case 25:return Vo(t,"","",yj,i,mu|PA|VA);case 31:return Vo(t,"","",Zx,o,mu|PA|VA);case 33:return Vo(t,"","",Zx,o,0);case 32:return Vo(t,"","",Zx,o,mu|PA|VA);case 18:return qr(t,2406,2415,!0,a);case 20:return ou(t,1,19999,qP,3,a);case 21:return qr(t,2790,2799,!0,a);case 22:return qr(t,2662,2671,!0,a);case 22:return ou(t,1,10999,GP,3,a);case 23:return Oc(t,"");case 24:return Oc(t,"");case 27:return qr(t,3302,3311,!0,a);case 28:return Oc(t,"",i);case 29:return Oc(t,"",i);case 34:return qr(t,3792,3801,!0,a);case 37:return qr(t,6160,6169,!0,a);case 38:return qr(t,4160,4169,!0,a);case 39:return qr(t,2918,2927,!0,a);case 40:return qr(t,1776,1785,!0,a);case 43:return qr(t,3046,3055,!0,a);case 44:return qr(t,3174,3183,!0,a);case 45:return qr(t,3664,3673,!0,a);case 46:return qr(t,3872,3881,!0,a);case 3:default:return qr(t,48,57,!0,a)}},O3="data-html2canvas-ignore",vj=function(){function t(s,r,a){if(this.context=s,this.options=a,this.scrolledElements=[],this.referenceElement=r,this.counters=new KP,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(s,r){var a=this,i=$P(s,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=s.defaultView.pageXOffset,c=s.defaultView.pageYOffset,A=i.contentWindow,u=A.document,h=WP(i).then(function(){return vn(a,void 0,void 0,function(){var f,g;return tn(this,function(b){switch(b.label){case 0:return this.scrolledElements.forEach(t9),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),f=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:b.sent(),b.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,YP(u)]:[3,4];case 3:b.sent(),b.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(u,g)}).then(function(){return i})]:[2,i]}})})});return u.open(),u.write(ZP(document.doctype)+"<html></html>"),e9(this.referenceElement.ownerDocument,o,c),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),h},t.prototype.createElementClone=function(s){if(Sy(s,2))debugger;if(D3(s))return this.createCanvasClone(s);if(hj(s))return this.createVideoClone(s);if(fj(s))return this.createStyleClone(s);var r=s.cloneNode(!1);return ky(r)&&(ky(s)&&s.currentSrc&&s.currentSrc!==s.src&&(r.src=s.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),mj(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(s){var r=document.createElement("html2canvascustomelement");return eb(s.style,r),r},t.prototype.createStyleClone=function(s){try{var r=s.sheet;if(r&&r.cssRules){var a=[].slice.call(r.cssRules,0).reduce(function(o,c){return c&&typeof c.cssText=="string"?o+c.cssText:o},""),i=s.cloneNode(!1);return i.textContent=a,i}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return s.cloneNode(!1)},t.prototype.createCanvasClone=function(s){var r;if(this.options.inlineImages&&s.ownerDocument){var a=s.ownerDocument.createElement("img");try{return a.src=s.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",s)}}var i=s.cloneNode(!1);try{i.width=s.width,i.height=s.height;var o=s.getContext("2d"),c=i.getContext("2d");if(c)if(!this.options.allowTaint&&o)c.putImageData(o.getImageData(0,0,s.width,s.height),0,0);else{var A=(r=s.getContext("webgl2"))!==null&&r!==void 0?r:s.getContext("webgl");if(A){var u=A.getContextAttributes();u?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",s)}c.drawImage(s,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",s)}return i},t.prototype.createVideoClone=function(s){var r=s.ownerDocument.createElement("canvas");r.width=s.offsetWidth,r.height=s.offsetHeight;var a=r.getContext("2d");try{return a&&(a.drawImage(s,0,0,r.width,r.height),this.options.allowTaint||a.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",s)}var i=s.ownerDocument.createElement("canvas");return i.width=s.offsetWidth,i.height=s.offsetHeight,i},t.prototype.appendChildNode=function(s,r,a){(!ju(r)||!zP(r)&&!r.hasAttribute(O3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!ju(r)||!fj(r))&&s.appendChild(this.cloneNode(r,a))},t.prototype.cloneChildNodes=function(s,r,a){for(var i=this,o=s.shadowRoot?s.shadowRoot.firstChild:s.firstChild;o;o=o.nextSibling)if(ju(o)&&M3(o)&&typeof o.assignedNodes=="function"){var c=o.assignedNodes();c.length&&c.forEach(function(A){return i.appendChildNode(r,A,a)})}else this.appendChildNode(r,o,a)},t.prototype.cloneNode=function(s,r){if(Q3(s))return document.createTextNode(s.data);if(!s.ownerDocument)return s.cloneNode(!1);var a=s.ownerDocument.defaultView;if(a&&ju(s)&&(Uy(s)||q0(s))){var i=this.createElementClone(s);i.style.transitionProperty="none";var o=a.getComputedStyle(s),c=a.getComputedStyle(s,":before"),A=a.getComputedStyle(s,":after");this.referenceElement===s&&Uy(i)&&(this.clonedReferenceElement=i),W1(i)&&a9(i);var u=this.counters.parse(new JN(this.context,o)),h=this.resolvePseudoContent(s,i,c,hf.BEFORE);mj(s)&&(r=!0),hj(s)||this.cloneChildNodes(s,i,r),h&&i.insertBefore(h,i.firstChild);var f=this.resolvePseudoContent(s,i,A,hf.AFTER);return f&&i.appendChild(f),this.counters.pop(u),(o&&(this.options.copyStyles||q0(s))&&!I3(s)||r)&&eb(o,i),(s.scrollTop!==0||s.scrollLeft!==0)&&this.scrolledElements.push([i,s.scrollLeft,s.scrollTop]),(hg(s)||fg(s))&&(hg(i)||fg(i))&&(i.value=s.value),i}return s.cloneNode(!1)},t.prototype.resolvePseudoContent=function(s,r,a,i){var o=this;if(a){var c=a.content,A=r.ownerDocument;if(!(!A||!c||c==="none"||c==="-moz-alt-content"||a.display==="none")){this.counters.parse(new JN(this.context,a));var u=new OH(this.context,a),h=A.createElement("html2canvaspseudoelement");eb(a,h),u.content.forEach(function(g){if(g.type===0)h.appendChild(A.createTextNode(g.value));else if(g.type===22){var b=A.createElement("img");b.src=g.value,b.style.opacity="1",h.appendChild(b)}else if(g.type===18){if(g.name==="attr"){var x=g.values.filter(Ws);x.length&&h.appendChild(A.createTextNode(s.getAttribute(x[0].value)||""))}else if(g.name==="counter"){var w=g.values.filter(Pu),B=w[0],j=w[1];if(B&&Ws(B)){var _=o.counters.getCounterValue(B.value),Q=j&&Ws(j)?Cy.parse(o.context,j.value):3;h.appendChild(A.createTextNode(Uf(_,Q,!1)))}}else if(g.name==="counters"){var E=g.values.filter(Pu),B=E[0],T=E[1],j=E[2];if(B&&Ws(B)){var U=o.counters.getCounterValues(B.value),k=j&&Ws(j)?Cy.parse(o.context,j.value):3,q=T&&T.type===0?T.value:"",K=U.map(function(D){return Uf(D,k,!1)}).join(q);h.appendChild(A.createTextNode(K))}}}else if(g.type===20)switch(g.value){case"open-quote":h.appendChild(A.createTextNode(WN(u.quotes,o.quoteDepth++,!0)));break;case"close-quote":h.appendChild(A.createTextNode(WN(u.quotes,--o.quoteDepth,!1)));break;default:h.appendChild(A.createTextNode(g.value))}}),h.className=Ly+" "+Qy;var f=i===hf.BEFORE?" "+Ly:" "+Qy;return q0(r)?r.className.baseValue+=f:r.className+=f,h}}},t.destroy=function(s){return s.parentNode?(s.parentNode.removeChild(s),!0):!1},t}(),hf;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(hf||(hf={}));var $P=function(t,s){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=s.width.toString(),r.height=s.height.toString(),r.scrolling="no",r.setAttribute(O3,"true"),t.body.appendChild(r),r},XP=function(t){return new Promise(function(s){if(t.complete){s();return}if(!t.src){s();return}t.onload=s,t.onerror=s})},YP=function(t){return Promise.all([].slice.call(t.images,0).map(XP))},WP=function(t){return new Promise(function(s,r){var a=t.contentWindow;if(!a)return r("No window assigned for iframe");var i=a.document;a.onload=t.onload=function(){a.onload=t.onload=null;var o=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(o),s(t))},50)}})},JP=["all","d","content"],eb=function(t,s){for(var r=t.length-1;r>=0;r--){var a=t.item(r);JP.indexOf(a)===-1&&s.style.setProperty(a,t.getPropertyValue(a))}return s},ZP=function(t){var s="";return t&&(s+="<!DOCTYPE ",t.name&&(s+=t.name),t.internalSubset&&(s+=t.internalSubset),t.publicId&&(s+='"'+t.publicId+'"'),t.systemId&&(s+='"'+t.systemId+'"'),s+=">"),s},e9=function(t,s,r){t&&t.defaultView&&(s!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(s,r)},t9=function(t){var s=t[0],r=t[1],a=t[2];s.scrollLeft=r,s.scrollTop=a},s9=":before",r9=":after",Ly="___html2canvas___pseudoelement_before",Qy="___html2canvas___pseudoelement_after",wj=`{
    content: "" !important;
    display: none !important;
}`,a9=function(t){n9(t,"."+Ly+s9+wj+`
         .`+Qy+r9+wj)},n9=function(t,s){var r=t.ownerDocument;if(r){var a=r.createElement("style");a.textContent=s,t.appendChild(a)}},H3=function(){function t(){}return t.getOrigin=function(s){var r=t._link;return r?(r.href=s,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(s){return t.getOrigin(s)===t._origin},t.setContext=function(s){t._link=s.document.createElement("a"),t._origin=t.getOrigin(s.location.href)},t._origin="about:blank",t}(),i9=function(){function t(s,r){this.context=s,this._options=r,this._cache={}}return t.prototype.addImage=function(s){var r=Promise.resolve();return this.has(s)||(sb(s)||c9(s))&&(this._cache[s]=this.loadImage(s)).catch(function(){}),r},t.prototype.match=function(s){return this._cache[s]},t.prototype.loadImage=function(s){return vn(this,void 0,void 0,function(){var r,a,i,o,c=this;return tn(this,function(A){switch(A.label){case 0:return r=H3.isSameOrigin(s),a=!tb(s)&&this._options.useCORS===!0&&Va.SUPPORT_CORS_IMAGES&&!r,i=!tb(s)&&!r&&!sb(s)&&typeof this._options.proxy=="string"&&Va.SUPPORT_CORS_XHR&&!a,!r&&this._options.allowTaint===!1&&!tb(s)&&!sb(s)&&!i&&!a?[2]:(o=s,i?[4,this.proxy(o)]:[3,2]);case 1:o=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+s.substring(0,256)),[4,new Promise(function(u,h){var f=new Image;f.onload=function(){return u(f)},f.onerror=h,(d9(o)||a)&&(f.crossOrigin="anonymous"),f.src=o,f.complete===!0&&setTimeout(function(){return u(f)},500),c._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},t.prototype.has=function(s){return typeof this._cache[s]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(s){var r=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var i=s.substring(0,256);return new Promise(function(o,c){var A=Va.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(A==="text")o(u.response);else{var g=new FileReader;g.addEventListener("load",function(){return o(g.result)},!1),g.addEventListener("error",function(b){return c(b)},!1),g.readAsDataURL(u.response)}else c("Failed to proxy resource "+i+" with status code "+u.status)},u.onerror=c;var h=a.indexOf("?")>-1?"&":"?";if(u.open("GET",""+a+h+"url="+encodeURIComponent(s)+"&responseType="+A),A!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=A),r._options.imageTimeout){var f=r._options.imageTimeout;u.timeout=f,u.ontimeout=function(){return c("Timed out ("+f+"ms) proxying "+i)}}u.send()})},t}(),l9=/^data:image\/svg\+xml/i,o9=/^data:image\/.*;base64,/i,A9=/^data:image\/.*/i,c9=function(t){return Va.SUPPORT_SVG_DRAWING||!u9(t)},tb=function(t){return A9.test(t)},d9=function(t){return o9.test(t)},sb=function(t){return t.substr(0,4)==="blob"},u9=function(t){return t.substr(-3).toLowerCase()==="svg"||l9.test(t)},ut=function(){function t(s,r){this.type=0,this.x=s,this.y=r}return t.prototype.add=function(s,r){return new t(this.x+s,this.y+r)},t}(),Au=function(t,s,r){return new ut(t.x+(s.x-t.x)*r,t.y+(s.y-t.y)*r)},m0=function(){function t(s,r,a,i){this.type=1,this.start=s,this.startControl=r,this.endControl=a,this.end=i}return t.prototype.subdivide=function(s,r){var a=Au(this.start,this.startControl,s),i=Au(this.startControl,this.endControl,s),o=Au(this.endControl,this.end,s),c=Au(a,i,s),A=Au(i,o,s),u=Au(c,A,s);return r?new t(this.start,a,c,u):new t(u,A,o,this.end)},t.prototype.add=function(s,r){return new t(this.start.add(s,r),this.startControl.add(s,r),this.endControl.add(s,r),this.end.add(s,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ii=function(t){return t.type===1},h9=function(){function t(s){var r=s.styles,a=s.bounds,i=ef(r.borderTopLeftRadius,a.width,a.height),o=i[0],c=i[1],A=ef(r.borderTopRightRadius,a.width,a.height),u=A[0],h=A[1],f=ef(r.borderBottomRightRadius,a.width,a.height),g=f[0],b=f[1],x=ef(r.borderBottomLeftRadius,a.width,a.height),w=x[0],B=x[1],j=[];j.push((o+u)/a.width),j.push((w+g)/a.width),j.push((c+B)/a.height),j.push((h+b)/a.height);var _=Math.max.apply(Math,j);_>1&&(o/=_,c/=_,u/=_,h/=_,g/=_,b/=_,w/=_,B/=_);var Q=a.width-u,E=a.height-b,T=a.width-g,U=a.height-B,k=r.borderTopWidth,q=r.borderRightWidth,K=r.borderBottomWidth,z=r.borderLeftWidth,$=ar(r.paddingTop,s.bounds.width),D=ar(r.paddingRight,s.bounds.width),L=ar(r.paddingBottom,s.bounds.width),R=ar(r.paddingLeft,s.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||c>0?xr(a.left+z/3,a.top+k/3,o-z/3,c-k/3,Ts.TOP_LEFT):new ut(a.left+z/3,a.top+k/3),this.topRightBorderDoubleOuterBox=o>0||c>0?xr(a.left+Q,a.top+k/3,u-q/3,h-k/3,Ts.TOP_RIGHT):new ut(a.left+a.width-q/3,a.top+k/3),this.bottomRightBorderDoubleOuterBox=g>0||b>0?xr(a.left+T,a.top+E,g-q/3,b-K/3,Ts.BOTTOM_RIGHT):new ut(a.left+a.width-q/3,a.top+a.height-K/3),this.bottomLeftBorderDoubleOuterBox=w>0||B>0?xr(a.left+z/3,a.top+U,w-z/3,B-K/3,Ts.BOTTOM_LEFT):new ut(a.left+z/3,a.top+a.height-K/3),this.topLeftBorderDoubleInnerBox=o>0||c>0?xr(a.left+z*2/3,a.top+k*2/3,o-z*2/3,c-k*2/3,Ts.TOP_LEFT):new ut(a.left+z*2/3,a.top+k*2/3),this.topRightBorderDoubleInnerBox=o>0||c>0?xr(a.left+Q,a.top+k*2/3,u-q*2/3,h-k*2/3,Ts.TOP_RIGHT):new ut(a.left+a.width-q*2/3,a.top+k*2/3),this.bottomRightBorderDoubleInnerBox=g>0||b>0?xr(a.left+T,a.top+E,g-q*2/3,b-K*2/3,Ts.BOTTOM_RIGHT):new ut(a.left+a.width-q*2/3,a.top+a.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=w>0||B>0?xr(a.left+z*2/3,a.top+U,w-z*2/3,B-K*2/3,Ts.BOTTOM_LEFT):new ut(a.left+z*2/3,a.top+a.height-K*2/3),this.topLeftBorderStroke=o>0||c>0?xr(a.left+z/2,a.top+k/2,o-z/2,c-k/2,Ts.TOP_LEFT):new ut(a.left+z/2,a.top+k/2),this.topRightBorderStroke=o>0||c>0?xr(a.left+Q,a.top+k/2,u-q/2,h-k/2,Ts.TOP_RIGHT):new ut(a.left+a.width-q/2,a.top+k/2),this.bottomRightBorderStroke=g>0||b>0?xr(a.left+T,a.top+E,g-q/2,b-K/2,Ts.BOTTOM_RIGHT):new ut(a.left+a.width-q/2,a.top+a.height-K/2),this.bottomLeftBorderStroke=w>0||B>0?xr(a.left+z/2,a.top+U,w-z/2,B-K/2,Ts.BOTTOM_LEFT):new ut(a.left+z/2,a.top+a.height-K/2),this.topLeftBorderBox=o>0||c>0?xr(a.left,a.top,o,c,Ts.TOP_LEFT):new ut(a.left,a.top),this.topRightBorderBox=u>0||h>0?xr(a.left+Q,a.top,u,h,Ts.TOP_RIGHT):new ut(a.left+a.width,a.top),this.bottomRightBorderBox=g>0||b>0?xr(a.left+T,a.top+E,g,b,Ts.BOTTOM_RIGHT):new ut(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=w>0||B>0?xr(a.left,a.top+U,w,B,Ts.BOTTOM_LEFT):new ut(a.left,a.top+a.height),this.topLeftPaddingBox=o>0||c>0?xr(a.left+z,a.top+k,Math.max(0,o-z),Math.max(0,c-k),Ts.TOP_LEFT):new ut(a.left+z,a.top+k),this.topRightPaddingBox=u>0||h>0?xr(a.left+Math.min(Q,a.width-q),a.top+k,Q>a.width+q?0:Math.max(0,u-q),Math.max(0,h-k),Ts.TOP_RIGHT):new ut(a.left+a.width-q,a.top+k),this.bottomRightPaddingBox=g>0||b>0?xr(a.left+Math.min(T,a.width-z),a.top+Math.min(E,a.height-K),Math.max(0,g-q),Math.max(0,b-K),Ts.BOTTOM_RIGHT):new ut(a.left+a.width-q,a.top+a.height-K),this.bottomLeftPaddingBox=w>0||B>0?xr(a.left+z,a.top+Math.min(U,a.height-K),Math.max(0,w-z),Math.max(0,B-K),Ts.BOTTOM_LEFT):new ut(a.left+z,a.top+a.height-K),this.topLeftContentBox=o>0||c>0?xr(a.left+z+R,a.top+k+$,Math.max(0,o-(z+R)),Math.max(0,c-(k+$)),Ts.TOP_LEFT):new ut(a.left+z+R,a.top+k+$),this.topRightContentBox=u>0||h>0?xr(a.left+Math.min(Q,a.width+z+R),a.top+k+$,Q>a.width+z+R?0:u-z+R,h-(k+$),Ts.TOP_RIGHT):new ut(a.left+a.width-(q+D),a.top+k+$),this.bottomRightContentBox=g>0||b>0?xr(a.left+Math.min(T,a.width-(z+R)),a.top+Math.min(E,a.height+k+$),Math.max(0,g-(q+D)),b-(K+L),Ts.BOTTOM_RIGHT):new ut(a.left+a.width-(q+D),a.top+a.height-(K+L)),this.bottomLeftContentBox=w>0||B>0?xr(a.left+z+R,a.top+U,Math.max(0,w-(z+R)),B-(K+L),Ts.BOTTOM_LEFT):new ut(a.left+z+R,a.top+a.height-(K+L))}return t}(),Ts;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ts||(Ts={}));var xr=function(t,s,r,a,i){var o=4*((Math.sqrt(2)-1)/3),c=r*o,A=a*o,u=t+r,h=s+a;switch(i){case Ts.TOP_LEFT:return new m0(new ut(t,h),new ut(t,h-A),new ut(u-c,s),new ut(u,s));case Ts.TOP_RIGHT:return new m0(new ut(t,s),new ut(t+c,s),new ut(u,h-A),new ut(u,h));case Ts.BOTTOM_RIGHT:return new m0(new ut(u,s),new ut(u,s+A),new ut(t+c,h),new ut(t,h));case Ts.BOTTOM_LEFT:default:return new m0(new ut(u,h),new ut(u-c,h),new ut(t,s+A),new ut(t,s))}},mg=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},f9=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},gg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},m9=function(){function t(s,r,a){this.offsetX=s,this.offsetY=r,this.matrix=a,this.type=0,this.target=6}return t}(),g0=function(){function t(s,r){this.path=s,this.target=r,this.type=1}return t}(),g9=function(){function t(s){this.opacity=s,this.type=2,this.target=6}return t}(),p9=function(t){return t.type===0},P3=function(t){return t.type===1},x9=function(t){return t.type===2},Nj=function(t,s){return t.length===s.length?t.some(function(r,a){return r===s[a]}):!1},b9=function(t,s,r,a,i){return t.map(function(o,c){switch(c){case 0:return o.add(s,r);case 1:return o.add(s+a,r);case 2:return o.add(s+a,r+i);case 3:return o.add(s,r+i)}return o})},V3=function(){function t(s){this.element=s,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),z3=function(){function t(s,r){if(this.container=s,this.parent=r,this.effects=[],this.curves=new h9(this.container),this.container.styles.opacity<1&&this.effects.push(new g9(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new m9(a,i,o))}if(this.container.styles.overflowX!==0){var c=mg(this.curves),A=gg(this.curves);Nj(c,A)?this.effects.push(new g0(c,6)):(this.effects.push(new g0(c,2)),this.effects.push(new g0(A,4)))}}return t.prototype.getEffects=function(s){for(var r=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,i=this.effects.slice(0);a;){var o=a.effects.filter(function(u){return!P3(u)});if(r||a.container.styles.position!==0||!a.parent){if(i.unshift.apply(i,o),r=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var c=mg(a.curves),A=gg(a.curves);Nj(c,A)||i.unshift(new g0(A,6))}}else i.unshift.apply(i,o);a=a.parent}return i.filter(function(u){return ba(u.target,s)})},t}(),Ty=function(t,s,r,a){t.container.elements.forEach(function(i){var o=ba(i.flags,4),c=ba(i.flags,2),A=new z3(i,t);ba(i.styles.display,2048)&&a.push(A);var u=ba(i.flags,8)?[]:a;if(o||c){var h=o||i.styles.isPositioned()?r:s,f=new V3(A);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var g=i.styles.zIndex.order;if(g<0){var b=0;h.negativeZIndex.some(function(w,B){return g>w.element.container.styles.zIndex.order?(b=B,!1):b>0}),h.negativeZIndex.splice(b,0,f)}else if(g>0){var x=0;h.positiveZIndex.some(function(w,B){return g>=w.element.container.styles.zIndex.order?(x=B+1,!1):x>0}),h.positiveZIndex.splice(x,0,f)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?h.nonPositionedFloats.push(f):h.nonPositionedInlineLevel.push(f);Ty(A,f,o?f:r,u)}else i.styles.isInlineLevel()?s.inlineLevel.push(A):s.nonInlineLevel.push(A),Ty(A,s,r,u);ba(i.flags,8)&&K3(i,u)})},K3=function(t,s){for(var r=t instanceof Fy?t.start:1,a=t instanceof Fy?t.reversed:!1,i=0;i<s.length;i++){var o=s[i];o.container instanceof S3&&typeof o.container.value=="number"&&o.container.value!==0&&(r=o.container.value),o.listValue=Uf(r,o.container.styles.listStyleType,!0),r+=a?-1:1}},y9=function(t){var s=new z3(t,null),r=new V3(s),a=[];return Ty(s,r,r,a),K3(s.container,a),r},jj=function(t,s){switch(s){case 0:return Pi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Pi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Pi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Pi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},v9=function(t,s){switch(s){case 0:return Pi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Pi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Pi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Pi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},w9=function(t,s){switch(s){case 0:return Pi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Pi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Pi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Pi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},N9=function(t,s){switch(s){case 0:return p0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return p0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return p0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return p0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},p0=function(t,s){var r=[];return Ii(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ii(s)?r.push(s.subdivide(.5,!0)):r.push(s),r},Pi=function(t,s,r,a){var i=[];return Ii(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ii(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ii(a)?i.push(a.subdivide(.5,!0).reverse()):i.push(a),Ii(s)?i.push(s.subdivide(.5,!1).reverse()):i.push(s),i},G3=function(t){var s=t.bounds,r=t.styles;return s.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},pg=function(t){var s=t.styles,r=t.bounds,a=ar(s.paddingLeft,r.width),i=ar(s.paddingRight,r.width),o=ar(s.paddingTop,r.width),c=ar(s.paddingBottom,r.width);return r.add(a+s.borderLeftWidth,o+s.borderTopWidth,-(s.borderRightWidth+s.borderLeftWidth+a+i),-(s.borderTopWidth+s.borderBottomWidth+o+c))},j9=function(t,s){return t===0?s.bounds:t===2?pg(s):G3(s)},B9=function(t,s){return t===0?s.bounds:t===2?pg(s):G3(s)},rb=function(t,s,r){var a=j9(gu(t.styles.backgroundOrigin,s),t),i=B9(gu(t.styles.backgroundClip,s),t),o=_9(gu(t.styles.backgroundSize,s),r,a),c=o[0],A=o[1],u=ef(gu(t.styles.backgroundPosition,s),a.width-c,a.height-A),h=C9(gu(t.styles.backgroundRepeat,s),u,o,a,i),f=Math.round(a.left+u[0]),g=Math.round(a.top+u[1]);return[h,f,g,c,A]},cu=function(t){return Ws(t)&&t.value===ku.AUTO},x0=function(t){return typeof t=="number"},_9=function(t,s,r){var a=s[0],i=s[1],o=s[2],c=t[0],A=t[1];if(!c)return[0,0];if(ia(c)&&A&&ia(A))return[ar(c,r.width),ar(A,r.height)];var u=x0(o);if(Ws(c)&&(c.value===ku.CONTAIN||c.value===ku.COVER)){if(x0(o)){var h=r.width/r.height;return h<o!=(c.value===ku.COVER)?[r.width,r.width/o]:[r.height*o,r.height]}return[r.width,r.height]}var f=x0(a),g=x0(i),b=f||g;if(cu(c)&&(!A||cu(A))){if(f&&g)return[a,i];if(!u&&!b)return[r.width,r.height];if(b&&u){var x=f?a:i*o,w=g?i:a/o;return[x,w]}var B=f?a:r.width,j=g?i:r.height;return[B,j]}if(u){var _=0,Q=0;return ia(c)?_=ar(c,r.width):ia(A)&&(Q=ar(A,r.height)),cu(c)?_=Q*o:(!A||cu(A))&&(Q=_/o),[_,Q]}var E=null,T=null;if(ia(c)?E=ar(c,r.width):A&&ia(A)&&(T=ar(A,r.height)),E!==null&&(!A||cu(A))&&(T=f&&g?E/a*i:r.height),T!==null&&cu(c)&&(E=f&&g?T/i*a:r.width),E!==null&&T!==null)return[E,T];throw new Error("Unable to calculate background-size for element")},gu=function(t,s){var r=t[s];return typeof r>"u"?t[0]:r},C9=function(t,s,r,a,i){var o=s[0],c=s[1],A=r[0],u=r[1];switch(t){case 2:return[new ut(Math.round(a.left),Math.round(a.top+c)),new ut(Math.round(a.left+a.width),Math.round(a.top+c)),new ut(Math.round(a.left+a.width),Math.round(u+a.top+c)),new ut(Math.round(a.left),Math.round(u+a.top+c))];case 3:return[new ut(Math.round(a.left+o),Math.round(a.top)),new ut(Math.round(a.left+o+A),Math.round(a.top)),new ut(Math.round(a.left+o+A),Math.round(a.height+a.top)),new ut(Math.round(a.left+o),Math.round(a.height+a.top))];case 1:return[new ut(Math.round(a.left+o),Math.round(a.top+c)),new ut(Math.round(a.left+o+A),Math.round(a.top+c)),new ut(Math.round(a.left+o+A),Math.round(a.top+c+u)),new ut(Math.round(a.left+o),Math.round(a.top+c+u))];default:return[new ut(Math.round(i.left),Math.round(i.top)),new ut(Math.round(i.left+i.width),Math.round(i.top)),new ut(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ut(Math.round(i.left),Math.round(i.height+i.top))]}},S9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bj="Hidden Text",E9=function(){function t(s){this._data={},this._document=s}return t.prototype.parseMetrics=function(s,r){var a=this._document.createElement("div"),i=this._document.createElement("img"),o=this._document.createElement("span"),c=this._document.body;a.style.visibility="hidden",a.style.fontFamily=s,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",c.appendChild(a),i.src=S9,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",o.style.fontFamily=s,o.style.fontSize=r,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(Bj)),a.appendChild(o),a.appendChild(i);var A=i.offsetTop-o.offsetTop+2;a.removeChild(o),a.appendChild(this._document.createTextNode(Bj)),a.style.lineHeight="normal",i.style.verticalAlign="super";var u=i.offsetTop-a.offsetTop+2;return c.removeChild(a),{baseline:A,middle:u}},t.prototype.getMetrics=function(s,r){var a=s+" "+r;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(s,r)),this._data[a]},t}(),q3=function(){function t(s,r){this.context=s,this.options=r}return t}(),F9=1e4,U9=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i._activeEffects=[],i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),a.canvas||(i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px"),i.fontMetrics=new E9(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),i}return s.prototype.applyEffects=function(r){for(var a=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return a.applyEffect(i)})},s.prototype.applyEffect=function(r){this.ctx.save(),x9(r)&&(this.ctx.globalAlpha=r.opacity),p9(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),P3(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},s.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},s.prototype.renderStack=function(r){return vn(this,void 0,void 0,function(){var a;return tn(this,function(i){switch(i.label){case 0:return a=r.element.container.styles,a.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},s.prototype.renderNode=function(r){return vn(this,void 0,void 0,function(){return tn(this,function(a){switch(a.label){case 0:if(ba(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},s.prototype.renderTextWithLetterSpacing=function(r,a,i){var o=this;if(a===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var c=X1(r.text);c.reduce(function(A,u){return o.ctx.fillText(u,A,r.bounds.top+i),A+o.ctx.measureText(u).width},r.bounds.left)}},s.prototype.createFontStyle=function(r){var a=r.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),i=D9(r.fontFamily).join(", "),o=Xf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,a,r.fontWeight,o,i].join(" "),i,o]},s.prototype.renderTextNode=function(r,a){return vn(this,void 0,void 0,function(){var i,o,c,A,u,h,f,g,b=this;return tn(this,function(x){return i=this.createFontStyle(a),o=i[0],c=i[1],A=i[2],this.ctx.font=o,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(c,A),h=u.baseline,f=u.middle,g=a.paintOrder,r.textBounds.forEach(function(w){g.forEach(function(B){switch(B){case 0:b.ctx.fillStyle=Ua(a.color),b.renderTextWithLetterSpacing(w,a.letterSpacing,h);var j=a.textShadow;j.length&&w.text.trim().length&&(j.slice(0).reverse().forEach(function(_){b.ctx.shadowColor=Ua(_.color),b.ctx.shadowOffsetX=_.offsetX.number*b.options.scale,b.ctx.shadowOffsetY=_.offsetY.number*b.options.scale,b.ctx.shadowBlur=_.blur.number,b.renderTextWithLetterSpacing(w,a.letterSpacing,h)}),b.ctx.shadowColor="",b.ctx.shadowOffsetX=0,b.ctx.shadowOffsetY=0,b.ctx.shadowBlur=0),a.textDecorationLine.length&&(b.ctx.fillStyle=Ua(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(_){switch(_){case 1:b.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top+h),w.bounds.width,1);break;case 2:b.ctx.fillRect(w.bounds.left,Math.round(w.bounds.top),w.bounds.width,1);break;case 3:b.ctx.fillRect(w.bounds.left,Math.ceil(w.bounds.top+f),w.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&w.text.trim().length&&(b.ctx.strokeStyle=Ua(a.webkitTextStrokeColor),b.ctx.lineWidth=a.webkitTextStrokeWidth,b.ctx.lineJoin=window.chrome?"miter":"round",b.ctx.strokeText(w.text,w.bounds.left,w.bounds.top+h)),b.ctx.strokeStyle="",b.ctx.lineWidth=0,b.ctx.lineJoin="miter";break}})}),[2]})})},s.prototype.renderReplacedElement=function(r,a,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var o=pg(r),c=gg(a);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},s.prototype.renderNodeContent=function(r){return vn(this,void 0,void 0,function(){var a,i,o,c,A,u,Q,Q,h,f,g,b,T,x,w,U,B,j,_,Q,E,T,U;return tn(this,function(k){switch(k.label){case 0:this.applyEffects(r.getEffects(4)),a=r.container,i=r.curves,o=a.styles,c=0,A=a.textNodes,k.label=1;case 1:return c<A.length?(u=A[c],[4,this.renderTextNode(u,o)]):[3,4];case 2:k.sent(),k.label=3;case 3:return c++,[3,1];case 4:if(!(a instanceof B3))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return Q=k.sent(),this.renderReplacedElement(a,i,Q),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof _3&&this.renderReplacedElement(a,i,a.canvas),!(a instanceof C3))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return Q=k.sent(),this.renderReplacedElement(a,i,Q),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof U3&&a.tree?(h=new s(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,h.render(a.tree)]):[3,14];case 13:f=k.sent(),a.width&&a.height&&this.ctx.drawImage(f,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),k.label=14;case 14:if(a instanceof Y1&&(g=Math.min(a.bounds.width,a.bounds.height),a.type===dg?a.checked&&(this.ctx.save(),this.path([new ut(a.bounds.left+g*.39363,a.bounds.top+g*.79),new ut(a.bounds.left+g*.16,a.bounds.top+g*.5549),new ut(a.bounds.left+g*.27347,a.bounds.top+g*.44071),new ut(a.bounds.left+g*.39694,a.bounds.top+g*.5649),new ut(a.bounds.left+g*.72983,a.bounds.top+g*.23),new ut(a.bounds.left+g*.84,a.bounds.top+g*.34085),new ut(a.bounds.left+g*.39363,a.bounds.top+g*.79)]),this.ctx.fillStyle=Ua(uj),this.ctx.fill(),this.ctx.restore()):a.type===ug&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+g/2,a.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ua(uj),this.ctx.fill(),this.ctx.restore())),k9(a)&&a.value.length){switch(b=this.createFontStyle(o),T=b[0],x=b[1],w=this.fontMetrics.getMetrics(T,x).baseline,this.ctx.font=T,this.ctx.fillStyle=Ua(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Q9(a.styles.textAlign),U=pg(a),B=0,a.styles.textAlign){case 1:B+=U.width/2;break;case 2:B+=U.width;break}j=U.add(B,0,0,-U.height/2+1),this.ctx.save(),this.path([new ut(U.left,U.top),new ut(U.left+U.width,U.top),new ut(U.left+U.width,U.top+U.height),new ut(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new uf(a.value,j),o.letterSpacing,w),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ba(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(_=a.styles.listStyleImage,_.type!==0)return[3,18];Q=void 0,E=_.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return Q=k.sent(),this.ctx.drawImage(Q,a.bounds.left-(Q.width+10),a.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:r.listValue&&a.styles.listStyleType!==-1&&(T=this.createFontStyle(o)[0],this.ctx.font=T,this.ctx.fillStyle=Ua(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new rA(a.bounds.left,a.bounds.top+ar(a.styles.paddingTop,a.bounds.width),a.bounds.width,XN(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new uf(r.listValue,U),o.letterSpacing,XN(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},s.prototype.renderStackContent=function(r){return vn(this,void 0,void 0,function(){var a,i,_,o,c,_,A,u,_,h,f,_,g,b,_,x,w,_,B,j,_;return tn(this,function(Q){switch(Q.label){case 0:if(ba(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:Q.sent(),a=0,i=r.negativeZIndex,Q.label=2;case 2:return a<i.length?(_=i[a],[4,this.renderStack(_)]):[3,5];case 3:Q.sent(),Q.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:Q.sent(),o=0,c=r.nonInlineLevel,Q.label=7;case 7:return o<c.length?(_=c[o],[4,this.renderNode(_)]):[3,10];case 8:Q.sent(),Q.label=9;case 9:return o++,[3,7];case 10:A=0,u=r.nonPositionedFloats,Q.label=11;case 11:return A<u.length?(_=u[A],[4,this.renderStack(_)]):[3,14];case 12:Q.sent(),Q.label=13;case 13:return A++,[3,11];case 14:h=0,f=r.nonPositionedInlineLevel,Q.label=15;case 15:return h<f.length?(_=f[h],[4,this.renderStack(_)]):[3,18];case 16:Q.sent(),Q.label=17;case 17:return h++,[3,15];case 18:g=0,b=r.inlineLevel,Q.label=19;case 19:return g<b.length?(_=b[g],[4,this.renderNode(_)]):[3,22];case 20:Q.sent(),Q.label=21;case 21:return g++,[3,19];case 22:x=0,w=r.zeroOrAutoZIndexOrTransformedOrOpacity,Q.label=23;case 23:return x<w.length?(_=w[x],[4,this.renderStack(_)]):[3,26];case 24:Q.sent(),Q.label=25;case 25:return x++,[3,23];case 26:B=0,j=r.positiveZIndex,Q.label=27;case 27:return B<j.length?(_=j[B],[4,this.renderStack(_)]):[3,30];case 28:Q.sent(),Q.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},s.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},s.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},s.prototype.formatPath=function(r){var a=this;r.forEach(function(i,o){var c=Ii(i)?i.start:i;o===0?a.ctx.moveTo(c.x,c.y):a.ctx.lineTo(c.x,c.y),Ii(i)&&a.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},s.prototype.renderRepeat=function(r,a,i,o){this.path(r),this.ctx.fillStyle=a,this.ctx.translate(i,o),this.ctx.fill(),this.ctx.translate(-i,-o)},s.prototype.resizeImage=function(r,a,i){var o;if(r.width===a&&r.height===i)return r;var c=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,A=c.createElement("canvas");A.width=Math.max(1,a),A.height=Math.max(1,i);var u=A.getContext("2d");return u.drawImage(r,0,0,r.width,r.height,0,0,a,i),A},s.prototype.renderBackgroundImage=function(r){return vn(this,void 0,void 0,function(){var a,i,o,c,A,u;return tn(this,function(h){switch(h.label){case 0:a=r.styles.backgroundImage.length-1,i=function(f){var g,b,x,$,I,G,R,P,K,w,$,I,G,R,P,B,j,_,Q,E,T,U,k,q,K,z,$,D,L,R,P,re,I,G,X,ie,ge,ee,M,H,Z,Ae;return tn(this,function(fe){switch(fe.label){case 0:if(f.type!==0)return[3,5];g=void 0,b=f.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,o.context.cache.match(b)];case 2:return g=fe.sent(),[3,4];case 3:return fe.sent(),o.context.logger.error("Error loading background-image "+b),[3,4];case 4:return g&&(x=rb(r,a,[g.width,g.height,g.width/g.height]),$=x[0],I=x[1],G=x[2],R=x[3],P=x[4],K=o.ctx.createPattern(o.resizeImage(g,R,P),"repeat"),o.renderRepeat($,K,I,G)),[3,6];case 5:pO(f)?(w=rb(r,a,[null,null,null]),$=w[0],I=w[1],G=w[2],R=w[3],P=w[4],B=uO(f.angle,R,P),j=B[0],_=B[1],Q=B[2],E=B[3],T=B[4],U=document.createElement("canvas"),U.width=R,U.height=P,k=U.getContext("2d"),q=k.createLinearGradient(_,E,Q,T),qN(f.stops,j).forEach(function(pe){return q.addColorStop(pe.stop,Ua(pe.color))}),k.fillStyle=q,k.fillRect(0,0,R,P),R>0&&P>0&&(K=o.ctx.createPattern(U,"repeat"),o.renderRepeat($,K,I,G))):xO(f)&&(z=rb(r,a,[null,null,null]),$=z[0],D=z[1],L=z[2],R=z[3],P=z[4],re=f.position.length===0?[G1]:f.position,I=ar(re[0],R),G=ar(re[re.length-1],P),X=hO(f,I,G,R,P),ie=X[0],ge=X[1],ie>0&&ge>0&&(ee=o.ctx.createRadialGradient(D+I,L+G,0,D+I,L+G,ie),qN(f.stops,ie*2).forEach(function(pe){return ee.addColorStop(pe.stop,Ua(pe.color))}),o.path($),o.ctx.fillStyle=ee,ie!==ge?(M=r.bounds.left+.5*r.bounds.width,H=r.bounds.top+.5*r.bounds.height,Z=ge/ie,Ae=1/Z,o.ctx.save(),o.ctx.translate(M,H),o.ctx.transform(1,0,0,Z,0,0),o.ctx.translate(-M,-H),o.ctx.fillRect(D,Ae*(L-H)+H,R,P*Ae),o.ctx.restore()):o.ctx.fill())),fe.label=6;case 6:return a--,[2]}})},o=this,c=0,A=r.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return c<A.length?(u=A[c],[5,i(u)]):[3,4];case 2:h.sent(),h.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},s.prototype.renderSolidBorder=function(r,a,i){return vn(this,void 0,void 0,function(){return tn(this,function(o){return this.path(jj(i,a)),this.ctx.fillStyle=Ua(r),this.ctx.fill(),[2]})})},s.prototype.renderDoubleBorder=function(r,a,i,o){return vn(this,void 0,void 0,function(){var c,A;return tn(this,function(u){switch(u.label){case 0:return a<3?[4,this.renderSolidBorder(r,i,o)]:[3,2];case 1:return u.sent(),[2];case 2:return c=v9(o,i),this.path(c),this.ctx.fillStyle=Ua(r),this.ctx.fill(),A=w9(o,i),this.path(A),this.ctx.fill(),[2]}})})},s.prototype.renderNodeBackgroundAndBorders=function(r){return vn(this,void 0,void 0,function(){var a,i,o,c,A,u,h,f,g=this;return tn(this,function(b){switch(b.label){case 0:return this.applyEffects(r.getEffects(2)),a=r.container.styles,i=!ZA(a.backgroundColor)||a.backgroundImage.length,o=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],c=L9(gu(a.backgroundClip,0),r.curves),i||a.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),ZA(a.backgroundColor)||(this.ctx.fillStyle=Ua(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:b.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(x){g.ctx.save();var w=mg(r.curves),B=x.inset?0:F9,j=b9(w,-B+(x.inset?1:-1)*x.spread.number,(x.inset?1:-1)*x.spread.number,x.spread.number*(x.inset?-2:2),x.spread.number*(x.inset?-2:2));x.inset?(g.path(w),g.ctx.clip(),g.mask(j)):(g.mask(w),g.ctx.clip(),g.path(j)),g.ctx.shadowOffsetX=x.offsetX.number+B,g.ctx.shadowOffsetY=x.offsetY.number,g.ctx.shadowColor=Ua(x.color),g.ctx.shadowBlur=x.blur.number,g.ctx.fillStyle=x.inset?Ua(x.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),b.label=2;case 2:A=0,u=0,h=o,b.label=3;case 3:return u<h.length?(f=h[u],f.style!==0&&!ZA(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return b.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,A,r.curves,3)];case 6:return b.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,A,r.curves)];case 8:return b.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,A,r.curves)];case 10:b.sent(),b.label=11;case 11:A++,b.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},s.prototype.renderDashedDottedBorder=function(r,a,i,o,c){return vn(this,void 0,void 0,function(){var A,u,h,f,g,b,x,w,B,j,_,Q,E,T,U,k,U,k;return tn(this,function(q){return this.ctx.save(),A=N9(o,i),u=jj(o,i),c===2&&(this.path(u),this.ctx.clip()),Ii(u[0])?(h=u[0].start.x,f=u[0].start.y):(h=u[0].x,f=u[0].y),Ii(u[1])?(g=u[1].end.x,b=u[1].end.y):(g=u[1].x,b=u[1].y),i===0||i===2?x=Math.abs(h-g):x=Math.abs(f-b),this.ctx.beginPath(),c===3?this.formatPath(A):this.formatPath(u.slice(0,2)),w=a<3?a*3:a*2,B=a<3?a*2:a,c===3&&(w=a,B=a),j=!0,x<=w*2?j=!1:x<=w*2+B?(_=x/(2*w+B),w*=_,B*=_):(Q=Math.floor((x+B)/(w+B)),E=(x-Q*w)/(Q-1),T=(x-(Q+1)*w)/Q,B=T<=0||Math.abs(B-E)<Math.abs(B-T)?E:T),j&&(c===3?this.ctx.setLineDash([0,w+B]):this.ctx.setLineDash([w,B])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Ua(r),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(Ii(u[0])&&(U=u[3],k=u[0],this.ctx.beginPath(),this.formatPath([new ut(U.end.x,U.end.y),new ut(k.start.x,k.start.y)]),this.ctx.stroke()),Ii(u[1])&&(U=u[1],k=u[2],this.ctx.beginPath(),this.formatPath([new ut(U.end.x,U.end.y),new ut(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},s.prototype.render=function(r){return vn(this,void 0,void 0,function(){var a;return tn(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ua(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=y9(r),[4,this.renderStack(a)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},s}(q3),k9=function(t){return t instanceof F3||t instanceof E3?!0:t instanceof Y1&&t.type!==ug&&t.type!==dg},L9=function(t,s){switch(t){case 0:return mg(s);case 2:return f9(s);case 1:default:return gg(s)}},Q9=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},T9=["-apple-system","system-ui"],D9=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(s){return T9.indexOf(s)===-1}):t},I9=function(t){Cl(s,t);function s(r,a){var i=t.call(this,r,a)||this;return i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=a,i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),i}return s.prototype.render=function(r){return vn(this,void 0,void 0,function(){var a,i;return tn(this,function(o){switch(o.label){case 0:return a=Ey(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,M9(a)];case 1:return i=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ua(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},s}(q3),M9=function(t){return new Promise(function(s,r){var a=new Image;a.onload=function(){s(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},R9=function(){function t(s){var r=s.id,a=s.enabled;this.id=r,this.enabled=a,this.start=Date.now()}return t.prototype.debug=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ym([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ym([this.id,this.getTime()+"ms"],s))},t.prototype.warn=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ym([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.prototype.error=function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ym([this.id,this.getTime()+"ms"],s)):this.info.apply(this,s))},t.instances={},t}(),O9=function(){function t(s,r){var a;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new R9({id:this.instanceName,enabled:s.logging}),this.cache=(a=s.cache)!==null&&a!==void 0?a:new i9(this,s)}return t.instanceCount=1,t}(),Ju=function(t,s){return s===void 0&&(s={}),H9(t,s)};typeof window<"u"&&H3.setContext(window);var H9=function(t,s){return vn(void 0,void 0,void 0,function(){var r,a,i,o,c,A,u,h,f,g,b,x,w,B,j,_,Q,E,T,U,q,k,q,K,z,$,D,L,R,P,re,I,G,X,ie,ge,ee,M,H,Z;return tn(this,function(Ae){switch(Ae.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(a=r.defaultView,!a)throw new Error("Document is not attached to a Window");return i={allowTaint:(K=s.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(z=s.imageTimeout)!==null&&z!==void 0?z:15e3,proxy:s.proxy,useCORS:($=s.useCORS)!==null&&$!==void 0?$:!1},o=fy({logging:(D=s.logging)!==null&&D!==void 0?D:!0,cache:s.cache},i),c={windowWidth:(L=s.windowWidth)!==null&&L!==void 0?L:a.innerWidth,windowHeight:(R=s.windowHeight)!==null&&R!==void 0?R:a.innerHeight,scrollX:(P=s.scrollX)!==null&&P!==void 0?P:a.pageXOffset,scrollY:(re=s.scrollY)!==null&&re!==void 0?re:a.pageYOffset},A=new rA(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),u=new O9(o,A),h=(I=s.foreignObjectRendering)!==null&&I!==void 0?I:!1,f={allowTaint:(G=s.allowTaint)!==null&&G!==void 0?G:!1,onclone:s.onclone,ignoreElements:s.ignoreElements,inlineImages:h,copyStyles:h},u.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),g=new vj(u,t,f),b=g.clonedReferenceElement,b?[4,g.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=Ae.sent(),w=W1(b)||VP(b)?bM(b.ownerDocument):Mg(u,b),B=w.width,j=w.height,_=w.left,Q=w.top,E=P9(u,b,s.backgroundColor),T={canvas:s.canvas,backgroundColor:E,scale:(ie=(X=s.scale)!==null&&X!==void 0?X:a.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((ge=s.x)!==null&&ge!==void 0?ge:0)+_,y:((ee=s.y)!==null&&ee!==void 0?ee:0)+Q,width:(M=s.width)!==null&&M!==void 0?M:Math.ceil(B),height:(H=s.height)!==null&&H!==void 0?H:Math.ceil(j)},h?(u.logger.debug("Document cloned, using foreign object rendering"),q=new I9(u,T),[4,q.render(b)]):[3,3];case 2:return U=Ae.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+_+","+Q+" with size "+B+"x"+j+" using computed rendering"),u.logger.debug("Starting DOM parsing"),k=L3(u,b),E===k.styles.backgroundColor&&(k.styles.backgroundColor=Wo.TRANSPARENT),u.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),q=new U9(u,T),[4,q.render(k)];case 4:U=Ae.sent(),Ae.label=5;case 5:return(!((Z=s.removeContainer)!==null&&Z!==void 0)||Z)&&(vj.destroy(x)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,U]}})})},P9=function(t,s,r){var a=s.ownerDocument,i=a.documentElement?cf(t,getComputedStyle(a.documentElement).backgroundColor):Wo.TRANSPARENT,o=a.body?cf(t,getComputedStyle(a.body).backgroundColor):Wo.TRANSPARENT,c=typeof r=="string"?cf(t,r):r===null?Wo.TRANSPARENT:4294967295;return s===a.documentElement?ZA(i)?ZA(o)?c:o:i:c};const $3=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"})),V9="modulepreload",z9=function(t){return"/static/"+t},_j={},ab=function(s,r,a){let i=Promise.resolve();if(r&&r.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),A=c?.nonce||c?.getAttribute("nonce");i=u(r.map(h=>{if(h=z9(h),h in _j)return;_j[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":V9,f||(b.as="script"),b.crossOrigin="",b.href=h,A&&b.setAttribute("nonce",A),document.head.appendChild(b),f)return new Promise((x,w)=>{b.addEventListener("load",x),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=c,window.dispatchEvent(A),!A.defaultPrevented)throw c}return i.then(c=>{for(const A of c||[])A.status==="rejected"&&o(A.reason);return s().catch(o)})};function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ps(t)}var jl=Uint8Array,hi=Uint16Array,J1=Int32Array,Z1=new jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ev=new jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Cj=new jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X3=function(t,s){for(var r=new hi(31),a=0;a<31;++a)r[a]=s+=1<<t[a-1];for(var i=new J1(r[30]),a=1;a<30;++a)for(var o=r[a];o<r[a+1];++o)i[o]=o-r[a]<<5|a;return{b:r,r:i}},Y3=X3(Z1,2),K9=Y3.b,Dy=Y3.r;K9[28]=258,Dy[258]=28;var G9=X3(ev,0),Sj=G9.r,Iy=new hi(32768);for(var ur=0;ur<32768;++ur){var MA=(ur&43690)>>1|(ur&21845)<<1;MA=(MA&52428)>>2|(MA&13107)<<2,MA=(MA&61680)>>4|(MA&3855)<<4,Iy[ur]=((MA&65280)>>8|(MA&255)<<8)>>1}var ff=function(t,s,r){for(var a=t.length,i=0,o=new hi(s);i<a;++i)t[i]&&++o[t[i]-1];var c=new hi(s);for(i=1;i<s;++i)c[i]=c[i-1]+o[i-1]<<1;var A;if(r){A=new hi(1<<s);var u=15-s;for(i=0;i<a;++i)if(t[i])for(var h=i<<4|t[i],f=s-t[i],g=c[t[i]-1]++<<f,b=g|(1<<f)-1;g<=b;++g)A[Iy[g]>>u]=h}else for(A=new hi(a),i=0;i<a;++i)t[i]&&(A[i]=Iy[c[t[i]-1]++]>>15-t[i]);return A},od=new jl(288);for(var ur=0;ur<144;++ur)od[ur]=8;for(var ur=144;ur<256;++ur)od[ur]=9;for(var ur=256;ur<280;++ur)od[ur]=7;for(var ur=280;ur<288;++ur)od[ur]=8;var xg=new jl(32);for(var ur=0;ur<32;++ur)xg[ur]=5;var q9=ff(od,9,0),$9=ff(xg,5,0),W3=function(t){return(t+7)/8|0},X9=function(t,s,r){return(r==null||r>t.length)&&(r=t.length),new jl(t.subarray(s,r))},zo=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8},Kh=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8,t[a+2]|=r>>16},nb=function(t,s){for(var r=[],a=0;a<t.length;++a)t[a]&&r.push({s:a,f:t[a]});var i=r.length,o=r.slice();if(!i)return{t:Z3,l:0};if(i==1){var c=new jl(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(U,k){return U.f-k.f}),r.push({s:-1,f:25001});var A=r[0],u=r[1],h=0,f=1,g=2;for(r[0]={s:-1,f:A.f+u.f,l:A,r:u};f!=i-1;)A=r[r[h].f<r[g].f?h++:g++],u=r[h!=f&&r[h].f<r[g].f?h++:g++],r[f++]={s:-1,f:A.f+u.f,l:A,r:u};for(var b=o[0].s,a=1;a<i;++a)o[a].s>b&&(b=o[a].s);var x=new hi(b+1),w=My(r[f-1],x,0);if(w>s){var a=0,B=0,j=w-s,_=1<<j;for(o.sort(function(k,q){return x[q.s]-x[k.s]||k.f-q.f});a<i;++a){var Q=o[a].s;if(x[Q]>s)B+=_-(1<<w-x[Q]),x[Q]=s;else break}for(B>>=j;B>0;){var E=o[a].s;x[E]<s?B-=1<<s-x[E]++-1:++a}for(;a>=0&&B;--a){var T=o[a].s;x[T]==s&&(--x[T],++B)}w=s}return{t:new jl(x),l:w}},My=function(t,s,r){return t.s==-1?Math.max(My(t.l,s,r+1),My(t.r,s,r+1)):s[t.s]=r},Ej=function(t){for(var s=t.length;s&&!t[--s];);for(var r=new hi(++s),a=0,i=t[0],o=1,c=function(u){r[a++]=u},A=1;A<=s;++A)if(t[A]==i&&A!=s)++o;else{if(!i&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(i),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(i);o=1,i=t[A]}return{c:r.subarray(0,a),n:s}},Gh=function(t,s){for(var r=0,a=0;a<s.length;++a)r+=t[a]*s[a];return r},J3=function(t,s,r){var a=r.length,i=W3(s+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<a;++o)t[i+o+4]=r[o];return(i+4+a)*8},Fj=function(t,s,r,a,i,o,c,A,u,h,f){zo(s,f++,r),++i[256];for(var g=nb(i,15),b=g.t,x=g.l,w=nb(o,15),B=w.t,j=w.l,_=Ej(b),Q=_.c,E=_.n,T=Ej(B),U=T.c,k=T.n,q=new hi(19),K=0;K<Q.length;++K)++q[Q[K]&31];for(var K=0;K<U.length;++K)++q[U[K]&31];for(var z=nb(q,7),$=z.t,D=z.l,L=19;L>4&&!$[Cj[L-1]];--L);var R=h+5<<3,P=Gh(i,od)+Gh(o,xg)+c,re=Gh(i,b)+Gh(o,B)+c+14+3*L+Gh(q,$)+2*q[16]+3*q[17]+7*q[18];if(u>=0&&R<=P&&R<=re)return J3(s,f,t.subarray(u,u+h));var I,G,X,ie;if(zo(s,f,1+(re<P)),f+=2,re<P){I=ff(b,x,0),G=b,X=ff(B,j,0),ie=B;var ge=ff($,D,0);zo(s,f,E-257),zo(s,f+5,k-1),zo(s,f+10,L-4),f+=14;for(var K=0;K<L;++K)zo(s,f+3*K,$[Cj[K]]);f+=3*L;for(var ee=[Q,U],M=0;M<2;++M)for(var H=ee[M],K=0;K<H.length;++K){var Z=H[K]&31;zo(s,f,ge[Z]),f+=$[Z],Z>15&&(zo(s,f,H[K]>>5&127),f+=H[K]>>12)}}else I=q9,G=od,X=$9,ie=xg;for(var K=0;K<A;++K){var Ae=a[K];if(Ae>255){var Z=Ae>>18&31;Kh(s,f,I[Z+257]),f+=G[Z+257],Z>7&&(zo(s,f,Ae>>23&31),f+=Z1[Z]);var fe=Ae&31;Kh(s,f,X[fe]),f+=ie[fe],fe>3&&(Kh(s,f,Ae>>5&8191),f+=ev[fe])}else Kh(s,f,I[Ae]),f+=G[Ae]}return Kh(s,f,I[256]),f+G[256]},Y9=new J1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z3=new jl(0),W9=function(t,s,r,a,i,o){var c=o.z||t.length,A=new jl(a+c+5*(1+Math.ceil(c/7e3))+i),u=A.subarray(a,A.length-i),h=o.l,f=(o.r||0)&7;if(s){f&&(u[0]=o.r>>3);for(var g=Y9[s-1],b=g>>13,x=g&8191,w=(1<<r)-1,B=o.p||new hi(32768),j=o.h||new hi(w+1),_=Math.ceil(r/3),Q=2*_,E=function(ae){return(t[ae]^t[ae+1]<<_^t[ae+2]<<Q)&w},T=new J1(25e3),U=new hi(288),k=new hi(32),q=0,K=0,z=o.i||0,$=0,D=o.w||0,L=0;z+2<c;++z){var R=E(z),P=z&32767,re=j[R];if(B[P]=re,j[R]=P,D<=z){var I=c-z;if((q>7e3||$>24576)&&(I>423||!h)){f=Fj(t,u,0,T,U,k,K,$,L,z-L,f),$=q=K=0,L=z;for(var G=0;G<286;++G)U[G]=0;for(var G=0;G<30;++G)k[G]=0}var X=2,ie=0,ge=x,ee=P-re&32767;if(I>2&&R==E(z-ee))for(var M=Math.min(b,I)-1,H=Math.min(32767,z),Z=Math.min(258,I);ee<=H&&--ge&&P!=re;){if(t[z+X]==t[z+X-ee]){for(var Ae=0;Ae<Z&&t[z+Ae]==t[z+Ae-ee];++Ae);if(Ae>X){if(X=Ae,ie=ee,Ae>M)break;for(var fe=Math.min(ee,Ae-2),pe=0,G=0;G<fe;++G){var Se=z-ee+G&32767,me=B[Se],Le=Se-me&32767;Le>pe&&(pe=Le,re=Se)}}}P=re,re=B[P],ee+=P-re&32767}if(ie){T[$++]=268435456|Dy[X]<<18|Sj[ie];var Ve=Dy[X]&31,ke=Sj[ie]&31;K+=Z1[Ve]+ev[ke],++U[257+Ve],++k[ke],D=z+X,++q}else T[$++]=t[z],++U[t[z]]}}for(z=Math.max(z,D);z<c;++z)T[$++]=t[z],++U[t[z]];f=Fj(t,u,h,T,U,k,K,$,L,z-L,f),h||(o.r=f&7|u[f/8|0]<<3,f-=7,o.h=j,o.p=B,o.i=z,o.w=D)}else{for(var z=o.w||0;z<c+h;z+=65535){var Ke=z+65535;Ke>=c&&(u[f/8|0]=h,Ke=c),f=J3(u,f+1,t.subarray(z,Ke))}o.i=c}return X9(A,0,a+W3(f)+i)},e6=function(){var t=1,s=0;return{p:function(r){for(var a=t,i=s,o=r.length|0,c=0;c!=o;){for(var A=Math.min(c+2655,o);c<A;++c)i+=a+=r[c];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,s=i},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},J9=function(t,s,r,a,i){if(!i&&(i={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),c=new jl(o.length+t.length);c.set(o),c.set(t,o.length),t=c,i.w=o.length}return W9(t,s.level==null?6:s.level,s.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,r,a,i)},t6=function(t,s,r){for(;r;++s)t[s]=r,r>>>=8},Z9=function(t,s){var r=s.level,a=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=a<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var i=e6();i.p(s.dictionary),t6(t,2,i.d())}};function Ry(t,s){s||(s={});var r=e6();r.p(t);var a=J9(t,s,s.dictionary?6:2,4);return Z9(a,s),t6(a,a.length-4,r.d()),a}var eV=typeof TextDecoder<"u"&&new TextDecoder,tV=0;try{eV.decode(Z3,{stream:!0}),tV=1}catch{}function sV(t){if(Array.isArray(t))return t}function rV(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,o,c,A=[],u=!0,h=!1;try{if(o=(r=r.call(t)).next,s!==0)for(;!(u=(a=o.call(r)).done)&&(A.push(a.value),A.length!==s);u=!0);}catch(f){h=!0,i=f}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw i}}return A}}function Uj(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=Array(s);r<s;r++)a[r]=t[r];return a}function aV(t,s){if(t){if(typeof t=="string")return Uj(t,s);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uj(t,s):void 0}}function nV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kj(t,s){return sV(t)||rV(t,s)||aV(t,s)||nV()}function Lj(t,s="utf8"){return new TextDecoder(s).decode(t)}const iV=new TextEncoder;function lV(t){return iV.encode(t)}const oV=1024*8,AV=(()=>{const t=new Uint8Array(4),s=new Uint32Array(t.buffer);return!((s[0]=1)&t[0])})(),ib={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tv{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(s=oV,r={}){let a=!1;typeof s=="number"?s=new ArrayBuffer(s):(a=!0,this.lastWrittenByte=s.byteLength);const i=r.offset?r.offset>>>0:0,o=s.byteLength-i;let c=i;(ArrayBuffer.isView(s)||s instanceof tv)&&(s.byteLength!==s.buffer.byteLength&&(c=s.byteOffset+i),s=s.buffer),a?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=s,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(s=1){return this.offset+s<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(s=1){return this.offset+=s,this}back(s=1){return this.offset-=s,this}seek(s){return this.offset=s,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const s=this._marks.pop();if(s===void 0)throw new Error("Mark stack empty");return this.seek(s),this}rewind(){return this.offset=0,this}ensureAvailable(s=1){if(!this.available(s)){const a=(this.offset+s)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(s=1){return this.readArray(s,"uint8")}readArray(s,r){const a=ib[r].BYTES_PER_ELEMENT*s,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+a);if(this.littleEndian===AV&&r!=="uint8"&&r!=="int8"){const A=new Uint8Array(this.buffer.slice(i,i+a));A.reverse();const u=new ib[r](A.buffer);return this.offset+=a,u.reverse(),u}const c=new ib[r](o);return this.offset+=a,c}readInt16(){const s=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,s}readUint16(){const s=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,s}readInt32(){const s=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,s}readUint32(){const s=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat32(){const s=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,s}readFloat64(){const s=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,s}readBigInt64(){const s=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,s}readBigUint64(){const s=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,s}readChar(){return String.fromCharCode(this.readInt8())}readChars(s=1){let r="";for(let a=0;a<s;a++)r+=this.readChar();return r}readUtf8(s=1){return Lj(this.readBytes(s))}decodeText(s=1,r="utf8"){return Lj(this.readBytes(s),r)}writeBoolean(s){return this.writeUint8(s?255:0),this}writeInt8(s){return this.ensureAvailable(1),this._data.setInt8(this.offset++,s),this._updateLastWrittenByte(),this}writeUint8(s){return this.ensureAvailable(1),this._data.setUint8(this.offset++,s),this._updateLastWrittenByte(),this}writeByte(s){return this.writeUint8(s)}writeBytes(s){this.ensureAvailable(s.length);for(let r=0;r<s.length;r++)this._data.setUint8(this.offset++,s[r]);return this._updateLastWrittenByte(),this}writeInt16(s){return this.ensureAvailable(2),this._data.setInt16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(s){return this.ensureAvailable(2),this._data.setUint16(this.offset,s,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(s){return this.ensureAvailable(4),this._data.setInt32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(s){return this.ensureAvailable(4),this._data.setUint32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(s){return this.ensureAvailable(4),this._data.setFloat32(this.offset,s,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(s){return this.ensureAvailable(8),this._data.setFloat64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(s){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(s){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,s,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(s){return this.writeUint8(s.charCodeAt(0))}writeChars(s){for(let r=0;r<s.length;r++)this.writeUint8(s.charCodeAt(r));return this}writeUtf8(s){return this.writeBytes(lV(s))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Zu(t){let s=t.length;for(;--s>=0;)t[s]=0}const cV=3,dV=258,s6=29,uV=256,hV=uV+1+s6,r6=30,fV=512,mV=new Array((hV+2)*2);Zu(mV);const gV=new Array(r6*2);Zu(gV);const pV=new Array(fV);Zu(pV);const xV=new Array(dV-cV+1);Zu(xV);const bV=new Array(s6);Zu(bV);const yV=new Array(r6);Zu(yV);const vV=(t,s,r,a)=>{let i=t&65535|0,o=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do i=i+s[a++]|0,o=o+i|0;while(--c);i%=65521,o%=65521}return i|o<<16|0};var Oy=vV;const wV=()=>{let t,s=[];for(var r=0;r<256;r++){t=r;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;s[r]=t}return s},NV=new Uint32Array(wV()),jV=(t,s,r,a)=>{const i=NV,o=a+r;t^=-1;for(let c=a;c<o;c++)t=t>>>8^i[(t^s[c])&255];return t^-1};var Zl=jV,Hy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},a6={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const BV=(t,s)=>Object.prototype.hasOwnProperty.call(t,s);var _V=function(t){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const r=s.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)BV(r,a)&&(t[a]=r[a])}}return t},CV=t=>{let s=0;for(let a=0,i=t.length;a<i;a++)s+=t[a].length;const r=new Uint8Array(s);for(let a=0,i=0,o=t.length;a<o;a++){let c=t[a];r.set(c,i),i+=c.length}return r},n6={assign:_V,flattenChunks:CV};let i6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i6=!1}const kf=new Uint8Array(256);for(let t=0;t<256;t++)kf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;kf[254]=kf[254]=1;var SV=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let s,r,a,i,o,c=t.length,A=0;for(i=0;i<c;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),A+=r<128?1:r<2048?2:r<65536?3:4;for(s=new Uint8Array(A),o=0,i=0;o<A;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<c&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),r<128?s[o++]=r:r<2048?(s[o++]=192|r>>>6,s[o++]=128|r&63):r<65536?(s[o++]=224|r>>>12,s[o++]=128|r>>>6&63,s[o++]=128|r&63):(s[o++]=240|r>>>18,s[o++]=128|r>>>12&63,s[o++]=128|r>>>6&63,s[o++]=128|r&63);return s};const EV=(t,s)=>{if(s<65534&&t.subarray&&i6)return String.fromCharCode.apply(null,t.length===s?t:t.subarray(0,s));let r="";for(let a=0;a<s;a++)r+=String.fromCharCode(t[a]);return r};var FV=(t,s)=>{const r=s||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,s));let a,i;const o=new Array(r*2);for(i=0,a=0;a<r;){let c=t[a++];if(c<128){o[i++]=c;continue}let A=kf[c];if(A>4){o[i++]=65533,a+=A-1;continue}for(c&=A===2?31:A===3?15:7;A>1&&a<r;)c=c<<6|t[a++]&63,A--;if(A>1){o[i++]=65533;continue}c<65536?o[i++]=c:(c-=65536,o[i++]=55296|c>>10&1023,o[i++]=56320|c&1023)}return EV(o,i)},UV=(t,s)=>{s=s||t.length,s>t.length&&(s=t.length);let r=s-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?s:r+kf[t[r]]>s?r:s},Py={string2buf:SV,buf2string:FV,utf8border:UV};function kV(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LV=kV;const b0=16209,QV=16191;var TV=function(s,r){let a,i,o,c,A,u,h,f,g,b,x,w,B,j,_,Q,E,T,U,k,q,K,z,$;const D=s.state;a=s.next_in,z=s.input,i=a+(s.avail_in-5),o=s.next_out,$=s.output,c=o-(r-s.avail_out),A=o+(s.avail_out-257),u=D.dmax,h=D.wsize,f=D.whave,g=D.wnext,b=D.window,x=D.hold,w=D.bits,B=D.lencode,j=D.distcode,_=(1<<D.lenbits)-1,Q=(1<<D.distbits)-1;e:do{w<15&&(x+=z[a++]<<w,w+=8,x+=z[a++]<<w,w+=8),E=B[x&_];t:for(;;){if(T=E>>>24,x>>>=T,w-=T,T=E>>>16&255,T===0)$[o++]=E&65535;else if(T&16){U=E&65535,T&=15,T&&(w<T&&(x+=z[a++]<<w,w+=8),U+=x&(1<<T)-1,x>>>=T,w-=T),w<15&&(x+=z[a++]<<w,w+=8,x+=z[a++]<<w,w+=8),E=j[x&Q];s:for(;;){if(T=E>>>24,x>>>=T,w-=T,T=E>>>16&255,T&16){if(k=E&65535,T&=15,w<T&&(x+=z[a++]<<w,w+=8,w<T&&(x+=z[a++]<<w,w+=8)),k+=x&(1<<T)-1,k>u){s.msg="invalid distance too far back",D.mode=b0;break e}if(x>>>=T,w-=T,T=o-c,k>T){if(T=k-T,T>f&&D.sane){s.msg="invalid distance too far back",D.mode=b0;break e}if(q=0,K=b,g===0){if(q+=h-T,T<U){U-=T;do $[o++]=b[q++];while(--T);q=o-k,K=$}}else if(g<T){if(q+=h+g-T,T-=g,T<U){U-=T;do $[o++]=b[q++];while(--T);if(q=0,g<U){T=g,U-=T;do $[o++]=b[q++];while(--T);q=o-k,K=$}}}else if(q+=g-T,T<U){U-=T;do $[o++]=b[q++];while(--T);q=o-k,K=$}for(;U>2;)$[o++]=K[q++],$[o++]=K[q++],$[o++]=K[q++],U-=3;U&&($[o++]=K[q++],U>1&&($[o++]=K[q++]))}else{q=o-k;do $[o++]=$[q++],$[o++]=$[q++],$[o++]=$[q++],U-=3;while(U>2);U&&($[o++]=$[q++],U>1&&($[o++]=$[q++]))}}else if((T&64)===0){E=j[(E&65535)+(x&(1<<T)-1)];continue s}else{s.msg="invalid distance code",D.mode=b0;break e}break}}else if((T&64)===0){E=B[(E&65535)+(x&(1<<T)-1)];continue t}else if(T&32){D.mode=QV;break e}else{s.msg="invalid literal/length code",D.mode=b0;break e}break}}while(a<i&&o<A);U=w>>3,a-=U,w-=U<<3,x&=(1<<w)-1,s.next_in=a,s.next_out=o,s.avail_in=a<i?5+(i-a):5-(a-i),s.avail_out=o<A?257+(A-o):257-(o-A),D.hold=x,D.bits=w};const du=15,Qj=852,Tj=592,Dj=0,lb=1,Ij=2,DV=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IV=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MV=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),RV=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),OV=(t,s,r,a,i,o,c,A)=>{const u=A.bits;let h=0,f=0,g=0,b=0,x=0,w=0,B=0,j=0,_=0,Q=0,E,T,U,k,q,K=null,z;const $=new Uint16Array(du+1),D=new Uint16Array(du+1);let L=null,R,P,re;for(h=0;h<=du;h++)$[h]=0;for(f=0;f<a;f++)$[s[r+f]]++;for(x=u,b=du;b>=1&&$[b]===0;b--);if(x>b&&(x=b),b===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,A.bits=1,0;for(g=1;g<b&&$[g]===0;g++);for(x<g&&(x=g),j=1,h=1;h<=du;h++)if(j<<=1,j-=$[h],j<0)return-1;if(j>0&&(t===Dj||b!==1))return-1;for(D[1]=0,h=1;h<du;h++)D[h+1]=D[h]+$[h];for(f=0;f<a;f++)s[r+f]!==0&&(c[D[s[r+f]]++]=f);if(t===Dj?(K=L=c,z=20):t===lb?(K=DV,L=IV,z=257):(K=MV,L=RV,z=0),Q=0,f=0,h=g,q=o,w=x,B=0,U=-1,_=1<<x,k=_-1,t===lb&&_>Qj||t===Ij&&_>Tj)return 1;for(;;){R=h-B,c[f]+1<z?(P=0,re=c[f]):c[f]>=z?(P=L[c[f]-z],re=K[c[f]-z]):(P=96,re=0),E=1<<h-B,T=1<<w,g=T;do T-=E,i[q+(Q>>B)+T]=R<<24|P<<16|re|0;while(T!==0);for(E=1<<h-1;Q&E;)E>>=1;if(E!==0?(Q&=E-1,Q+=E):Q=0,f++,--$[h]===0){if(h===b)break;h=s[r+c[f]]}if(h>x&&(Q&k)!==U){for(B===0&&(B=x),q+=g,w=h-B,j=1<<w;w+B<b&&(j-=$[w+B],!(j<=0));)w++,j<<=1;if(_+=1<<w,t===lb&&_>Qj||t===Ij&&_>Tj)return 1;U=Q&k,i[U]=x<<24|w<<16|q-o|0}}return Q!==0&&(i[q+Q]=h-B<<24|64<<16|0),A.bits=x,0};var mf=OV;const HV=0,l6=1,o6=2,{Z_FINISH:Mj,Z_BLOCK:PV,Z_TREES:y0,Z_OK:Ad,Z_STREAM_END:VV,Z_NEED_DICT:zV,Z_STREAM_ERROR:zi,Z_DATA_ERROR:A6,Z_MEM_ERROR:c6,Z_BUF_ERROR:KV,Z_DEFLATED:Rj}=a6,$g=16180,Oj=16181,Hj=16182,Pj=16183,Vj=16184,zj=16185,Kj=16186,Gj=16187,qj=16188,$j=16189,bg=16190,Ko=16191,ob=16192,Xj=16193,Ab=16194,Yj=16195,Wj=16196,Jj=16197,Zj=16198,v0=16199,w0=16200,eB=16201,tB=16202,sB=16203,rB=16204,aB=16205,cb=16206,nB=16207,iB=16208,br=16209,d6=16210,u6=16211,GV=852,qV=592,$V=15,XV=$V,lB=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function YV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dd=t=>{if(!t)return 1;const s=t.state;return!s||s.strm!==t||s.mode<$g||s.mode>u6?1:0},h6=t=>{if(dd(t))return zi;const s=t.state;return t.total_in=t.total_out=s.total=0,t.msg="",s.wrap&&(t.adler=s.wrap&1),s.mode=$g,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(GV),s.distcode=s.distdyn=new Int32Array(qV),s.sane=1,s.back=-1,Ad},f6=t=>{if(dd(t))return zi;const s=t.state;return s.wsize=0,s.whave=0,s.wnext=0,h6(t)},m6=(t,s)=>{let r;if(dd(t))return zi;const a=t.state;return s<0?(r=0,s=-s):(r=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?zi:(a.window!==null&&a.wbits!==s&&(a.window=null),a.wrap=r,a.wbits=s,f6(t))},g6=(t,s)=>{if(!t)return zi;const r=new YV;t.state=r,r.strm=t,r.window=null,r.mode=$g;const a=m6(t,s);return a!==Ad&&(t.state=null),a},WV=t=>g6(t,XV);let oB=!0,db,ub;const JV=t=>{if(oB){db=new Int32Array(512),ub=new Int32Array(32);let s=0;for(;s<144;)t.lens[s++]=8;for(;s<256;)t.lens[s++]=9;for(;s<280;)t.lens[s++]=7;for(;s<288;)t.lens[s++]=8;for(mf(l6,t.lens,0,288,db,0,t.work,{bits:9}),s=0;s<32;)t.lens[s++]=5;mf(o6,t.lens,0,32,ub,0,t.work,{bits:5}),oB=!1}t.lencode=db,t.lenbits=9,t.distcode=ub,t.distbits=5},p6=(t,s,r,a)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(s.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>a&&(i=a),o.window.set(s.subarray(r-a,r-a+i),o.wnext),a-=i,a?(o.window.set(s.subarray(r-a,r),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},ZV=(t,s)=>{let r,a,i,o,c,A,u,h,f,g,b,x,w,B,j=0,_,Q,E,T,U,k,q,K;const z=new Uint8Array(4);let $,D;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dd(t)||!t.output||!t.input&&t.avail_in!==0)return zi;r=t.state,r.mode===Ko&&(r.mode=ob),c=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,a=t.input,A=t.avail_in,h=r.hold,f=r.bits,g=A,b=u,K=Ad;e:for(;;)switch(r.mode){case $g:if(r.wrap===0){r.mode=ob;break}for(;f<16;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,z[0]=h&255,z[1]=h>>>8&255,r.check=Zl(r.check,z,2,0),h=0,f=0,r.mode=Oj;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=br;break}if((h&15)!==Rj){t.msg="unknown compression method",r.mode=br;break}if(h>>>=4,f-=4,q=(h&15)+8,r.wbits===0&&(r.wbits=q),q>15||q>r.wbits){t.msg="invalid window size",r.mode=br;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?$j:Ko,h=0,f=0;break;case Oj:for(;f<16;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(r.flags=h,(r.flags&255)!==Rj){t.msg="unknown compression method",r.mode=br;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=br;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(z[0]=h&255,z[1]=h>>>8&255,r.check=Zl(r.check,z,2,0)),h=0,f=0,r.mode=Hj;case Hj:for(;f<32;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(z[0]=h&255,z[1]=h>>>8&255,z[2]=h>>>16&255,z[3]=h>>>24&255,r.check=Zl(r.check,z,4,0)),h=0,f=0,r.mode=Pj;case Pj:for(;f<16;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(z[0]=h&255,z[1]=h>>>8&255,r.check=Zl(r.check,z,2,0)),h=0,f=0,r.mode=Vj;case Vj:if(r.flags&1024){for(;f<16;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(z[0]=h&255,z[1]=h>>>8&255,r.check=Zl(r.check,z,2,0)),h=0,f=0}else r.head&&(r.head.extra=null);r.mode=zj;case zj:if(r.flags&1024&&(x=r.length,x>A&&(x=A),x&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(o,o+x),q)),r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,x,o)),A-=x,o+=x,r.length-=x),r.length))break e;r.length=0,r.mode=Kj;case Kj:if(r.flags&2048){if(A===0)break e;x=0;do q=a[o+x++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q));while(q&&x<A);if(r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,x,o)),A-=x,o+=x,q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Gj;case Gj:if(r.flags&4096){if(A===0)break e;x=0;do q=a[o+x++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q));while(q&&x<A);if(r.flags&512&&r.wrap&4&&(r.check=Zl(r.check,a,x,o)),A-=x,o+=x,q)break e}else r.head&&(r.head.comment=null);r.mode=qj;case qj:if(r.flags&512){for(;f<16;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=br;break}h=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ko;break;case $j:for(;f<32;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}t.adler=r.check=lB(h),h=0,f=0,r.mode=bg;case bg:if(r.havedict===0)return t.next_out=c,t.avail_out=u,t.next_in=o,t.avail_in=A,r.hold=h,r.bits=f,zV;t.adler=r.check=1,r.mode=Ko;case Ko:if(s===PV||s===y0)break e;case ob:if(r.last){h>>>=f&7,f-=f&7,r.mode=cb;break}for(;f<3;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}switch(r.last=h&1,h>>>=1,f-=1,h&3){case 0:r.mode=Xj;break;case 1:if(JV(r),r.mode=v0,s===y0){h>>>=2,f-=2;break e}break;case 2:r.mode=Wj;break;case 3:t.msg="invalid block type",r.mode=br}h>>>=2,f-=2;break;case Xj:for(h>>>=f&7,f-=f&7;f<32;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=br;break}if(r.length=h&65535,h=0,f=0,r.mode=Ab,s===y0)break e;case Ab:r.mode=Yj;case Yj:if(x=r.length,x){if(x>A&&(x=A),x>u&&(x=u),x===0)break e;i.set(a.subarray(o,o+x),c),A-=x,o+=x,u-=x,c+=x,r.length-=x;break}r.mode=Ko;break;case Wj:for(;f<14;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(r.nlen=(h&31)+257,h>>>=5,f-=5,r.ndist=(h&31)+1,h>>>=5,f-=5,r.ncode=(h&15)+4,h>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=br;break}r.have=0,r.mode=Jj;case Jj:for(;r.have<r.ncode;){for(;f<3;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.lens[L[r.have++]]=h&7,h>>>=3,f-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},K=mf(HV,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,K){t.msg="invalid code lengths set",r.mode=br;break}r.have=0,r.mode=Zj;case Zj:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[h&(1<<r.lenbits)-1],_=j>>>24,Q=j>>>16&255,E=j&65535,!(_<=f);){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(E<16)h>>>=_,f-=_,r.lens[r.have++]=E;else{if(E===16){for(D=_+2;f<D;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(h>>>=_,f-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=br;break}q=r.lens[r.have-1],x=3+(h&3),h>>>=2,f-=2}else if(E===17){for(D=_+3;f<D;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}h>>>=_,f-=_,q=0,x=3+(h&7),h>>>=3,f-=3}else{for(D=_+7;f<D;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}h>>>=_,f-=_,q=0,x=11+(h&127),h>>>=7,f-=7}if(r.have+x>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=br;break}for(;x--;)r.lens[r.have++]=q}}if(r.mode===br)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=br;break}if(r.lenbits=9,$={bits:r.lenbits},K=mf(l6,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,K){t.msg="invalid literal/lengths set",r.mode=br;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},K=mf(o6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,K){t.msg="invalid distances set",r.mode=br;break}if(r.mode=v0,s===y0)break e;case v0:r.mode=w0;case w0:if(A>=6&&u>=258){t.next_out=c,t.avail_out=u,t.next_in=o,t.avail_in=A,r.hold=h,r.bits=f,TV(t,b),c=t.next_out,i=t.output,u=t.avail_out,o=t.next_in,a=t.input,A=t.avail_in,h=r.hold,f=r.bits,r.mode===Ko&&(r.back=-1);break}for(r.back=0;j=r.lencode[h&(1<<r.lenbits)-1],_=j>>>24,Q=j>>>16&255,E=j&65535,!(_<=f);){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(Q&&(Q&240)===0){for(T=_,U=Q,k=E;j=r.lencode[k+((h&(1<<T+U)-1)>>T)],_=j>>>24,Q=j>>>16&255,E=j&65535,!(T+_<=f);){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}h>>>=T,f-=T,r.back+=T}if(h>>>=_,f-=_,r.back+=_,r.length=E,Q===0){r.mode=aB;break}if(Q&32){r.back=-1,r.mode=Ko;break}if(Q&64){t.msg="invalid literal/length code",r.mode=br;break}r.extra=Q&15,r.mode=eB;case eB:if(r.extra){for(D=r.extra;f<D;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tB;case tB:for(;j=r.distcode[h&(1<<r.distbits)-1],_=j>>>24,Q=j>>>16&255,E=j&65535,!(_<=f);){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if((Q&240)===0){for(T=_,U=Q,k=E;j=r.distcode[k+((h&(1<<T+U)-1)>>T)],_=j>>>24,Q=j>>>16&255,E=j&65535,!(T+_<=f);){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}h>>>=T,f-=T,r.back+=T}if(h>>>=_,f-=_,r.back+=_,Q&64){t.msg="invalid distance code",r.mode=br;break}r.offset=E,r.extra=Q&15,r.mode=sB;case sB:if(r.extra){for(D=r.extra;f<D;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=br;break}r.mode=rB;case rB:if(u===0)break e;if(x=b-u,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=br;break}x>r.wnext?(x-=r.wnext,w=r.wsize-x):w=r.wnext-x,x>r.length&&(x=r.length),B=r.window}else B=i,w=c-r.offset,x=r.length;x>u&&(x=u),u-=x,r.length-=x;do i[c++]=B[w++];while(--x);r.length===0&&(r.mode=w0);break;case aB:if(u===0)break e;i[c++]=r.length,u--,r.mode=w0;break;case cb:if(r.wrap){for(;f<32;){if(A===0)break e;A--,h|=a[o++]<<f,f+=8}if(b-=u,t.total_out+=b,r.total+=b,r.wrap&4&&b&&(t.adler=r.check=r.flags?Zl(r.check,i,b,c-b):Oy(r.check,i,b,c-b)),b=u,r.wrap&4&&(r.flags?h:lB(h))!==r.check){t.msg="incorrect data check",r.mode=br;break}h=0,f=0}r.mode=nB;case nB:if(r.wrap&&r.flags){for(;f<32;){if(A===0)break e;A--,h+=a[o++]<<f,f+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=br;break}h=0,f=0}r.mode=iB;case iB:K=VV;break e;case br:K=A6;break e;case d6:return c6;case u6:default:return zi}return t.next_out=c,t.avail_out=u,t.next_in=o,t.avail_in=A,r.hold=h,r.bits=f,(r.wsize||b!==t.avail_out&&r.mode<br&&(r.mode<cb||s!==Mj))&&p6(t,t.output,t.next_out,b-t.avail_out),g-=t.avail_in,b-=t.avail_out,t.total_in+=g,t.total_out+=b,r.total+=b,r.wrap&4&&b&&(t.adler=r.check=r.flags?Zl(r.check,i,b,t.next_out-b):Oy(r.check,i,b,t.next_out-b)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ko?128:0)+(r.mode===v0||r.mode===Ab?256:0),(g===0&&b===0||s===Mj)&&K===Ad&&(K=KV),K},ez=t=>{if(dd(t))return zi;let s=t.state;return s.window&&(s.window=null),t.state=null,Ad},tz=(t,s)=>{if(dd(t))return zi;const r=t.state;return(r.wrap&2)===0?zi:(r.head=s,s.done=!1,Ad)},sz=(t,s)=>{const r=s.length;let a,i,o;return dd(t)||(a=t.state,a.wrap!==0&&a.mode!==bg)?zi:a.mode===bg&&(i=1,i=Oy(i,s,r,0),i!==a.check)?A6:(o=p6(t,s,r,r),o?(a.mode=d6,c6):(a.havedict=1,Ad))};var rz=f6,az=m6,nz=h6,iz=WV,lz=g6,oz=ZV,Az=ez,cz=tz,dz=sz,uz="pako inflate (from Nodeca project)",Go={inflateReset:rz,inflateReset2:az,inflateResetKeep:nz,inflateInit:iz,inflateInit2:lz,inflate:oz,inflateEnd:Az,inflateGetHeader:cz,inflateSetDictionary:dz,inflateInfo:uz};function hz(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fz=hz;const x6=Object.prototype.toString,{Z_NO_FLUSH:mz,Z_FINISH:gz,Z_OK:Lf,Z_STREAM_END:hb,Z_NEED_DICT:fb,Z_STREAM_ERROR:pz,Z_DATA_ERROR:AB,Z_MEM_ERROR:xz}=a6;function Yf(t){this.options=n6.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(t&&t.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15)===0&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LV,this.strm.avail_out=0;let r=Go.inflateInit2(this.strm,s.windowBits);if(r!==Lf)throw new Error(Hy[r]);if(this.header=new fz,Go.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=Py.string2buf(s.dictionary):x6.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(r=Go.inflateSetDictionary(this.strm,s.dictionary),r!==Lf)))throw new Error(Hy[r])}Yf.prototype.push=function(t,s){const r=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let o,c,A;if(this.ended)return!1;for(s===~~s?c=s:c=s===!0?gz:mz,x6.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),o=Go.inflate(r,c),o===fb&&i&&(o=Go.inflateSetDictionary(r,i),o===Lf?o=Go.inflate(r,c):o===AB&&(o=fb));r.avail_in>0&&o===hb&&r.state.wrap>0&&t[r.next_in]!==0;)Go.inflateReset(r),o=Go.inflate(r,c);switch(o){case pz:case AB:case fb:case xz:return this.onEnd(o),this.ended=!0,!1}if(A=r.avail_out,r.next_out&&(r.avail_out===0||o===hb))if(this.options.to==="string"){let u=Py.utf8border(r.output,r.next_out),h=r.next_out-u,f=Py.buf2string(r.output,u);r.next_out=h,r.avail_out=a-h,h&&r.output.set(r.output.subarray(u,u+h),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Lf&&A===0)){if(o===hb)return o=Go.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Yf.prototype.onData=function(t){this.chunks.push(t)};Yf.prototype.onEnd=function(t){t===Lf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n6.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function bz(t,s){const r=new Yf(s);if(r.push(t),r.err)throw r.msg||Hy[r.err];return r.result}var yz=Yf,vz=bz,wz={Inflate:yz,inflate:vz};const{Inflate:Nz,inflate:jz}=wz;var cB=Nz,Bz=jz;const b6=[];for(let t=0;t<256;t++){let s=t;for(let r=0;r<8;r++)s&1?s=3988292384^s>>>1:s=s>>>1;b6[t]=s}const dB=4294967295;function _z(t,s,r){let a=t;for(let i=0;i<r;i++)a=b6[(a^s[i])&255]^a>>>8;return a}function Cz(t,s){return(_z(dB,t,s)^dB)>>>0}function uB(t,s,r){const a=t.readUint32(),i=Cz(new Uint8Array(t.buffer,t.byteOffset+t.offset-s-4,s),s);if(i!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${i}`)}function y6(t,s,r){for(let a=0;a<r;a++)s[a]=t[a]}function v6(t,s,r,a){let i=0;for(;i<a;i++)s[i]=t[i];for(;i<r;i++)s[i]=t[i]+s[i-a]&255}function w6(t,s,r,a){let i=0;if(r.length===0)for(;i<a;i++)s[i]=t[i];else for(;i<a;i++)s[i]=t[i]+r[i]&255}function N6(t,s,r,a,i){let o=0;if(r.length===0){for(;o<i;o++)s[o]=t[o];for(;o<a;o++)s[o]=t[o]+(s[o-i]>>1)&255}else{for(;o<i;o++)s[o]=t[o]+(r[o]>>1)&255;for(;o<a;o++)s[o]=t[o]+(s[o-i]+r[o]>>1)&255}}function j6(t,s,r,a,i){let o=0;if(r.length===0){for(;o<i;o++)s[o]=t[o];for(;o<a;o++)s[o]=t[o]+s[o-i]&255}else{for(;o<i;o++)s[o]=t[o]+r[o]&255;for(;o<a;o++)s[o]=t[o]+Sz(s[o-i],r[o],r[o-i])&255}}function Sz(t,s,r){const a=t+s-r,i=Math.abs(a-t),o=Math.abs(a-s),c=Math.abs(a-r);return i<=o&&i<=c?t:o<=c?s:r}function Ez(t,s,r,a,i,o){switch(t){case 0:y6(s,r,i);break;case 1:v6(s,r,i,o);break;case 2:w6(s,r,a,i);break;case 3:N6(s,r,a,i,o);break;case 4:j6(s,r,a,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Fz=new Uint16Array([255]),Uz=new Uint8Array(Fz.buffer),kz=Uz[0]===255;function Lz(t){const{data:s,width:r,height:a,channels:i,depth:o}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(o/8)*i,u=new Uint8Array(a*r*A);let h=0;for(let f=0;f<7;f++){const g=c[f],b=Math.ceil((r-g.x)/g.xStep),x=Math.ceil((a-g.y)/g.yStep);if(b<=0||x<=0)continue;const w=b*A,B=new Uint8Array(w);for(let j=0;j<x;j++){const _=s[h++],Q=s.subarray(h,h+w);h+=w;const E=new Uint8Array(w);Ez(_,Q,E,B,w,A),B.set(E);for(let T=0;T<b;T++){const U=g.x+T*g.xStep,k=g.y+j*g.yStep;if(!(U>=r||k>=a))for(let q=0;q<A;q++)u[(k*r+U)*A+q]=E[T*A+q]}}}if(o===16){const f=new Uint16Array(u.buffer);if(kz)for(let g=0;g<f.length;g++)f[g]=Qz(f[g]);return f}else return u}function Qz(t){return(t&255)<<8|t>>8&255}const Tz=new Uint16Array([255]),Dz=new Uint8Array(Tz.buffer),Iz=Dz[0]===255,Mz=new Uint8Array(0);function hB(t){const{data:s,width:r,height:a,channels:i,depth:o}=t,c=Math.ceil(o/8)*i,A=Math.ceil(o/8*i*r),u=new Uint8Array(a*A);let h=Mz,f=0,g,b;for(let x=0;x<a;x++){switch(g=s.subarray(f+1,f+1+A),b=u.subarray(x*A,(x+1)*A),s[f]){case 0:y6(g,b,A);break;case 1:v6(g,b,A,c);break;case 2:w6(g,b,h,A);break;case 3:N6(g,b,h,A,c);break;case 4:j6(g,b,h,A,c);break;default:throw new Error(`Unsupported filter: ${s[f]}`)}h=b,f+=A+1}if(o===16){const x=new Uint16Array(u.buffer);if(Iz)for(let w=0;w<x.length;w++)x[w]=Rz(x[w]);return x}else return u}function Rz(t){return(t&255)<<8|t>>8&255}const $0=Uint8Array.of(137,80,78,71,13,10,26,10);function fB(t){if(!Oz(t.readBytes($0.length)))throw new Error("wrong PNG signature")}function Oz(t){if(t.length<$0.length)return!1;for(let s=0;s<$0.length;s++)if(t[s]!==$0[s])return!1;return!0}const Hz="tEXt",Pz=0,B6=new TextDecoder("latin1");function Vz(t){if(Kz(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const zz=/^[\u0000-\u00FF]*$/;function Kz(t){if(!zz.test(t))throw new Error("invalid latin1 text")}function Gz(t,s,r){const a=_6(s);t[a]=qz(s,r-a.length-1)}function _6(t){for(t.mark();t.readByte()!==Pz;);const s=t.offset;t.reset();const r=B6.decode(t.readBytes(s-t.offset-1));return t.skip(1),Vz(r),r}function qz(t,s){return B6.decode(t.readBytes(s))}const Ai={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},mb={UNKNOWN:-1,DEFLATE:0},mB={UNKNOWN:-1,ADAPTIVE:0},gb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},N0={NONE:0,BACKGROUND:1,PREVIOUS:2},pb={SOURCE:0,OVER:1};class $z extends tv{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(s,r={}){super(s);const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new cB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=mb.UNKNOWN,this._filterMethod=mB.UNKNOWN,this._interlaceMethod=gb.UNKNOWN,this._colorType=Ai.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(fB(this);!this._end;){const s=this.readUint32(),r=this.readChars(4);this.decodeChunk(s,r)}return this.decodeImage(),this._png}decodeApng(){for(fB(this);!this._end;){const s=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(s,r)}return this.decodeApngImage(),this._apng}decodeChunk(s,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case Hz:Gz(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?uB(this,s+4,r):this.skip(4)}decodeApngChunk(s,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,r),this.offset=a+s;break}if(this.offset-a!==s)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?uB(this,s+4,r):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=Xz(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case Ai.GREYSCALE:a=1;break;case Ai.TRUECOLOUR:a=3;break;case Ai.INDEXED_COLOUR:a=1;break;case Ai.GREYSCALE_ALPHA:a=2;break;case Ai.TRUECOLOUR_ALPHA:a=4;break;case Ai.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==mb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const r=s/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<r;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const r=s,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let r=s,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case Ai.GREYSCALE:case Ai.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let r=0;r<s/2;r++)this._transparency[r]=this.readUint16();break}case Ai.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let r=0;for(;r<s;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ai.UNKNOWN:case Ai.GREYSCALE_ALPHA:case Ai.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const r=_6(this),a=this.readUint8();if(a!==mb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(s-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Bz(i)}}decodepHYs(){const s=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:s,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const r={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(s);if(a){if(a.data=hB({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const i=this._apng.frames.at(s-1);this.disposeFrame(a,i,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(s,r,a){switch(s.disposeOp){case N0.NONE:break;case N0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const c=(i*s.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)a.data[c+A]=0}break;case N0.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,r){const a=1<<this._png.depth,i=(o,c)=>{const A=((o+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,u=(o*r.width+c)*this._png.channels;return{index:A,frameIndex:u}};switch(r.blendOp){case pb.SOURCE:for(let o=0;o<r.height;o++)for(let c=0;c<r.width;c++){const{index:A,frameIndex:u}=i(o,c);for(let h=0;h<this._png.channels;h++)s.data[A+h]=r.data[u+h]}break;case pb.OVER:for(let o=0;o<r.height;o++)for(let c=0;c<r.width;c++){const{index:A,frameIndex:u}=i(o,c);for(let h=0;h<this._png.channels;h++){const f=r.data[u+this._png.channels-1]/a,g=h%(this._png.channels-1)===0?1:r.data[u+h],b=Math.floor(f*g+(1-f)*s.data[A+h]);s.data[A+h]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==mB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gb.NO_INTERLACE)this._png.data=hB({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gb.ADAM7)this._png.data=Lz({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,r=this._frames.at(-1);r?r.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:N0.NONE,blendOp:pb.SOURCE,data:s}),this._inflator=new cB,this._writingDataChunks=!1}}function Xz(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var gB;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(gB||(gB={}));function Yz(t,s){return new $z(t,s).decode()}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xb(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var sr={log:xb,warn:function(t){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):xb.call(null,arguments))},error:function(t){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):xb(t))}};function bb(t,s,r){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Pc(a.response,s,r)},a.onerror=function(){sr.error("could not download file")},a.send()}function pB(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function j0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var Pc=Vt.saveAs||((typeof window>"u"?"undefined":Ps(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,r){var a=Vt.URL||Vt.webkitURL,i=document.createElement("a");s=s||t.name||"download",i.download=s,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?pB(i.href)?bb(t,s,r):j0(i,i.target="_blank"):j0(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){j0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download",typeof t=="string")if(pB(t))bb(t,s,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){j0(a)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Ps(o)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),s)}:function(t,s,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return bb(t,s,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(Vt.HTMLElement)||Vt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&o)&&(typeof FileReader>"u"?"undefined":Ps(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var f=A.result;f=c?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},A.readAsDataURL(t)}else{var u=Vt.URL||Vt.webkitURL,h=u.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){u.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function C6(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],a=0;a<r.length;a++){var i=r[a].re,o=r[a].process,c=i.exec(t);c&&(s=o(c),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),u=this.g.toString(16),h=this.b.toString(16);return A.length==1&&(A="0"+A),u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),"#"+A+u+h}}var X0=Vt.atob.bind(Vt),xB=Vt.btoa.bind(Vt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function yb(t,s){var r=t[0],a=t[1],i=t[2],o=t[3];r=Wa(r,a,i,o,s[0],7,-680876936),o=Wa(o,r,a,i,s[1],12,-389564586),i=Wa(i,o,r,a,s[2],17,606105819),a=Wa(a,i,o,r,s[3],22,-1044525330),r=Wa(r,a,i,o,s[4],7,-176418897),o=Wa(o,r,a,i,s[5],12,1200080426),i=Wa(i,o,r,a,s[6],17,-1473231341),a=Wa(a,i,o,r,s[7],22,-45705983),r=Wa(r,a,i,o,s[8],7,1770035416),o=Wa(o,r,a,i,s[9],12,-1958414417),i=Wa(i,o,r,a,s[10],17,-42063),a=Wa(a,i,o,r,s[11],22,-1990404162),r=Wa(r,a,i,o,s[12],7,1804603682),o=Wa(o,r,a,i,s[13],12,-40341101),i=Wa(i,o,r,a,s[14],17,-1502002290),r=Ja(r,a=Wa(a,i,o,r,s[15],22,1236535329),i,o,s[1],5,-165796510),o=Ja(o,r,a,i,s[6],9,-1069501632),i=Ja(i,o,r,a,s[11],14,643717713),a=Ja(a,i,o,r,s[0],20,-373897302),r=Ja(r,a,i,o,s[5],5,-701558691),o=Ja(o,r,a,i,s[10],9,38016083),i=Ja(i,o,r,a,s[15],14,-660478335),a=Ja(a,i,o,r,s[4],20,-405537848),r=Ja(r,a,i,o,s[9],5,568446438),o=Ja(o,r,a,i,s[14],9,-1019803690),i=Ja(i,o,r,a,s[3],14,-187363961),a=Ja(a,i,o,r,s[8],20,1163531501),r=Ja(r,a,i,o,s[13],5,-1444681467),o=Ja(o,r,a,i,s[2],9,-51403784),i=Ja(i,o,r,a,s[7],14,1735328473),r=Za(r,a=Ja(a,i,o,r,s[12],20,-1926607734),i,o,s[5],4,-378558),o=Za(o,r,a,i,s[8],11,-2022574463),i=Za(i,o,r,a,s[11],16,1839030562),a=Za(a,i,o,r,s[14],23,-35309556),r=Za(r,a,i,o,s[1],4,-1530992060),o=Za(o,r,a,i,s[4],11,1272893353),i=Za(i,o,r,a,s[7],16,-155497632),a=Za(a,i,o,r,s[10],23,-1094730640),r=Za(r,a,i,o,s[13],4,681279174),o=Za(o,r,a,i,s[0],11,-358537222),i=Za(i,o,r,a,s[3],16,-722521979),a=Za(a,i,o,r,s[6],23,76029189),r=Za(r,a,i,o,s[9],4,-640364487),o=Za(o,r,a,i,s[12],11,-421815835),i=Za(i,o,r,a,s[15],16,530742520),r=en(r,a=Za(a,i,o,r,s[2],23,-995338651),i,o,s[0],6,-198630844),o=en(o,r,a,i,s[7],10,1126891415),i=en(i,o,r,a,s[14],15,-1416354905),a=en(a,i,o,r,s[5],21,-57434055),r=en(r,a,i,o,s[12],6,1700485571),o=en(o,r,a,i,s[3],10,-1894986606),i=en(i,o,r,a,s[10],15,-1051523),a=en(a,i,o,r,s[1],21,-2054922799),r=en(r,a,i,o,s[8],6,1873313359),o=en(o,r,a,i,s[15],10,-30611744),i=en(i,o,r,a,s[6],15,-1560198380),a=en(a,i,o,r,s[13],21,1309151649),r=en(r,a,i,o,s[4],6,-145523070),o=en(o,r,a,i,s[11],10,-1120210379),i=en(i,o,r,a,s[2],15,718787259),a=en(a,i,o,r,s[9],21,-343485551),t[0]=YA(r,t[0]),t[1]=YA(a,t[1]),t[2]=YA(i,t[2]),t[3]=YA(o,t[3])}function Xg(t,s,r,a,i,o){return s=YA(YA(s,t),YA(a,o)),YA(s<<i|s>>>32-i,r)}function Wa(t,s,r,a,i,o,c){return Xg(s&r|~s&a,t,s,i,o,c)}function Ja(t,s,r,a,i,o,c){return Xg(s&a|r&~a,t,s,i,o,c)}function Za(t,s,r,a,i,o,c){return Xg(s^r^a,t,s,i,o,c)}function en(t,s,r,a,i,o,c){return Xg(r^(s|~a),t,s,i,o,c)}function S6(t){var s,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)yb(a,Wz(t.substring(s-64,s)));t=t.substring(s-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)i[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(i[s>>2]|=128<<(s%4<<3),s>55)for(yb(a,i),s=0;s<16;s++)i[s]=0;return i[14]=8*r,yb(a,i),a}function Wz(t){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return r}var bB="0123456789abcdef".split("");function Jz(t){for(var s="",r=0;r<4;r++)s+=bB[t>>8*r+4&15]+bB[t>>8*r&15];return s}function Zz(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Vy(t){return S6(t).map(Zz).join("")}var eK=function(t){for(var s=0;s<t.length;s++)t[s]=Jz(t[s]);return t.join("")}(S6("hello"))!="5d41402abc4b2a76b9719d911017c592";function YA(t,s){if(eK){var r=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(r>>16)<<16|65535&r}return t+s&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zy(t,s){var r,a,i,o;if(t!==r){for(var c=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),A=[],u=0;u<256;u++)A[u]=u;var h=0;for(u=0;u<256;u++){var f=A[u];h=(h+f+c.charCodeAt(u))%256,A[u]=A[h],A[h]=f}r=t,a=A}else A=a;var g=s.length,b=0,x=0,w="";for(u=0;u<g;u++)x=(x+(f=A[b=(b+1)%256]))%256,A[b]=A[x],A[x]=f,c=A[(A[b]+A[x])%256],w+=String.fromCharCode(s.charCodeAt(u)^c);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var yB={print:4,modify:8,copy:16,"annot-forms":32};function pu(t,s,r,a){this.v=1,this.r=2;var i=192;t.forEach(function(A){if(yB.perm!==void 0)throw new Error("Invalid permission: "+A);i+=yB[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(s+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^i)),this.encryptionKey=Vy(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=zy(this.encryptionKey,this.padding)}function xu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",r=t.length,a=0;a<r;a++){var i=t.charCodeAt(a);s+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[a]}return s}function vB(t){if(Ps(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,a,i){if(i=i||!1,typeof r!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var o=Math.random().toString(35);return s[r][o]=[a,!!i],o},this.unsubscribe=function(r){for(var a in s)if(s[a][r])return delete s[a][r],Object.keys(s[a]).length===0&&delete s[a],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var o in s[r]){var c=s[r][o];try{c[0].apply(t,a)}catch(A){Vt.console&&sr.error("jsPDF PubSub Error",A.message,A)}c[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function Qf(t){if(!(this instanceof Qf))return new Qf(t);var s="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function E6(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function KA(t,s,r,a,i){if(!(this instanceof KA))return new KA(t,s,r,a,i);this.type=t==="axial"?2:3,this.coords=s,this.colors=r,E6.call(this,a,i)}function $c(t,s,r,a,i){if(!(this instanceof $c))return new $c(t,s,r,a,i);this.boundingBox=t,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,E6.call(this,a,i)}function Nt(t){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],o=arguments[3],c=[],A=1,u=16,h="S",f=null;Ps(t=t||{})==="object"&&(r=t.orientation,a=t.unit||a,i=t.format||i,o=t.compress||t.compressPdf||o,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),A=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),h=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),a=a||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=vB;var w="1.3",B=x.__private__.getPdfVersion=function(){return w};x.__private__.setPdfVersion=function(C){w=C};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return j};var _=x.__private__.getPageFormat=function(C){return j[C]};i=i||"a4";var Q="compat",E="advanced",T=Q;function U(){this.saveGraphicsState(),Y(new Et(At,0,0,-At,0,sl()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),h="n",T=E}function k(){this.restoreGraphicsState(),h="S",T=Q}var q=x.__private__.combineFontStyleAndFontWeight=function(C,W){if(C=="bold"&&W=="normal"||C=="bold"&&W==400||C=="normal"&&W=="italic"||C=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(C=W==400||W==="normal"?C==="italic"?"italic":"normal":W!=700&&W!=="bold"||C!=="normal"?(W==700?"bold":W)+""+C:"bold"),C};x.advancedAPI=function(C){var W=T===Q;return W&&U.call(this),typeof C!="function"||(C(this),W&&k.call(this)),this},x.compatAPI=function(C){var W=T===E;return W&&k.call(this),typeof C!="function"||(C(this),W&&U.call(this)),this},x.isAdvancedAPI=function(){return T===E};var K,z=function(C){if(T!==E)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=x.roundToPrecision=x.__private__.roundToPrecision=function(C,W){var he=s||W;if(isNaN(C)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(he).replace(/0+$/,"")};K=x.hpf=x.__private__.hpf=typeof u=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,u)}:u==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,16)};var D=x.f2=x.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return $(C,2)},L=x.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return $(C,3)},R=x.scale=x.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return T===Q?C*At:T===E?C:void 0},P=function(C){return R(function(W){return T===Q?sl()-W:T===E?W:void 0}(C))};x.__private__.setPrecision=x.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(s=parseInt(C,10))};var re,I="00000000000000000000000000000000",G=x.__private__.getFileId=function(){return I},X=x.__private__.setFileId=function(C){return I=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(jr=new pu(f.userPermissions,f.userPassword,f.ownerPassword,I)),I};x.setFileId=function(C){return X(C),this},x.getFileId=function(){return G()};var ie=x.__private__.convertDateToPDFDate=function(C){var W=C.getTimezoneOffset(),he=W<0?"+":"-",we=Math.floor(Math.abs(W/60)),_e=Math.abs(W%60),Xe=[he,Z(we),"'",Z(_e),"'"].join("");return["D:",C.getFullYear(),Z(C.getMonth()+1),Z(C.getDate()),Z(C.getHours()),Z(C.getMinutes()),Z(C.getSeconds()),Xe].join("")},ge=x.__private__.convertPDFDateToDate=function(C){var W=parseInt(C.substr(2,4),10),he=parseInt(C.substr(6,2),10)-1,we=parseInt(C.substr(8,2),10),_e=parseInt(C.substr(10,2),10),Xe=parseInt(C.substr(12,2),10),st=parseInt(C.substr(14,2),10);return new Date(W,he,we,_e,Xe,st,0)},ee=x.__private__.setCreationDate=function(C){var W;if(C===void 0&&(C=new Date),C instanceof Date)W=ie(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=C}return re=W},M=x.__private__.getCreationDate=function(C){var W=re;return C==="jsDate"&&(W=ge(re)),W};x.setCreationDate=function(C){return ee(C),this},x.getCreationDate=function(C){return M(C)};var H,Z=x.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},Ae=x.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},fe=0,pe=[],Se=[],me=0,Le=[],Ve=[],ke=!1,Ke=Se;x.__private__.setCustomOutputDestination=function(C){ke=!0,Ke=C};var ae=function(C){ke||(Ke=C)};x.__private__.resetCustomOutputDestination=function(){ke=!1,Ke=Se};var Y=x.__private__.out=function(C){return C=C.toString(),me+=C.length+1,Ke.push(C),Ke},xe=x.__private__.write=function(C){return Y(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Ue=x.__private__.getArrayBuffer=function(C){for(var W=C.length,he=new ArrayBuffer(W),we=new Uint8Array(he);W--;)we[W]=C.charCodeAt(W);return he},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return ve};var oe=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(C){return oe=T===E?C/At:C,this};var Te,Ee=x.__private__.getFontSize=x.getFontSize=function(){return T===Q?oe:oe*At},ze=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(C){return ze=C,this},x.__private__.getR2L=x.getR2L=function(){return ze};var Oe,Je=x.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Te=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Te=C}else Te=parseInt(C,10)};x.__private__.getZoomMode=function(){return Te};var ot,ht=x.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Oe=C};x.__private__.getPageMode=function(){return Oe};var _t=x.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');ot=C};x.__private__.getLayoutMode=function(){return ot},x.__private__.setDisplayMode=x.setDisplayMode=function(C,W,he){return Je(C),_t(W),ht(he),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(C){if(Object.keys(ct).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[C]},x.__private__.getDocumentProperties=function(){return ct},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(C){for(var W in ct)ct.hasOwnProperty(W)&&C[W]&&(ct[W]=C[W]);return this},x.__private__.setDocumentProperty=function(C,W){if(Object.keys(ct).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[C]=W};var dt,At,ye,es,Qt,rt={},vt={},Tt=[],it={},Lt={},St={},us={},ls=null,Dt=0,Ct=[],ts=new vB(x),on=t.hotfixes||[],wr={},ps={},Zr=[],Et=function C(W,he,we,_e,Xe,st){if(!(this instanceof C))return new C(W,he,we,_e,Xe,st);isNaN(W)&&(W=1),isNaN(he)&&(he=0),isNaN(we)&&(we=0),isNaN(_e)&&(_e=1),isNaN(Xe)&&(Xe=0),isNaN(st)&&(st=0),this._matrix=[W,he,we,_e,Xe,st]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(C)},Et.prototype.multiply=function(C){var W=C.sx*this.sx+C.shy*this.shx,he=C.sx*this.shy+C.shy*this.sy,we=C.shx*this.sx+C.sy*this.shx,_e=C.shx*this.shy+C.sy*this.sy,Xe=C.tx*this.sx+C.ty*this.shx+this.tx,st=C.tx*this.shy+C.ty*this.sy+this.ty;return new Et(W,he,we,_e,Xe,st)},Et.prototype.decompose=function(){var C=this.sx,W=this.shy,he=this.shx,we=this.sy,_e=this.tx,Xe=this.ty,st=Math.sqrt(C*C+W*W),xt=(C/=st)*he+(W/=st)*we;he-=C*xt,we-=W*xt;var jt=Math.sqrt(he*he+we*we);return xt/=jt,C*(we/=jt)<W*(he/=jt)&&(C=-C,W=-W,xt=-xt,st=-st),{scale:new Et(st,0,0,jt,0,0),translate:new Et(1,0,0,1,_e,Xe),rotate:new Et(C,W,-W,C,0,0),skew:new Et(1,0,xt,1,0,0)}},Et.prototype.toString=function(C){return this.join(" ")},Et.prototype.inversed=function(){var C=this.sx,W=this.shy,he=this.shx,we=this.sy,_e=this.tx,Xe=this.ty,st=1/(C*we-W*he),xt=we*st,jt=-W*st,Ot=-he*st,zt=C*st;return new Et(xt,jt,Ot,zt,-xt*_e-Ot*Xe,-jt*_e-zt*Xe)},Et.prototype.applyToPoint=function(C){var W=C.x*this.sx+C.y*this.shx+this.tx,he=C.x*this.shy+C.y*this.sy+this.ty;return new bi(W,he)},Et.prototype.applyToRectangle=function(C){var W=this.applyToPoint(C),he=this.applyToPoint(new bi(C.x+C.w,C.y+C.h));return new Zi(W.x,W.y,he.x-W.x,he.y-W.y)},Et.prototype.clone=function(){var C=this.sx,W=this.shy,he=this.shx,we=this.sy,_e=this.tx,Xe=this.ty;return new Et(C,W,he,we,_e,Xe)},x.Matrix=Et;var Gi=x.matrixMult=function(C,W){return W.multiply(C)},mi=new Et(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=mi;var An=function(C,W){if(!Lt[C]){var he=(W instanceof KA?"Sh":"P")+(Object.keys(it).length+1).toString(10);W.id=he,Lt[C]=he,it[he]=W,ts.publish("addPattern",W)}};x.ShadingPattern=KA,x.TilingPattern=$c,x.addShadingPattern=function(C,W){return z("addShadingPattern()"),An(C,W),this},x.beginTilingPattern=function(C){z("beginTilingPattern()"),bo(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},x.endTilingPattern=function(C,W){z("endTilingPattern()"),W.stream=Ve[H].join(`
`),An(C,W),ts.publish("endTilingPattern",W),Zr.pop().restore()};var cn,rr=x.__private__.newObject=function(){var C=kr();return ea(C,!0),C},kr=x.__private__.newObjectDeferred=function(){return fe++,pe[fe]=function(){return me},fe},ea=function(C,W){return W=typeof W=="boolean"&&W,pe[C]=me,W&&Y(C+" 0 obj"),C},Fl=x.__private__.newAdditionalObject=function(){var C={objId:kr(),content:""};return Le.push(C),C},La=kr(),Ms=kr(),nr=x.__private__.decodeColorString=function(C){var W=C.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var he=parseFloat(W[0]);W=[he,he,he,"r"]}for(var we="#",_e=0;_e<3;_e++)we+=("0"+Math.floor(255*parseFloat(W[_e])).toString(16)).slice(-2);return we},Na=x.__private__.encodeColorString=function(C){var W;typeof C=="string"&&(C={ch1:C});var he=C.ch1,we=C.ch2,_e=C.ch3,Xe=C.ch4,st=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var xt=new C6(he);if(xt.ok)he=xt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var jt=parseInt(he.substr(1),16);he=jt>>16&255,we=jt>>8&255,_e=255&jt}if(we===void 0||Xe===void 0&&he===we&&we===_e)W=typeof he=="string"?he+" "+st[0]:C.precision===2?D(he/255)+" "+st[0]:L(he/255)+" "+st[0];else if(Xe===void 0||Ps(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",st[1]].join(" ");W=typeof he=="string"?[he,we,_e,st[1]].join(" "):C.precision===2?[D(he/255),D(we/255),D(_e/255),st[1]].join(" "):[L(he/255),L(we/255),L(_e/255),st[1]].join(" ")}else W=typeof he=="string"?[he,we,_e,Xe,st[2]].join(" "):C.precision===2?[D(he),D(we),D(_e),D(Xe),st[2]].join(" "):[L(he),L(we),L(_e),L(Xe),st[2]].join(" ");return W},dn=x.__private__.getFilters=function(){return c},Bn=x.__private__.putStream=function(C){var W=(C=C||{}).data||"",he=C.filters||dn(),we=C.alreadyAppliedFilters||[],_e=C.addLength1||!1,Xe=W.length,st=C.objectId,xt=function(zr){return zr};if(f!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(xt=jr.encryptor(st,0));var jt={};he===!0&&(he=["FlateEncode"]);var Ot=C.additionalKeyValues||[],zt=(jt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(W,he):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(jt.data.length!==0&&(Ot.push({key:"Length",value:jt.data.length}),_e===!0&&Ot.push({key:"Length1",value:Xe})),zt.length!=0)if(zt.split("/").length-1==1)Ot.push({key:"Filter",value:zt});else{Ot.push({key:"Filter",value:"["+zt+"]"});for(var Ns=0;Ns<Ot.length;Ns+=1)if(Ot[Ns].key==="DecodeParms"){for(var ir=[],Br=0;Br<jt.reverseChain.split("/").length-1;Br+=1)ir.push("null");ir.push(Ot[Ns].value),Ot[Ns].value="["+ir.join(" ")+"]"}}Y("<<");for(var Ks=0;Ks<Ot.length;Ks++)Y("/"+Ot[Ks].key+" "+Ot[Ks].value);Y(">>"),jt.data.length!==0&&(Y("stream"),Y(xt(jt.data)),Y("endstream"))},uo=x.__private__.putPage=function(C){var W=C.number,he=C.data,we=C.objId,_e=C.contentsObjId;ea(we,!0),Y("<</Type /Page"),Y("/Parent "+C.rootDictionaryObjId+" 0 R"),Y("/Resources "+C.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(K(C.mediaBox.bottomLeftX))+" "+parseFloat(K(C.mediaBox.bottomLeftY))+" "+K(C.mediaBox.topRightX)+" "+K(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&Y("/CropBox ["+K(C.cropBox.bottomLeftX)+" "+K(C.cropBox.bottomLeftY)+" "+K(C.cropBox.topRightX)+" "+K(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&Y("/BleedBox ["+K(C.bleedBox.bottomLeftX)+" "+K(C.bleedBox.bottomLeftY)+" "+K(C.bleedBox.topRightX)+" "+K(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&Y("/TrimBox ["+K(C.trimBox.bottomLeftX)+" "+K(C.trimBox.bottomLeftY)+" "+K(C.trimBox.topRightX)+" "+K(C.trimBox.topRightY)+"]"),C.artBox!==null&&Y("/ArtBox ["+K(C.artBox.bottomLeftX)+" "+K(C.artBox.bottomLeftY)+" "+K(C.artBox.topRightX)+" "+K(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&Y("/UserUnit "+C.userUnit),ts.publish("putPage",{objId:we,pageContext:Ct[W],pageNumber:W,page:he}),Y("/Contents "+_e+" 0 R"),Y(">>"),Y("endobj");var Xe=he.join(`
`);return T===E&&(Xe+=`
Q`),ea(_e,!0),Bn({data:Xe,filters:dn(),objectId:_e}),Y("endobj"),we},$n=x.__private__.putPages=function(){var C,W,he=[];for(C=1;C<=Dt;C++)Ct[C].objId=kr(),Ct[C].contentsObjId=kr();for(C=1;C<=Dt;C++)he.push(uo({number:C,data:Ve[C],objId:Ct[C].objId,contentsObjId:Ct[C].contentsObjId,mediaBox:Ct[C].mediaBox,cropBox:Ct[C].cropBox,bleedBox:Ct[C].bleedBox,trimBox:Ct[C].trimBox,artBox:Ct[C].artBox,userUnit:Ct[C].userUnit,rootDictionaryObjId:La,resourceDictionaryObjId:Ms}));ea(La,!0),Y("<</Type /Pages");var we="/Kids [";for(W=0;W<Dt;W++)we+=he[W]+" 0 R ";Y(we+"]"),Y("/Count "+Dt),Y(">>"),Y("endobj"),ts.publish("postPutPages")},Xn=function(C){ts.publish("putFont",{font:C,out:Y,newObject:rr,putStream:Bn}),C.isAlreadyPutted!==!0&&(C.objectNumber=rr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+xu(C.postScriptName)),Y("/Subtype /Type1"),typeof C.encoding=="string"&&Y("/Encoding /"+C.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},Ul=function(C){C.objectNumber=rr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[K(C.x),K(C.y),K(C.x+C.width),K(C.y+C.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var he=C.pages[1].join(`
`);Bn({data:he,additionalKeyValues:W,objectId:C.objectNumber}),Y("endobj")},Yn=function(C,W){W||(W=21);var he=rr(),we=function(st,xt){var jt,Ot=[],zt=1/(xt-1);for(jt=0;jt<1;jt+=zt)Ot.push(jt);if(Ot.push(1),st[0].offset!=0){var Ns={offset:0,color:st[0].color};st.unshift(Ns)}if(st[st.length-1].offset!=1){var ir={offset:1,color:st[st.length-1].color};st.push(ir)}for(var Br="",Ks=0,zr=0;zr<Ot.length;zr++){for(jt=Ot[zr];jt>st[Ks+1].offset;)Ks++;var Lr=st[Ks].offset,oa=(jt-Lr)/(st[Ks+1].offset-Lr),Cn=st[Ks].color,qa=st[Ks+1].color;Br+=Ae(Math.round((1-oa)*Cn[0]+oa*qa[0]).toString(16))+Ae(Math.round((1-oa)*Cn[1]+oa*qa[1]).toString(16))+Ae(Math.round((1-oa)*Cn[2]+oa*qa[2]).toString(16))}return Br.trim()}(C.colors,W),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+W+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bn({data:we,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),Y("endobj"),C.objectNumber=rr(),Y("<< /ShadingType "+C.type),Y("/ColorSpace /DeviceRGB");var Xe="/Coords ["+K(parseFloat(C.coords[0]))+" "+K(parseFloat(C.coords[1]))+" ";C.type===2?Xe+=K(parseFloat(C.coords[2]))+" "+K(parseFloat(C.coords[3])):Xe+=K(parseFloat(C.coords[2]))+" "+K(parseFloat(C.coords[3]))+" "+K(parseFloat(C.coords[4]))+" "+K(parseFloat(C.coords[5])),Y(Xe+="]"),C.matrix&&Y("/Matrix ["+C.matrix.toString()+"]"),Y("/Function "+he+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Wn=function(C,W){var he=kr(),we=rr();W.push({resourcesOid:he,objectOid:we}),C.objectNumber=we;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+C.boundingBox.map(K).join(" ")+"]"}),_e.push({key:"XStep",value:K(C.xStep)}),_e.push({key:"YStep",value:K(C.yStep)}),_e.push({key:"Resources",value:he+" 0 R"}),C.matrix&&_e.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Bn({data:C.stream,additionalKeyValues:_e,objectId:C.objectNumber}),Y("endobj")},ho=function(C){for(var W in C.objectNumber=rr(),Y("<<"),C)switch(W){case"opacity":Y("/ca "+D(C[W]));break;case"stroke-opacity":Y("/CA "+D(C[W]))}Y(">>"),Y("endobj")},gi=function(C){ea(C.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var W in Y("/Font <<"),rt)rt.hasOwnProperty(W)&&(g===!1||g===!0&&b.hasOwnProperty(W))&&Y("/"+W+" "+rt[W].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(it).length>0){for(var W in Y("/Shading <<"),it)it.hasOwnProperty(W)&&it[W]instanceof KA&&it[W].objectNumber>=0&&Y("/"+W+" "+it[W].objectNumber+" 0 R");ts.publish("putShadingPatternDict"),Y(">>")}}(),function(W){if(Object.keys(it).length>0){for(var he in Y("/Pattern <<"),it)it.hasOwnProperty(he)&&it[he]instanceof x.TilingPattern&&it[he].objectNumber>=0&&it[he].objectNumber<W&&Y("/"+he+" "+it[he].objectNumber+" 0 R");ts.publish("putTilingPatternDict"),Y(">>")}}(C.objectOid),function(){if(Object.keys(St).length>0){var W;for(W in Y("/ExtGState <<"),St)St.hasOwnProperty(W)&&St[W].objectNumber>=0&&Y("/"+W+" "+St[W].objectNumber+" 0 R");ts.publish("putGStateDict"),Y(">>")}}(),function(){for(var W in Y("/XObject <<"),wr)wr.hasOwnProperty(W)&&wr[W].objectNumber>=0&&Y("/"+W+" "+wr[W].objectNumber+" 0 R");ts.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Nr=function(C){vt[C.fontName]=vt[C.fontName]||{},vt[C.fontName][C.fontStyle]=C.id},oc=function(C,W,he,we,_e){var Xe={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:C,fontName:W,fontStyle:he,encoding:we,isStandardFont:_e||!1,metadata:{}};return ts.publish("addFont",{font:Xe,instance:this}),rt[Xe.id]=Xe,Nr(Xe),Xe.id},un=x.__private__.pdfEscape=x.pdfEscape=function(C,W){return function(he,we){var _e,Xe,st,xt,jt,Ot,zt,Ns,ir;if(st=(we=we||{}).sourceEncoding||"Unicode",jt=we.outputEncoding,(we.autoencode||jt)&&rt[dt].metadata&&rt[dt].metadata[st]&&rt[dt].metadata[st].encoding&&(xt=rt[dt].metadata[st].encoding,!jt&&rt[dt].encoding&&(jt=rt[dt].encoding),!jt&&xt.codePages&&(jt=xt.codePages[0]),typeof jt=="string"&&(jt=xt[jt]),jt)){for(zt=!1,Ot=[],_e=0,Xe=he.length;_e<Xe;_e++)(Ns=jt[he.charCodeAt(_e)])?Ot.push(String.fromCharCode(Ns)):Ot.push(he[_e]),Ot[_e].charCodeAt(0)>>8&&(zt=!0);he=Ot.join("")}for(_e=he.length;zt===void 0&&_e!==0;)he.charCodeAt(_e-1)>>8&&(zt=!0),_e--;if(!zt)return he;for(Ot=we.noBOM?[]:[254,255],_e=0,Xe=he.length;_e<Xe;_e++){if((ir=(Ns=he.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ot.push(ir),Ot.push(Ns-(ir<<8))}return String.fromCharCode.apply(void 0,Ot)}(C,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jn=x.__private__.beginPage=function(C){Ve[++Dt]=[],Ct[Dt]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},cc(Dt),ae(Ve[H])},qi=function(C,W){var he,we,_e;switch(r=W||r,typeof C=="string"&&(he=_(C.toLowerCase()),Array.isArray(he)&&(we=he[0],_e=he[1])),Array.isArray(C)&&(we=C[0]*At,_e=C[1]*At),isNaN(we)&&(we=i[0],_e=i[1]),(we>14400||_e>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),_e=Math.min(14400,_e)),i=[we,_e],r.substr(0,1)){case"l":_e>we&&(i=[_e,we]);break;case"p":we>_e&&(i=[_e,we])}Jn(i),kl(mo),Y(mn),iA!==0&&Y(iA+" J"),ta!==0&&Y(ta+" j"),ts.publish("addPage",{pageNumber:Dt})},Ac=function(C){C>0&&C<=Dt&&(Ve.splice(C,1),Ct.splice(C,1),Dt--,H>Dt&&(H=Dt),this.setPage(H))},cc=function(C){C>0&&C<=Dt&&(H=C)},dc=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ve.length-1},hd=function(C,W,he){var we,_e=void 0;return he=he||{},C=C!==void 0?C:rt[dt].fontName,W=W!==void 0?W:rt[dt].fontStyle,we=C.toLowerCase(),vt[we]!==void 0&&vt[we][W]!==void 0?_e=vt[we][W]:vt[C]!==void 0&&vt[C][W]!==void 0?_e=vt[C][W]:he.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+C+"', '"+W+"'. Refer to getFontList() for available fonts."),_e||he.noFallback||(_e=vt.times[W])==null&&(_e=vt.times.normal),_e},$i=x.__private__.putInfo=function(){var C=rr(),W=function(we){return we};for(var he in f!==null&&(W=jr.encryptor(C,0)),Y("<<"),Y("/Producer ("+un(W("jsPDF "+Nt.version))+")"),ct)ct.hasOwnProperty(he)&&ct[he]&&Y("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+un(W(ct[he]))+")");Y("/CreationDate ("+un(W(re))+")"),Y(">>"),Y("endobj")},aA=x.__private__.putCatalog=function(C){var W=(C=C||{}).rootDictionaryObjId||La;switch(rr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+W+" 0 R"),Te||(Te="fullwidth"),Te){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Te;he.substr(he.length-1)==="%"&&(Te=parseInt(Te)/100),typeof Te=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+D(Te)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}Oe&&Y("/PageMode /"+Oe),ts.publish("putCatalog"),Y(">>"),Y("endobj")},Qs=x.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(fe+1)),Y("/Root "+fe+" 0 R"),Y("/Info "+(fe-1)+" 0 R"),f!==null&&Y("/Encrypt "+jr.oid+" 0 R"),Y("/ID [ <"+I+"> <"+I+"> ]"),Y(">>")},Qa=x.__private__.putHeader=function(){Y("%PDF-"+w),Y("%")},uc=x.__private__.putXRef=function(){var C="0000000000";Y("xref"),Y("0 "+(fe+1)),Y("0000000000 65535 f ");for(var W=1;W<=fe;W++)typeof pe[W]=="function"?Y((C+pe[W]()).slice(-10)+" 00000 n "):pe[W]!==void 0?Y((C+pe[W]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Xi=x.__private__.buildDocument=function(){var C;fe=0,me=0,Se=[],pe=[],Le=[],La=kr(),Ms=kr(),ae(Se),ts.publish("buildDocument"),Qa(),$n(),function(){ts.publish("putAdditionalObjects");for(var he=0;he<Le.length;he++){var we=Le[he];ea(we.objId,!0),Y(we.content),Y("endobj")}ts.publish("postPutAdditionalObjects")}(),C=[],function(){for(var he in rt)rt.hasOwnProperty(he)&&(g===!1||g===!0&&b.hasOwnProperty(he))&&Xn(rt[he])}(),function(){var he;for(he in St)St.hasOwnProperty(he)&&ho(St[he])}(),function(){for(var he in wr)wr.hasOwnProperty(he)&&Ul(wr[he])}(),function(he){var we;for(we in it)it.hasOwnProperty(we)&&(it[we]instanceof KA?Yn(it[we]):it[we]instanceof $c&&Wn(it[we],he))}(C),ts.publish("putResources"),C.forEach(gi),gi({resourcesOid:Ms,objectOid:Number.MAX_SAFE_INTEGER}),ts.publish("postPutResources"),f!==null&&(jr.oid=rr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+jr.v),Y("/R "+jr.r),Y("/U <"+jr.toHexString(jr.U)+">"),Y("/O <"+jr.toHexString(jr.O)+">"),Y("/P "+jr.P),Y(">>"),Y("endobj")),$i(),aA();var W=me;return uc(),Qs(),Y("startxref"),Y(""+W),Y("%%EOF"),ae(Ve[H]),Se.join(`
`)},Yi=x.__private__.getBlob=function(C){return new Blob([Ue(C)],{type:"application/pdf"})},_n=x.output=x.__private__.output=(cn=function(C,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",C){case void 0:return Xi();case"save":x.save(W.filename);break;case"arraybuffer":return Ue(Xi());case"blob":return Yi(Xi());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(Yi(Xi()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",we=Xi();try{he=xB(we)}catch{he=xB(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+W.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(_e=W.pdfObjectUrl,Xe="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",xt=Vt.open();return xt!==null&&xt.document.write(st),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',Ot=Vt.open();if(Ot!==null){Ot.document.write(jt);var zt=this;Ot.document.documentElement.querySelector("#pdfViewer").onload=function(){Ot.document.title=W.filename,Ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ns='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',ir=Vt.open();if(ir!==null&&(ir.document.write(Ns),ir.document.title=W.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",W);default:return null}},cn.foo=function(){try{return cn.apply(this,arguments)}catch(he){var C=he.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var W="Error in function "+C.split(`
`)[0].split("<")[0]+": "+he.message;if(!Vt.console)throw new Error(W);Vt.console.error(W,he),Vt.alert&&alert(W)}},cn.foo.bar=cn,cn.foo),pi=function(C){return Array.isArray(on)===!0&&on.indexOf(C)>-1};switch(a){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=pi("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);At=a}var jr=null;ee(),X();var ja=x.__private__.getPageInfo=x.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[C].objId,pageNumber:C,pageContext:Ct[C]}},hc=x.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Ct)if(Ct[W].objId===C)break;return ja(W)},fd=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ct[H].objId,pageNumber:H,pageContext:Ct[H]}};x.addPage=function(){return qi.apply(this,arguments),this},x.setPage=function(){return cc.apply(this,arguments),ae.call(this,Ve[H]),this},x.insertPage=function(C){return this.addPage(),this.movePage(H,C),this},x.movePage=function(C,W){var he,we;if(C>W){he=Ve[C],we=Ct[C];for(var _e=C;_e>W;_e--)Ve[_e]=Ve[_e-1],Ct[_e]=Ct[_e-1];Ve[W]=he,Ct[W]=we,this.setPage(W)}else if(C<W){he=Ve[C],we=Ct[C];for(var Xe=C;Xe<W;Xe++)Ve[Xe]=Ve[Xe+1],Ct[Xe]=Ct[Xe+1];Ve[W]=he,Ct[W]=we,this.setPage(W)}return this},x.deletePage=function(){return Ac.apply(this,arguments),this},x.__private__.text=x.text=function(C,W,he,we,_e){var Xe,st,xt,jt,Ot,zt,Ns,ir,Br,Ks=(we=we||{}).scope||this;if(typeof C=="number"&&typeof W=="number"&&(typeof he=="string"||Array.isArray(he))){var zr=he;he=W,W=C,C=zr}if(arguments[3]instanceof Et==0?(xt=arguments[4],jt=arguments[5],Ps(Ns=arguments[3])==="object"&&Ns!==null||(typeof xt=="string"&&(jt=xt,xt=null),typeof Ns=="string"&&(jt=Ns,Ns=null),typeof Ns=="number"&&(xt=Ns,Ns=null),we={flags:Ns,angle:xt,align:jt})):(z("The transform parameter of text() with a Matrix value"),Br=_e),isNaN(W)||isNaN(he)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Ks;var Lr,oa="",Cn=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:Wi,qa=Ks.internal.scaleFactor;function wd(js){return js=js.split("	").join(Array(we.TabLen||9).join(" ")),un(js,Ns)}function oA(js){for(var xs,Gs=js.concat(),Cr=[],Si=Gs.length;Si--;)typeof(xs=Gs.shift())=="string"?Cr.push(xs):Array.isArray(js)&&(xs.length===1||xs[1]===void 0&&xs[2]===void 0)?Cr.push(xs[0]):Cr.push([xs[0],xs[1],xs[2]]);return Cr}function vo(js,xs){var Gs;if(typeof js=="string")Gs=xs(js)[0];else if(Array.isArray(js)){for(var Cr,Si,ai=js.concat(),jo=[],jc=ai.length;jc--;)typeof(Cr=ai.shift())=="string"?jo.push(xs(Cr)[0]):Array.isArray(Cr)&&typeof Cr[0]=="string"&&(Si=xs(Cr[0],Cr[1],Cr[2]),jo.push([Si[0],Si[1],Si[2]]));Gs=jo}return Gs}var vi=!1,ti=!0;if(typeof C=="string")vi=!0;else if(Array.isArray(C)){var wo=C.concat();st=[];for(var Ql,Aa=wo.length;Aa--;)(typeof(Ql=wo.shift())!="string"||Array.isArray(Ql)&&typeof Ql[0]!="string")&&(ti=!1);vi=ti}if(vi===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Tl=oe/Ks.internal.scaleFactor,Dl=Tl*(Cn-1);switch(we.baseline){case"bottom":he-=Dl;break;case"top":he+=Tl-Dl;break;case"hanging":he+=Tl-2*Dl;break;case"middle":he+=Tl/2-Dl}if((zt=we.maxWidth||0)>0&&(typeof C=="string"?C=Ks.splitTextToSize(C,zt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(js,xs){return js.concat(Ks.splitTextToSize(xs,zt))},[]))),Xe={text:C,x:W,y:he,options:we,mutex:{pdfEscape:un,activeFontKey:dt,fonts:rt,activeFontSize:oe}},ts.publish("preProcessText",Xe),C=Xe.text,xt=(we=Xe.options).angle,Br instanceof Et==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,we.rotationDirection===0&&(xt=-xt),T===E&&(xt=-xt);var AA=Math.cos(xt),wi=Math.sin(xt);Br=new Et(AA,wi,-wi,AA,0,0)}else xt&&xt instanceof Et&&(Br=xt);T!==E||Br||(Br=mi),(Ot=we.charSpace||Ji)!==void 0&&(oa+=K(R(Ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=we.horizontalScale)!==void 0&&(oa+=K(100*ir)+` Tz
`),we.lang;var hr=-1,rl=we.renderingMode!==void 0?we.renderingMode:we.stroke,cA=Ks.internal.getCurrentPageInfo().pageContext;switch(rl){case 0:case!1:case"fill":hr=0;break;case 1:case!0:case"stroke":hr=1;break;case 2:case"fillThenStroke":hr=2;break;case 3:case"invisible":hr=3;break;case 4:case"fillAndAddForClipping":hr=4;break;case 5:case"strokeAndAddPathForClipping":hr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hr=6;break;case 7:case"addToPathForClipping":hr=7}var wc=cA.usedRenderingMode!==void 0?cA.usedRenderingMode:-1;hr!==-1?oa+=hr+` Tr
`:wc!==-1&&(oa+=`0 Tr
`),hr!==-1&&(cA.usedRenderingMode=hr),jt=we.align||"left";var pn,si=oe*Cn,al=Ks.internal.pageSize.getWidth(),Nc=rt[dt];Ot=we.charSpace||Ji,zt=we.maxWidth||0,Ns=Object.assign({autoencode:!0,noBOM:!0},we.flags);var ri=[],Il=function(js){return Ks.getStringUnitWidth(js,{font:Nc,charSpace:Ot,fontSize:oe,doKerning:!1})*oe/qa};if(Object.prototype.toString.call(C)==="[object Array]"){var $a;st=oA(C),jt!=="left"&&(pn=st.map(Il));var Da,Ni=0;if(jt==="right"){W-=pn[0],C=[],Aa=st.length;for(var ji=0;ji<Aa;ji++)ji===0?(Da=fn(W),$a=la(he)):(Da=R(Ni-pn[ji]),$a=-si),C.push([st[ji],Da,$a]),Ni=pn[ji]}else if(jt==="center"){W-=pn[0]/2,C=[],Aa=st.length;for(var nl=0;nl<Aa;nl++)nl===0?(Da=fn(W),$a=la(he)):(Da=R((Ni-pn[nl])/2),$a=-si),C.push([st[nl],Da,$a]),Ni=pn[nl]}else if(jt==="left"){C=[],Aa=st.length;for(var dA=0;dA<Aa;dA++)C.push(st[dA])}else if(jt==="justify"&&Nc.encoding==="Identity-H"){C=[],Aa=st.length,zt=zt!==0?zt:al;for(var uA=0,_r=0;_r<Aa;_r++)if($a=_r===0?la(he):-si,Da=_r===0?fn(W):uA,_r<Aa-1){var Nd=R((zt-pn[_r])/(st[_r].split(" ").length-1)),Bi=st[_r].split(" ");C.push([Bi[0]+" ",Da,$a]),uA=0;for(var _i=1;_i<Bi.length;_i++){var ca=(Il(Bi[_i-1]+" "+Bi[_i])-Il(Bi[_i]))*qa+Nd;_i==Bi.length-1?C.push([Bi[_i],ca,0]):C.push([Bi[_i]+" ",ca,0]),uA-=ca}}else C.push([st[_r],Da,$a]);C.push(["",uA,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Aa=st.length,zt=zt!==0?zt:al,_r=0;_r<Aa;_r++){$a=_r===0?la(he):-si,Da=_r===0?fn(W):0;var il=st[_r].split(" ").length-1,hA=il>0?(zt-pn[_r])/il:0;_r<Aa-1?ri.push(K(R(hA))):ri.push(0),C.push([st[_r],Da,$a])}}}(typeof we.R2L=="boolean"?we.R2L:ze)===!0&&(C=vo(C,function(js,xs,Gs){return[js.split("").reverse().join(""),xs,Gs]})),Xe={text:C,x:W,y:he,options:we,mutex:{pdfEscape:un,activeFontKey:dt,fonts:rt,activeFontSize:oe}},ts.publish("postProcessText",Xe),C=Xe.text,Lr=Xe.mutex.isHex||!1;var fA=rt[dt].encoding;fA!=="WinAnsiEncoding"&&fA!=="StandardEncoding"||(C=vo(C,function(js,xs,Gs){return[wd(js),xs,Gs]})),st=oA(C),C=[];for(var ll,ol,Ci,No=Array.isArray(st[0])?1:0,xn="",Al=function(js,xs,Gs){var Cr="";return Gs instanceof Et?(Gs=typeof we.angle=="number"?Gi(Gs,new Et(1,0,0,1,js,xs)):Gi(new Et(1,0,0,1,js,xs),Gs),T===E&&(Gs=Gi(new Et(1,0,0,-1,0,0),Gs)),Cr=Gs.join(" ")+` Tm
`):Cr=K(js)+" "+K(xs)+` Td
`,Cr},Ba=0;Ba<st.length;Ba++){switch(xn="",No){case 1:Ci=(Lr?"<":"(")+st[Ba][0]+(Lr?">":")"),ll=parseFloat(st[Ba][1]),ol=parseFloat(st[Ba][2]);break;case 0:Ci=(Lr?"<":"(")+st[Ba]+(Lr?">":")"),ll=fn(W),ol=la(he)}ri!==void 0&&ri[Ba]!==void 0&&(xn=ri[Ba]+` Tw
`),Ba===0?C.push(xn+Al(ll,ol,Br)+Ci):No===0?C.push(xn+Ci):No===1&&C.push(xn+Al(ll,ol,Br)+Ci)}C=No===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Sn=`BT
/`;return Sn+=dt+" "+oe+` Tf
`,Sn+=K(oe*Cn)+` TL
`,Sn+=xi+`
`,Sn+=oa,Sn+=C,Y(Sn+="ET"),b[dt]=!0,Ks};var fc=x.__private__.clip=x.clip=function(C){return Y(C==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return fc("evenodd")},x.__private__.discardPath=x.discardPath=function(){return Y("n"),this};var Ta=x.__private__.isValidStyle=function(C){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(W=!0),W};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(C){return Ta(C)&&(h=C),this};var mc=x.__private__.getStyle=x.getStyle=function(C){var W=h;switch(C){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=C}return W},gc=x.close=function(){return Y("h"),this};x.stroke=function(){return Y("S"),this},x.fill=function(C){return hn("f",C),this},x.fillEvenOdd=function(C){return hn("f*",C),this},x.fillStroke=function(C){return hn("B",C),this},x.fillStrokeEvenOdd=function(C){return hn("B*",C),this};var hn=function(C,W){Ps(W)==="object"?gd(W,C):Y(C)},pc=function(C){C===null||T===E&&C===void 0||(C=mc(C),Y(C))};function md(C,W,he,we,_e){var Xe=new $c(W||this.boundingBox,he||this.xStep,we||this.yStep,this.gState,_e||this.matrix);Xe.stream=this.stream;var st=C+"$$"+this.cloneIndex+++"$$";return An(st,Xe),Xe}var gd=function(C,W){var he=Lt[C.key],we=it[he];if(we instanceof KA)Y("q"),Y(xc(W)),we.gState&&x.setGState(we.gState),Y(C.matrix.toString()+" cm"),Y("/"+he+" sh"),Y("Q");else if(we instanceof $c){var _e=new Et(1,0,0,-1,0,sl());C.matrix&&(_e=_e.multiply(C.matrix||mi),he=md.call(we,C.key,C.boundingBox,C.xStep,C.yStep,_e).id),Y("q"),Y("/Pattern cs"),Y("/"+he+" scn"),we.gState&&x.setGState(we.gState),Y(W),Y("Q")}},xc=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bc=x.moveTo=function(C,W){return Y(K(R(C))+" "+K(P(W))+" m"),this},fo=x.lineTo=function(C,W){return Y(K(R(C))+" "+K(P(W))+" l"),this},Zn=x.curveTo=function(C,W,he,we,_e,Xe){return Y([K(R(C)),K(P(W)),K(R(he)),K(P(we)),K(R(_e)),K(P(Xe)),"c"].join(" ")),this};x.__private__.line=x.line=function(C,W,he,we,_e){if(isNaN(C)||isNaN(W)||isNaN(he)||isNaN(we)||!Ta(_e))throw new Error("Invalid arguments passed to jsPDF.line");return T===Q?this.lines([[he-C,we-W]],C,W,[1,1],_e||"S"):this.lines([[he-C,we-W]],C,W,[1,1]).stroke()},x.__private__.lines=x.lines=function(C,W,he,we,_e,Xe){var st,xt,jt,Ot,zt,Ns,ir,Br,Ks,zr,Lr,oa;if(typeof C=="number"&&(oa=he,he=W,W=C,C=oa),we=we||[1,1],Xe=Xe||!1,isNaN(W)||isNaN(he)||!Array.isArray(C)||!Array.isArray(we)||!Ta(_e)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bc(W,he),st=we[0],xt=we[1],Ot=C.length,zr=W,Lr=he,jt=0;jt<Ot;jt++)(zt=C[jt]).length===2?(zr=zt[0]*st+zr,Lr=zt[1]*xt+Lr,fo(zr,Lr)):(Ns=zt[0]*st+zr,ir=zt[1]*xt+Lr,Br=zt[2]*st+zr,Ks=zt[3]*xt+Lr,zr=zt[4]*st+zr,Lr=zt[5]*xt+Lr,Zn(Ns,ir,Br,Ks,zr,Lr));return Xe&&gc(),pc(_e),this},x.path=function(C){for(var W=0;W<C.length;W++){var he=C[W],we=he.c;switch(he.op){case"m":bc(we[0],we[1]);break;case"l":fo(we[0],we[1]);break;case"c":Zn.apply(this,we);break;case"h":gc()}}return this},x.__private__.rect=x.rect=function(C,W,he,we,_e){if(isNaN(C)||isNaN(W)||isNaN(he)||isNaN(we)||!Ta(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return T===Q&&(we=-we),Y([K(R(C)),K(P(W)),K(R(he)),K(R(we)),"re"].join(" ")),pc(_e),this},x.__private__.triangle=x.triangle=function(C,W,he,we,_e,Xe,st){if(isNaN(C)||isNaN(W)||isNaN(he)||isNaN(we)||isNaN(_e)||isNaN(Xe)||!Ta(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-C,we-W],[_e-he,Xe-we],[C-_e,W-Xe]],C,W,[1,1],st,!0),this},x.__private__.roundedRect=x.roundedRect=function(C,W,he,we,_e,Xe,st){if(isNaN(C)||isNaN(W)||isNaN(he)||isNaN(we)||isNaN(_e)||isNaN(Xe)||!Ta(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*he),Xe=Math.min(Xe,.5*we),this.lines([[he-2*_e,0],[_e*xt,0,_e,Xe-Xe*xt,_e,Xe],[0,we-2*Xe],[0,Xe*xt,-_e*xt,Xe,-_e,Xe],[2*_e-he,0],[-_e*xt,0,-_e,-Xe*xt,-_e,-Xe],[0,2*Xe-we],[0,-Xe*xt,_e*xt,-Xe,_e,-Xe]],C+_e,W,[1,1],st,!0),this},x.__private__.ellipse=x.ellipse=function(C,W,he,we,_e){if(isNaN(C)||isNaN(W)||isNaN(he)||isNaN(we)||!Ta(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*he,st=4/3*(Math.SQRT2-1)*we;return bc(C+he,W),Zn(C+he,W-st,C+Xe,W-we,C,W-we),Zn(C-Xe,W-we,C-he,W-st,C-he,W),Zn(C-he,W+st,C-Xe,W+we,C,W+we),Zn(C+Xe,W+we,C+he,W+st,C+he,W),pc(_e),this},x.__private__.circle=x.circle=function(C,W,he,we){if(isNaN(C)||isNaN(W)||isNaN(he)||!Ta(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,W,he,he,we)},x.setFont=function(C,W,he){return he&&(W=q(W,he)),dt=hd(C,W,{disableWarning:!1}),this};var ei=x.__private__.getFont=x.getFont=function(){return rt[hd.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var C,W,he={};for(C in vt)if(vt.hasOwnProperty(C))for(W in he[C]=[],vt[C])vt[C].hasOwnProperty(W)&&he[C].push(W);return he},x.addFont=function(C,W,he,we,_e){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(he=q(he,we)),oc.call(this,C,W,he,_e=_e||"Identity-H")};var Wi,mo=t.lineWidth||.200025,It=x.__private__.getLineWidth=x.getLineWidth=function(){return mo},kl=x.__private__.setLineWidth=x.setLineWidth=function(C){return mo=C,Y(K(R(C))+" w"),this};x.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(C,W){if(C=C||[],W=W||0,isNaN(W)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(he){return K(R(he))}).join(" "),W=K(R(W)),Y("["+C+"] "+W+" d"),this};var pd=x.__private__.getLineHeight=x.getLineHeight=function(){return oe*Wi};x.__private__.getLineHeight=x.getLineHeight=function(){return oe*Wi};var yc=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(Wi=C),this},xd=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Wi};yc(t.lineHeight);var fn=x.__private__.getHorizontalCoordinate=function(C){return R(C)},la=x.__private__.getVerticalCoordinate=function(C){return T===E?C:Ct[H].mediaBox.topRightY-Ct[H].mediaBox.bottomLeftY-R(C)},vc=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(C){return K(fn(C))},go=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(C){return K(la(C))},mn=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return nr(mn)},x.__private__.setStrokeColor=x.setDrawColor=function(C,W,he,we){return mn=Na({ch1:C,ch2:W,ch3:he,ch4:we,pdfColorType:"draw",precision:2}),Y(mn),this};var po=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return nr(po)},x.__private__.setFillColor=x.setFillColor=function(C,W,he,we){return po=Na({ch1:C,ch2:W,ch3:he,ch4:we,pdfColorType:"fill",precision:2}),Y(po),this};var xi=t.textColor||"0 g",xo=x.__private__.getTextColor=x.getTextColor=function(){return nr(xi)};x.__private__.setTextColor=x.setTextColor=function(C,W,he,we){return xi=Na({ch1:C,ch2:W,ch3:he,ch4:we,pdfColorType:"text",precision:3}),this};var Ji=t.charSpace,nA=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Ji||0)};x.__private__.setCharSpace=x.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ji=C,this};var iA=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(C){var W=x.CapJoinStyles[C];if(W===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iA=W,Y(W+" J"),this};var ta=0;x.__private__.setLineJoin=x.setLineJoin=function(C){var W=x.CapJoinStyles[C];if(W===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ta=W,Y(W+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(K(R(C))+" M"),this},x.GState=Qf,x.setGState=function(C){(C=typeof C=="string"?St[us[C]]:gn(null,C)).equals(ls)||(Y("/"+C.id+" gs"),ls=C)};var gn=function(C,W){if(!C||!us[C]){var he=!1;for(var we in St)if(St.hasOwnProperty(we)&&St[we].equals(W)){he=!0;break}if(he)W=St[we];else{var _e="GS"+(Object.keys(St).length+1).toString(10);St[_e]=W,W.id=_e}return C&&(us[C]=W.id),ts.publish("addGState",W),W}};x.addGState=function(C,W){return gn(C,W),this},x.saveGraphicsState=function(){return Y("q"),Tt.push({key:dt,size:oe,color:xi}),this},x.restoreGraphicsState=function(){Y("Q");var C=Tt.pop();return dt=C.key,oe=C.size,xi=C.color,ls=null,this},x.setCurrentTransformationMatrix=function(C){return Y(C.toString()+" cm"),this},x.comment=function(C){return Y("#"+C),this};var bi=function(C,W){var he=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Xe){isNaN(Xe)||(he=parseFloat(Xe))}});var we=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function(Xe){isNaN(Xe)||(we=parseFloat(Xe))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Xe){_e=Xe.toString()}}),this},Zi=function(C,W,he,we){bi.call(this,C,W),this.type="rect";var _e=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(st){isNaN(st)||(_e=parseFloat(st))}});var Xe=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(st){isNaN(st)||(Xe=parseFloat(st))}}),this},lA=function(){this.page=Dt,this.currentPage=H,this.pages=Ve.slice(0),this.pagesContext=Ct.slice(0),this.x=ye,this.y=es,this.matrix=Qt,this.width=Ll(H),this.height=yi(H),this.outputDestination=Ke,this.id="",this.objectNumber=-1};lA.prototype.restore=function(){Dt=this.page,H=this.currentPage,Ct=this.pagesContext,Ve=this.pages,ye=this.x,es=this.y,Qt=this.matrix,yo(H,this.width),tl(H,this.height),Ke=this.outputDestination};var bo=function(C,W,he,we,_e){Zr.push(new lA),Dt=H=0,Ve=[],ye=C,es=W,Qt=_e,Jn([he,we])};for(var el in x.beginFormObject=function(C,W,he,we,_e){return bo(C,W,he,we,_e),this},x.endFormObject=function(C){return function(W){if(ps[W])Zr.pop().restore();else{var he=new lA,we="Xo"+(Object.keys(wr).length+1).toString(10);he.id=we,ps[W]=we,wr[we]=he,ts.publish("addFormObject",he),Zr.pop().restore()}}(C),this},x.doFormObject=function(C,W){var he=wr[ps[C]];return Y("q"),Y(W.toString()+" cm"),Y("/"+he.id+" Do"),Y("Q"),this},x.getFormObject=function(C){var W=wr[ps[C]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},x.save=function(C,W){return C=C||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Pc(Yi(Xi()),C),typeof Pc.unload=="function"&&Vt.setTimeout&&setTimeout(Pc.unload,911),this):new Promise(function(he,we){try{var _e=Pc(Yi(Xi()),C);typeof Pc.unload=="function"&&Vt.setTimeout&&setTimeout(Pc.unload,911),he(_e)}catch(Xe){we(Xe.message)}})},Nt.API)Nt.API.hasOwnProperty(el)&&(el==="events"&&Nt.API.events.length?function(C,W){var he,we,_e;for(_e=W.length-1;_e!==-1;_e--)he=W[_e][0],we=W[_e][1],C.subscribe.apply(C,[he].concat(typeof we=="function"?[we]:we))}(ts,Nt.API.events):x[el]=Nt.API[el]);function Ll(C){return Ct[C].mediaBox.topRightX-Ct[C].mediaBox.bottomLeftX}function yo(C,W){Ct[C].mediaBox.topRightX=W+Ct[C].mediaBox.bottomLeftX}function yi(C){return Ct[C].mediaBox.topRightY-Ct[C].mediaBox.bottomLeftY}function tl(C,W){Ct[C].mediaBox.topRightY=W+Ct[C].mediaBox.bottomLeftY}var bd=x.getPageWidth=function(C){return Ll(C=C||H)/At},yd=x.setPageWidth=function(C,W){yo(C,W*At)},sl=x.getPageHeight=function(C){return yi(C=C||H)/At},vd=x.setPageHeight=function(C,W){tl(C,W*At)};return x.internal={pdfEscape:un,getStyle:mc,getFont:ei,getFontSize:Ee,getCharSpace:nA,getTextColor:xo,getLineHeight:pd,getLineHeightFactor:xd,getLineWidth:It,write:xe,getHorizontalCoordinate:fn,getVerticalCoordinate:la,getCoordinateString:vc,getVerticalCoordinateString:go,collections:{},newObject:rr,newAdditionalObject:Fl,newObjectDeferred:kr,newObjectDeferredBegin:ea,getFilters:dn,putStream:Bn,events:ts,scaleFactor:At,pageSize:{getWidth:function(){return bd(H)},setWidth:function(C){yd(H,C)},getHeight:function(){return sl(H)},setHeight:function(C){vd(H,C)}},encryptionOptions:f,encryption:jr,getEncryptor:function(C){return f!==null?jr.encryptor(C,0):function(W){return W}},output:_n,getNumberOfPages:dc,pages:Ve,out:Y,f2:D,f3:L,getPageInfo:ja,getPageInfoByObjId:hc,getCurrentPageInfo:fd,getPDFVersion:B,Point:bi,Rectangle:Zi,Matrix:Et,hasHotfix:pi},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return bd(H)},set:function(C){yd(H,C)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return sl(H)},set:function(C){vd(H,C)},enumerable:!0,configurable:!0}),(function(C){for(var W=0,he=ve.length;W<he;W++){var we=oc.call(this,C[W][0],C[W][1],C[W][2],ve[W][3],!0);g===!1&&(b[we]=!0);var _e=C[W][0].split("-");Nr({id:we,fontName:_e[0],fontStyle:_e[1]||""})}ts.publish("addFonts",{fonts:rt,dictionary:vt})}).call(x,ve),dt="F1",qi(i,r),ts.publish("initialized"),x}pu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},pu.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pu.prototype.hexToBytes=function(t){for(var s=[],r=0;r<t.length;r+=2)s.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return s.join("")},pu.prototype.processOwnerPassword=function(t,s){return zy(Vy(s).substr(0,5),t)},pu.prototype.encryptor=function(t,s){var r=Vy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(a){return zy(r,a)}},Qf.prototype.equals=function(t){var s,r="id,objectNumber,equals";if(!t||Ps(t)!==Ps(this))return!1;var a=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;a++}for(s in t)t.hasOwnProperty(s)&&r.indexOf(s)<0&&a--;return a===0},Nt.API={events:[]},Nt.version="3.0.3";var Hr=Nt.API,sv=1,ud=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xt=function(t){return t.toFixed(2)},RA=function(t){return t.toFixed(5)};Hr.__acroform__={};var qn=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},wB=function(t){return t*sv},to=function(t){var s=new U6,r=yt.internal.getHeight(t)||0,a=yt.internal.getWidth(t)||0;return s.BBox=[0,0,Number(Xt(a)),Number(Xt(r))],s},tK=Hr.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<s},sK=Hr.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<s)},rK=Hr.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<s?1:0},Xr=Hr.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rK(t,s-1)},Yr=Hr.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tK(t,s-1)},Wr=Hr.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sK(t,s-1)},aK=Hr.__acroform__.calculateCoordinates=function(t,s){var r=s.internal.getHorizontalCoordinate,a=s.internal.getVerticalCoordinate,i=t[0],o=t[1],c=t[2],A=t[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=a(o+A)||0,u.upperRight_X=r(i+c)||0,u.upperRight_Y=a(o)||0,[Number(Xt(u.lowerLeft_X)),Number(Xt(u.lowerLeft_Y)),Number(Xt(u.upperRight_X)),Number(Xt(u.upperRight_Y))]},nK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],r=t._V||t.DV,a=Ky(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+i+" "+Xt(a.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC");var o=to(t);return o.scope=t.scope,o.stream=s.join(`
`),o}},Ky=function(t,s){var r=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var o=r,c=yt.internal.getHeight(t)||0;c=c<0?-c:c;var A=yt.internal.getWidth(t)||0;A=A<0?-A:A;var u=function(D,L,R){if(D+1<i.length){var P=L+" "+i[D+1][0];return B0(P,t,R).width<=A-4}return!1};o++;e:for(;o>0;){s="",o--;var h,f,g=B0("3",t,o).height,b=t.multiline?c-o:(c-g)/2,x=b+=2,w=0,B=0,j=0;if(o<=0){s=`(...) Tj
`,s+="% Width of Text: "+B0(s,t,o=12).width+", FieldWidth:"+A+`
`;break}for(var _="",Q=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var T=!1;if(i[E].length!==1&&j!==i[E].length-1){if((g+2)*(Q+2)+2>c)continue e;_+=i[E][j],T=!0,B=E,E--}else{_=(_+=i[E][j]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var U=parseInt(E),k=u(U,_,o),q=E>=i.length-1;if(k&&!q){_+=" ",j=0;continue}if(k||q){if(q)B=U;else if(t.multiline&&(g+2)*(Q+2)+2>c)continue e}else{if(!t.multiline||(g+2)*(Q+2)+2>c)continue e;B=U}}for(var K="",z=w;z<=B;z++){var $=i[z];if(t.multiline){if(z===B){K+=$[j]+" ",j=(j+1)%$.length;continue}if(z===w){K+=$[$.length-1]+" ";continue}}K+=$[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,f=B0(K,t,o).width,t.textAlign){case"right":h=A-f-2;break;case"center":h=(A-f)/2;break;default:h=2}s+=Xt(h)+" "+Xt(x)+` Td
`,s+="("+ud(K)+`) Tj
`,s+=-Xt(h)+` 0 Td
`,x=-(o+2),f=0,w=T?B:B+1,Q++,_=""}break}return a.text=s,a.fontSize=o,a},B0=function(t,s,r){var a=s.scope.internal.getFont(s.fontName,s.fontStyle),i=s.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},iK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lK=function(t,s){var r={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(r)},oK=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Sl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(iK)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new k6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];o.objId=void 0,o.hasAnnotation&&lK(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(a,i){var o=!a;for(var c in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var A=a[c],u=[],h=A.Rect;if(A.Rect&&(A.Rect=aK(A.Rect,i)),i.internal.newObjectDeferredBegin(A.objId,!0),A.DA=yt.createDefaultAppearanceStream(A),Ps(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(u=A.getKeyValueListForStream()),A.Rect=h,A.hasAppearanceStream&&!A.appearanceStreamContent){var f=nK(A);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(A.appearanceStreamContent){var g="";for(var b in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(b)){var x=A.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var w=x[c];typeof w=="function"&&(w=w.call(i,A)),g+="/"+c+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=x)=="function"&&(w=w.call(i,A)),g+="/"+c+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:A.objId}),i.internal.out("endobj")}o&&function(B,j){for(var _ in B)if(B.hasOwnProperty(_)){var Q=_,E=B[_];j.internal.newObjectDeferredBegin(E.objId,!0),Ps(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete B[Q]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},F6=Hr.__acroform__.arrayToPdfArray=function(t,s,r){var a=function(c){return c};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Ps(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(s!==void 0&&r&&(a=r.internal.getEncryptor(s)),i+="("+ud(a(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vb=function(t,s,r){var a=function(i){return i};return s!==void 0&&r&&(a=r.internal.getEncryptor(s)),(t=t||"").toString(),"("+ud(a(t))+")"},ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ro.prototype.toString=function(){return this.objId+" 0 R"},ro.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ro.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var a=s[r],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:F6(i,this.objId,this.scope)}):i instanceof ro?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var U6=function(){ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};qn(U6,ro);var k6=function(){ro.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ud(r(t))+")"}},set:function(r){t=r}})};qn(k6,ro);var Sl=function t(){ro.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');s=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xr(s,3)},set:function(_){_?this.F=Yr(s,3):this.F=Wr(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(_){a=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(_){a[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(_){a[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(_){a[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(_){a[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof yg)return;o="FieldObject"+t.FieldNum++}var _=function(Q){return Q};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ud(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(_){A=_}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/sv:h},set:function(_){h=_}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof yg||this instanceof ec))return vb(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof xa==0?vb(b,this.objId,this.scope):b},set:function(_){_=_.toString(),b=this instanceof xa==0?_.substr(0,1)==="("?uu(_.substr(1,_.length-2)):uu(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa==1?uu(b.substr(1,b.length-1)):b},set:function(_){_=_.toString(),b=this instanceof xa==1?"/"+_:_}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof xa==0?vb(x,this.objId,this.scope):x},set:function(_){_=_.toString(),x=this instanceof xa==0?_.substr(0,1)==="("?uu(_.substr(1,_.length-2)):uu(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa==1?uu(x.substr(1,x.length-1)):x},set:function(_){_=_.toString(),x=this instanceof xa==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,B=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return B},set:function(_){_=!!_,B=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(_){w=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,1)},set:function(_){_?this.Ff=Yr(this.Ff,1):this.Ff=Wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,2)},set:function(_){_?this.Ff=Yr(this.Ff,2):this.Ff=Wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,3)},set:function(_){_?this.Ff=Yr(this.Ff,3):this.Ff=Wr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');j=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(j){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};qn(Sl,ro);var td=function(){Sl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F6(s,this.objId,this.scope)},set:function(r){var a,i;i=[],typeof(a=r)=="string"&&(i=function(o,c,A){A||(A=1);for(var u,h=[];u=c.exec(o);)h.push(u[A]);return h}(a,/\((.*?)\)/g)),s=i}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,18)},set:function(r){r?this.Ff=Yr(this.Ff,18):this.Ff=Wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Yr(this.Ff,19):this.Ff=Wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,20)},set:function(r){r?(this.Ff=Yr(this.Ff,20),s.sort()):this.Ff=Wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,22)},set:function(r){r?this.Ff=Yr(this.Ff,22):this.Ff=Wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(r){r?this.Ff=Yr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,27)},set:function(r){r?this.Ff=Yr(this.Ff,27):this.Ff=Wr(this.Ff,27)}}),this.hasAppearanceStream=!1};qn(td,Sl);var sd=function(){td.call(this),this.fontName="helvetica",this.combo=!1};qn(sd,td);var rd=function(){sd.call(this),this.combo=!0};qn(rd,sd);var gf=function(){rd.call(this),this.edit=!0};qn(gf,rd);var xa=function(){Sl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,15)},set:function(r){r?this.Ff=Yr(this.Ff,15):this.Ff=Wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,16)},set:function(r){r?this.Ff=Yr(this.Ff,16):this.Ff=Wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,17)},set:function(r){r?this.Ff=Yr(this.Ff,17):this.Ff=Wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(r){r?this.Ff=Yr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var a,i=[];for(a in i.push("<<"),s)i.push("/"+a+" ("+ud(r(s[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ps(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};qn(xa,Sl);var pf=function(){xa.call(this),this.pushButton=!0};qn(pf,xa);var ad=function(){xa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};qn(ad,xa);var yg=function(){var t,s;Sl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(i){s=i}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(A){return A};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),a)c.push("/"+o+" ("+ud(i(a[o]))+")");return c.push(">>"),c.join(`
`)},set:function(i){Ps(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qn(yg,Sl),ad.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ad.prototype.createOption=function(t){var s=new yg;return s.Parent=this,s.optionName=t,this.Kids.push(s),AK.call(this.scope,s),s};var xf=function(){xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};qn(xf,xa);var ec=function(){Sl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,13)},set:function(s){s?this.Ff=Yr(this.Ff,13):this.Ff=Wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,21)},set:function(s){s?this.Ff=Yr(this.Ff,21):this.Ff=Wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,23)},set:function(s){s?this.Ff=Yr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,24)},set:function(s){s?this.Ff=Yr(this.Ff,24):this.Ff=Wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,25)},set:function(s){s?this.Ff=Yr(this.Ff,25):this.Ff=Wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,26)},set:function(s){s?this.Ff=Yr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qn(ec,Sl);var bf=function(){ec.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xr(this.Ff,14)},set:function(t){t?this.Ff=Yr(this.Ff,14):this.Ff=Wr(this.Ff,14)}}),this.password=!0};qn(bf,ec);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var r=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Ky(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Xt(yt.internal.getWidth(t))+" "+Xt(yt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Xt(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(t){var s=to(t);s.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],o=yt.internal.getHeight(t),c=yt.internal.getWidth(t),A=Ky(t,t.caption);return i.push("1 g"),i.push("0 0 "+Xt(c)+" "+Xt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Xt(c-1)+" "+Xt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Xt(A.fontSize)+" Tf "+a),i.push(A.text),i.push("ET"),i.push("Q"),s.stream=i.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(yt.internal.getWidth(t))+" "+Xt(yt.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=yt.RadioButton.Circle.YesNormal,s.D[t]=yt.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=to(t);s.scope=t.scope;var r=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=yt.internal.Bezier_C,o=Number((a*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+RA(yt.internal.getWidth(t)/2)+" "+RA(yt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var r=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*yt.internal.Bezier_C).toFixed(5)),c=Number((a*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+RA(yt.internal.getWidth(t)/2)+" "+RA(yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+RA(yt.internal.getWidth(t)/2)+" "+RA(yt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),r.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),r.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),r.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var r=[],a=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),o=Number((i*yt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+RA(yt.internal.getWidth(t)/2)+" "+RA(yt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=yt.RadioButton.Cross.YesNormal,s.D[t]=yt.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=to(t);s.scope=t.scope;var r=[],a=yt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Xt(yt.internal.getWidth(t)-2)+" "+Xt(yt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Xt(a.x1.x)+" "+Xt(a.x1.y)+" m"),r.push(Xt(a.x2.x)+" "+Xt(a.x2.y)+" l"),r.push(Xt(a.x4.x)+" "+Xt(a.x4.y)+" m"),r.push(Xt(a.x3.x)+" "+Xt(a.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=to(t);s.scope=t.scope;var r=yt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Xt(yt.internal.getWidth(t))+" "+Xt(yt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Xt(yt.internal.getWidth(t)-2)+" "+Xt(yt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Xt(r.x1.x)+" "+Xt(r.x1.y)+" m"),a.push(Xt(r.x2.x)+" "+Xt(r.x2.y)+" l"),a.push(Xt(r.x4.x)+" "+Xt(r.x4.y)+" m"),a.push(Xt(r.x3.x)+" "+Xt(r.x3.y)+" l"),a.push("s"),a.push("Q"),s.stream=a.join(`
`),s},OffPushDown:function(t){var s=to(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xt(yt.internal.getWidth(t))+" "+Xt(yt.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+r}};yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=yt.internal.getWidth(t),r=yt.internal.getHeight(t),a=Math.min(s,r);return{x1:{x:(s-a)/2,y:(r-a)/2+a},x2:{x:(s-a)/2+a,y:(r-a)/2},x3:{x:(s-a)/2,y:(r-a)/2},x4:{x:(s-a)/2+a,y:(r-a)/2+a}}}},yt.internal.getWidth=function(t){var s=0;return Ps(t)==="object"&&(s=wB(t.Rect[2])),s},yt.internal.getHeight=function(t){var s=0;return Ps(t)==="object"&&(s=wB(t.Rect[3])),s};var AK=Hr.addField=function(t){if(oK(this,t),!(t instanceof Sl))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hr.AcroFormChoiceField=td,Hr.AcroFormListBox=sd,Hr.AcroFormComboBox=rd,Hr.AcroFormEditBox=gf,Hr.AcroFormButton=xa,Hr.AcroFormPushButton=pf,Hr.AcroFormRadioButton=ad,Hr.AcroFormCheckBox=xf,Hr.AcroFormTextField=ec,Hr.AcroFormPasswordField=bf,Hr.AcroFormAppearance=yt,Hr.AcroForm={ChoiceField:td,ListBox:sd,ComboBox:rd,EditBox:gf,Button:xa,PushButton:pf,RadioButton:ad,CheckBox:xf,TextField:ec,PasswordField:bf,Appearance:yt},Nt.AcroForm={ChoiceField:td,ListBox:sd,ComboBox:rd,EditBox:gf,Button:xa,PushButton:pf,RadioButton:ad,CheckBox:xf,TextField:ec,PasswordField:bf,Appearance:yt};var cK=Nt.AcroForm;function L6(t){return t.reduce(function(s,r,a){return s[r]=a,s},{})}(function(t){var s="addImage_";t.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(D,L){var R,P,re,I,G,X=r;if((L=L||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(k(D))for(G in a)for(re=a[G],R=0;R<re.length;R+=1){for(I=!0,P=0;P<re[R].length;P+=1)if(re[R][P]!==void 0&&re[R][P]!==D[P]){I=!1;break}if(I===!0){X=G;break}}else for(G in a)for(re=a[G],R=0;R<re.length;R+=1){for(I=!0,P=0;P<re[R].length;P+=1)if(re[R][P]!==void 0&&re[R][P]!==D.charCodeAt(P)){I=!1;break}if(I===!0){X=G;break}}return X===r&&L!==r&&(X=L),X},o=function D(L){for(var R=this.internal.write,P=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var I=[];if(I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Image"}),I.push({key:"Width",value:L.width}),I.push({key:"Height",value:L.height}),L.colorSpace===_.INDEXED?I.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(I.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===_.DEVICE_CMYK&&I.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),I.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&I.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var G="",X=0,ie=L.transparency.length;X<ie;X++)G+=L.transparency[X]+" "+L.transparency[X]+" ";I.push({key:"Mask",value:"["+G+"]"})}L.sMask!==void 0&&I.push({key:"SMask",value:L.objectId+1+" 0 R"});var ge=L.filter!==void 0?["/"+L.filter]:void 0;if(P({data:L.data,additionalKeyValues:I,alreadyAppliedFilters:ge,objectId:L.objectId}),R("endobj"),"sMask"in L&&L.sMask!==void 0){var ee,M=(ee=L.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:L.bitsPerComponent,H={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:L.sMask};"filter"in L&&(H.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(L.width),H.filter=L.filter),D.call(this,H)}if(L.colorSpace===_.INDEXED){var Z=this.internal.newObject();P({data:K(new Uint8Array(L.palette)),objectId:Z}),R("endobj")}},c=function(){var D=this.internal.collections[s+"images"];for(var L in D)o.call(this,D[L])},A=function(){var D,L=this.internal.collections[s+"images"],R=this.internal.write;for(var P in L)R("/I"+(D=L[P]).index,D.objectId,"0","R")},u=function(){this.internal.collections[s+"images"]||(this.internal.collections[s+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",A))},h=function(){var D=this.internal.collections[s+"images"];return u.call(this),D},f=function(){return Object.keys(this.internal.collections[s+"images"]).length},g=function(D){return typeof t["process"+D.toUpperCase()]=="function"},b=function(D){return Ps(D)==="object"&&D.nodeType===1},x=function(D,L){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var R=""+D.getAttribute("src");if(R.indexOf("data:image/")===0)return X0(unescape(R).split("base64,").pop());var P=t.loadFile(R,!0);if(P!==void 0)return P}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var re;switch(L){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return X0(D.toDataURL(re,1).split("base64,").pop())}},w=function(D){var L=this.internal.collections[s+"images"];if(L){for(var R in L)if(D===L[R].alias)return L[R]}},B=function(D,L,R){return D||L||(D=-96,L=-96),D<0&&(D=-1*R.width*72/D/this.internal.scaleFactor),L<0&&(L=-1*R.height*72/L/this.internal.scaleFactor),D===0&&(D=L*R.width/R.height),L===0&&(L=D*R.height/R.width),[D,L]},j=function(D,L,R,P,re,I){var G=B.call(this,R,P,re),X=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ge=h.call(this);if(R=G[0],P=G[1],ge[re.index]=re,I){I*=Math.PI/180;var ee=Math.cos(I),M=Math.sin(I),H=function(Ae){return Ae.toFixed(4)},Z=[H(ee),H(M),H(-1*M),H(ee),0,0,"cm"]}this.internal.write("q"),I?(this.internal.write([1,"0","0",1,X(D),ie(L+P),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([X(R),"0","0",X(P),"0","0","cm"].join(" "))):this.internal.write([X(R),"0","0",X(P),X(D),ie(L+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(D){var L,R,P=0;if(typeof D=="string")for(R=D.length,L=0;L<R;L++)P=(P<<5)-P+D.charCodeAt(L),P|=0;else if(k(D))for(R=D.byteLength/2,L=0;L<R;L++)P=(P<<5)-P+D[L],P|=0;return P},T=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var L=!0;return D.length===0&&(L=!1),D.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(L=!1),L},U=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var L=D.indexOf(",");return L<0?null:D.substring(0,L).trim().endsWith("base64")?D.substring(L+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},q=t.__addimage__.binaryStringToUint8Array=function(D){for(var L=D.length,R=new Uint8Array(L),P=0;P<L;P++)R[P]=D.charCodeAt(P);return R},K=t.__addimage__.arrayBufferToBinaryString=function(D){for(var L="",R=k(D)?D:new Uint8Array(D),P=0;P<R.length;P+=8192)L+=String.fromCharCode.apply(null,R.subarray(P,P+8192));return L};t.addImage=function(){var D,L,R,P,re,I,G,X,ie;if(typeof arguments[1]=="number"?(L=r,R=arguments[1],P=arguments[2],re=arguments[3],I=arguments[4],G=arguments[5],X=arguments[6],ie=arguments[7]):(L=arguments[1],R=arguments[2],P=arguments[3],re=arguments[4],I=arguments[5],G=arguments[6],X=arguments[7],ie=arguments[8]),Ps(D=arguments[0])==="object"&&!b(D)&&"imageData"in D){var ge=D;D=ge.imageData,L=ge.format||L||r,R=ge.x||R||0,P=ge.y||P||0,re=ge.w||ge.width||re,I=ge.h||ge.height||I,G=ge.alias||G,X=ge.compression||X,ie=ge.rotation||ge.angle||ie}var ee=this.internal.getFilters();if(X===void 0&&ee.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(R)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=z.call(this,D,L,G,X);return j.call(this,R,P,re,I,M,ie),this};var z=function(D,L,R,P){var re,I,G;if(typeof D=="string"&&i(D)===r){D=unescape(D);var X=$(D,!1);(X!==""||(X=t.loadFile(D,!0))!==void 0)&&(D=X)}if(b(D)&&(D=x(D,L)),L=i(D,L),!g(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((G=R)==null||G.length===0)&&(R=function(ie){return typeof ie=="string"||k(ie)?E(ie):k(ie.data)?E(ie.data):null}(D)),(re=w.call(this,R))||(D instanceof Uint8Array||L==="RGBA"||(I=D,D=q(D)),re=this["process"+L.toUpperCase()](D,f.call(this),R,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:Q.NONE}(P),I)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},$=t.__addimage__.convertBase64ToBinaryString=function(D,L){L=typeof L!="boolean"||L;var R,P="";if(typeof D=="string"){var re;R=(re=U(D))!==null&&re!==void 0?re:D;try{P=X0(R)}catch(I){if(L)throw T(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+I.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};t.getImageProperties=function(D){var L,R,P="";if(b(D)&&(D=x(D)),typeof D=="string"&&i(D)===r&&((P=$(D,!1))===""&&(P=t.loadFile(D)||""),D=P),R=i(D),!g(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(D instanceof Uint8Array||(D=q(D)),!(L=this["process"+R.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=R,L}})(Nt.API),function(t){var s=function(r){if(r!==void 0&&r!="")return!0};Nt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var a,i,o,c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,f=!1,g=0;g<h.length&&!f;g++)switch((a=h[g]).type){case"link":(s(a.options.url)||s(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){a=h[b];var x=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var B=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(B.objId),Q=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+c(a.bounds.x)+" "+A(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y)+"] ")+"/Contents ("+x(_(a.contents))+")",o+=" /Popup "+j.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+x(_(Q))+") >>",B.content=o;var E=B.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+c(a.bounds.x+30)+" "+A(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+A(a.bounds.y)+"] ")+" /Parent "+E,a.open&&(o+=" /Open true"),o+=" >>",j.content=o,this.internal.write(B.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+c(a.bounds.x)+" "+A(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y+a.bounds.h)+"] ";var T=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(w(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var U=this.annotations._nameMap[a.options.name];a.options.pageNumber=U.page,a.options.top=U.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(w(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;default:var k=A(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+k+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},t.link=function(r,a,i,o,c){var A=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:u(r),y:h(a),w:u(r+i),h:h(a+o)},options:c,type:"link"})},t.textWithLink=function(r,a,i,o){var c,A,u=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){A=o.maxWidth;var f=this.splitTextToSize(r,A).length;c=Math.ceil(h*f)}else A=u,c=h;return this.text(r,a,i,o),i+=.2*h,o.align==="center"&&(a-=u/2),o.align==="right"&&(a-=u),this.link(a,i-h,A,c,o),u},t.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Nt.API),function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(B){return s[B.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(B){return typeof B=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(B)},A=t.__arabicParser__.isArabicEndLetter=function(B){return c(B)&&o(B)&&s[B.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(B){return c(B)&&i.indexOf(B.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(B){return c(B)&&o(B)&&s[B.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(B){return c(B)&&o(B)&&s[B.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(B){return c(B)&&o(B)&&s[B.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(B){return c(B)&&o(B)&&s[B.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(B){var j=0,_=r,Q="",E=0;for(j=0;j<B.length;j+=1)_[B.charCodeAt(j)]!==void 0?(E++,typeof(_=_[B.charCodeAt(j)])=="number"&&(Q+=String.fromCharCode(_),_=r,E=0),j===B.length-1&&(_=r,Q+=B.charAt(j-(E-1)),j-=E-1,E=0)):(_=r,Q+=B.charAt(j-E),j-=E,E=0);return Q};t.__arabicParser__.isArabicDiacritic=function(B){return B!==void 0&&a[B.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(B,j,_){return c(B)?o(B)===!1?-1:!h(B)||!c(j)&&!c(_)||!c(_)&&A(j)||A(B)&&!c(j)||A(B)&&u(j)||A(B)&&A(j)?0:f(B)&&c(j)&&!A(j)&&c(_)&&h(_)?3:A(B)||!c(_)?1:2:-1},x=function(B){var j=0,_=0,Q=0,E="",T="",U="",k=(B=B||"").split("\\s+"),q=[];for(j=0;j<k.length;j+=1){for(q.push(""),_=0;_<k[j].length;_+=1)E=k[j][_],T=k[j][_-1],U=k[j][_+1],c(E)?(Q=b(E,T,U),q[j]+=Q!==-1?String.fromCharCode(s[E.charCodeAt(0)][Q]):E):q[j]+=E;q[j]=g(q[j])}return q.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var B,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(j)){var Q=0;for(_=[],Q=0;Q<j.length;Q+=1)Array.isArray(j[Q])?_.push([x(j[Q][0]),j[Q][1],j[Q][2]]):_.push([x(j[Q])]);B=_}else B=x(j);return typeof arguments[0]=="string"?B:(arguments[0].text=B,arguments[0])};t.events.push(["preProcessText",w])}(Nt.API),Nt.API.autoPrint=function(t){var s;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})),this},function(t){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(A){a=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(A){i=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(A){o=A}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(A){c=A}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,a){var i;if((r=r||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])}(Nt.API),function(t){var s={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(B){u=B}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(B){h=B}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(B){f=B}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(B){g=B}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(B){b=B}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(B){x=B}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(B){w=B}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,h){a.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),g=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,x=0,w=0,B=0,j=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var _=h.maxWidth;_>0?typeof u=="string"?u=this.splitTextToSize(u,_):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(E,T){return E.concat(j.splitTextToSize(T,_))},[])):u=Array.isArray(u)?u:[u];for(var Q=0;Q<u.length;Q++)x<(B=this.getStringUnitWidth(u[Q],{font:g})*f)&&(x=B);return x!==0&&(w=u.length),{w:x/=b,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||s,b=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===u.lineNumber?(u.x=(h.x||0)+(h.width||0),u.y=h.y||0):h.y+h.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,x&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=h.y+h.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,h,f,g,b){if(a.call(this),!f)throw new Error("No data for PDF table.");var x,w,B,j,_=[],Q=[],E=[],T={},U={},k=[],q=[],K=(b=b||{}).autoSize||!1,z=b.printHeaders!==!1,$=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,D=b.margins||Object.assign({width:this.getPageWidth()},s),L=typeof b.padding=="number"?b.padding:3,R=b.headerBackgroundColor||"#c8c8c8",P=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=P,this.setFontSize($),g==null)Q=_=Object.keys(f[0]),E=_.map(function(){return"left"});else if(Array.isArray(g)&&Ps(g[0])==="object")for(_=g.map(function(ge){return ge.name}),Q=g.map(function(ge){return ge.prompt||ge.name||""}),E=g.map(function(ge){return ge.align||"left"}),x=0;x<g.length;x+=1)U[g[x].name]=.7499990551181103*g[x].width;else Array.isArray(g)&&typeof g[0]=="string"&&(Q=_=g,E=_.map(function(){return"left"}));if(K||Array.isArray(g)&&typeof g[0]=="string")for(x=0;x<_.length;x+=1){for(T[j=_[x]]=f.map(function(ge){return ge[j]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(Q[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=T[j],this.setFont(void 0,"normal"),B=0;B<w.length;B+=1)k.push(this.getTextDimensions(w[B],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[j]=Math.max.apply(null,k)+L+L,k=[]}if(z){var re={};for(x=0;x<_.length;x+=1)re[_[x]]={},re[_[x]].text=Q[x],re[_[x]].align=E[x];var I=A.call(this,re,U);q=_.map(function(ge){return new o(u,h,U[ge],I,re[ge].text,void 0,re[ge].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var G=g.reduce(function(ge,ee){return ge[ee.name]=ee.align,ge},{});for(x=0;x<f.length;x+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:x,data:f[x]},this);var X=A.call(this,f[x],U);for(B=0;B<_.length;B+=1){var ie=f[x][_[B]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:x,col:B,data:ie},this),c.call(this,new o(u,h,U[_[B]],X,ie,x+2,G[_[B]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=h,this};var A=function(u,h){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(x){var w=u[x];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[x]-f-f)},this).map(function(x){return this.getLineHeightFactor()*x.length*g/b+f+f},this).reduce(function(x,w){return Math.max(x,w)},0)};t.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){f=this.internal.__cell__.tableHeaderRow[x].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,b.push(f)),f.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,f),this.setTextColor(w)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(Nt.API);var Q6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gy=L6(T6),D6=[100,200,300,400,500,600,700,800,900],dK=L6(D6);function wb(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return Q6[o=o||"normal"]?o:"normal"}(t.style),a=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof Gy[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:s,style:r,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:s,style:[i,r,a].join(" ")}}}function NB(t,s,r,a){var i;for(i=r;i>=0&&i<s.length;i+=a)if(t[s[i]])return t[s[i]];for(i=r;i>=0&&i<s.length;i-=a)if(t[s[i]])return t[s[i]]}var uK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BB(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _B(t){return t.trimLeft()}function hK(t,s){for(var r=0;r<t.length;){if(t.charAt(r)===s)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function fK(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var _0,CB,SB,hu,C0,EB,FB,UB,Nb=["times"];function kB(t,s,r,a,i){var o=4,c=QB;switch(i){case Nt.API.image_compression.FAST:o=1,c=LB;break;case Nt.API.image_compression.MEDIUM:o=6,c=TB;break;case Nt.API.image_compression.SLOW:o=9,c=DB}t=function(u,h,f,g){for(var b,x=u.length/h,w=new Uint8Array(u.length+x),B=[mK,LB,QB,TB,DB],j=0;j<x;j+=1){var _=j*h,Q=u.subarray(_,_+h);if(g)w.set(g(Q,f,b),_+j);else{for(var E=B.length,T=[],U=0;U<E;U+=1)T[U]=B[U](Q,f,b);var k=pK(T.concat());w.set(T[k],_+j)}b=Q}return w}(t,s,Math.ceil(r*a/8),c);var A=Ry(t,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(A)}function mK(t){var s=Array.apply([],t);return s.unshift(0),s}function LB(t,s){var r=t.length,a=[];a[0]=1;for(var i=0;i<r;i+=1){var o=t[i-s]||0;a[i+1]=t[i]-o+256&255}return a}function QB(t,s,r){var a=t.length,i=[];i[0]=2;for(var o=0;o<a;o+=1){var c=r&&r[o]||0;i[o+1]=t[o]-c+256&255}return i}function TB(t,s,r){var a=t.length,i=[];i[0]=3;for(var o=0;o<a;o+=1){var c=t[o-s]||0,A=r&&r[o]||0;i[o+1]=t[o]+256-(c+A>>>1)&255}return i}function DB(t,s,r){var a=t.length,i=[];i[0]=4;for(var o=0;o<a;o+=1){var c=gK(t[o-s]||0,r&&r[o]||0,r&&r[o-s]||0);i[o+1]=t[o]-c+256&255}return i}function gK(t,s,r){if(t===s&&s===r)return t;var a=Math.abs(s-r),i=Math.abs(t-r),o=Math.abs(t+s-r-r);return a<=i&&a<=o?t:i<=o?s:r}function pK(t){var s=t.map(function(r){return r.reduce(function(a,i){return a+Math.abs(i)},0)});return s.indexOf(Math.min.apply(null,s))}function jb(t,s,r){var a=s*r,i=Math.floor(a/8),o=16-(a-8*i+r),c=(1<<r)-1;return I6(t,i)>>o&c}function IB(t,s,r,a){var i=r*a,o=Math.floor(i/8),c=16-(i-8*o+a),A=(1<<a)-1,u=(s&A)<<c;(function(h,f,g){if(f+1<h.byteLength)h.setUint16(f,g,!1);else{var b=g>>8&255;h.setUint8(f,b)}})(t,o,I6(t,o)&~(A<<c)&65535|u)}function I6(t,s){return s+1<t.byteLength?t.getUint16(s,!1):t.getUint8(s)<<8}function xK(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[s++]|t[s++]<<8,a=t[s++]|t[s++]<<8,i=t[s++],o=i>>7,c=1<<1+(7&i);t[s++],t[s++];var A=null,u=null;o&&(A=s,u=c,s+=3*c);var h=!0,f=[],g=0,b=null,x=0,w=null;for(this.width=r,this.height=a;h&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,w=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((D=t[s++])>=0))throw Error("Invalid block size");if(D===0)break;s+=D}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var B=t[s++];g=t[s++]|t[s++]<<8,b=t[s++],1&B||(b=null),x=B>>2&7,s++;break;case 254:for(;;){if(!((D=t[s++])>=0))throw Error("Invalid block size");if(D===0)break;s+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var j=t[s++]|t[s++]<<8,_=t[s++]|t[s++]<<8,Q=t[s++]|t[s++]<<8,E=t[s++]|t[s++]<<8,T=t[s++],U=T>>6&1,k=1<<1+(7&T),q=A,K=u,z=!1;T>>7&&(z=!0,q=s,K=k,s+=3*k);var $=s;for(s++;;){var D;if(!((D=t[s++])>=0))throw Error("Invalid block size");if(D===0)break;s+=D}f.push({x:j,y:_,width:Q,height:E,has_local_palette:z,palette_offset:q,palette_size:K,data_offset:$,data_length:s-$,transparent_index:b,interlaced:!!U,delay:g,disposal:x});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,R){var P=this.frameInfo(L),re=P.width*P.height,I=new Uint8Array(re);MB(t,P.data_offset,I,re);var G=P.palette_offset,X=P.transparent_index;X===null&&(X=256);var ie=P.width,ge=r-ie,ee=ie,M=4*(P.y*r+P.x),H=4*((P.y+P.height)*r+P.x),Z=M,Ae=4*ge;P.interlaced===!0&&(Ae+=4*r*7);for(var fe=8,pe=0,Se=I.length;pe<Se;++pe){var me=I[pe];if(ee===0&&(ee=ie,(Z+=Ae)>=H&&(Ae=4*ge+4*r*(fe-1),Z=M+(ie+ge)*(fe<<1),fe>>=1)),me===X)Z+=4;else{var Le=t[G+3*me],Ve=t[G+3*me+1],ke=t[G+3*me+2];R[Z++]=ke,R[Z++]=Ve,R[Z++]=Le,R[Z++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(L,R){var P=this.frameInfo(L),re=P.width*P.height,I=new Uint8Array(re);MB(t,P.data_offset,I,re);var G=P.palette_offset,X=P.transparent_index;X===null&&(X=256);var ie=P.width,ge=r-ie,ee=ie,M=4*(P.y*r+P.x),H=4*((P.y+P.height)*r+P.x),Z=M,Ae=4*ge;P.interlaced===!0&&(Ae+=4*r*7);for(var fe=8,pe=0,Se=I.length;pe<Se;++pe){var me=I[pe];if(ee===0&&(ee=ie,(Z+=Ae)>=H&&(Ae=4*ge+4*r*(fe-1),Z=M+(ie+ge)*(fe<<1),fe>>=1)),me===X)Z+=4;else{var Le=t[G+3*me],Ve=t[G+3*me+1],ke=t[G+3*me+2];R[Z++]=Le,R[Z++]=Ve,R[Z++]=ke,R[Z++]=255}--ee}}}function MB(t,s,r,a){for(var i=t[s++],o=1<<i,c=o+1,A=c+1,u=i+1,h=(1<<u)-1,f=0,g=0,b=0,x=t[s++],w=new Int32Array(4096),B=null;;){for(;f<16&&x!==0;)g|=t[s++]<<f,f+=8,x===1?x=t[s++]:--x;if(f<u)break;var j=g&h;if(g>>=u,f-=u,j!==o){if(j===c)break;for(var _=j<A?j:B,Q=0,E=_;E>o;)E=w[E]>>8,++Q;var T=E;if(b+Q+(_!==j?1:0)>a)return void sr.log("Warning, gif stream longer than expected.");r[b++]=T;var U=b+=Q;for(_!==j&&(r[b++]=T),E=_;Q--;)E=w[E],r[--U]=255&E,E>>=8;B!==null&&A<4096&&(w[A++]=B<<8|T,A>=h+1&&u<12&&(++u,h=h<<1|1)),B=j}else A=c+1,h=(1<<(u=i+1))-1,B=null}return b!==a&&sr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bb(t){var s,r,a,i,o,c=Math.floor,A=new Array(64),u=new Array(64),h=new Array(64),f=new Array(64),g=new Array(65535),b=new Array(65535),x=new Array(64),w=new Array(64),B=[],j=0,_=7,Q=new Array(64),E=new Array(64),T=new Array(64),U=new Array(256),k=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(M,H){for(var Z=0,Ae=0,fe=new Array,pe=1;pe<=16;pe++){for(var Se=1;Se<=M[pe];Se++)fe[H[Ae]]=[],fe[H[Ae]][0]=Z,fe[H[Ae]][1]=pe,Ae++,Z++;Z*=2}return fe}function G(M){for(var H=M[0],Z=M[1]-1;Z>=0;)H&1<<Z&&(j|=1<<_),Z--,--_<0&&(j==255?(X(255),X(0)):X(j),_=7,j=0)}function X(M){B.push(M)}function ie(M){X(M>>8&255),X(255&M)}function ge(M,H,Z,Ae,fe){for(var pe,Se=fe[0],me=fe[240],Le=function(oe,Te){var Ee,ze,Oe,Je,ot,ht,_t,ct,dt,At,ye=0;for(dt=0;dt<8;++dt){Ee=oe[ye],ze=oe[ye+1],Oe=oe[ye+2],Je=oe[ye+3],ot=oe[ye+4],ht=oe[ye+5],_t=oe[ye+6];var es=Ee+(ct=oe[ye+7]),Qt=Ee-ct,rt=ze+_t,vt=ze-_t,Tt=Oe+ht,it=Oe-ht,Lt=Je+ot,St=Je-ot,us=es+Lt,ls=es-Lt,Dt=rt+Tt,Ct=rt-Tt;oe[ye]=us+Dt,oe[ye+4]=us-Dt;var ts=.707106781*(Ct+ls);oe[ye+2]=ls+ts,oe[ye+6]=ls-ts;var on=.382683433*((us=St+it)-(Ct=vt+Qt)),wr=.5411961*us+on,ps=1.306562965*Ct+on,Zr=.707106781*(Dt=it+vt),Et=Qt+Zr,Gi=Qt-Zr;oe[ye+5]=Gi+wr,oe[ye+3]=Gi-wr,oe[ye+1]=Et+ps,oe[ye+7]=Et-ps,ye+=8}for(ye=0,dt=0;dt<8;++dt){Ee=oe[ye],ze=oe[ye+8],Oe=oe[ye+16],Je=oe[ye+24],ot=oe[ye+32],ht=oe[ye+40],_t=oe[ye+48];var mi=Ee+(ct=oe[ye+56]),An=Ee-ct,cn=ze+_t,rr=ze-_t,kr=Oe+ht,ea=Oe-ht,Fl=Je+ot,La=Je-ot,Ms=mi+Fl,nr=mi-Fl,Na=cn+kr,dn=cn-kr;oe[ye]=Ms+Na,oe[ye+32]=Ms-Na;var Bn=.707106781*(dn+nr);oe[ye+16]=nr+Bn,oe[ye+48]=nr-Bn;var uo=.382683433*((Ms=La+ea)-(dn=rr+An)),$n=.5411961*Ms+uo,Xn=1.306562965*dn+uo,Ul=.707106781*(Na=ea+rr),Yn=An+Ul,Wn=An-Ul;oe[ye+40]=Wn+$n,oe[ye+24]=Wn-$n,oe[ye+8]=Yn+Xn,oe[ye+56]=Yn-Xn,ye++}for(dt=0;dt<64;++dt)At=oe[dt]*Te[dt],x[dt]=At>0?At+.5|0:At-.5|0;return x}(M,H),Ve=0;Ve<64;++Ve)w[q[Ve]]=Le[Ve];var ke=w[0]-Z;Z=w[0],ke==0?G(Ae[0]):(G(Ae[b[pe=32767+ke]]),G(g[pe]));for(var Ke=63;Ke>0&&w[Ke]==0;)Ke--;if(Ke==0)return G(Se),Z;for(var ae,Y=1;Y<=Ke;){for(var xe=Y;w[Y]==0&&Y<=Ke;)++Y;var Ue=Y-xe;if(Ue>=16){ae=Ue>>4;for(var ve=1;ve<=ae;++ve)G(me);Ue&=15}pe=32767+w[Y],G(fe[(Ue<<4)+b[pe]]),G(g[pe]),Y++}return Ke!=63&&G(Se),Z}function ee(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(H){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ae=0;Ae<64;Ae++){var fe=c((Z[Ae]*H+50)/100);fe=Math.min(Math.max(fe,1),255),A[q[Ae]]=fe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var me=c((pe[Se]*H+50)/100);me=Math.min(Math.max(me,1),255),u[q[Se]]=me}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,ke=0;ke<8;ke++)for(var Ke=0;Ke<8;Ke++)h[Ve]=1/(A[q[Ve]]*Le[ke]*Le[Ke]*8),f[Ve]=1/(u[q[Ve]]*Le[ke]*Le[Ke]*8),Ve++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,H){H&&ee(H),B=new Array,j=0,_=7,ie(65496),ie(65504),ie(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ie(1),ie(1),X(0),X(0),function(){ie(65499),ie(132),X(0);for(var ze=0;ze<64;ze++)X(A[ze]);X(1);for(var Oe=0;Oe<64;Oe++)X(u[Oe])}(),function(ze,Oe){ie(65472),ie(17),X(8),ie(Oe),ie(ze),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){ie(65476),ie(418),X(0);for(var ze=0;ze<16;ze++)X(K[ze+1]);for(var Oe=0;Oe<=11;Oe++)X(z[Oe]);X(16);for(var Je=0;Je<16;Je++)X($[Je+1]);for(var ot=0;ot<=161;ot++)X(D[ot]);X(1);for(var ht=0;ht<16;ht++)X(L[ht+1]);for(var _t=0;_t<=11;_t++)X(R[_t]);X(17);for(var ct=0;ct<16;ct++)X(P[ct+1]);for(var dt=0;dt<=161;dt++)X(re[dt])}(),ie(65498),ie(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Z=0,Ae=0,fe=0;j=0,_=7,this.encode.displayName="_encode_";for(var pe,Se,me,Le,Ve,ke,Ke,ae,Y,xe=M.data,Ue=M.width,ve=M.height,oe=4*Ue,Te=0;Te<ve;){for(pe=0;pe<oe;){for(Ve=oe*Te+pe,Ke=-1,ae=0,Y=0;Y<64;Y++)ke=Ve+(ae=Y>>3)*oe+(Ke=4*(7&Y)),Te+ae>=ve&&(ke-=oe*(Te+1+ae-ve)),pe+Ke>=oe&&(ke-=pe+Ke-oe+4),Se=xe[ke++],me=xe[ke++],Le=xe[ke++],Q[Y]=(k[Se]+k[me+256|0]+k[Le+512|0]>>16)-128,E[Y]=(k[Se+768|0]+k[me+1024|0]+k[Le+1280|0]>>16)-128,T[Y]=(k[Se+1280|0]+k[me+1536|0]+k[Le+1792|0]>>16)-128;Z=ge(Q,h,Z,s,a),Ae=ge(E,f,Ae,r,i),fe=ge(T,f,fe,r,i),pe+=32}Te+=8}if(_>=0){var Ee=[];Ee[1]=_+1,Ee[0]=(1<<_+1)-1,G(Ee)}return ie(65497),new Uint8Array(B)},t=t||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)U[H]=M(H)}(),s=I(K,z),r=I(L,R),a=I($,D),i=I(P,re),function(){for(var M=1,H=2,Z=1;Z<=15;Z++){for(var Ae=M;Ae<H;Ae++)b[32767+Ae]=Z,g[32767+Ae]=[],g[32767+Ae][1]=Z,g[32767+Ae][0]=Ae;for(var fe=-(H-1);fe<=-M;fe++)b[32767+fe]=Z,g[32767+fe]=[],g[32767+fe][1]=Z,g[32767+fe][0]=H-1+fe;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)k[M]=19595*M,k[M+256|0]=38470*M,k[M+512|0]=7471*M+32768,k[M+768|0]=-11059*M,k[M+1024|0]=-21709*M,k[M+1280|0]=32768*M+8421375,k[M+1536|0]=-27439*M,k[M+1792|0]=-5329*M}(),ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bl(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RB(t){function s(z){if(!z)throw Error("assert :P")}function r(z,$,D){for(var L=0;4>L;L++)if(z[$+L]!=D.charCodeAt(L))return!0;return!1}function a(z,$,D,L,R){for(var P=0;P<R;P++)z[$+P]=D[L+P]}function i(z,$,D,L){for(var R=0;R<L;R++)z[$+R]=D}function o(z){return new Int32Array(z)}function c(z,$){for(var D=[],L=0;L<z;L++)D.push(new $);return D}function A(z,$){var D=[];return function L(R,P,re){for(var I=re[P],G=0;G<I&&(R.push(re.length>P+1?[]:new $),!(re.length<P+1));G++)L(R[G],P+1,re)}(D,0,z),D}var u=function(){var z=this;function $(p,v){for(var F=1<<v-1>>>0;p&F;)F>>>=1;return F?(p&F-1)+F:p}function D(p,v,F,O,J){s(!(O%F));do p[v+(O-=F)]=J;while(0<O)}function L(p,v,F,O,J){if(s(2328>=J),512>=J)var te=o(512);else if((te=o(J))==null)return 0;return function(se,le,ce,ue,Ne,De){var de,Be,Fe=le,qe=1<<ce,Qe=o(16),Ge=o(16);for(s(Ne!=0),s(ue!=null),s(se!=null),s(0<ce),Be=0;Be<Ne;++Be){if(15<ue[Be])return 0;++Qe[ue[Be]]}if(Qe[0]==Ne)return 0;for(Ge[1]=0,de=1;15>de;++de){if(Qe[de]>1<<de)return 0;Ge[de+1]=Ge[de]+Qe[de]}for(Be=0;Be<Ne;++Be)de=ue[Be],0<ue[Be]&&(De[Ge[de]++]=Be);if(Ge[15]==1)return(ue=new R).g=0,ue.value=De[0],D(se,Fe,1,qe,ue),qe;var Ye,at=-1,tt=qe-1,wt=0,ft=1,Pt=1,pt=1<<ce;for(Be=0,de=1,Ne=2;de<=ce;++de,Ne<<=1){if(ft+=Pt<<=1,0>(Pt-=Qe[de]))return 0;for(;0<Qe[de];--Qe[de])(ue=new R).g=de,ue.value=De[Be++],D(se,Fe+wt,Ne,pt,ue),wt=$(wt,de)}for(de=ce+1,Ne=2;15>=de;++de,Ne<<=1){if(ft+=Pt<<=1,0>(Pt-=Qe[de]))return 0;for(;0<Qe[de];--Qe[de]){if(ue=new R,(wt&tt)!=at){for(Fe+=pt,Ye=1<<(at=de)-ce;15>at&&!(0>=(Ye-=Qe[at]));)++at,Ye<<=1;qe+=pt=1<<(Ye=at-ce),se[le+(at=wt&tt)].g=Ye+ce,se[le+at].value=Fe-le-at}ue.g=de-ce,ue.value=De[Be++],D(se,Fe+(wt>>ce),Ne,pt,ue),wt=$(wt,de)}}return ft!=2*Ge[15]-1?0:qe}(p,v,F,O,J,te)}function R(){this.value=this.g=0}function P(){this.value=this.g=0}function re(){this.G=c(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Il,P)}function I(p,v,F,O){s(p!=null),s(v!=null),s(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=F,p.Jd=v,p.Yc=F+O,p.Zc=4<=O?F+O-4+1:F,Se(p)}function G(p,v){for(var F=0;0<v--;)F|=Le(p,128)<<v;return F}function X(p,v){var F=G(p,v);return me(p)?-F:F}function ie(p,v,F,O){var J,te=0;for(s(p!=null),s(v!=null),s(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),J=0;J<O;++J)te+=v[F+J]<<8*J;p.Ra=te,p.bb=O,p.oa=v,p.pa=F}function ge(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ni-8>>>0,++p.bb,p.u-=8;Ae(p)&&(p.h=1,p.u=0)}function ee(p,v){if(s(0<=v),!p.h&&v<=Da){var F=Z(p)&$a[v];return p.u+=v,ge(p),F}return p.h=1,p.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(p){return p.Ra>>>(p.u&Ni-1)>>>0}function Ae(p){return s(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ni}function fe(p,v){p.u=v,p.h=Ae(p)}function pe(p){p.u>=ji&&(s(p.u>=ji),ge(p))}function Se(p){s(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(s(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function me(p){return G(p,1)}function Le(p,v){var F=p.Ca;0>p.b&&Se(p);var O=p.b,J=F*v>>>8,te=(p.I>>>O>J)+0;for(te?(F-=J,p.I-=J+1<<O>>>0):F=J+1,O=F,J=0;256<=O;)J+=8,O>>=8;return O=7^J+nl[O],p.b-=O,p.Ca=(F<<O)-1,te}function Ve(p,v,F){p[v+0]=F>>24&255,p[v+1]=F>>16&255,p[v+2]=F>>8&255,p[v+3]=255&F}function ke(p,v){return p[v+0]|p[v+1]<<8}function Ke(p,v){return ke(p,v)|p[v+2]<<16}function ae(p,v){return ke(p,v)|ke(p,v+2)<<16}function Y(p,v){var F=1<<v;return s(p!=null),s(0<v),p.X=o(F),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function xe(p,v){s(p!=null),s(v!=null),s(p.Xa==v.Xa),a(v.X,0,p.X,0,1<<v.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function ve(p,v,F,O){s(F!=null),s(O!=null);var J=F[0],te=O[0];return J==0&&(J=(p*te+v/2)/v),te==0&&(te=(v*J+p/2)/p),0>=J||0>=te?0:(F[0]=J,O[0]=te,1)}function oe(p,v){return p+(1<<v)-1>>>v}function Te(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Ee(p,v){z[v]=function(F,O,J,te,se,le,ce){var ue;for(ue=0;ue<se;++ue){var Ne=z[p](le[ce+ue-1],J,te+ue);le[ce+ue]=Te(F[O+ue],Ne)}}}function ze(){this.ud=this.hd=this.jd=0}function Oe(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Je(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ot(p,v){return Je(p+(p-v+.5>>1))}function ht(p,v,F){return Math.abs(v-F)-Math.abs(p-F)}function _t(p,v,F,O,J,te,se){for(O=te[se-1],F=0;F<J;++F)te[se+F]=O=Te(p[v+F],O)}function ct(p,v,F,O,J){var te;for(te=0;te<F;++te){var se=p[v+te],le=se>>8&255,ce=16711935&(ce=(ce=16711935&se)+((le<<16)+le));O[J+te]=(4278255360&se)+ce>>>0}}function dt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function At(p,v,F,O,J,te){var se;for(se=0;se<O;++se){var le=v[F+se],ce=le>>>8,ue=le,Ne=255&(Ne=(Ne=le>>>16)+((p.jd<<24>>24)*(ce<<24>>24)>>>5));ue=255&(ue=(ue+=(p.hd<<24>>24)*(ce<<24>>24)>>>5)+((p.ud<<24>>24)*(Ne<<24>>24)>>>5)),J[te+se]=(4278255360&le)+(Ne<<16)+ue}}function ye(p,v,F,O,J){z[v]=function(te,se,le,ce,ue,Ne,De,de,Be){for(ce=De;ce<de;++ce)for(De=0;De<Be;++De)ue[Ne++]=J(le[O(te[se++])])},z[p]=function(te,se,le,ce,ue,Ne,De){var de=8>>te.b,Be=te.Ea,Fe=te.K[0],qe=te.w;if(8>de)for(te=(1<<te.b)-1,qe=(1<<de)-1;se<le;++se){var Qe,Ge=0;for(Qe=0;Qe<Be;++Qe)Qe&te||(Ge=O(ce[ue++])),Ne[De++]=J(Fe[Ge&qe]),Ge>>=de}else z["VP8LMapColor"+F](ce,ue,Fe,qe,Ne,De,se,le,Be)}}function es(p,v,F,O,J){for(F=v+F;v<F;){var te=p[v++];O[J++]=te>>16&255,O[J++]=te>>8&255,O[J++]=255&te}}function Qt(p,v,F,O,J){for(F=v+F;v<F;){var te=p[v++];O[J++]=te>>16&255,O[J++]=te>>8&255,O[J++]=255&te,O[J++]=te>>24&255}}function rt(p,v,F,O,J){for(F=v+F;v<F;){var te=(se=p[v++])>>16&240|se>>12&15,se=240&se|se>>28&15;O[J++]=te,O[J++]=se}}function vt(p,v,F,O,J){for(F=v+F;v<F;){var te=(se=p[v++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;O[J++]=te,O[J++]=se}}function Tt(p,v,F,O,J){for(F=v+F;v<F;){var te=p[v++];O[J++]=255&te,O[J++]=te>>8&255,O[J++]=te>>16&255}}function it(p,v,F,O,J,te){if(te==0)for(F=v+F;v<F;)Ve(O,((te=p[v++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else a(O,J,p,v,F)}function Lt(p,v){z[v][0]=z[p+"0"],z[v][1]=z[p+"1"],z[v][2]=z[p+"2"],z[v][3]=z[p+"3"],z[v][4]=z[p+"4"],z[v][5]=z[p+"5"],z[v][6]=z[p+"6"],z[v][7]=z[p+"7"],z[v][8]=z[p+"8"],z[v][9]=z[p+"9"],z[v][10]=z[p+"10"],z[v][11]=z[p+"11"],z[v][12]=z[p+"12"],z[v][13]=z[p+"13"],z[v][14]=z[p+"0"],z[v][15]=z[p+"0"]}function St(p){return p==Fc||p==Sd||p==gA||p==Ed}function us(){this.eb=[],this.size=this.A=this.fb=0}function ls(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new us,this.f.kb=new ls,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ts(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function on(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function wr(p,v){var F=p.T,O=v.ba.f.RGBA,J=O.eb,te=O.fb+p.ka*O.A,se=ha[v.ba.S],le=p.y,ce=p.O,ue=p.f,Ne=p.N,De=p.ea,de=p.W,Be=v.cc,Fe=v.dc,qe=v.Mc,Qe=v.Nc,Ge=p.ka,Ye=p.ka+p.T,at=p.U,tt=at+1>>1;for(Ge==0?se(le,ce,null,null,ue,Ne,De,de,ue,Ne,De,de,J,te,null,null,at):(se(v.ec,v.fc,le,ce,Be,Fe,qe,Qe,ue,Ne,De,de,J,te-O.A,J,te,at),++F);Ge+2<Ye;Ge+=2)Be=ue,Fe=Ne,qe=De,Qe=de,Ne+=p.Rc,de+=p.Rc,te+=2*O.A,se(le,(ce+=2*p.fa)-p.fa,le,ce,Be,Fe,qe,Qe,ue,Ne,De,de,J,te-O.A,J,te,at);return ce+=p.fa,p.j+Ye<p.o?(a(v.ec,v.fc,le,ce,at),a(v.cc,v.dc,ue,Ne,tt),a(v.Mc,v.Nc,De,de,tt),F--):1&Ye||se(le,ce,null,null,ue,Ne,De,de,ue,Ne,De,de,J,te+O.A,null,null,at),F}function ps(p,v,F){var O=p.F,J=[p.J];if(O!=null){var te=p.U,se=v.ba.S,le=se==Ec||se==gA;v=v.ba.f.RGBA;var ce=[0],ue=p.ka;ce[0]=p.T,p.Kb&&(ue==0?--ce[0]:(--ue,J[0]-=p.width),p.j+p.ka+p.T==p.o&&(ce[0]=p.o-p.j-ue));var Ne=v.eb;ue=v.fb+ue*v.A,p=Bc(O,J[0],p.width,te,ce,Ne,ue+(le?0:3),v.A),s(F==ce),p&&St(se)&&Bo(Ne,ue,le,te,ce,v.A)}return 0}function Zr(p){var v=p.ma,F=v.ba.S,O=11>F,J=F==Ca||F==Fn||F==Ec||F==mA||F==12||St(F);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!al(v.Oa,p,J?11:12))return 0;if(J&&St(F)&&wd(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=on,p.Kb){if(F=p.U+1>>1,v.memory=o(p.U+2*F),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+F,v.Ib=wr,wd()}}else alert("todo:EmitYUV");J&&(v.Jb=ps,O&&Cn())}if(O&&!zl){for(p=0;256>p;++p)fa[p]=89858*(p-128)+bA>>Dn,Yg[p]=-22014*(p-128)+bA,sm[p]=-45773*(p-128),Qd[p]=113618*(p-128)+bA>>Dn;for(p=Eo;p<Vl;++p)v=76283*(p-16)+bA>>Dn,Wg[p-Eo]=hr(v,255),Jg[p-Eo]=hr(v+8>>4,15);zl=1}return 1}function Et(p){var v=p.ma,F=p.U,O=p.T;return s(!(1&p.ka)),0>=F||0>=O?0:(F=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,F),v.Dc+=F,1)}function Gi(p){p.ma.memory=null}function mi(p,v,F,O){return ee(p,8)!=47?0:(v[0]=ee(p,14)+1,F[0]=ee(p,14)+1,O[0]=ee(p,1),ee(p,3)!=0?0:!p.h)}function An(p,v){if(4>p)return p+1;var F=p-2>>1;return(2+(1&p)<<F)+ee(v,F)+1}function cn(p,v){return 120<v?v-120:1<=(F=((F=kn[v-1])>>4)*p+(8-(15&F)))?F:1;var F}function rr(p,v,F){var O=Z(F),J=p[v+=255&O].g-8;return 0<J&&(fe(F,F.u+8),O=Z(F),v+=p[v].value,v+=O&(1<<J)-1),fe(F,F.u+p[v].g),p[v].value}function kr(p,v,F){return F.g+=p.g,F.value+=p.value<<v>>>0,s(8>=F.g),p.g}function ea(p,v,F){var O=p.xc;return s((v=O==0?0:p.vc[p.md*(F>>O)+(v>>O)])<p.Wb),p.Ya[v]}function Fl(p,v,F,O){var J=p.ab,te=p.c*v,se=p.C;v=se+v;var le=F,ce=O;for(O=p.Ta,F=p.Ua;0<J--;){var ue=p.gc[J],Ne=se,De=v,de=le,Be=ce,Fe=(ce=O,le=F,ue.Ea);switch(s(Ne<De),s(De<=ue.nc),ue.hc){case 2:_r(de,Be,(De-Ne)*Fe,ce,le);break;case 0:var qe=Ne,Qe=De,Ge=ce,Ye=le,at=(pt=ue).Ea;qe==0&&(dA(de,Be,null,null,1,Ge,Ye),_t(de,Be+1,0,0,at-1,Ge,Ye+1),Be+=at,Ye+=at,++qe);for(var tt=1<<pt.b,wt=tt-1,ft=oe(at,pt.b),Pt=pt.K,pt=pt.w+(qe>>pt.b)*ft;qe<Qe;){var ns=Pt,er=pt,qt=1;for(uA(de,Be,Ge,Ye-at,1,Ge,Ye);qt<at;){var mt=(qt&~wt)+tt;mt>at&&(mt=at),(0,il[ns[er++]>>8&15])(de,Be+ +qt,Ge,Ye+qt-at,mt-qt,Ge,Ye+qt),qt=mt}Be+=at,Ye+=at,++qe&wt||(pt+=ft)}De!=ue.nc&&a(ce,le-Fe,ce,le+(De-Ne-1)*Fe,Fe);break;case 1:for(Fe=de,Qe=Be,at=(de=ue.Ea)-(Ye=de&~(Ge=(Be=1<<ue.b)-1)),qe=oe(de,ue.b),tt=ue.K,ue=ue.w+(Ne>>ue.b)*qe;Ne<De;){for(wt=tt,ft=ue,Pt=new ze,pt=Qe+Ye,ns=Qe+de;Qe<pt;)dt(wt[ft++],Pt),hA(Pt,Fe,Qe,Be,ce,le),Qe+=Be,le+=Be;Qe<ns&&(dt(wt[ft++],Pt),hA(Pt,Fe,Qe,at,ce,le),Qe+=at,le+=at),++Ne&Ge||(ue+=qe)}break;case 3:if(de==ce&&Be==le&&0<ue.b){for(Qe=ce,de=Fe=le+(De-Ne)*Fe-(Ye=(De-Ne)*oe(ue.Ea,ue.b)),Be=ce,Ge=le,qe=[],Ye=(at=Ye)-1;0<=Ye;--Ye)qe[Ye]=Be[Ge+Ye];for(Ye=at-1;0<=Ye;--Ye)Qe[de+Ye]=qe[Ye];Nd(ue,Ne,De,ce,Fe,ce,le)}else Nd(ue,Ne,De,de,Be,ce,le)}le=O,ce=F}ce!=F&&a(O,F,le,ce,te)}function La(p,v){var F=p.V,O=p.Ba+p.c*p.C,J=v-p.C;if(s(v<=p.l.o),s(16>=J),0<J){var te=p.l,se=p.Ta,le=p.Ua,ce=te.width;if(Fl(p,J,F,O),J=le=[le],s((F=p.C)<(O=v)),s(te.v<te.va),O>te.o&&(O=te.o),F<te.j){var ue=te.j-F;F=te.j,J[0]+=ue*ce}if(F>=O?F=0:(J[0]+=4*te.v,te.ka=F-te.j,te.U=te.va-te.v,te.T=O-F,F=1),F){if(le=le[0],11>(F=p.ca).S){var Ne=F.f.RGBA,De=(O=F.S,J=te.U,te=te.T,ue=Ne.eb,Ne.A),de=te;for(Ne=Ne.fb+p.Ma*Ne.A;0<de--;){var Be=se,Fe=le,qe=J,Qe=ue,Ge=Ne;switch(O){case _d:fA(Be,Fe,qe,Qe,Ge);break;case Ca:ll(Be,Fe,qe,Qe,Ge);break;case Fc:ll(Be,Fe,qe,Qe,Ge),Bo(Qe,Ge,0,qe,1,0);break;case Cd:No(Be,Fe,qe,Qe,Ge);break;case Fn:it(Be,Fe,qe,Qe,Ge,1);break;case Sd:it(Be,Fe,qe,Qe,Ge,1),Bo(Qe,Ge,0,qe,1,0);break;case Ec:it(Be,Fe,qe,Qe,Ge,0);break;case gA:it(Be,Fe,qe,Qe,Ge,0),Bo(Qe,Ge,1,qe,1,0);break;case mA:ol(Be,Fe,qe,Qe,Ge);break;case Ed:ol(Be,Fe,qe,Qe,Ge),En(Qe,Ge,qe,1,0);break;case Ml:Ci(Be,Fe,qe,Qe,Ge);break;default:s(0)}le+=ce,Ne+=De}p.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");s(p.Ma<=F.height)}}p.C=v,s(p.C<=p.i)}function Ms(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var F=p.Ya[v].G,O=p.Ya[v].H;if(0<F[1][O[1]+0].g||0<F[2][O[2]+0].g||0<F[3][O[3]+0].g)return 0}return 1}function nr(p,v,F,O,J,te){if(p.Z!=0){var se=p.qd,le=p.rd;for(s(dl[p.Z]!=null);v<F;++v)dl[p.Z](se,le,O,J,O,J,te),se=O,le=J,J+=te;p.qd=se,p.rd=le}}function Na(p,v){var F=p.l.ma,O=F.Z==0||F.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,s(v<=p.l.o),v>O){var J=p.l.width,te=F.ca,se=F.tb+J*O,le=p.V,ce=p.Ba+p.c*O,ue=p.gc;s(p.ab==1),s(ue[0].hc==3),_i(ue[0],O,v,le,ce,te,se),nr(F,O,v,te,se,J)}p.C=p.Ma=v}function dn(p,v,F,O,J,te,se){var le=p.$/O,ce=p.$%O,ue=p.m,Ne=p.s,De=F+p.$,de=De;J=F+O*J;var Be=F+O*te,Fe=280+Ne.ua,qe=p.Pb?le:16777216,Qe=0<Ne.ua?Ne.Wa:null,Ge=Ne.wc,Ye=De<Be?ea(Ne,ce,le):null;s(p.C<te),s(Be<=J);var at=!1;e:for(;;){for(;at||De<Be;){var tt=0;if(le>=qe){var wt=De-F;s((qe=p).Pb),qe.wd=qe.m,qe.xd=wt,0<qe.s.ua&&xe(qe.s.Wa,qe.s.vb),qe=le+Rl}if(ce&Ge||(Ye=ea(Ne,ce,le)),s(Ye!=null),Ye.Qb&&(v[De]=Ye.qb,at=!0),!at)if(pe(ue),Ye.jc){tt=ue,wt=v;var ft=De,Pt=Ye.pd[Z(tt)&Il-1];s(Ye.jc),256>Pt.g?(fe(tt,tt.u+Pt.g),wt[ft]=Pt.value,tt=0):(fe(tt,tt.u+Pt.g-256),s(256<=Pt.value),tt=Pt.value),tt==0&&(at=!0)}else tt=rr(Ye.G[0],Ye.H[0],ue);if(ue.h)break;if(at||256>tt){if(!at)if(Ye.nd)v[De]=(Ye.qb|tt<<8)>>>0;else{if(pe(ue),at=rr(Ye.G[1],Ye.H[1],ue),pe(ue),wt=rr(Ye.G[2],Ye.H[2],ue),ft=rr(Ye.G[3],Ye.H[3],ue),ue.h)break;v[De]=(ft<<24|at<<16|tt<<8|wt)>>>0}if(at=!1,++De,++ce>=O&&(ce=0,++le,se!=null&&le<=te&&!(le%16)&&se(p,le),Qe!=null))for(;de<De;)tt=v[de++],Qe.X[(506832829*tt&4294967295)>>>Qe.Mb]=tt}else if(280>tt){if(tt=An(tt-256,ue),wt=rr(Ye.G[4],Ye.H[4],ue),pe(ue),wt=cn(O,wt=An(wt,ue)),ue.h)break;if(De-F<wt||J-De<tt)break e;for(ft=0;ft<tt;++ft)v[De+ft]=v[De+ft-wt];for(De+=tt,ce+=tt;ce>=O;)ce-=O,++le,se!=null&&le<=te&&!(le%16)&&se(p,le);if(s(De<=J),ce&Ge&&(Ye=ea(Ne,ce,le)),Qe!=null)for(;de<De;)tt=v[de++],Qe.X[(506832829*tt&4294967295)>>>Qe.Mb]=tt}else{if(!(tt<Fe))break e;for(at=tt-280,s(Qe!=null);de<De;)tt=v[de++],Qe.X[(506832829*tt&4294967295)>>>Qe.Mb]=tt;tt=De,s(!(at>>>(wt=Qe).Xa)),v[tt]=wt.X[at],at=!0}at||s(ue.h==Ae(ue))}if(p.Pb&&ue.h&&De<J)s(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&xe(p.s.vb,p.s.Wa);else{if(ue.h)break e;se?.(p,le>te?te:le),p.a=0,p.$=De-F}return 1}return p.a=3,0}function Bn(p){s(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,s(p!=null)}function uo(){var p=new jt;return p==null?null:(p.a=0,p.xb=nh,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),_r=ct,hA=At,fA=es,ll=Qt,ol=rt,Ci=vt,No=Tt,z.VP8LMapColor32b=Bi,z.VP8LMapColor8b=ca,p)}function $n(p,v,F,O,J){var te=1,se=[p],le=[v],ce=O.m,ue=O.s,Ne=null,De=0;e:for(;;){if(F)for(;te&&ee(ce,1);){var de=se,Be=le,Fe=O,qe=1,Qe=Fe.m,Ge=Fe.gc[Fe.ab],Ye=ee(Qe,2);if(Fe.Oc&1<<Ye)te=0;else{switch(Fe.Oc|=1<<Ye,Ge.hc=Ye,Ge.Ea=de[0],Ge.nc=Be[0],Ge.K=[null],++Fe.ab,s(4>=Fe.ab),Ye){case 0:case 1:Ge.b=ee(Qe,3)+2,qe=$n(oe(Ge.Ea,Ge.b),oe(Ge.nc,Ge.b),0,Fe,Ge.K),Ge.K=Ge.K[0];break;case 3:var at,tt=ee(Qe,8)+1,wt=16<tt?0:4<tt?1:2<tt?2:3;if(de[0]=oe(Ge.Ea,wt),Ge.b=wt,at=qe=$n(tt,1,0,Fe,Ge.K)){var ft,Pt=tt,pt=Ge,ns=1<<(8>>pt.b),er=o(ns);if(er==null)at=0;else{var qt=pt.K[0],mt=pt.w;for(er[0]=pt.K[0][0],ft=1;ft<1*Pt;++ft)er[ft]=Te(qt[mt+ft],er[ft-1]);for(;ft<4*ns;++ft)er[ft]=0;pt.K[0]=null,pt.K[0]=er,at=1}}qe=at;break;case 2:break;default:s(0)}te=qe}}if(se=se[0],le=le[0],te&&ee(ce,1)&&!(te=1<=(De=ee(ce,4))&&11>=De)){O.a=3;break e}var lt;if(lt=te)t:{var lr,Mt,Wt,Es=O,Kr=se,ma=le,qs=De,Qr=F,Sa=Es.m,Tr=Es.s,ss=[null],ys=1,or=0,Bs=Ln[qs];s:for(;;){if(Qr&&ee(Sa,1)){var Gr=ee(Sa,3)+2,Ar=oe(Kr,Gr),vs=oe(ma,Gr),Er=Ar*vs;if(!$n(Ar,vs,0,Es,ss))break s;for(ss=ss[0],Tr.xc=Gr,lr=0;lr<Er;++lr){var Fs=ss[lr]>>8&65535;ss[lr]=Fs,Fs>=ys&&(ys=Fs+1)}}if(Sa.h)break s;for(Mt=0;5>Mt;++Mt){var Dr=Co[Mt];!Mt&&0<qs&&(Dr+=1<<qs),or<Dr&&(or=Dr)}var Ir=c(ys*Bs,R),Rs=ys,bs=c(Rs,re);if(bs==null)var Ea=null;else s(65536>=Rs),Ea=bs;var mr=o(or);if(Ea==null||mr==null||Ir==null){Es.a=1;break s}var Ft=Ir;for(lr=Wt=0;lr<ys;++lr){var Ut=Ea[lr],ws=Ut.G,Xa=Ut.H,In=0,Ma=1,Mr=0;for(Mt=0;5>Mt;++Mt){Dr=Co[Mt],ws[Mt]=Ft,Xa[Mt]=Wt,!Mt&&0<qs&&(Dr+=1<<qs);a:{var Kl,Gl=Dr,Dd=Es,$s=mr,lh=Ft,oh=Wt,Id=0,ul=Dd.m,Zg=ee(ul,1);if(i($s,0,0,Gl),Zg){var Ah=ee(ul,1)+1,ch=ee(ul,1),Md=ee(ul,ch==0?1:8);$s[Md]=1,Ah==2&&($s[Md=ee(ul,8)]=1);var sa=1}else{var gr=o(19),Qc=ee(ul,4)+4;if(19<Qc){Dd.a=3;var ql=0;break a}for(Kl=0;Kl<Qc;++Kl)gr[Uc[Kl]]=ee(ul,3);var vA=void 0,Fo=void 0,Fi=Dd,Rd=gr,wA=Gl,Od=$s,Hd=0,hl=Fi.m,dh=8,uh=c(128,R);r:for(;L(uh,0,7,Rd,19);){if(ee(hl,1)){var rm=2+2*ee(hl,3);if((vA=2+ee(hl,rm))>wA)break r}else vA=wA;for(Fo=0;Fo<wA&&vA--;){pe(hl);var hh=uh[0+(127&Z(hl))];fe(hl,hl.u+hh.g);var $l=hh.value;if(16>$l)Od[Fo++]=$l,$l!=0&&(dh=$l);else{var am=$l==16,nm=$l-16,im=pA[nm],fh=ee(hl,Un[nm])+im;if(Fo+fh>wA)break r;for(var lm=am?dh:0;0<fh--;)Od[Fo++]=lm}}Hd=1;break r}Hd||(Fi.a=3),sa=Hd}(sa=sa&&!ul.h)&&(Id=L(lh,oh,8,$s,Gl)),sa&&Id!=0?ql=Id:(Dd.a=3,ql=0)}if(ql==0)break s;if(Ma&&Fd[Mt]==1&&(Ma=Ft[Wt].g==0),In+=Ft[Wt].g,Wt+=ql,3>=Mt){var Uo,Pd=mr[0];for(Uo=1;Uo<Dr;++Uo)mr[Uo]>Pd&&(Pd=mr[Uo]);Mr+=Pd}}if(Ut.nd=Ma,Ut.Qb=0,Ma&&(Ut.qb=(ws[3][Xa[3]+0].value<<24|ws[1][Xa[1]+0].value<<16|ws[2][Xa[2]+0].value)>>>0,In==0&&256>ws[0][Xa[0]+0].value&&(Ut.Qb=1,Ut.qb+=ws[0][Xa[0]+0].value<<8)),Ut.jc=!Ut.Qb&&6>Mr,Ut.jc){var Tc,Ui=Ut;for(Tc=0;Tc<Il;++Tc){var fl=Tc,ml=Ui.pd[fl],Vd=Ui.G[0][Ui.H[0]+fl];256<=Vd.value?(ml.g=Vd.g+256,ml.value=Vd.value):(ml.g=0,ml.value=0,fl>>=kr(Vd,8,ml),fl>>=kr(Ui.G[1][Ui.H[1]+fl],16,ml),fl>>=kr(Ui.G[2][Ui.H[2]+fl],0,ml),kr(Ui.G[3][Ui.H[3]+fl],24,ml))}}}Tr.vc=ss,Tr.Wb=ys,Tr.Ya=Ea,Tr.yc=Ir,lt=1;break t}lt=0}if(!(te=lt)){O.a=3;break e}if(0<De){if(ue.ua=1<<De,!Y(ue.Wa,De)){O.a=1,te=0;break e}}else ue.ua=0;var zd=O,ko=se,om=le,NA=zd.s,jA=NA.xc;if(zd.c=ko,zd.i=om,NA.md=oe(ko,jA),NA.wc=jA==0?-1:(1<<jA)-1,F){O.xb=Ol;break e}if((Ne=o(se*le))==null){O.a=1,te=0;break e}te=(te=dn(O,Ne,0,se,le,le,null))&&!ce.h;break e}return te?(J!=null?J[0]=Ne:(s(Ne==null),s(F)),O.$=0,F||Bn(ue)):Bn(ue),te}function Xn(p,v){var F=p.c*p.i,O=F+v+16*v;return s(p.c<=v),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+F+v,1)}function Ul(p,v){var F=p.C,O=v-F,J=p.V,te=p.Ba+p.c*F;for(s(v<=p.l.o);0<O;){var se=16<O?16:O,le=p.l.ma,ce=p.l.width,ue=ce*se,Ne=le.ca,De=le.tb+ce*F,de=p.Ta,Be=p.Ua;Fl(p,se,J,te),bn(de,Be,Ne,De,ue),nr(le,F,F+se,Ne,De,ce),O-=se,J+=se*p.c,F+=se}s(F==v),p.C=p.Ma=v}function Yn(){this.ub=this.yd=this.td=this.Rb=0}function Wn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ho(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function gi(){this.Yb=function(){var p=[];return function v(F,O,J){for(var te=J[O],se=0;se<te&&(F.push(J.length>O+1?[]:0),!(J.length<O+1));se++)v(F[se],O+1,J)}(p,0,[3,11]),p}()}function Nr(){this.jb=o(3),this.Wc=A([4,8],gi),this.Xc=A([4,17],gi)}function oc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function un(){this.ld=this.La=this.dd=this.tc=0}function Jn(){this.Na=this.la=0}function qi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ac(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cc(){this.uc=this.M=this.Nb=0,this.wa=Array(new un),this.Y=0,this.ya=Array(new Ac),this.aa=0,this.l=new $i}function dc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function hd(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Yn,this.Kc=new Wn,this.ed=new oc,this.Qa=new ho,this.Ic=this.$c=this.Aa=0,this.D=new cc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,M),this.ia=0,this.pb=c(4,qi),this.Pa=new Nr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dc),this.Hd=0,this.rb=Array(new Jn),this.sb=0,this.wa=Array(new un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ac),this.L=this.aa=0,this.gd=A([4,2],un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function aA(){var p=new hd;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,yn||(yn=Xi)),p}function Qs(p,v,F){return p.a==0&&(p.a=v,p.sc=F,p.cb=0),0}function Qa(p,v,F){return 3<=F&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function uc(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Qs(p,2,"null VP8Io passed to VP8GetHeaders()");var F=v.data,O=v.w,J=v.ha;if(4>J)return Qs(p,7,"Truncated header.");var te=F[O+0]|F[O+1]<<8|F[O+2]<<16,se=p.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return Qs(p,3,"Incorrect keyframe parameters.");if(!se.yd)return Qs(p,4,"Frame not displayable.");O+=3,J-=3;var le=p.Kc;if(se.Rb){if(7>J)return Qs(p,7,"cannot parse picture header");if(!Qa(F,O,J))return Qs(p,3,"Bad code word");le.c=16383&(F[O+4]<<8|F[O+3]),le.Td=F[O+4]>>6,le.i=16383&(F[O+6]<<8|F[O+5]),le.Ud=F[O+6]>>6,O+=7,J-=7,p.za=le.c+15>>4,p.Ub=le.i+15>>4,v.width=le.c,v.height=le.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((te=p.Pa).jb,0,255,te.jb.length),s((te=p.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(se.ub>J)return Qs(p,7,"bad partition length");I(te=p.m,F,O,se.ub),O+=se.ub,J-=se.ub,se.Rb&&(le.Ld=me(te),le.Kd=me(te)),le=p.Qa;var ce,ue=p.Pa;if(s(te!=null),s(le!=null),le.Cb=me(te),le.Cb){if(le.Bb=me(te),me(te)){for(le.Fb=me(te),ce=0;4>ce;++ce)le.Zb[ce]=me(te)?X(te,7):0;for(ce=0;4>ce;++ce)le.Lb[ce]=me(te)?X(te,6):0}if(le.Bb)for(ce=0;3>ce;++ce)ue.jb[ce]=me(te)?G(te,8):255}else le.Bb=0;if(te.Ka)return Qs(p,3,"cannot parse segment header");if((le=p.ed).zd=me(te),le.Tb=G(te,6),le.wb=G(te,3),le.Pc=me(te),le.Pc&&me(te)){for(ue=0;4>ue;++ue)me(te)&&(le.vd[ue]=X(te,6));for(ue=0;4>ue;++ue)me(te)&&(le.od[ue]=X(te,6))}if(p.L=le.Tb==0?0:le.zd?1:2,te.Ka)return Qs(p,3,"cannot parse filter header");var Ne=J;if(J=ce=O,O=ce+Ne,le=Ne,p.Xb=(1<<G(p.m,2))-1,Ne<3*(ue=p.Xb))F=7;else{for(ce+=3*ue,le-=3*ue,Ne=0;Ne<ue;++Ne){var De=F[J+0]|F[J+1]<<8|F[J+2]<<16;De>le&&(De=le),I(p.Jc[+Ne],F,ce,De),ce+=De,le-=De,J+=3}I(p.Jc[+ue],F,ce,le),F=ce<O?0:5}if(F!=0)return Qs(p,F,"cannot parse partitions");for(F=G(ce=p.m,7),J=me(ce)?X(ce,4):0,O=me(ce)?X(ce,4):0,le=me(ce)?X(ce,4):0,ue=me(ce)?X(ce,4):0,ce=me(ce)?X(ce,4):0,Ne=p.Qa,De=0;4>De;++De){if(Ne.Cb){var de=Ne.Zb[De];Ne.Fb||(de+=F)}else{if(0<De){p.pb[De]=p.pb[0];continue}de=F}var Be=p.pb[De];Be.Sc[0]=Qn[hr(de+J,127)],Be.Sc[1]=Tn[hr(de+0,127)],Be.Eb[0]=2*Qn[hr(de+O,127)],Be.Eb[1]=101581*Tn[hr(de+le,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Qn[hr(de+ue,117)],Be.Qc[1]=Tn[hr(de+ce,127)],Be.lc=de+ce}if(!se.Rb)return Qs(p,4,"Not a key frame.");for(me(te),se=p.Pa,F=0;4>F;++F){for(J=0;8>J;++J)for(O=0;3>O;++O)for(le=0;11>le;++le)ue=Le(te,Zs[F][J][O][le])?G(te,8):tm[F][J][O][le],se.Wc[F][J].Yb[O][le]=ue;for(J=0;17>J;++J)se.Xc[F][J]=se.Wc[F][os[J]]}return p.kc=me(te),p.kc&&(p.Bd=G(te,8)),p.cb=1}function Xi(p,v,F,O,J,te,se){var le=v[J].Yb[F];for(F=0;16>J;++J){if(!Le(p,le[F+0]))return J;for(;!Le(p,le[F+1]);)if(le=v[++J].Yb[0],F=0,J==16)return 16;var ce=v[J+1].Yb;if(Le(p,le[F+2])){var ue=p,Ne=0;if(Le(ue,(de=le)[(De=F)+3]))if(Le(ue,de[De+6])){for(le=0,De=2*(Ne=Le(ue,de[De+8]))+(de=Le(ue,de[De+9+Ne])),Ne=0,de=em[De];de[le];++le)Ne+=Ne+Le(ue,de[le]);Ne+=3+(8<<De)}else Le(ue,de[De+7])?(Ne=7+2*Le(ue,165),Ne+=Le(ue,145)):Ne=5+Le(ue,159);else Ne=Le(ue,de[De+4])?3+Le(ue,de[De+5]):2;le=ce[2]}else Ne=1,le=ce[1];ce=se+ah[J],0>(ue=p).b&&Se(ue);var De,de=ue.b,Be=(De=ue.Ca>>1)-(ue.I>>de)>>31;--ue.b,ue.Ca+=Be,ue.Ca|=1,ue.I-=(De+1&Be)<<de,te[ce]=((Ne^Be)-Be)*O[(0<J)+0]}return 16}function Yi(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function _n(p,v,F,O,J){J=p[v+F+32*O]+(J>>3),p[v+F+32*O]=-256&J?0>J?0:255:J}function pi(p,v,F,O,J,te){_n(p,v,0,F,O+J),_n(p,v,1,F,O+te),_n(p,v,2,F,O-te),_n(p,v,3,F,O-J)}function jr(p){return(20091*p>>16)+p}function ja(p,v,F,O){var J,te=0,se=o(16);for(J=0;4>J;++J){var le=p[v+0]+p[v+8],ce=p[v+0]-p[v+8],ue=(35468*p[v+4]>>16)-jr(p[v+12]),Ne=jr(p[v+4])+(35468*p[v+12]>>16);se[te+0]=le+Ne,se[te+1]=ce+ue,se[te+2]=ce-ue,se[te+3]=le-Ne,te+=4,v++}for(J=te=0;4>J;++J)le=(p=se[te+0]+4)+se[te+8],ce=p-se[te+8],ue=(35468*se[te+4]>>16)-jr(se[te+12]),_n(F,O,0,0,le+(Ne=jr(se[te+4])+(35468*se[te+12]>>16))),_n(F,O,1,0,ce+ue),_n(F,O,2,0,ce-ue),_n(F,O,3,0,le-Ne),te++,O+=32}function hc(p,v,F,O){var J=p[v+0]+4,te=35468*p[v+4]>>16,se=jr(p[v+4]),le=35468*p[v+1]>>16;pi(F,O,0,J+se,p=jr(p[v+1]),le),pi(F,O,1,J+te,p,le),pi(F,O,2,J-te,p,le),pi(F,O,3,J-se,p,le)}function fd(p,v,F,O,J){ja(p,v,F,O),J&&ja(p,v+16,F,O+4)}function fc(p,v,F,O){Al(p,v+0,F,O,1),Al(p,v+32,F,O+128,1)}function Ta(p,v,F,O){var J;for(p=p[v+0]+4,J=0;4>J;++J)for(v=0;4>v;++v)_n(F,O,v,J,p)}function mc(p,v,F,O){p[v+0]&&js(p,v+0,F,O),p[v+16]&&js(p,v+16,F,O+4),p[v+32]&&js(p,v+32,F,O+128),p[v+48]&&js(p,v+48,F,O+128+4)}function gc(p,v,F,O){var J,te=o(16);for(J=0;4>J;++J){var se=p[v+0+J]+p[v+12+J],le=p[v+4+J]+p[v+8+J],ce=p[v+4+J]-p[v+8+J],ue=p[v+0+J]-p[v+12+J];te[0+J]=se+le,te[8+J]=se-le,te[4+J]=ue+ce,te[12+J]=ue-ce}for(J=0;4>J;++J)se=(p=te[0+4*J]+3)+te[3+4*J],le=te[1+4*J]+te[2+4*J],ce=te[1+4*J]-te[2+4*J],ue=p-te[3+4*J],F[O+0]=se+le>>3,F[O+16]=ue+ce>>3,F[O+32]=se-le>>3,F[O+48]=ue-ce>>3,O+=64}function hn(p,v,F){var O,J=v-32,te=_a,se=255-p[J-1];for(O=0;O<F;++O){var le,ce=te,ue=se+p[v-1];for(le=0;le<F;++le)p[v+le]=ce[ue+p[J+le]];v+=32}}function pc(p,v){hn(p,v,4)}function md(p,v){hn(p,v,8)}function gd(p,v){hn(p,v,16)}function xc(p,v){var F;for(F=0;16>F;++F)a(p,v+32*F,p,v-32,16)}function bc(p,v){var F;for(F=16;0<F;--F)i(p,v,p[v-1],16),v+=32}function fo(p,v,F){var O;for(O=0;16>O;++O)i(v,F+32*O,p,16)}function Zn(p,v){var F,O=16;for(F=0;16>F;++F)O+=p[v-1+32*F]+p[v+F-32];fo(O>>5,p,v)}function ei(p,v){var F,O=8;for(F=0;16>F;++F)O+=p[v-1+32*F];fo(O>>4,p,v)}function Wi(p,v){var F,O=8;for(F=0;16>F;++F)O+=p[v+F-32];fo(O>>4,p,v)}function mo(p,v){fo(128,p,v)}function It(p,v,F){return p+2*v+F+2>>2}function kl(p,v){var F,O=v-32;for(O=new Uint8Array([It(p[O-1],p[O+0],p[O+1]),It(p[O+0],p[O+1],p[O+2]),It(p[O+1],p[O+2],p[O+3]),It(p[O+2],p[O+3],p[O+4])]),F=0;4>F;++F)a(p,v+32*F,O,0,O.length)}function pd(p,v){var F=p[v-1],O=p[v-1+32],J=p[v-1+64],te=p[v-1+96];Ve(p,v+0,16843009*It(p[v-1-32],F,O)),Ve(p,v+32,16843009*It(F,O,J)),Ve(p,v+64,16843009*It(O,J,te)),Ve(p,v+96,16843009*It(J,te,te))}function yc(p,v){var F,O=4;for(F=0;4>F;++F)O+=p[v+F-32]+p[v-1+32*F];for(O>>=3,F=0;4>F;++F)i(p,v+32*F,O,4)}function xd(p,v){var F=p[v-1+0],O=p[v-1+32],J=p[v-1+64],te=p[v-1-32],se=p[v+0-32],le=p[v+1-32],ce=p[v+2-32],ue=p[v+3-32];p[v+0+96]=It(O,J,p[v-1+96]),p[v+1+96]=p[v+0+64]=It(F,O,J),p[v+2+96]=p[v+1+64]=p[v+0+32]=It(te,F,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=It(se,te,F),p[v+3+64]=p[v+2+32]=p[v+1+0]=It(le,se,te),p[v+3+32]=p[v+2+0]=It(ce,le,se),p[v+3+0]=It(ue,ce,le)}function fn(p,v){var F=p[v+1-32],O=p[v+2-32],J=p[v+3-32],te=p[v+4-32],se=p[v+5-32],le=p[v+6-32],ce=p[v+7-32];p[v+0+0]=It(p[v+0-32],F,O),p[v+1+0]=p[v+0+32]=It(F,O,J),p[v+2+0]=p[v+1+32]=p[v+0+64]=It(O,J,te),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=It(J,te,se),p[v+3+32]=p[v+2+64]=p[v+1+96]=It(te,se,le),p[v+3+64]=p[v+2+96]=It(se,le,ce),p[v+3+96]=It(le,ce,ce)}function la(p,v){var F=p[v-1+0],O=p[v-1+32],J=p[v-1+64],te=p[v-1-32],se=p[v+0-32],le=p[v+1-32],ce=p[v+2-32],ue=p[v+3-32];p[v+0+0]=p[v+1+64]=te+se+1>>1,p[v+1+0]=p[v+2+64]=se+le+1>>1,p[v+2+0]=p[v+3+64]=le+ce+1>>1,p[v+3+0]=ce+ue+1>>1,p[v+0+96]=It(J,O,F),p[v+0+64]=It(O,F,te),p[v+0+32]=p[v+1+96]=It(F,te,se),p[v+1+32]=p[v+2+96]=It(te,se,le),p[v+2+32]=p[v+3+96]=It(se,le,ce),p[v+3+32]=It(le,ce,ue)}function vc(p,v){var F=p[v+0-32],O=p[v+1-32],J=p[v+2-32],te=p[v+3-32],se=p[v+4-32],le=p[v+5-32],ce=p[v+6-32],ue=p[v+7-32];p[v+0+0]=F+O+1>>1,p[v+1+0]=p[v+0+64]=O+J+1>>1,p[v+2+0]=p[v+1+64]=J+te+1>>1,p[v+3+0]=p[v+2+64]=te+se+1>>1,p[v+0+32]=It(F,O,J),p[v+1+32]=p[v+0+96]=It(O,J,te),p[v+2+32]=p[v+1+96]=It(J,te,se),p[v+3+32]=p[v+2+96]=It(te,se,le),p[v+3+64]=It(se,le,ce),p[v+3+96]=It(le,ce,ue)}function go(p,v){var F=p[v-1+0],O=p[v-1+32],J=p[v-1+64],te=p[v-1+96];p[v+0+0]=F+O+1>>1,p[v+2+0]=p[v+0+32]=O+J+1>>1,p[v+2+32]=p[v+0+64]=J+te+1>>1,p[v+1+0]=It(F,O,J),p[v+3+0]=p[v+1+32]=It(O,J,te),p[v+3+32]=p[v+1+64]=It(J,te,te),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=te}function mn(p,v){var F=p[v-1+0],O=p[v-1+32],J=p[v-1+64],te=p[v-1+96],se=p[v-1-32],le=p[v+0-32],ce=p[v+1-32],ue=p[v+2-32];p[v+0+0]=p[v+2+32]=F+se+1>>1,p[v+0+32]=p[v+2+64]=O+F+1>>1,p[v+0+64]=p[v+2+96]=J+O+1>>1,p[v+0+96]=te+J+1>>1,p[v+3+0]=It(le,ce,ue),p[v+2+0]=It(se,le,ce),p[v+1+0]=p[v+3+32]=It(F,se,le),p[v+1+32]=p[v+3+64]=It(O,F,se),p[v+1+64]=p[v+3+96]=It(J,O,F),p[v+1+96]=It(te,J,O)}function po(p,v){var F;for(F=0;8>F;++F)a(p,v+32*F,p,v-32,8)}function xi(p,v){var F;for(F=0;8>F;++F)i(p,v,p[v-1],8),v+=32}function xo(p,v,F){var O;for(O=0;8>O;++O)i(v,F+32*O,p,8)}function Ji(p,v){var F,O=8;for(F=0;8>F;++F)O+=p[v+F-32]+p[v-1+32*F];xo(O>>4,p,v)}function nA(p,v){var F,O=4;for(F=0;8>F;++F)O+=p[v+F-32];xo(O>>3,p,v)}function iA(p,v){var F,O=4;for(F=0;8>F;++F)O+=p[v-1+32*F];xo(O>>3,p,v)}function ta(p,v){xo(128,p,v)}function gn(p,v,F){var O=p[v-F],J=p[v+0],te=3*(J-O)+cl[1020+p[v-2*F]-p[v+F]],se=Sc[112+(te+4>>3)];p[v-F]=_a[255+O+Sc[112+(te+3>>3)]],p[v+0]=_a[255+J-se]}function bi(p,v,F,O){var J=p[v+0],te=p[v+F];return da[255+p[v-2*F]-p[v-F]]>O||da[255+te-J]>O}function Zi(p,v,F,O){return 4*da[255+p[v-F]-p[v+0]]+da[255+p[v-2*F]-p[v+F]]<=O}function lA(p,v,F,O,J){var te=p[v-3*F],se=p[v-2*F],le=p[v-F],ce=p[v+0],ue=p[v+F],Ne=p[v+2*F],De=p[v+3*F];return 4*da[255+le-ce]+da[255+se-ue]>O?0:da[255+p[v-4*F]-te]<=J&&da[255+te-se]<=J&&da[255+se-le]<=J&&da[255+De-Ne]<=J&&da[255+Ne-ue]<=J&&da[255+ue-ce]<=J}function bo(p,v,F,O){var J=2*O+1;for(O=0;16>O;++O)Zi(p,v+O,F,J)&&gn(p,v+O,F)}function el(p,v,F,O){var J=2*O+1;for(O=0;16>O;++O)Zi(p,v+O*F,1,J)&&gn(p,v+O*F,1)}function Ll(p,v,F,O){var J;for(J=3;0<J;--J)bo(p,v+=4*F,F,O)}function yo(p,v,F,O){var J;for(J=3;0<J;--J)el(p,v+=4,F,O)}function yi(p,v,F,O,J,te,se,le){for(te=2*te+1;0<J--;){if(lA(p,v,F,te,se))if(bi(p,v,F,le))gn(p,v,F);else{var ce=p,ue=v,Ne=F,De=ce[ue-2*Ne],de=ce[ue-Ne],Be=ce[ue+0],Fe=ce[ue+Ne],qe=ce[ue+2*Ne],Qe=27*(Ye=cl[1020+3*(Be-de)+cl[1020+De-Fe]])+63>>7,Ge=18*Ye+63>>7,Ye=9*Ye+63>>7;ce[ue-3*Ne]=_a[255+ce[ue-3*Ne]+Ye],ce[ue-2*Ne]=_a[255+De+Ge],ce[ue-Ne]=_a[255+de+Qe],ce[ue+0]=_a[255+Be-Qe],ce[ue+Ne]=_a[255+Fe-Ge],ce[ue+2*Ne]=_a[255+qe-Ye]}v+=O}}function tl(p,v,F,O,J,te,se,le){for(te=2*te+1;0<J--;){if(lA(p,v,F,te,se))if(bi(p,v,F,le))gn(p,v,F);else{var ce=p,ue=v,Ne=F,De=ce[ue-Ne],de=ce[ue+0],Be=ce[ue+Ne],Fe=Sc[112+(4+(qe=3*(de-De))>>3)],qe=Sc[112+(qe+3>>3)],Qe=Fe+1>>1;ce[ue-2*Ne]=_a[255+ce[ue-2*Ne]+Qe],ce[ue-Ne]=_a[255+De+qe],ce[ue+0]=_a[255+de-Fe],ce[ue+Ne]=_a[255+Be-Qe]}v+=O}}function bd(p,v,F,O,J,te){yi(p,v,F,1,16,O,J,te)}function yd(p,v,F,O,J,te){yi(p,v,1,F,16,O,J,te)}function sl(p,v,F,O,J,te){var se;for(se=3;0<se;--se)tl(p,v+=4*F,F,1,16,O,J,te)}function vd(p,v,F,O,J,te){var se;for(se=3;0<se;--se)tl(p,v+=4,1,F,16,O,J,te)}function C(p,v,F,O,J,te,se,le){yi(p,v,J,1,8,te,se,le),yi(F,O,J,1,8,te,se,le)}function W(p,v,F,O,J,te,se,le){yi(p,v,1,J,8,te,se,le),yi(F,O,1,J,8,te,se,le)}function he(p,v,F,O,J,te,se,le){tl(p,v+4*J,J,1,8,te,se,le),tl(F,O+4*J,J,1,8,te,se,le)}function we(p,v,F,O,J,te,se,le){tl(p,v+4,1,J,8,te,se,le),tl(F,O+4,1,J,8,te,se,le)}function _e(){this.ba=new Dt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ts,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xt(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new R}function jt(){this.xb=this.a=0,this.l=new $i,this.ca=new Dt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xt,this.ab=0,this.gc=c(4,st),this.Oc=0}function Ot(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $i,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(p,v,F,O,J,te,se){for(p=p==null?0:p[v+0],v=0;v<se;++v)J[te+v]=p+F[O+v]&255,p=J[te+v]}function Ns(p,v,F,O,J,te,se){var le;if(p==null)zt(null,null,F,O,J,te,se);else for(le=0;le<se;++le)J[te+le]=p[v+le]+F[O+le]&255}function ir(p,v,F,O,J,te,se){if(p==null)zt(null,null,F,O,J,te,se);else{var le,ce=p[v+0],ue=ce,Ne=ce;for(le=0;le<se;++le)ue=Ne+(ce=p[v+le])-ue,Ne=F[O+le]+(-256&ue?0>ue?0:255:ue)&255,ue=ce,J[te+le]=Ne}}function Br(p,v,F,O){var J=v.width,te=v.o;if(s(p!=null&&v!=null),0>F||0>=O||F+O>te)return null;if(!p.Cc){if(p.ga==null){var se;if(p.ga=new Ot,(se=p.ga==null)||(se=v.width*v.o,s(p.Gb.length==0),p.Gb=o(se),p.Uc=0,p.Gb==null?se=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,se=1),se=!se),!se){se=p.ga;var le=p.Fa,ce=p.P,ue=p.qc,Ne=p.mb,De=p.nb,de=ce+1,Be=ue-1,Fe=se.l;if(s(le!=null&&Ne!=null&&v!=null),dl[0]=null,dl[1]=zt,dl[2]=Ns,dl[3]=ir,se.ca=Ne,se.tb=De,se.c=v.width,se.i=v.height,s(0<se.c&&0<se.i),1>=ue)v=0;else if(se.$a=3&le[ce+0],se.Z=le[ce+0]>>2&3,se.Lc=le[ce+0]>>4&3,ce=le[ce+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||ce)v=0;else if(Fe.put=Et,Fe.ac=Zr,Fe.bc=Gi,Fe.ma=se,Fe.width=v.width,Fe.height=v.height,Fe.Da=v.Da,Fe.v=v.v,Fe.va=v.va,Fe.j=v.j,Fe.o=v.o,se.$a)e:{s(se.$a==1),v=uo();t:for(;;){if(v==null){v=0;break e}if(s(se!=null),se.mc=v,v.c=se.c,v.i=se.i,v.l=se.l,v.l.ma=se,v.l.width=se.c,v.l.height=se.i,v.a=0,ie(v.m,le,de,Be),!$n(se.c,se.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Ms(v.s)?(se.ic=1,le=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(le),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(se.ic=0,v=Xn(v,se.c)),!v))break t;v=1;break e}se.mc=null,v=0}else v=Be>=se.c*se.i;se=!v}if(se)return null;p.ga.Lc!=1?p.Ga=0:O=te-F}s(p.ga!=null),s(F+O<=te);e:{if(v=(le=p.ga).c,te=le.l.o,le.$a==0){if(de=p.rc,Be=p.Vc,Fe=p.Fa,ce=p.P+1+F*v,ue=p.mb,Ne=p.nb+F*v,s(ce<=p.P+p.qc),le.Z!=0)for(s(dl[le.Z]!=null),se=0;se<O;++se)dl[le.Z](de,Be,Fe,ce,ue,Ne,v),de=ue,Be=Ne,Ne+=v,ce+=v;else for(se=0;se<O;++se)a(ue,Ne,Fe,ce,v),de=ue,Be=Ne,Ne+=v,ce+=v;p.rc=de,p.Vc=Be}else{if(s(le.mc!=null),v=F+O,s((se=le.mc)!=null),s(v<=se.i),se.C>=v)v=1;else if(le.ic||Cn(),le.ic){le=se.V,de=se.Ba,Be=se.c;var qe=se.i,Qe=(Fe=1,ce=se.$/Be,ue=se.$%Be,Ne=se.m,De=se.s,se.$),Ge=Be*qe,Ye=Be*v,at=De.wc,tt=Qe<Ye?ea(De,ue,ce):null;s(Qe<=Ge),s(v<=qe),s(Ms(De));t:for(;;){for(;!Ne.h&&Qe<Ye;){if(ue&at||(tt=ea(De,ue,ce)),s(tt!=null),pe(Ne),256>(qe=rr(tt.G[0],tt.H[0],Ne)))le[de+Qe]=qe,++Qe,++ue>=Be&&(ue=0,++ce<=v&&!(ce%16)&&Na(se,ce));else{if(!(280>qe)){Fe=0;break t}qe=An(qe-256,Ne);var wt,ft=rr(tt.G[4],tt.H[4],Ne);if(pe(Ne),!(Qe>=(ft=cn(Be,ft=An(ft,Ne)))&&Ge-Qe>=qe)){Fe=0;break t}for(wt=0;wt<qe;++wt)le[de+Qe+wt]=le[de+Qe+wt-ft];for(Qe+=qe,ue+=qe;ue>=Be;)ue-=Be,++ce<=v&&!(ce%16)&&Na(se,ce);Qe<Ye&&ue&at&&(tt=ea(De,ue,ce))}s(Ne.h==Ae(Ne))}Na(se,ce>v?v:ce);break t}!Fe||Ne.h&&Qe<Ge?(Fe=0,se.a=Ne.h?5:3):se.$=Qe,v=Fe}else v=dn(se,se.V,se.Ba,se.c,se.i,v,Ul);if(!v){O=0;break e}}F+O>=te&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+F*J}function Ks(p,v,F,O,J,te){for(;0<J--;){var se,le=p,ce=v+(F?1:0),ue=p,Ne=v+(F?0:3);for(se=0;se<O;++se){var De=ue[Ne+4*se];De!=255&&(De*=32897,le[ce+4*se+0]=le[ce+4*se+0]*De>>23,le[ce+4*se+1]=le[ce+4*se+1]*De>>23,le[ce+4*se+2]=le[ce+4*se+2]*De>>23)}v+=te}}function zr(p,v,F,O,J){for(;0<O--;){var te;for(te=0;te<F;++te){var se=p[v+2*te+0],le=15&(ue=p[v+2*te+1]),ce=4369*le,ue=(240&ue|ue>>4)*ce>>16;p[v+2*te+0]=(240&se|se>>4)*ce>>16&240|(15&se|se<<4)*ce>>16>>4&15,p[v+2*te+1]=240&ue|le}v+=J}}function Lr(p,v,F,O,J,te,se,le){var ce,ue,Ne=255;for(ue=0;ue<J;++ue){for(ce=0;ce<O;++ce){var De=p[v+ce];te[se+4*ce]=De,Ne&=De}v+=F,se+=le}return Ne!=255}function oa(p,v,F,O,J){var te;for(te=0;te<J;++te)F[O+te]=p[v+te]>>8}function Cn(){Bo=Ks,En=zr,Bc=Lr,bn=oa}function qa(p,v,F){z[p]=function(O,J,te,se,le,ce,ue,Ne,De,de,Be,Fe,qe,Qe,Ge,Ye,at){var tt,wt=at-1>>1,ft=le[ce+0]|ue[Ne+0]<<16,Pt=De[de+0]|Be[Fe+0]<<16;s(O!=null);var pt=3*ft+Pt+131074>>2;for(v(O[J+0],255&pt,pt>>16,qe,Qe),te!=null&&(pt=3*Pt+ft+131074>>2,v(te[se+0],255&pt,pt>>16,Ge,Ye)),tt=1;tt<=wt;++tt){var ns=le[ce+tt]|ue[Ne+tt]<<16,er=De[de+tt]|Be[Fe+tt]<<16,qt=ft+ns+Pt+er+524296,mt=qt+2*(ns+Pt)>>3;pt=mt+ft>>1,ft=(qt=qt+2*(ft+er)>>3)+ns>>1,v(O[J+2*tt-1],255&pt,pt>>16,qe,Qe+(2*tt-1)*F),v(O[J+2*tt-0],255&ft,ft>>16,qe,Qe+(2*tt-0)*F),te!=null&&(pt=qt+Pt>>1,ft=mt+er>>1,v(te[se+2*tt-1],255&pt,pt>>16,Ge,Ye+(2*tt-1)*F),v(te[se+2*tt+0],255&ft,ft>>16,Ge,Ye+(2*tt+0)*F)),ft=ns,Pt=er}1&at||(pt=3*ft+Pt+131074>>2,v(O[J+at-1],255&pt,pt>>16,qe,Qe+(at-1)*F),te!=null&&(pt=3*Pt+ft+131074>>2,v(te[se+at-1],255&pt,pt>>16,Ge,Ye+(at-1)*F)))}}function wd(){ha[_d]=So,ha[Ca]=xA,ha[Cd]=ih,ha[Fn]=kd,ha[Ec]=Hl,ha[mA]=Ei,ha[Ml]=Pl,ha[Fc]=xA,ha[Sd]=kd,ha[gA]=Hl,ha[Ed]=Ei}function oA(p){return p&-16384?0>p?0:255:p>>Ld}function vo(p,v){return oA((19077*p>>8)+(26149*v>>8)-14234)}function vi(p,v,F){return oA((19077*p>>8)-(6419*v>>8)-(13320*F>>8)+8708)}function ti(p,v){return oA((19077*p>>8)+(33050*v>>8)-17685)}function wo(p,v,F,O,J){O[J+0]=vo(p,F),O[J+1]=vi(p,v,F),O[J+2]=ti(p,v)}function Ql(p,v,F,O,J){O[J+0]=ti(p,v),O[J+1]=vi(p,v,F),O[J+2]=vo(p,F)}function Aa(p,v,F,O,J){var te=vi(p,v,F);v=te<<3&224|ti(p,v)>>3,O[J+0]=248&vo(p,F)|te>>5,O[J+1]=v}function Tl(p,v,F,O,J){var te=240&ti(p,v)|15;O[J+0]=240&vo(p,F)|vi(p,v,F)>>4,O[J+1]=te}function Dl(p,v,F,O,J){O[J+0]=255,wo(p,v,F,O,J+1)}function AA(p,v,F,O,J){Ql(p,v,F,O,J),O[J+3]=255}function wi(p,v,F,O,J){wo(p,v,F,O,J),O[J+3]=255}function hr(p,v){return 0>p?0:p>v?v:p}function rl(p,v,F){z[p]=function(O,J,te,se,le,ce,ue,Ne,De){for(var de=Ne+(-2&De)*F;Ne!=de;)v(O[J+0],te[se+0],le[ce+0],ue,Ne),v(O[J+1],te[se+0],le[ce+0],ue,Ne+F),J+=2,++se,++ce,Ne+=2*F;1&De&&v(O[J+0],te[se+0],le[ce+0],ue,Ne)}}function cA(p,v,F){return F==0?p==0?v==0?6:5:v==0?4:0:F}function wc(p,v,F,O,J){switch(p>>>30){case 3:Al(v,F,O,J,0);break;case 2:Ba(v,F,O,J);break;case 1:js(v,F,O,J)}}function pn(p,v){var F,O,J=v.M,te=v.Nb,se=p.oc,le=p.pc+40,ce=p.oc,ue=p.pc+584,Ne=p.oc,De=p.pc+600;for(F=0;16>F;++F)se[le+32*F-1]=129;for(F=0;8>F;++F)ce[ue+32*F-1]=129,Ne[De+32*F-1]=129;for(0<J?se[le-1-32]=ce[ue-1-32]=Ne[De-1-32]=129:(i(se,le-32-1,127,21),i(ce,ue-32-1,127,9),i(Ne,De-32-1,127,9)),O=0;O<p.za;++O){var de=v.ya[v.aa+O];if(0<O){for(F=-1;16>F;++F)a(se,le+32*F-4,se,le+32*F+12,4);for(F=-1;8>F;++F)a(ce,ue+32*F-4,ce,ue+32*F+4,4),a(Ne,De+32*F-4,Ne,De+32*F+4,4)}var Be=p.Gd,Fe=p.Hd+O,qe=de.ad,Qe=de.Hc;if(0<J&&(a(se,le-32,Be[Fe].y,0,16),a(ce,ue-32,Be[Fe].f,0,8),a(Ne,De-32,Be[Fe].ea,0,8)),de.Za){var Ge=se,Ye=le-32+16;for(0<J&&(O>=p.za-1?i(Ge,Ye,Be[Fe].y[15],4):a(Ge,Ye,Be[Fe+1].y,0,4)),F=0;4>F;F++)Ge[Ye+128+F]=Ge[Ye+256+F]=Ge[Ye+384+F]=Ge[Ye+0+F];for(F=0;16>F;++F,Qe<<=2)Ge=se,Ye=le+Sr[F],fr[de.Ob[F]](Ge,Ye),wc(Qe,qe,16*+F,Ge,Ye)}else if(Ge=cA(O,J,de.Ob[0]),Ia[Ge](se,le),Qe!=0)for(F=0;16>F;++F,Qe<<=2)wc(Qe,qe,16*+F,se,le+Sr[F]);for(F=de.Gc,Ge=cA(O,J,de.Dd),ni[Ge](ce,ue),ni[Ge](Ne,De),Qe=qe,Ge=ce,Ye=ue,255&(de=0|F)&&(170&de?Sn(Qe,256,Ge,Ye):xs(Qe,256,Ge,Ye)),de=Ne,Qe=De,255&(F>>=8)&&(170&F?Sn(qe,320,de,Qe):xs(qe,320,de,Qe)),J<p.Ub-1&&(a(Be[Fe].y,0,se,le+480,16),a(Be[Fe].f,0,ce,ue+224,8),a(Be[Fe].ea,0,Ne,De+224,8)),F=8*te*p.B,Be=p.sa,Fe=p.ta+16*O+16*te*p.R,qe=p.qa,de=p.ra+8*O+F,Qe=p.Ha,Ge=p.Ia+8*O+F,F=0;16>F;++F)a(Be,Fe+F*p.R,se,le+32*F,16);for(F=0;8>F;++F)a(qe,de+F*p.B,ce,ue+32*F,8),a(Qe,Ge+F*p.B,Ne,De+32*F,8)}}function si(p,v,F,O,J,te,se,le,ce){var ue=[0],Ne=[0],De=0,de=ce!=null?ce.kd:0,Be=ce??new Xe;if(p==null||12>F)return 7;Be.data=p,Be.w=v,Be.ha=F,v=[v],F=[F],Be.gb=[Be.gb];e:{var Fe=v,qe=F,Qe=Be.gb;if(s(p!=null),s(qe!=null),s(Qe!=null),Qe[0]=0,12<=qe[0]&&!r(p,Fe[0],"RIFF")){if(r(p,Fe[0]+8,"WEBP")){Qe=3;break e}var Ge=ae(p,Fe[0]+4);if(12>Ge||4294967286<Ge){Qe=3;break e}if(de&&Ge>qe[0]-8){Qe=7;break e}Qe[0]=Ge,Fe[0]+=12,qe[0]-=12}Qe=0}if(Qe!=0)return Qe;for(Ge=0<Be.gb[0],F=F[0];;){e:{var Ye=p;qe=v,Qe=F;var at=ue,tt=Ne,wt=Fe=[0];if((pt=De=[De])[0]=0,8>Qe[0])Qe=7;else{if(!r(Ye,qe[0],"VP8X")){if(ae(Ye,qe[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var ft=ae(Ye,qe[0]+8),Pt=1+Ke(Ye,qe[0]+12);if(2147483648<=Pt*(Ye=1+Ke(Ye,qe[0]+15))){Qe=3;break e}wt!=null&&(wt[0]=ft),at!=null&&(at[0]=Pt),tt!=null&&(tt[0]=Ye),qe[0]+=18,Qe[0]-=18,pt[0]=1}Qe=0}}if(De=De[0],Fe=Fe[0],Qe!=0)return Qe;if(qe=!!(2&Fe),!Ge&&De)return 3;if(te!=null&&(te[0]=!!(16&Fe)),se!=null&&(se[0]=qe),le!=null&&(le[0]=0),se=ue[0],Fe=Ne[0],De&&qe&&ce==null){Qe=0;break}if(4>F){Qe=7;break}if(Ge&&De||!Ge&&!De&&!r(p,v[0],"ALPH")){F=[F],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{ft=p,Qe=v,Ge=F;var pt=Be.gb;at=Be.na,tt=Be.P,wt=Be.Sa,Pt=22,s(ft!=null),s(Ge!=null),Ye=Qe[0];var ns=Ge[0];for(s(at!=null),s(wt!=null),at[0]=null,tt[0]=null,wt[0]=0;;){if(Qe[0]=Ye,Ge[0]=ns,8>ns){Qe=7;break e}var er=ae(ft,Ye+4);if(4294967286<er){Qe=3;break e}var qt=8+er+1&-2;if(Pt+=qt,0<pt&&Pt>pt){Qe=3;break e}if(!r(ft,Ye,"VP8 ")||!r(ft,Ye,"VP8L")){Qe=0;break e}if(ns[0]<qt){Qe=7;break e}r(ft,Ye,"ALPH")||(at[0]=ft,tt[0]=Ye+8,wt[0]=er),Ye+=qt,ns-=qt}}if(F=F[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Qe!=0)break}F=[F],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(pt=p,Qe=v,Ge=F,at=Be.gb[0],tt=Be.Ja,wt=Be.xa,ft=Qe[0],Ye=!r(pt,ft,"VP8 "),Pt=!r(pt,ft,"VP8L"),s(pt!=null),s(Ge!=null),s(tt!=null),s(wt!=null),8>Ge[0])Qe=7;else{if(Ye||Pt){if(pt=ae(pt,ft+4),12<=at&&pt>at-12){Qe=3;break e}if(de&&pt>Ge[0]-8){Qe=7;break e}tt[0]=pt,Qe[0]+=8,Ge[0]-=8,wt[0]=Pt}else wt[0]=5<=Ge[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),tt[0]=Ge[0];Qe=0}if(F=F[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],v=v[0],Qe!=0)break;if(4294967286<Be.Ja)return 3;if(le==null||qe||(le[0]=Be.xa?2:1),se=[se],Fe=[Fe],Be.xa){if(5>F){Qe=7;break}le=se,de=Fe,qe=te,p==null||5>F?p=0:5<=F&&p[v+0]==47&&!(p[v+4]>>5)?(Ge=[0],pt=[0],at=[0],ie(tt=new H,p,v,F),mi(tt,Ge,pt,at)?(le!=null&&(le[0]=Ge[0]),de!=null&&(de[0]=pt[0]),qe!=null&&(qe[0]=at[0]),p=1):p=0):p=0}else{if(10>F){Qe=7;break}le=Fe,p==null||10>F||!Qa(p,v+3,F-3)?p=0:(de=p[v+0]|p[v+1]<<8|p[v+2]<<16,qe=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=Be.Ja||!qe||!p?p=0:(se&&(se[0]=qe),le&&(le[0]=p),p=1))}if(!p||(se=se[0],Fe=Fe[0],De&&(ue[0]!=se||Ne[0]!=Fe)))return 3;ce!=null&&(ce[0]=Be,ce.offset=v-ce.w,s(4294967286>v-ce.w),s(ce.offset==ce.ha-F));break}return Qe==0||Qe==7&&De&&ce==null?(te!=null&&(te[0]|=Be.na!=null&&0<Be.na.length),O!=null&&(O[0]=se),J!=null&&(J[0]=Fe),0):Qe}function al(p,v,F){var O=v.width,J=v.height,te=0,se=0,le=O,ce=J;if(v.Da=p!=null&&0<p.Da,v.Da&&(le=p.cd,ce=p.bd,te=p.v,se=p.j,11>F||(te&=-2,se&=-2),0>te||0>se||0>=le||0>=ce||te+le>O||se+ce>J))return 0;if(v.v=te,v.j=se,v.va=te+le,v.o=se+ce,v.U=le,v.T=ce,v.da=p!=null&&0<p.da,v.da){if(!ve(le,ce,F=[p.ib],te=[p.hb]))return 0;v.ib=F[0],v.hb=te[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*J/4,v.Kb=0),1}function Nc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function ri(p,v,F,O){if(O==null||0>=p||0>=v)return 2;if(F!=null){if(F.Da){var J=F.cd,te=F.bd,se=-2&F.v,le=-2&F.j;if(0>se||0>le||0>=J||0>=te||se+J>p||le+te>v)return 2;p=J,v=te}if(F.da){if(!ve(p,v,J=[F.ib],te=[F.hb]))return 2;p=J[0],v=te[0]}}O.width=p,O.height=v;e:{var ce=O.width,ue=O.height;if(p=O.S,0>=ce||0>=ue||!(p>=_d&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){se=te=J=v=0;var Ne=(le=ce*Td[p])*ue;if(11>p||(te=(ue+1)/2*(v=(ce+1)/2),p==12&&(se=(J=ce)*ue)),(ue=o(Ne+2*te+se))==null){p=1;break e}O.sd=ue,11>p?((ce=O.f.RGBA).eb=ue,ce.fb=0,ce.A=le,ce.size=Ne):((ce=O.f.kb).y=ue,ce.O=0,ce.fa=le,ce.Fd=Ne,ce.f=ue,ce.N=0+Ne,ce.Ab=v,ce.Cd=te,ce.ea=ue,ce.W=0+Ne+te,ce.Db=v,ce.Ed=te,p==12&&(ce.F=ue,ce.J=0+Ne+2*te),ce.Tc=se,ce.lb=J)}if(v=1,J=O.S,te=O.width,se=O.height,J>=_d&&13>J)if(11>J)p=O.f.RGBA,v&=(le=Math.abs(p.A))*(se-1)+te<=p.size,v&=le>=te*Td[J],v&=p.eb!=null;else{p=O.f.kb,le=(te+1)/2,Ne=(se+1)/2,ce=Math.abs(p.fa),ue=Math.abs(p.Ab);var De=Math.abs(p.Db),de=Math.abs(p.lb),Be=de*(se-1)+te;v&=ce*(se-1)+te<=p.Fd,v&=ue*(Ne-1)+le<=p.Cd,v=(v&=De*(Ne-1)+le<=p.Ed)&ce>=te&ue>=le&De>=le,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,J==12&&(v&=de>=te,v&=Be<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||F!=null&&F.fd&&(p=Nc(O)),p}var Il=64,$a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Da=24,Ni=32,ji=8,nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ee("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(p){return p},z.Predictor2=function(p,v,F){return v[F+0]},z.Predictor3=function(p,v,F){return v[F+1]},z.Predictor4=function(p,v,F){return v[F-1]},z.Predictor5=function(p,v,F){return Oe(Oe(p,v[F+1]),v[F+0])},z.Predictor6=function(p,v,F){return Oe(p,v[F-1])},z.Predictor7=function(p,v,F){return Oe(p,v[F+0])},z.Predictor8=function(p,v,F){return Oe(v[F-1],v[F+0])},z.Predictor9=function(p,v,F){return Oe(v[F+0],v[F+1])},z.Predictor10=function(p,v,F){return Oe(Oe(p,v[F-1]),Oe(v[F+0],v[F+1]))},z.Predictor11=function(p,v,F){var O=v[F+0];return 0>=ht(O>>24&255,p>>24&255,(v=v[F-1])>>24&255)+ht(O>>16&255,p>>16&255,v>>16&255)+ht(O>>8&255,p>>8&255,v>>8&255)+ht(255&O,255&p,255&v)?O:p},z.Predictor12=function(p,v,F){var O=v[F+0];return(Je((p>>24&255)+(O>>24&255)-((v=v[F-1])>>24&255))<<24|Je((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|Je((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|Je((255&p)+(255&O)-(255&v)))>>>0},z.Predictor13=function(p,v,F){var O=v[F-1];return(ot((p=Oe(p,v[F+0]))>>24&255,O>>24&255)<<24|ot(p>>16&255,O>>16&255)<<16|ot(p>>8&255,O>>8&255)<<8|ot(255&p,255&O))>>>0};var dA=z.PredictorAdd0;z.PredictorAdd1=_t,Ee("Predictor2","PredictorAdd2"),Ee("Predictor3","PredictorAdd3"),Ee("Predictor4","PredictorAdd4"),Ee("Predictor5","PredictorAdd5"),Ee("Predictor6","PredictorAdd6"),Ee("Predictor7","PredictorAdd7"),Ee("Predictor8","PredictorAdd8"),Ee("Predictor9","PredictorAdd9"),Ee("Predictor10","PredictorAdd10"),Ee("Predictor11","PredictorAdd11"),Ee("Predictor12","PredictorAdd12"),Ee("Predictor13","PredictorAdd13");var uA=z.PredictorAdd2;ye("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var _r,Nd=z.ColorIndexInverseTransform,Bi=z.MapARGB,_i=z.VP8LColorIndexInverseTransformAlpha,ca=z.MapAlpha,il=z.VP8LPredictorsAdd=[];il.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var hA,fA,ll,ol,Ci,No,xn,Al,Ba,Sn,js,xs,Gs,Cr,Si,ai,jo,jc,th,Wf,Jf,Zf,sh,rh,Bo,En,Bc,bn,_o=o(511),jd=o(2041),_c=o(225),Cc=o(767),Bd=0,cl=jd,Sc=_c,_a=Cc,da=_o,_d=0,Ca=1,Cd=2,Fn=3,Ec=4,mA=5,Ml=6,Fc=7,Sd=8,gA=9,Ed=10,Un=[2,3,7],pA=[3,3,11],Co=[280,256,256,256,40],Fd=[0,1,1,1,0],Uc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ln=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rl=8,Qn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tn=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yn=null,em=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ah=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ud=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ua=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],os=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ia=[],fr=[],ni=[],Ol=1,nh=2,dl=[],ha=[];qa("UpsampleRgbLinePair",wo,3),qa("UpsampleBgrLinePair",Ql,3),qa("UpsampleRgbaLinePair",wi,4),qa("UpsampleBgraLinePair",AA,4),qa("UpsampleArgbLinePair",Dl,4),qa("UpsampleRgba4444LinePair",Tl,2),qa("UpsampleRgb565LinePair",Aa,2);var So=z.UpsampleRgbLinePair,ih=z.UpsampleBgrLinePair,xA=z.UpsampleRgbaLinePair,kd=z.UpsampleBgraLinePair,Hl=z.UpsampleArgbLinePair,Ei=z.UpsampleRgba4444LinePair,Pl=z.UpsampleRgb565LinePair,Dn=16,bA=1<<Dn-1,Eo=-227,Vl=482,Ld=6,zl=0,fa=o(256),Qd=o(256),sm=o(256),Yg=o(256),Wg=o(Vl-Eo),Jg=o(Vl-Eo);rl("YuvToRgbRow",wo,3),rl("YuvToBgrRow",Ql,3),rl("YuvToRgbaRow",wi,4),rl("YuvToBgraRow",AA,4),rl("YuvToArgbRow",Dl,4),rl("YuvToRgba4444Row",Tl,2),rl("YuvToRgb565Row",Aa,2);var Sr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yA=[0,2,8],kc=[8,7,6,4,4,2,2,2,1,1,1,1],Lc=1;this.WebPDecodeRGBA=function(p,v,F,O,J){var te=Ca,se=new _e,le=new Dt;se.ba=le,le.S=te,le.width=[le.width],le.height=[le.height];var ce=le.width,ue=le.height,Ne=new Ct;if(Ne==null||p==null)var De=2;else s(Ne!=null),De=si(p,v,F,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(De!=0?ce=0:(ce!=null&&(ce[0]=Ne.width[0]),ue!=null&&(ue[0]=Ne.height[0]),ce=1),ce){le.width=le.width[0],le.height=le.height[0],O!=null&&(O[0]=le.width),J!=null&&(J[0]=le.height);e:{if(O=new $i,(J=new Xe).data=p,J.w=v,J.ha=F,J.kd=1,v=[0],s(J!=null),((p=si(J.data,J.w,J.ha,null,null,null,v,null,J))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(s(se!=null),O.data=J.data,O.w=J.w+J.offset,O.ha=J.ha-J.offset,O.put=Et,O.ac=Zr,O.bc=Gi,O.ma=se,J.xa){if((p=uo())==null){se=1;break e}if(function(de,Be){var Fe=[0],qe=[0],Qe=[0];t:for(;;){if(de==null)return 0;if(Be==null)return de.a=2,0;if(de.l=Be,de.a=0,ie(de.m,Be.data,Be.w,Be.ha),!mi(de.m,Fe,qe,Qe)){de.a=3;break t}if(de.xb=nh,Be.width=Fe[0],Be.height=qe[0],!$n(Fe[0],qe[0],1,de,null))break t;return 1}return s(de.a!=0),0}(p,O)){if(O=(v=ri(O.width,O.height,se.Oa,se.ba))==0){t:{O=p;s:for(;;){if(O==null){O=0;break t}if(s(O.s.yc!=null),s(O.s.Ya!=null),s(0<O.s.Wb),s((F=O.l)!=null),s((J=F.ma)!=null),O.xb!=0){if(O.ca=J.ba,O.tb=J.tb,s(O.ca!=null),!al(J.Oa,F,Fn)){O.a=2;break s}if(!Xn(O,F.width)||F.da)break s;if((F.da||St(O.ca.S))&&Cn(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Cn()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Y(O.s.vb,O.s.Wa.Xa)){O.a=1;break s}O.xb=0}if(!dn(O,O.V,O.Ba,O.c,O.i,F.o,La))break s;J.Dc=O.Ma,O=1;break t}s(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new aA)==null){se=1;break e}if(p.Fa=J.na,p.P=J.P,p.qc=J.Sa,uc(p,O)){if((v=ri(O.width,O.height,se.Oa,se.ba))==0){if(p.Aa=0,F=se.Oa,s((J=p)!=null),F!=null){if(0<(ce=0>(ce=F.Md)?0:100<ce?255:255*ce/100)){for(ue=Ne=0;4>ue;++ue)12>(De=J.pb[ue]).lc&&(De.ia=ce*kc[0>De.lc?0:De.lc]>>3),Ne|=De.ia;Ne&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=F.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(de,Be){if(de==null)return 0;if(Be==null)return Qs(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!uc(de,Be))return 0;if(s(de.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(de.L=0);var Fe=yA[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=Be.v-Fe>>4,de.zb=Be.j-Fe>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=Be.o+15+Fe>>4,de.Hb=Be.va+15+Fe>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var qe=de.ed;for(Fe=0;4>Fe;++Fe){var Qe;if(de.Qa.Cb){var Ge=de.Qa.Lb[Fe];de.Qa.Fb||(Ge+=qe.Tb)}else Ge=qe.Tb;for(Qe=0;1>=Qe;++Qe){var Ye=de.gd[Fe][Qe],at=Ge;if(qe.Pc&&(at+=qe.vd[0],Qe&&(at+=qe.od[0])),0<(at=0>at?0:63<at?63:at)){var tt=at;0<qe.wb&&(tt=4<qe.wb?tt>>2:tt>>1)>9-qe.wb&&(tt=9-qe.wb),1>tt&&(tt=1),Ye.dd=tt,Ye.tc=2*at+tt,Ye.ld=40<=at?2:15<=at?1:0}else Ye.tc=0;Ye.La=Qe}}}Fe=0}else Qs(de,6,"Frame setup failed"),Fe=de.a;if(Fe=Fe==0){if(Fe){de.$c=0,0<de.Aa||(de.Ic=Lc);t:{Fe=de.Ic,qe=4*(tt=de.za);var wt=32*tt,ft=tt+1,Pt=0<de.L?tt*(0<de.Aa?2:1):0,pt=(de.Aa==2?2:1)*tt;if((Ye=qe+832+(Qe=3*(16*Fe+yA[de.L])/2*wt)+(Ge=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=Ye)Fe=0;else{if(Ye>de.Vb){if(de.Vb=0,de.Ec=o(Ye),de.Fc=0,de.Ec==null){Fe=Qs(de,1,"no memory during frame initialization.");break t}de.Vb=Ye}Ye=de.Ec,at=de.Fc,de.Ac=Ye,de.Bc=at,at+=qe,de.Gd=c(wt,dc),de.Hd=0,de.rb=c(ft+1,Jn),de.sb=1,de.wa=Pt?c(Pt,un):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=tt),s(!0),de.oc=Ye,de.pc=at,at+=832,de.ya=c(pt,Ac),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=tt),de.R=16*tt,de.B=8*tt,tt=(wt=yA[de.L])*de.R,wt=wt/2*de.B,de.sa=Ye,de.ta=at+tt,de.qa=de.sa,de.ra=de.ta+16*Fe*de.R+wt,de.Ha=de.qa,de.Ia=de.ra+8*Fe*de.B+wt,de.$c=0,at+=Qe,de.mb=Ge?Ye:null,de.nb=Ge?at:null,s(at+Ge<=de.Fc+de.Vb),Yi(de),i(de.Ac,de.Bc,0,qe),Fe=1}}if(Fe){if(Be.ka=0,Be.y=de.sa,Be.O=de.ta,Be.f=de.qa,Be.N=de.ra,Be.ea=de.Ha,Be.Vd=de.Ia,Be.fa=de.R,Be.Rc=de.B,Be.F=null,Be.J=0,!Bd){for(Fe=-255;255>=Fe;++Fe)_o[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)jd[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)_c[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)Cc[255+Fe]=0>Fe?0:255<Fe?255:Fe;Bd=1}xn=gc,Al=fd,Sn=fc,js=Ta,xs=mc,Ba=hc,Gs=bd,Cr=yd,Si=C,ai=W,jo=sl,jc=vd,th=he,Wf=we,Jf=bo,Zf=el,sh=Ll,rh=yo,fr[0]=yc,fr[1]=pc,fr[2]=kl,fr[3]=pd,fr[4]=xd,fr[5]=la,fr[6]=fn,fr[7]=vc,fr[8]=mn,fr[9]=go,Ia[0]=Zn,Ia[1]=gd,Ia[2]=xc,Ia[3]=bc,Ia[4]=ei,Ia[5]=Wi,Ia[6]=mo,ni[0]=Ji,ni[1]=md,ni[2]=po,ni[3]=xi,ni[4]=iA,ni[5]=nA,ni[6]=ta,Fe=1}else Fe=0}Fe&&(Fe=function(ns,er){for(ns.M=0;ns.M<ns.Va;++ns.M){var qt,mt=ns.Jc[ns.M&ns.Xb],lt=ns.m,lr=ns;for(qt=0;qt<lr.za;++qt){var Mt=lt,Wt=lr,Es=Wt.Ac,Kr=Wt.Bc+4*qt,ma=Wt.zc,qs=Wt.ya[Wt.aa+qt];if(Wt.Qa.Bb?qs.$b=Le(Mt,Wt.Pa.jb[0])?2+Le(Mt,Wt.Pa.jb[2]):Le(Mt,Wt.Pa.jb[1]):qs.$b=0,Wt.kc&&(qs.Ad=Le(Mt,Wt.Bd)),qs.Za=!Le(Mt,145)+0,qs.Za){var Qr=qs.Ob,Sa=0;for(Wt=0;4>Wt;++Wt){var Tr,ss=ma[0+Wt];for(Tr=0;4>Tr;++Tr){ss=ua[Es[Kr+Tr]][ss];for(var ys=Ud[Le(Mt,ss[0])];0<ys;)ys=Ud[2*ys+Le(Mt,ss[ys])];ss=-ys,Es[Kr+Tr]=ss}a(Qr,Sa,Es,Kr,4),Sa+=4,ma[0+Wt]=ss}}else ss=Le(Mt,156)?Le(Mt,128)?1:3:Le(Mt,163)?2:0,qs.Ob[0]=ss,i(Es,Kr,ss,4),i(ma,0,ss,4);qs.Dd=Le(Mt,142)?Le(Mt,114)?Le(Mt,183)?1:3:2:0}if(lr.m.Ka)return Qs(ns,7,"Premature end-of-partition0 encountered.");for(;ns.ja<ns.za;++ns.ja){if(lr=mt,Mt=(lt=ns).rb[lt.sb-1],Es=lt.rb[lt.sb+lt.ja],qt=lt.ya[lt.aa+lt.ja],Kr=lt.kc?qt.Ad:0)Mt.la=Es.la=0,qt.Za||(Mt.Na=Es.Na=0),qt.Hc=0,qt.Gc=0,qt.ia=0;else{var or,Bs;if(Mt=Es,Es=lr,Kr=lt.Pa.Xc,ma=lt.ya[lt.aa+lt.ja],qs=lt.pb[ma.$b],Wt=ma.ad,Qr=0,Sa=lt.rb[lt.sb-1],ss=Tr=0,i(Wt,Qr,0,384),ma.Za)var Gr=0,Ar=Kr[3];else{ys=o(16);var vs=Mt.Na+Sa.Na;if(vs=yn(Es,Kr[1],vs,qs.Eb,0,ys,0),Mt.Na=Sa.Na=(0<vs)+0,1<vs)xn(ys,0,Wt,Qr);else{var Er=ys[0]+3>>3;for(ys=0;256>ys;ys+=16)Wt[Qr+ys]=Er}Gr=1,Ar=Kr[0]}var Fs=15&Mt.la,Dr=15&Sa.la;for(ys=0;4>ys;++ys){var Ir=1&Dr;for(Er=Bs=0;4>Er;++Er)Fs=Fs>>1|(Ir=(vs=yn(Es,Ar,vs=Ir+(1&Fs),qs.Sc,Gr,Wt,Qr))>Gr)<<7,Bs=Bs<<2|(3<vs?3:1<vs?2:Wt[Qr+0]!=0),Qr+=16;Fs>>=4,Dr=Dr>>1|Ir<<7,Tr=(Tr<<8|Bs)>>>0}for(Ar=Fs,Gr=Dr>>4,or=0;4>or;or+=2){for(Bs=0,Fs=Mt.la>>4+or,Dr=Sa.la>>4+or,ys=0;2>ys;++ys){for(Ir=1&Dr,Er=0;2>Er;++Er)vs=Ir+(1&Fs),Fs=Fs>>1|(Ir=0<(vs=yn(Es,Kr[2],vs,qs.Qc,0,Wt,Qr)))<<3,Bs=Bs<<2|(3<vs?3:1<vs?2:Wt[Qr+0]!=0),Qr+=16;Fs>>=2,Dr=Dr>>1|Ir<<5}ss|=Bs<<4*or,Ar|=Fs<<4<<or,Gr|=(240&Dr)<<or}Mt.la=Ar,Sa.la=Gr,ma.Hc=Tr,ma.Gc=ss,ma.ia=43690&ss?0:qs.ia,Kr=!(Tr|ss)}if(0<lt.L&&(lt.wa[lt.Y+lt.ja]=lt.gd[qt.$b][qt.Za],lt.wa[lt.Y+lt.ja].La|=!Kr),lr.Ka)return Qs(ns,7,"Premature end-of-file encountered.")}if(Yi(ns),lt=er,lr=1,qt=(mt=ns).D,Mt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(qt.M=mt.M,qt.uc=Mt,pn(mt,qt),lr=1,qt=(Bs=mt.D).Nb,Mt=(ss=yA[mt.L])*mt.R,Es=ss/2*mt.B,ys=16*qt*mt.R,Er=8*qt*mt.B,Kr=mt.sa,ma=mt.ta-Mt+ys,qs=mt.qa,Wt=mt.ra-Es+Er,Qr=mt.Ha,Sa=mt.Ia-Es+Er,Dr=(Fs=Bs.M)==0,Tr=Fs>=mt.Va-1,mt.Aa==2&&pn(mt,Bs),Bs.uc)for(Ir=(vs=mt).D.M,s(vs.D.uc),Bs=vs.yb;Bs<vs.Hb;++Bs){Gr=Bs,Ar=Ir;var Rs=(bs=(Mr=vs).D).Nb;or=Mr.R;var bs=bs.wa[bs.Y+Gr],Ea=Mr.sa,mr=Mr.ta+16*Rs*or+16*Gr,Ft=bs.dd,Ut=bs.tc;if(Ut!=0)if(s(3<=Ut),Mr.L==1)0<Gr&&Zf(Ea,mr,or,Ut+4),bs.La&&rh(Ea,mr,or,Ut),0<Ar&&Jf(Ea,mr,or,Ut+4),bs.La&&sh(Ea,mr,or,Ut);else{var ws=Mr.B,Xa=Mr.qa,In=Mr.ra+8*Rs*ws+8*Gr,Ma=Mr.Ha,Mr=Mr.Ia+8*Rs*ws+8*Gr;Rs=bs.ld,0<Gr&&(Cr(Ea,mr,or,Ut+4,Ft,Rs),ai(Xa,In,Ma,Mr,ws,Ut+4,Ft,Rs)),bs.La&&(jc(Ea,mr,or,Ut,Ft,Rs),Wf(Xa,In,Ma,Mr,ws,Ut,Ft,Rs)),0<Ar&&(Gs(Ea,mr,or,Ut+4,Ft,Rs),Si(Xa,In,Ma,Mr,ws,Ut+4,Ft,Rs)),bs.La&&(jo(Ea,mr,or,Ut,Ft,Rs),th(Xa,In,Ma,Mr,ws,Ut,Ft,Rs))}}if(mt.ia&&alert("todo:DitherRow"),lt.put!=null){if(Bs=16*Fs,Fs=16*(Fs+1),Dr?(lt.y=mt.sa,lt.O=mt.ta+ys,lt.f=mt.qa,lt.N=mt.ra+Er,lt.ea=mt.Ha,lt.W=mt.Ia+Er):(Bs-=ss,lt.y=Kr,lt.O=ma,lt.f=qs,lt.N=Wt,lt.ea=Qr,lt.W=Sa),Tr||(Fs-=ss),Fs>lt.o&&(Fs=lt.o),lt.F=null,lt.J=null,mt.Fa!=null&&0<mt.Fa.length&&Bs<Fs&&(lt.J=Br(mt,lt,Bs,Fs-Bs),lt.F=mt.mb,lt.F==null&&lt.F.length==0)){lr=Qs(mt,3,"Could not decode alpha data.");break t}Bs<lt.j&&(ss=lt.j-Bs,Bs=lt.j,s(!(1&ss)),lt.O+=mt.R*ss,lt.N+=mt.B*(ss>>1),lt.W+=mt.B*(ss>>1),lt.F!=null&&(lt.J+=lt.width*ss)),Bs<Fs&&(lt.O+=lt.v,lt.N+=lt.v>>1,lt.W+=lt.v>>1,lt.F!=null&&(lt.J+=lt.v),lt.ka=Bs-lt.j,lt.U=lt.va-lt.v,lt.T=Fs-Bs,lr=lt.put(lt))}qt+1!=mt.Ic||Tr||(a(mt.sa,mt.ta-Mt,Kr,ma+16*mt.R,Mt),a(mt.qa,mt.ra-Es,qs,Wt+8*mt.B,Es),a(mt.Ha,mt.Ia-Es,Qr,Sa+8*mt.B,Es))}if(!lr)return Qs(ns,6,"Output aborted.")}return 1}(de,Be)),Be.bc!=null&&Be.bc(Be),Fe&=1}return Fe?(de.cb=0,Fe):0})(p,O)||(v=p.a)}}else v=p.a}v==0&&se.Oa!=null&&se.Oa.fd&&(v=Nc(se.ba))}se=v}te=se!=0?null:11>te?le.f.RGBA.eb:le.f.kb.y}else te=null;return te};var Td=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(z,$){for(var D="",L=0;L<4;L++)D+=String.fromCharCode(z[$++]);return D}function f(z,$){return z[$+0]|z[$+1]<<8}function g(z,$){return(z[$+0]|z[$+1]<<8|z[$+2]<<16)>>>0}function b(z,$){return(z[$+0]|z[$+1]<<8|z[$+2]<<16|z[$+3]<<24)>>>0}new u;var x=[0],w=[0],B=[],j=new u,_=t,Q=function(z,$){var D={},L=0,R=!1,P=0,re=0;if(D.frames=[],!function(M,H){for(var Z=0;Z<4;Z++)if(M[H+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(z,$)){for(b(z,$+=4),$+=8;$<z.length;){var I=h(z,$),G=b(z,$+=4);$+=4;var X=G+(1&G);switch(I){case"VP8 ":case"VP8L":D.frames[L]===void 0&&(D.frames[L]={}),(ee=D.frames[L]).src_off=R?re:$-8,ee.src_size=P+G+8,L++,R&&(R=!1,P=0,re=0);break;case"VP8X":(ee=D.header={}).feature_flags=z[$];var ie=$+4;ee.canvas_width=1+g(z,ie),ie+=3,ee.canvas_height=1+g(z,ie),ie+=3;break;case"ALPH":R=!0,P=X+8,re=$-8;break;case"ANIM":(ee=D.header).bgcolor=b(z,$),ie=$+4,ee.loop_count=f(z,ie),ie+=2;break;case"ANMF":var ge,ee;(ee=D.frames[L]={}).offset_x=2*g(z,$),$+=3,ee.offset_y=2*g(z,$),$+=3,ee.width=1+g(z,$),$+=3,ee.height=1+g(z,$),$+=3,ee.duration=g(z,$),$+=3,ge=z[$++],ee.dispose=1&ge,ee.blend=ge>>1&1}I!="ANMF"&&($+=X)}return D}}(_,0);Q.response=_,Q.rgbaoutput=!0,Q.dataurl=!1;var E=Q.header?Q.header:null,T=Q.frames?Q.frames:null;if(E){E.loop_counter=E.loop_count,x=[E.canvas_height],w=[E.canvas_width];for(var U=0;U<T.length&&T[U].blend!=0;U++);}var k=T[0],q=j.WebPDecodeRGBA(_,k.src_off,k.src_size,w,x);k.rgba=q,k.imgwidth=w[0],k.imgheight=x[0];for(var K=0;K<w[0]*x[0]*4;K++)B[K]=q[K];return this.width=w,this.height=x,this.data=B,this}(function(t){var s,r,a,i,o,c,A,u,h,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),s=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,A=this.internal.Rectangle,u=this.internal.Matrix,h=new f}]);var g=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ae){Z=!!ae}});var Ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ae},set:function(ae){Ae=!!ae}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(ae){isNaN(ae)||(fe=ae)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(ae){isNaN(ae)||(pe=ae)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ae){var Y;typeof ae=="number"?Y=[ae,ae,ae,ae]:((Y=new Array(4))[0]=ae[0],Y[1]=ae.length>=2?ae[1]:Y[0],Y[2]=ae.length>=3?ae[2]:Y[0],Y[3]=ae.length>=4?ae[3]:Y[1]),h.margin=Y}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(ae){Se=ae}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(ae){me=ae}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(ae){Le=ae}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ae){ae instanceof f&&(h=ae)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ae){h.path=ae}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(ae){Ve=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var Y;Y=b(ae),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var Y=b(ae);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var ke=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ae){ke=null,Ke=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var Y;if(this.ctx.font=ae,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var xe=Y[1];Y[2];var Ue=Y[3],ve=Y[4];Y[5];var oe=Y[6],Te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Te==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Te==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Ee=function(At){var ye,es,Qt=[],rt=At.trim();if(rt==="")return Nb;if(rt in jB)return[jB[rt]];for(;rt!=="";){switch(es=null,ye=(rt=_B(rt)).charAt(0)){case'"':case"'":es=hK(rt.substring(1),ye);break;default:es=fK(rt)}if(es===null||(Qt.push(es[0]),(rt=_B(es[1]))!==""&&rt.charAt(0)!==","))return Nb;rt=rt.replace(/^,/,"")}return Qt}(oe);if(this.fontFaces){var ze=function(At,ye){if(ke===null){var es=function(Qt){var rt=[];return Object.keys(Qt).forEach(function(vt){Qt[vt].forEach(function(Tt){var it=null;switch(Tt){case"bold":it={family:vt,weight:"bold"};break;case"italic":it={family:vt,style:"italic"};break;case"bolditalic":it={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:vt}}it!==null&&(it.ref={name:vt,style:Tt},rt.push(it))})}),rt}(At.getFontList());ke=function(Qt){for(var rt={},vt=0;vt<Qt.length;++vt){var Tt=wb(Qt[vt]),it=Tt.family,Lt=Tt.stretch,St=Tt.style,us=Tt.weight;rt[it]=rt[it]||{},rt[it][Lt]=rt[it][Lt]||{},rt[it][Lt][St]=rt[it][Lt][St]||{},rt[it][Lt][St][us]=Tt}return rt}(es.concat(ye))}return ke}(this.pdf,this.fontFaces),Oe=Ee.map(function(At){return{family:At,stretch:"normal",weight:Ue,style:xe}}),Je=function(At,ye,es){for(var Qt=(es=es||{}).defaultFontFamily||"times",rt=Object.assign({},uK,es.genericFontFamilies||{}),vt=null,Tt=null,it=0;it<ye.length;++it)if(rt[(vt=wb(ye[it])).family]&&(vt.family=rt[vt.family]),At.hasOwnProperty(vt.family)){Tt=At[vt.family];break}if(!(Tt=Tt||At[Qt]))throw new Error("Could not find a font-family for the rule '"+BB(vt)+"' and default family '"+Qt+"'.");if(Tt=function(Lt,St){if(St[Lt])return St[Lt];var us=Gy[Lt],ls=us<=Gy.normal?-1:1,Dt=NB(St,T6,us,ls);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+Lt);return Dt}(vt.stretch,Tt),Tt=function(Lt,St){if(St[Lt])return St[Lt];for(var us=Q6[Lt],ls=0;ls<us.length;++ls)if(St[us[ls]])return St[us[ls]];throw new Error("Could not find a matching font-style for "+Lt)}(vt.style,Tt),!(Tt=function(Lt,St){if(St[Lt])return St[Lt];if(Lt===400&&St[500])return St[500];if(Lt===500&&St[400])return St[400];var us=dK[Lt],ls=NB(St,D6,us,Lt<400?-1:1);if(!ls)throw new Error("Could not find a matching font-weight for value "+Lt);return ls}(vt.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+BB(vt)+"'.");return Tt}(ze,Oe);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var ot="";(Ue==="bold"||parseInt(Ue,10)>=700||xe==="bold")&&(ot="bold"),xe==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var ht="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Ee.length;ct++){if(this.pdf.internal.getFont(Ee[ct],ot,{noFallback:!0,disableWarning:!0})!==void 0){ht=Ee[ct];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(Ee[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Ee[ct],ot="bold";else if(this.pdf.internal.getFont(Ee[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Ee[ct],ot="normal";break}}if(ht===""){for(var dt=0;dt<Ee.length;dt++)if(_t[Ee[dt]]){ht=_t[Ee[dt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};g.prototype.setLineDash=function(M){this.lineDash=M},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){T.call(this,"fill",!1)},g.prototype.stroke=function(){T.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new c(M,H));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(M,H)},g.prototype.closePath=function(){var M=new c(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Ps(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new c(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},g.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new c(M,H));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},g.prototype.quadraticCurveTo=function(M,H,Z,Ae){if(isNaN(Z)||isNaN(Ae)||isNaN(M)||isNaN(H))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new c(Z,Ae)),pe=this.ctx.transform.applyToPoint(new c(M,H));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},g.prototype.bezierCurveTo=function(M,H,Z,Ae,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(fe,pe)),me=this.ctx.transform.applyToPoint(new c(M,H)),Le=this.ctx.transform.applyToPoint(new c(Z,Ae));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Le.x,y2:Le.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},g.prototype.arc=function(M,H,Z,Ae,fe,pe){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae)||isNaN(fe))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(M,H));M=Se.x,H=Se.y;var me=this.ctx.transform.applyToPoint(new c(0,Z)),Le=this.ctx.transform.applyToPoint(new c(0,0));Z=Math.sqrt(Math.pow(me.x-Le.x,2)+Math.pow(me.y-Le.y,2))}Math.abs(fe-Ae)>=2*Math.PI&&(Ae=0,fe=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:Z,startAngle:Ae,endAngle:fe,counterclockwise:pe})},g.prototype.arcTo=function(M,H,Z,Ae,fe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(M,H,Z,Ae){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+Z,H),this.lineTo(M+Z,H+Ae),this.lineTo(M,H+Ae),this.lineTo(M,H),this.lineTo(M+Z,H),this.lineTo(M,H)},g.prototype.fillRect=function(M,H,Z,Ae){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,Z,Ae),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},g.prototype.strokeRect=function(M,H,Z,Ae){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(M,H,Z,Ae),this.stroke())},g.prototype.clearRect=function(M,H,Z,Ae){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,Z,Ae))},g.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ae=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ae}},g.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(M){var H,Z,Ae,fe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,Z=0,Ae=0,fe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(pe!==null)H=parseInt(pe[1]),Z=parseInt(pe[2]),Ae=parseInt(pe[3]),fe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(pe[1]),Z=parseInt(pe[2]),Ae=parseInt(pe[3]),fe=parseFloat(pe[4]);else{if(fe=1,typeof M=="string"&&M.charAt(0)!=="#"){var Se=new C6(M);M=Se.ok?Se.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,Z=M.substring(2,3),Z+=Z,Ae=M.substring(3,4),Ae+=Ae):(H=M.substring(1,3),Z=M.substring(3,5),Ae=M.substring(5,7)),H=parseInt(H,16),Z=parseInt(Z,16),Ae=parseInt(Ae,16)}}return{r:H,g:Z,b:Ae,a:fe,style:M}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(M,H,Z,Ae){if(isNaN(H)||isNaN(Z)||typeof M!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ae=isNaN(Ae)?void 0:Ae,!x.call(this)){var fe=X(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:M,x:H,y:Z,scale:pe,angle:fe,align:this.textAlign,maxWidth:Ae})}},g.prototype.strokeText=function(M,H,Z,Ae){if(isNaN(H)||isNaN(Z)||typeof M!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Ae=isNaN(Ae)?void 0:Ae;var fe=X(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;L.call(this,{text:M,x:H,y:Z,scale:pe,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:Ae})}},g.prototype.measureText=function(M){if(typeof M!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Z=this.pdf.internal.scaleFactor,Ae=H.internal.getFontSize(),fe=H.getStringUnitWidth(M)*Ae/H.internal.scaleFactor;return new function(pe){var Se=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:fe*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new u(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(M){if(isNaN(M))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new u(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(M,H,Z,Ae,fe,pe){if(isNaN(M)||isNaN(H)||isNaN(Z)||isNaN(Ae)||isNaN(fe)||isNaN(pe))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(M,H,Z,Ae,fe,pe);this.ctx.transform=this.ctx.transform.multiply(Se)},g.prototype.setTransform=function(M,H,Z,Ae,fe,pe){M=isNaN(M)?1:M,H=isNaN(H)?0:H,Z=isNaN(Z)?0:Z,Ae=isNaN(Ae)?1:Ae,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?0:pe,this.ctx.transform=new u(M,H,Z,Ae,fe,pe)};var B=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(M,H,Z,Ae,fe,pe,Se,me,Le){var Ve=this.pdf.getImageProperties(M),ke=1,Ke=1,ae=1,Y=1;Ae!==void 0&&me!==void 0&&(ae=me/Ae,Y=Le/fe,ke=Ve.width/Ae*me/Ae,Ke=Ve.height/fe*Le/fe),pe===void 0&&(pe=H,Se=Z,H=0,Z=0),Ae!==void 0&&me===void 0&&(me=Ae,Le=fe),Ae===void 0&&me===void 0&&(me=Ve.width,Le=Ve.height);for(var xe,Ue=this.ctx.transform.decompose(),ve=X(Ue.rotate.shx),oe=new u,Te=(oe=(oe=(oe=oe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new A(pe-H*ae,Se-Z*Y,Ae*ke,fe*Ke)),Ee=j.call(this,Te),ze=[],Oe=0;Oe<Ee.length;Oe+=1)ze.indexOf(Ee[Oe])===-1&&ze.push(Ee[Oe]);if(E(ze),this.autoPaging)for(var Je=ze[0],ot=ze[ze.length-1],ht=Je;ht<ot+1;ht++){this.pdf.setPage(ht);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=ht===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ye=ht===1?0:dt+(ht-2)*At;if(this.ctx.clip_path.length!==0){var es=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(xe,this.posX+this.margin[3],-ye+ct+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=es}var Qt=JSON.parse(JSON.stringify(Te));Qt=Q([Qt],this.posX+this.margin[3],-ye+ct+this.ctx.prevPageLastElemOffset)[0];var rt=(ht>Je||ht<ot)&&B.call(this);rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,At,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,ve),rt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,ve)};var j=function(M,H,Z){var Ae=[];H=H||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Ae.push(Math.floor((M.y+fe)/Z)+1);break;case"arc":Ae.push(Math.floor((M.y+fe-M.radius)/Z)+1),Ae.push(Math.floor((M.y+fe+M.radius)/Z)+1);break;case"qct":var pe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Ae.push(Math.floor((pe.y+fe)/Z)+1),Ae.push(Math.floor((pe.y+pe.h+fe)/Z)+1);break;case"bct":var Se=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Ae.push(Math.floor((Se.y+fe)/Z)+1),Ae.push(Math.floor((Se.y+Se.h+fe)/Z)+1);break;case"rect":Ae.push(Math.floor((M.y+fe)/Z)+1),Ae.push(Math.floor((M.y+M.h+fe)/Z)+1)}for(var me=0;me<Ae.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Ae[me];)_.call(this);return Ae},_=function(){var M=this.fillStyle,H=this.strokeStyle,Z=this.font,Ae=this.lineCap,fe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=Z,this.lineCap=Ae,this.lineWidth=fe,this.lineJoin=pe},Q=function(M,H,Z){for(var Ae=0;Ae<M.length;Ae++)switch(M[Ae].type){case"bct":M[Ae].x2+=H,M[Ae].y2+=Z;case"qct":M[Ae].x1+=H,M[Ae].y1+=Z;default:M[Ae].x+=H,M[Ae].y+=Z}return M},E=function(M){return M.sort(function(H,Z){return H-Z})},T=function(M,H){for(var Z,Ae,fe=this.fillStyle,pe=this.strokeStyle,Se=this.lineCap,me=this.lineWidth,Le=Math.abs(me*this.ctx.transform.scaleX),Ve=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),ae=[],Y=0;Y<Ke.length;Y++)if(Ke[Y].x!==void 0)for(var xe=j.call(this,Ke[Y]),Ue=0;Ue<xe.length;Ue+=1)ae.indexOf(xe[Ue])===-1&&ae.push(xe[Ue]);for(var ve=0;ve<ae.length;ve++)for(;this.pdf.internal.getNumberOfPages()<ae[ve];)_.call(this);if(E(ae),this.autoPaging)for(var oe=ae[0],Te=ae[ae.length-1],Ee=oe;Ee<Te+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=fe,this.strokeStyle=pe,this.lineCap=Se,this.lineWidth=Le,this.lineJoin=Ve;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Ee===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Ee===1?0:Je+(Ee-2)*ot;if(this.ctx.clip_path.length!==0){var _t=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Z,this.posX+this.margin[3],-ht+Oe+this.ctx.prevPageLastElemOffset),U.call(this,M,!0),this.path=_t}if(Ae=JSON.parse(JSON.stringify(ke)),this.path=Q(Ae,this.posX+this.margin[3],-ht+Oe+this.ctx.prevPageLastElemOffset),H===!1||Ee===0){var ct=(Ee>oe||Ee<Te)&&B.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ot,null).clip().discardPath()),U.call(this,M,H),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Le,U.call(this,M,H),this.lineWidth=me;this.path=ke},U=function(M,H){if((M!=="stroke"||H||!w.call(this))&&(M==="stroke"||H||!x.call(this))){for(var Z,Ae,fe=[],pe=this.path,Se=0;Se<pe.length;Se++){var me=pe[Se];switch(me.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:me,deltas:[],abs:[]});break;case"lt":var Le=fe.length;if(pe[Se-1]&&!isNaN(pe[Se-1].x)&&(Z=[me.x-pe[Se-1].x,me.y-pe[Se-1].y],Le>0)){for(;Le>=0;Le--)if(fe[Le-1].close!==!0&&fe[Le-1].begin!==!0){fe[Le-1].deltas.push(Z),fe[Le-1].abs.push(me);break}}break;case"bct":Z=[me.x1-pe[Se-1].x,me.y1-pe[Se-1].y,me.x2-pe[Se-1].x,me.y2-pe[Se-1].y,me.x-pe[Se-1].x,me.y-pe[Se-1].y],fe[fe.length-1].deltas.push(Z);break;case"qct":var Ve=pe[Se-1].x+2/3*(me.x1-pe[Se-1].x),ke=pe[Se-1].y+2/3*(me.y1-pe[Se-1].y),Ke=me.x+2/3*(me.x1-me.x),ae=me.y+2/3*(me.y1-me.y),Y=me.x,xe=me.y;Z=[Ve-pe[Se-1].x,ke-pe[Se-1].y,Ke-pe[Se-1].x,ae-pe[Se-1].y,Y-pe[Se-1].x,xe-pe[Se-1].y],fe[fe.length-1].deltas.push(Z);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(me)}}Ae=H?null:M==="stroke"?"stroke":"fill";for(var Ue=!1,ve=0;ve<fe.length;ve++)if(fe[ve].arc)for(var oe=fe[ve].abs,Te=0;Te<oe.length;Te++){var Ee=oe[Te];Ee.type==="arc"?K.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,H,!Ue):R.call(this,Ee.x,Ee.y),Ue=!0}else if(fe[ve].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(fe[ve].begin!==!0){var ze=fe[ve].start.x,Oe=fe[ve].start.y;P.call(this,fe[ve].deltas,ze,Oe),Ue=!0}Ae&&z.call(this,Ae),H&&$.call(this)}},k=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Z;case"top":return M+H-Z;case"hanging":return M+H-2*Z;case"middle":return M+H/2-Z;default:return M}},q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,Z){this.colorStops.push([H,Z])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(M,H,Z,Ae,fe,pe,Se,me,Le){for(var Ve=I.call(this,Z,Ae,fe,pe),ke=0;ke<Ve.length;ke++){var Ke=Ve[ke];ke===0&&(Le?D.call(this,Ke.x1+M,Ke.y1+H):R.call(this,Ke.x1+M,Ke.y1+H)),re.call(this,M,H,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}me?$.call(this):z.call(this,Se)},z=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(M,H){this.pdf.internal.out(r(M)+" "+a(H)+" m")},L=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Z=this.pdf.getTextDimensions(M.text),Ae=k.call(this,M.y),fe=q.call(this,Ae)-Z.h,pe=this.ctx.transform.applyToPoint(new c(M.x,Ae)),Se=this.ctx.transform.decompose(),me=new u;me=(me=(me=me.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var Le,Ve,ke,Ke=this.ctx.transform.applyToRectangle(new A(M.x,Ae,Z.w,Z.h)),ae=me.applyToRectangle(new A(M.x,fe,Z.w,Z.h)),Y=j.call(this,ae),xe=[],Ue=0;Ue<Y.length;Ue+=1)xe.indexOf(Y[Ue])===-1&&xe.push(Y[Ue]);if(E(xe),this.autoPaging)for(var ve=xe[0],oe=xe[xe.length-1],Te=ve;Te<oe+1;Te++){this.pdf.setPage(Te);var Ee=Te===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],Je=Oe-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],ht=ot-this.margin[3],_t=Te===1?0:ze+(Te-2)*Je;if(this.ctx.clip_path.length!==0){var ct=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Le,this.posX+this.margin[3],-1*_t+Ee),U.call(this,"fill",!0),this.path=ct}var dt=Q([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-_t+Ee+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale);var At=this.autoPaging!=="text";if(At||dt.y+dt.h<=Oe){if(At||dt.y>=Ee&&dt.x<=ot){var ye=At?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ot-dt.x)[0],es=Q([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-_t+Ee+this.ctx.prevPageLastElemOffset)[0],Qt=At&&(Te>ve||Te<oe)&&B.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Je,null).clip().discardPath()),this.pdf.text(ye,es.x,es.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else dt.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-dt.y);M.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=ke)}else M.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale),this.pdf.text(M.text,pe.x+this.posX,pe.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=ke)},R=function(M,H,Z,Ae){Z=Z||0,Ae=Ae||0,this.pdf.internal.out(r(M+Z)+" "+a(H+Ae)+" l")},P=function(M,H,Z){return this.pdf.lines(M,H,Z,null,null)},re=function(M,H,Z,Ae,fe,pe,Se,me){this.pdf.internal.out([s(i(Z+M)),s(o(Ae+H)),s(i(fe+M)),s(o(pe+H)),s(i(Se+M)),s(o(me+H)),"c"].join(" "))},I=function(M,H,Z,Ae){for(var fe=2*Math.PI,pe=Math.PI/2;H>Z;)H-=fe;var Se=Math.abs(Z-H);Se<fe&&Ae&&(Se=fe-Se);for(var me=[],Le=Ae?-1:1,Ve=H;Se>1e-5;){var ke=Ve+Le*Math.min(Se,pe);me.push(G.call(this,M,Ve,ke)),Se-=Math.abs(ke-Ve),Ve=ke}return me},G=function(M,H,Z){var Ae=(Z-H)/2,fe=M*Math.cos(Ae),pe=M*Math.sin(Ae),Se=fe,me=-pe,Le=Se*Se+me*me,Ve=Le+Se*fe+me*pe,ke=4/3*(Math.sqrt(2*Le*Ve)-Ve)/(Se*pe-me*fe),Ke=Se-ke*me,ae=me+ke*Se,Y=Ke,xe=-ae,Ue=Ae+H,ve=Math.cos(Ue),oe=Math.sin(Ue);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:Ke*ve-ae*oe,y2:Ke*oe+ae*ve,x3:Y*ve-xe*oe,y3:Y*oe+xe*ve,x4:M*Math.cos(Z),y4:M*Math.sin(Z)}},X=function(M){return 180*M/Math.PI},ie=function(M,H,Z,Ae,fe,pe){var Se=M+.5*(Z-M),me=H+.5*(Ae-H),Le=fe+.5*(Z-fe),Ve=pe+.5*(Ae-pe),ke=Math.min(M,fe,Se,Le),Ke=Math.max(M,fe,Se,Le),ae=Math.min(H,pe,me,Ve),Y=Math.max(H,pe,me,Ve);return new A(ke,ae,Ke-ke,Y-ae)},ge=function(M,H,Z,Ae,fe,pe,Se,me){var Le,Ve,ke,Ke,ae,Y,xe,Ue,ve,oe,Te,Ee,ze,Oe,Je=Z-M,ot=Ae-H,ht=fe-Z,_t=pe-Ae,ct=Se-fe,dt=me-pe;for(Ve=0;Ve<41;Ve++)ve=(xe=(ke=M+(Le=Ve/40)*Je)+Le*((ae=Z+Le*ht)-ke))+Le*(ae+Le*(fe+Le*ct-ae)-xe),oe=(Ue=(Ke=H+Le*ot)+Le*((Y=Ae+Le*_t)-Ke))+Le*(Y+Le*(pe+Le*dt-Y)-Ue),Ve==0?(Te=ve,Ee=oe,ze=ve,Oe=oe):(Te=Math.min(Te,ve),Ee=Math.min(Ee,oe),ze=Math.max(ze,ve),Oe=Math.max(Oe,oe));return new A(Math.round(Te),Math.round(Ee),Math.round(ze-Te),Math.round(Oe-Ee))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,Z=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Nt.API),function(t){var s=function(c){var A,u,h,f,g,b,x,w,B,j;for(u=[],h=0,f=(c+=A="\0\0\0\0".slice(c.length%4||4)).length;f>h;h+=4)(g=(c.charCodeAt(h)<<24)+(c.charCodeAt(h+1)<<16)+(c.charCodeAt(h+2)<<8)+c.charCodeAt(h+3))!==0?(b=(g=((g=((g=((g=(g-(j=g%85))/85)-(B=g%85))/85)-(w=g%85))/85)-(x=g%85))/85)%85,u.push(b+33,x+33,w+33,B+33,j+33)):u.push(122);return function(_,Q){for(var E=Q;E>0;E--)_.pop()}(u,A.length),String.fromCharCode.apply(String,u)+"~>"},r=function(c){var A,u,h,f,g,b=String,x="length",w=255,B="charCodeAt",j="slice",_="replace";for(c[j](-2),c=c[j](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),h=[],f=0,g=(c+=A="uuuuu"[j](c[x]%5||5))[x];g>f;f+=5)u=52200625*(c[B](f)-33)+614125*(c[B](f+1)-33)+7225*(c[B](f+2)-33)+85*(c[B](f+3)-33)+(c[B](f+4)-33),h.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(Q,E){for(var T=E;T>0;T--)Q.pop()}(h,A[x]),b.fromCharCode.apply(b,h)},a=function(c){return c.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(c){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),A.test(c)===!1)return"";for(var u="",h=0;h<c.length;h+=2)u+=String.fromCharCode("0x"+(c[h]+c[h+1]));return u},o=function(c){for(var A=new Uint8Array(c.length),u=c.length;u--;)A[u]=c.charCodeAt(u);return(A=Ry(A)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};t.processDataByFilters=function(c,A){var u=0,h=c||"",f=[];for(typeof(A=A||[])=="string"&&(A=[A]),u=0;u<A.length;u+=1)switch(A[u]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=s(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=a(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[u]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(Nt.API),function(t){t.loadFile=function(s,r,a){return function(i,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var A=void 0;try{A=function(u,h,f){var g=new XMLHttpRequest,b=0,x=function(w){var B=w.length,j=[],_=String.fromCharCode;for(b=0;b<B;b+=1)j.push(_(255&w.charCodeAt(b)));return j.join("")};if(g.open("GET",u,!h),g.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(g.onload=function(){g.status===200?f(x(this.responseText)):f(void 0)}),g.send(null),h&&g.status===200)return x(g.responseText)}(i,o,c)}catch{}return A}(s,r,a)},t.loadImageFile=t.loadFile}(Nt.API),function(t){function s(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):ab(()=>Promise.resolve().then(()=>$3),[])).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):ab(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var a=function(A){var u=Ps(A);return u==="undefined"?"undefined":u==="string"||A instanceof String?"string":u==="number"||A instanceof Number?"number":u==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(A,u){var h=document.createElement(A);for(var f in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[f]=u.style[f];return h},o=function A(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(A(g,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},c=function A(u){var h=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),f=A.convert(Promise.resolve(),h);return(f=f.setProgress(1,A,1,[A])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(A,u){return A.__proto__=u||c.prototype,A},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(A,u){return this.then(function(){switch(u=u||function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A),u){case"string":return this.then(r).then(function(h){return this.set({src:i("div",{innerHTML:A,dompurify:h})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},c.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(s).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(s).then(function(u){var h=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var x=0;x<f.length;++x){var w=f[x],B=w.src.find(function(j){return j.format==="truetype"});B&&h.addFont(B.url,w.ref.name,w.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),u(this.prop.container,b)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(A,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(A,u):this.outputPdf(A,u)},c.prototype.outputPdf=function(A,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,u)})},c.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},c.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(A){if(a(A)!=="object")return this;var u=Object.keys(A||{}).map(function(h){if(h in c.template.prop)return function(){this.prop[h]=A[h]};switch(h){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[h]=A[h]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(A,u){return this.then(function(){var h=A in c.template.prop?this.prop[A]:this.opt[A];return u?u(h):h})},c.prototype.setMargin=function(A){return this.then(function(){switch(a(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},c.prototype.setPageSize=function(A){function u(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(A=A||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:u(A.inner.width,A.k),height:u(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},c.prototype.setProgress=function(A,u,h,f){return A!=null&&(this.progress.val=A),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(A,u,h,f){return this.setProgress(A?this.progress.val+A:null,u||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},c.prototype.then=function(A,u){var h=this;return this.thenCore(A,u,function(f,g){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,f),b}).then(f,g).then(function(b){return h.updateProgress(1),b})})},c.prototype.thenCore=function(A,u,h){h=h||Promise.prototype.then;var f=this;A&&(A=A.bind(f)),u&&(u=u.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:c.convert(Object.assign({},f),Promise.prototype),b=h.call(g,A,u);return c.convert(b,f.__proto__)},c.prototype.thenExternal=function(A,u){return Promise.prototype.then.call(this,A,u)},c.prototype.thenList=function(A){var u=this;return A.forEach(function(h){u=u.thenCore(h)}),u},c.prototype.catch=function(A){A&&(A=A.bind(this));var u=Promise.prototype.catch.call(this,A);return c.convert(u,this)},c.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},c.prototype.error=function(A){return this.then(function(){throw new Error(A)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Nt.getPageSize=function(A,u,h){if(Ps(A)==="object"){var f=A;A=f.orientation,u=f.unit||u,h=f.format||h}u=u||"mm",h=h||"a4",A=(""+(A||"P")).toLowerCase();var g,b=(""+h).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var w,B=0,j=0;if(x.hasOwnProperty(b))B=x[b][1]/g,j=x[b][0]/g;else try{B=h[1],j=h[0]}catch{throw new Error("Invalid format: "+h)}if(A==="p"||A==="portrait")A="p",j>B&&(w=j,j=B,B=w);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",B>j&&(w=j,j=B,B=w)}return{width:j,height:B,unit:u,k:g,orientation:A}},t.html=function(A,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(wb):null;var h=new c(u);return u.worker?h:h.from(A).doCallback()}}(Nt.API),Nt.API.addJS=function(t){return SB=t,this.internal.events.subscribe("postPutResources",function(){_0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+SB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_0!==void 0&&CB!==void 0&&this.internal.out("/Names <</JavaScript "+_0+" 0 R>>")}),this},function(t){var s;t.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var c=i[o],A=a.exec(c);if(A!=null){var u=A[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(o=0;o<h;o++){var g=r.internal.newObject();f.push(g);var b=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<f.length;o++)r.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,i,o){var c={title:i,options:o,children:[]};return a==null&&(a=this.root),a.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var c=a.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var A=this.count=this.count_r({count:0},c);if(A>0&&this.line("/Count "+A),c.options&&c.options.pageNumber){var u=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,i){for(var o=0;o<i.children.length;o++)a.count++,this.count_r(a,i.children[o]);return a.count}}])}(Nt.API),function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,a,i,o,c,A){var u,h=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=function(g){for(var b,x=256*g.charCodeAt(4)+g.charCodeAt(5),w=g.length,B={width:0,height:0,numcomponents:1},j=4;j<w;j+=2){if(j+=x,s.indexOf(g.charCodeAt(j+1))!==-1){b=256*g.charCodeAt(j+5)+g.charCodeAt(j+6),B={width:256*g.charCodeAt(j+7)+g.charCodeAt(j+8),height:b,numcomponents:g.charCodeAt(j+9)};break}x=256*g.charCodeAt(j+2)+g.charCodeAt(j+3)}return B}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:A,bitsPerComponent:8,filter:h,index:a,alias:i}}return f}}(Nt.API),Nt.API.processPNG=function(t,s,r,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=Yz(t,{checkCrc:!0}),c=o.width,A=o.height,u=o.channels,h=o.palette,f=o.depth;i=h&&u===1?function(K){for(var z=K.width,$=K.height,D=K.data,L=K.palette,R=K.depth,P=!1,re=[],I=[],G=void 0,X=!1,ie=0,ge=0;ge<L.length;ge++){var ee=kj(L[ge],4),M=ee[0],H=ee[1],Z=ee[2],Ae=ee[3];re.push(M,H,Z),Ae!=null&&(Ae===0?(ie++,I.length<1&&I.push(ge)):Ae<255&&(X=!0))}if(X||ie>1){P=!0,I=void 0;var fe=z*$;G=new Uint8Array(fe);for(var pe=new DataView(D.buffer),Se=0;Se<fe;Se++){var me=jb(pe,Se,R),Le=kj(L[me],4)[3];G[Se]=Le}}else ie===0&&(I=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:D,alphaBytes:G,needSMask:P,palette:re,mask:I}}(o):u===2||u===4?function(K){for(var z=K.data,$=K.width,D=K.height,L=K.channels,R=K.depth,P=L===2?"DeviceGray":"DeviceRGB",re=L-1,I=$*D,G=re,X=I*G,ie=1*I,ge=Math.ceil(X*R/8),ee=Math.ceil(ie*R/8),M=new Uint8Array(ge),H=new Uint8Array(ee),Z=new DataView(z.buffer),Ae=new DataView(M.buffer),fe=new DataView(H.buffer),pe=!1,Se=0;Se<I;Se++){for(var me=Se*L,Le=0;Le<G;Le++)IB(Ae,jb(Z,me+Le,R),Se*G+Le,R);var Ve=jb(Z,me+G,R);Ve<(1<<R)-1&&(pe=!0),IB(fe,Ve,1*Se,R)}return{colorSpace:P,colorsPerPixel:re,sMaskBitsPerComponent:pe?R:void 0,colorBytes:M,alphaBytes:H,needSMask:pe}}(o):function(K){var z=K.data,$=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?function(D){for(var L=D.length,R=new Uint8Array(2*L),P=new DataView(R.buffer,R.byteOffset,R.byteLength),re=0;re<L;re++)P.setUint16(2*re,D[re],!1);return R}(z):z,needSMask:!1}}(o);var g,b,x,w=i,B=w.colorSpace,j=w.colorsPerPixel,_=w.sMaskBitsPerComponent,Q=w.colorBytes,E=w.alphaBytes,T=w.needSMask,U=w.palette,k=w.mask,q=null;return a!==Nt.API.image_compression.NONE&&typeof Ry=="function"?(q=function(K){var z;switch(K){case Nt.API.image_compression.FAST:z=11;break;case Nt.API.image_compression.MEDIUM:z=13;break;case Nt.API.image_compression.SLOW:z=14;break;default:z=12}return z}(a),g=this.decode.FLATE_DECODE,b="/Predictor ".concat(q," /Colors ").concat(j," /BitsPerComponent ").concat(f," /Columns ").concat(c),t=kB(Q,Math.ceil(c*j*f/8),j,f,a),T&&(x=kB(E,Math.ceil(c*_/8),1,_,a))):(g=void 0,b=void 0,t=Q,T&&(x=E)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:t,index:s,filter:g,decodeParameters:b,transparency:k,palette:U,sMask:x,predictor:q,width:c,height:A,bitsPerComponent:f,sMaskBitsPerComponent:_,colorSpace:B}}},function(t){t.processGIF89A=function(s,r,a,i){var o=new xK(s),c=o.width,A=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var h={data:u,width:c,height:A},f=new Bb(100).encode(h,100);return t.processJPEG.call(this,f,r,a,i)},t.processGIF87A=t.processGIF89A}(Nt.API),bl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:i,green:a,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[t]()}catch(r){sr.log("bit decode error:"+r)}},bl.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),r=s%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<s;i++)for(var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*i*4,A=0;A<8&&8*i+A<this.width;A++){var u=this.palette[o>>7-A&1];this.data[c+4*A]=u.blue,this.data[c+4*A+1]=u.green,this.data[c+4*A+2]=u.red,this.data[c+4*A+3]=255}r!==0&&(this.pos+=4-r)}},bl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*i*4,A=o>>4,u=15&o,h=this.palette[A];if(this.data[c]=h.blue,this.data[c+1]=h.green,this.data[c+2]=h.red,this.data[c+3]=255,2*i+1>=this.width)break;h=this.palette[u],this.data[c+4]=h.blue,this.data[c+4+1]=h.green,this.data[c+4+2]=h.red,this.data[c+4+3]=255}s!==0&&(this.pos+=4-s)}},bl.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*a;if(i<this.palette.length){var c=this.palette[i];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},bl.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&s)/s*255|0,A=(o>>5&s)/s*255|0,u=(o>>10&s)/s*255|0,h=o>>15?255:0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=A,this.data[f+2]=c,this.data[f+3]=h}this.pos+=t}},bl.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(c&s)/s*255|0,u=(c>>5&r)/r*255|0,h=(c>>11)/s*255|0,f=i*this.width*4+4*o;this.data[f]=h,this.data[f+1]=u,this.data[f+2]=A,this.data[f+3]=255}this.pos+=t}},bl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+4*r;this.data[c]=o,this.data[c+1]=i,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},bl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),A=s*this.width*4+4*r;this.data[A]=o,this.data[A+1]=i,this.data[A+2]=a,this.data[A+3]=c}},bl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(s,r,a,i){var o=new bl(s,!1),c=o.width,A=o.height,u={data:o.getData(),width:c,height:A},h=new Bb(100).encode(u,100);return t.processJPEG.call(this,h,r,a,i)}}(Nt.API),RB.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(s,r,a,i){var o=new RB(s),c=o.width,A=o.height,u={data:o.getData(),width:c,height:A},h=new Bb(100).encode(u,100);return t.processJPEG.call(this,h,r,a,i)}}(Nt.API),Nt.API.processRGBA=function(t,s,r){for(var a=t.data,i=a.length,o=new Uint8Array(i/4*3),c=new Uint8Array(i/4),A=0,u=0,h=0;h<i;h+=4){var f=a[h],g=a[h+1],b=a[h+2],x=a[h+3];o[A++]=f,o[A++]=g,o[A++]=b,c[u++]=x}var w=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:w,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hu=Nt.API,C0=hu.getCharWidthsArray=function(t,s){var r,a,i=(s=s||{}).font||this.internal.getFont(),o=s.fontSize||this.internal.getFontSize(),c=s.charSpace||this.internal.getCharSpace(),A=s.widths?s.widths:i.metadata.Unicode.widths,u=A.fof?A.fof:1,h=s.kerning?s.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,g=s.doKerning!==!1,b=0,x=t.length,w=0,B=A[0]||u,j=[];for(r=0;r<x;r++)a=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+c*(1e3/o)||0)/1e3):(b=g&&Ps(h[a])==="object"&&!isNaN(parseInt(h[a][w],10))?h[a][w]/f:0,j.push((A[a]||B)/u+b)),w=a;return j},EB=hu.getStringUnitWidth=function(t,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),a=s.font||this.internal.getFont(),i=s.charSpace||this.internal.getCharSpace();return hu.processArabic&&(t=hu.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,r,i)/r:C0.apply(this,arguments).reduce(function(o,c){return o+c},0)},FB=function(t,s,r,a){for(var i=[],o=0,c=t.length,A=0;o!==c&&A+s[o]<r;)A+=s[o],o++;i.push(t.slice(0,o));var u=o;for(A=0;o!==c;)A+s[o]>a&&(i.push(t.slice(u,o)),A=0,u=o),A+=s[o],o++;return u!==o&&i.push(t.slice(u,o)),i},UB=function(t,s,r){r||(r={});var a,i,o,c,A,u,h,f=[],g=[f],b=r.textIndent||0,x=0,w=0,B=t.split(" "),j=C0.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?B[0].length+2:r.lineIndent||0){var _=Array(u).join(" "),Q=[];B.map(function(T){(T=T.split(/\s*\n/)).length>1?Q=Q.concat(T.map(function(U,k){return(k&&U.length?`
`:"")+U})):Q.push(T[0])}),B=Q,u=EB.apply(this,[_,r])}for(o=0,c=B.length;o<c;o++){var E=0;if(a=B[o],u&&a[0]==`
`&&(a=a.substr(1),E=1),b+x+(w=(i=C0.apply(this,[a,r])).reduce(function(T,U){return T+U},0))>s||E){if(w>s){for(A=FB.apply(this,[a,i,s-(b+x),s]),f.push(A.shift()),f=[A.pop()];A.length;)g.push([A.shift()]);w=i.slice(a.length-(f[0]?f[0].length:0)).reduce(function(T,U){return T+U},0)}else f=[a];g.push(f),b=w+u,x=j}else f.push(a),b+=x+w,x=j}return h=u?function(T,U){return(U?_:"")+T.join(" ")}:function(T){return T.join(" ")},g.map(h)},hu.splitTextToSize=function(t,s,r){var a,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),b="Unicode";return g.metadata[b]?{widths:g.metadata[b].widths||{0:1},kerning:g.metadata[b].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*s/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var A,u,h=[];for(A=0,u=a.length;A<u;A++)h=h.concat(UB.apply(this,[a[A],c,o]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="0123456789abcdef",r="klmnopqrstuvwxyz",a={},i={},o=0;o<16;o++)a[r[o]]=s[o],i[s[o]]=r[o];var c=function(b){return"0x"+parseInt(b,10).toString(16)},A=t.__fontmetrics__.compress=function(b){var x,w,B,j,_=["{"];for(var Q in b){if(x=b[Q],isNaN(parseInt(Q,10))?w="'"+Q+"'":(Q=parseInt(Q,10),w=(w=c(Q).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof x=="number")x<0?(B=c(x).slice(3),j="-"):(B=c(x).slice(2),j=""),B=j+B.slice(0,-1)+i[B.slice(-1)];else{if(Ps(x)!=="object")throw new Error("Don't know what to do with value type "+Ps(x)+".");B=A(x)}_.push(w+B)}return _.push("}"),_.join("")},u=t.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,w,B,j,_={},Q=1,E=_,T=[],U="",k="",q=b.length-1,K=1;K<q;K+=1)(j=b[K])=="'"?x?(B=x.join(""),x=void 0):x=[]:x?x.push(j):j=="{"?(T.push([E,B]),E={},B=void 0):j=="}"?((w=T.pop())[0][w[1]]=E,B=void 0,E=w[0]):j=="-"?Q=-1:B===void 0?a.hasOwnProperty(j)?(U+=a[j],B=parseInt(U,16)*Q,Q=1,U=""):U+=j:a.hasOwnProperty(j)?(k+=a[j],E[B]=parseInt(k,16)*Q,Q=1,B=void 0,k=""):k+=j;return _},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(b){var x=b.font,w=g.Unicode[x.postScriptName];w&&(x.metadata.Unicode={},x.metadata.Unicode.widths=w.widths,x.metadata.Unicode.kerning=w.kerning);var B=f.Unicode[x.postScriptName];B&&(x.metadata.Unicode.encoding=B,x.encoding=B.codePages[0])}])}(Nt.API),function(t){var s=function(r){for(var a=r.length,i=new Uint8Array(a),o=0;o<a;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var a=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(c,A){A=/^\x00\x01\x00\x00/.test(A)?s(A):s(X0(A)),c.metadata=t.API.TTFFont.open(A),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(i,a)}}])}(Nt),Nt.API.addSvgAsImage=function(t,s,r,a,i,o,c,A){if(isNaN(s)||isNaN(r))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=i;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Vt.canvg?Promise.resolve(Vt.canvg):ab(()=>import("./index.es-BJt6add3.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),s,r,a,i,c,A)})},Nt.API.putTotalPages=function(t){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(s,r);return this},Nt.API.viewerPreferences=function(t,s){var r;t=t||{},s=s||!1;var a,i,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(c),u=[],h=0,f=0,g=0;function b(w,B){var j,_=!1;for(j=0;j<w.length;j+=1)w[j]===B&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var x=A.length;for(g=0;g<x;g+=1)r[A[g]].value=r[A[g]].defaultValue,r[A[g]].explicitSet=!1}if(Ps(t)==="object"){for(i in t)if(o=t[i],b(A,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&b(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(h=0;h<o.length;h+=1)if(a=!0,o[h].length===1&&typeof o[h][0]=="number")u.push(String(o[h]-1));else if(o[h].length>1){for(f=0;f<o[h].length;f+=1)typeof o[h][f]!="number"&&(a=!1);a===!0&&u.push([o[h][0]-1,o[h][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,B=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?B.push("/"+w+" /"+r[w].value):B.push("/"+w+" "+r[w].value));B.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+B.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var s=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+c.length+A.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+o+c+A+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",s)),this}}(Nt.API),function(t){var s=t.API,r=s.pdfEscape16=function(o,c){for(var A,u=c.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],g=0,b=o.length;g<b;++g){if(A=c.metadata.characterToGlyph(o.charCodeAt(g)),c.metadata.glyIdsUsed.push(A),c.metadata.toUnicode[A]=o.charCodeAt(g),u.indexOf(A)==-1&&(u.push(A),u.push([parseInt(c.metadata.widthOfGlyph(A),10)])),A=="0")return f.join("");A=A.toString(16),f.push(h[4-A.length],A)}return f.join("")},a=function(o){var c,A,u,h,f,g,b;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,b=(A=Object.keys(o).sort(function(x,w){return x-w})).length;g<b;g++)c=A[g],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(h=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+h+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(o){(function(c){var A=c.font,u=c.out,h=c.newObject,f=c.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="Identity-H"){for(var g=A.metadata.Unicode.widths,b=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),x="",w=0;w<b.length;w++)x+=String.fromCharCode(b[w]);var B=h();f({data:x,addLength1:!0,objectId:B}),u("endobj");var j=h();f({data:a(A.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var _=h();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+xu(A.fontName)),u("/FontFile2 "+B+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),u("/Flags "+A.metadata.flags),u("/StemV "+A.metadata.stemV),u("/ItalicAngle "+A.metadata.italicAngle),u("/Ascent "+A.metadata.ascender),u("/Descent "+A.metadata.decender),u("/CapHeight "+A.metadata.capHeight),u(">>"),u("endobj");var Q=h();u("<<"),u("/Type /Font"),u("/BaseFont /"+xu(A.fontName)),u("/FontDescriptor "+_+" 0 R"),u("/W "+t.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+A.encoding+")"),u(">>"),u(">>"),u("endobj"),A.objectNumber=h(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+j+" 0 R"),u("/BaseFont /"+xu(A.fontName)),u("/Encoding /"+A.encoding),u("/DescendantFonts ["+Q+" 0 R]"),u(">>"),u("endobj"),A.isAlreadyPutted=!0}})(o)}]),s.events.push(["putFont",function(o){(function(c){var A=c.font,u=c.out,h=c.newObject,f=c.putStream;if(A.metadata instanceof t.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var g=A.metadata.rawData,b="",x=0;x<g.length;x++)b+=String.fromCharCode(g[x]);var w=h();f({data:b,addLength1:!0,objectId:w}),u("endobj");var B=h();f({data:a(A.metadata.toUnicode),addLength1:!0,objectId:B}),u("endobj");var j=h();u("<<"),u("/Descent "+A.metadata.decender),u("/CapHeight "+A.metadata.capHeight),u("/StemV "+A.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(A.metadata.bbox)),u("/FontName /"+xu(A.fontName)),u("/ItalicAngle "+A.metadata.italicAngle),u("/Ascent "+A.metadata.ascender),u(">>"),u("endobj"),A.objectNumber=h();for(var _=0;_<A.metadata.hmtx.widths.length;_++)A.metadata.hmtx.widths[_]=parseInt(A.metadata.hmtx.widths[_]*(1e3/A.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+B+" 0 R/BaseFont/"+xu(A.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),u("endobj"),A.isAlreadyPutted=!0}})(o)}]);var i=function(o){var c,A=o.text||"",u=o.x,h=o.y,f=o.options||{},g=o.mutex||{},b=g.pdfEscape,x=g.activeFontKey,w=g.fonts,B=x,j="",_=0,Q="",E=w[B].encoding;if(w[B].encoding!=="Identity-H")return{text:A,x:u,y:h,options:f,mutex:g};for(Q=A,B=x,Array.isArray(A)&&(Q=A[0]),_=0;_<Q.length;_+=1)w[B].metadata.hasOwnProperty("cmap")&&(c=w[B].metadata.cmap.unicode.codeMap[Q[_].charCodeAt(0)]),c||Q[_].charCodeAt(0)<256&&w[B].metadata.hasOwnProperty("Unicode")?j+=Q[_]:j+="";var T="";return parseInt(B.slice(1))<14||E==="WinAnsiEncoding"?T=b(j,B).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(T=r(j,w[B])),g.isHex=!0,{text:T,x:u,y:h,options:f,mutex:g}};s.events.push(["postProcessText",function(o){var c=o.text||"",A=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var h=0;for(h=0;h<c.length;h+=1)Array.isArray(c[h])&&c[h].length===3?A.push([i(Object.assign({},u,{text:c[h][0]})).text,c[h][1],c[h][2]]):A.push(i(Object.assign({},u,{text:c[h]})).text);o.text=A}else o.text=i(Object.assign({},u,{text:c})).text}])}(Nt),function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,a){return s.call(this),this.internal.vFS[r]=a,this},t.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,o,c,A,u,h,f,g=s,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},B={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,E=0;this.__bidiEngine__={};var T=function(D){var L=D.charCodeAt(),R=L>>8,P=B[R];return P!==void 0?g[256*P+(255&L)]:R===252||R===253?"AL":_.test(R)?"L":R===8?"R":"N"},U=function(D){for(var L,R=0;R<D.length;R++){if((L=T(D.charAt(R)))==="L")return!1;if(L==="R")return!0}return!1},k=function(D,L,R,P){var re,I,G,X,ie=L[P];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(ie="AN");break;case"AL":Q=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":P<1||P+1>=L.length||(re=R[P-1])!=="EN"&&re!=="AN"||(I=L[P+1])!=="EN"&&I!=="AN"?ie="N":Q&&(I="AN"),ie=I===re?I:"N";break;case"ES":ie=(re=P>0?R[P-1]:"B")==="EN"&&P+1<L.length&&L[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&R[P-1]==="EN"){ie="EN";break}if(Q){ie="N";break}for(G=P+1,X=L.length;G<X&&L[G]==="ET";)G++;ie=G<X&&L[G]==="EN"?"EN":"N";break;case"NSM":if(c&&!A){for(X=L.length,G=P+1;G<X&&L[G]==="NSM";)G++;if(G<X){var ge=D[P],ee=ge>=1425&&ge<=2303||ge===64286;if(re=L[G],ee&&(re==="R"||re==="AL")){ie="R";break}}}ie=P<1||(re=L[P-1])==="B"?"N":R[P-1];break;case"B":Q=!1,i=!0,ie=E;break;case"S":o=!0,ie="N"}return ie},q=function(D,L,R){var P=D.split("");return R&&K(P,R,{hiLevel:E}),P.reverse(),L&&L.reverse(),P.join("")},K=function(D,L,R){var P,re,I,G,X,ie=-1,ge=D.length,ee=0,M=[],H=E?x:b,Z=[];for(Q=!1,i=!1,o=!1,re=0;re<ge;re++)Z[re]=T(D[re]);for(I=0;I<ge;I++){if(X=ee,M[I]=k(D,Z,M,I),P=240&(ee=H[X][w[M[I]]]),ee&=15,L[I]=G=H[ee][5],P>0)if(P===16){for(re=ie;re<I;re++)L[re]=1;ie=-1}else ie=-1;if(H[ee][6])ie===-1&&(ie=I);else if(ie>-1){for(re=ie;re<I;re++)L[re]=G;ie=-1}Z[I]==="B"&&(L[I]=0),R.hiLevel|=G}o&&function(Ae,fe,pe){for(var Se=0;Se<pe;Se++)if(Ae[Se]==="S"){fe[Se]=E;for(var me=Se-1;me>=0&&Ae[me]==="WS";me--)fe[me]=E}}(Z,L,ge)},z=function(D,L,R,P,re){if(!(re.hiLevel<D)){if(D===1&&E===1&&!i)return L.reverse(),void(R&&R.reverse());for(var I,G,X,ie,ge=L.length,ee=0;ee<ge;){if(P[ee]>=D){for(X=ee+1;X<ge&&P[X]>=D;)X++;for(ie=ee,G=X-1;ie<G;ie++,G--)I=L[ie],L[ie]=L[G],L[G]=I,R&&(I=R[ie],R[ie]=R[G],R[G]=I);ee=X}ee++}}},$=function(D,L,R){var P=D.split(""),re={hiLevel:E};return R||(R=[]),K(P,R,re),function(I,G,X){if(X.hiLevel!==0&&f)for(var ie,ge=0;ge<I.length;ge++)G[ge]===1&&(ie=j.indexOf(I[ge]))>=0&&(I[ge]=j[ie+1])}(P,R,re),z(2,P,L,R,re),z(1,P,L,R,re),P.join("")};return this.__bidiEngine__.doBidiReorder=function(D,L,R){if(function(re,I){if(I)for(var G=0;G<re.length;G++)I[G]=G;A===void 0&&(A=U(re)),h===void 0&&(h=U(re))}(D,L),c||!u||h)if(c&&u&&A^h)E=A?1:0,D=q(D,L,R);else if(!c&&u&&h)E=A?1:0,D=$(D,L,R),D=q(D,L);else if(!c||A||u||h){if(c&&!u&&A^h)D=q(D,L),A?(E=0,D=$(D,L,R)):(E=1,D=$(D,L,R),D=q(D,L));else if(c&&A&&!u&&h)E=1,D=$(D,L,R),D=q(D,L);else if(!c&&!u&&A^h){var P=f;A?(E=1,D=$(D,L,R),E=0,f=!1,D=$(D,L,R),f=P):(E=0,D=$(D,L,R),D=q(D,L),E=1,f=!1,D=$(D,L,R),f=P,D=q(D,L))}}else E=0,D=$(D,L,R);else E=A?1:0,D=$(D,L,R);return D},this.__bidiEngine__.setOptions=function(D){D&&(c=D.isInputVisual,u=D.isOutputVisual,A=D.isInputRtl,h=D.isOutputRtl,f=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var A=0;for(c=[],A=0;A<i.length;A+=1)Object.prototype.toString.call(i[A])==="[object Array]"?c.push([r.doBidiReorder(i[A][0]),i[A][1],i[A][2]]):c.push([r.doBidiReorder(i[A])]);a.text=c}else a.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Nt),Nt.API.TTFFont=function(){function t(s){var r;if(this.rawData=s,r=this.contents=new ic(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new LK(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new bK(this.contents),this.head=new vK(this),this.name=new _K(this),this.cmap=new M6(this),this.toUnicode={},this.hhea=new wK(this),this.maxp=new CK(this),this.hmtx=new SK(this),this.post=new jK(this),this.os2=new NK(this),this.loca=new kK(this),this.glyf=new EK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,r,a,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,A,u,h;for(h=[],c=0,A=(u=this.bbox).length;c<A;c++)s=u[c],h.push(Math.round(s*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},t.prototype.widthOfString=function(s,r,a){var i,o,c,A;for(c=0,o=0,A=(s=""+s).length;0<=A?o<A:o>A;o=0<=A?++o:--o)i=s.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(s,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*s},t}();var El,ic=function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var r,a;for(a=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(s){var r,a,i;for(i=[],r=0,a=s.length;0<=a?r<a:r>a;r=0<=a?++r:--r)i.push(this.writeByte(s.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,r,a,i,o,c,A,u;return s=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),A=this.readByte(),u=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^o)+65536*(255^c)+256*(255^A)+(255^u)+1):72057594037927940*s+281474976710656*r+1099511627776*a+4294967296*i+16777216*o+65536*c+256*A+u},t.prototype.writeLongLong=function(s){var r,a;return r=Math.floor(s/4294967296),a=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var r,a;for(r=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r.push(this.readByte());return r},t.prototype.write=function(s){var r,a,i,o;for(o=[],a=0,i=s.length;a<i;a++)r=s[a],o.push(this.writeByte(r));return o},t}(),bK=function(){var t;function s(r){var a,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return s.prototype.encode=function(r){var a,i,o,c,A,u,h,f,g,b,x,w,B;for(B in x=Object.keys(r).length,u=Math.log(2),g=16*Math.floor(Math.log(x)/u),c=Math.floor(g/u),f=16*x-g,(i=new ic).writeInt(this.scalarType),i.writeShort(x),i.writeShort(g),i.writeShort(c),i.writeShort(f),o=16*x,h=i.pos+o,A=null,w=[],r)for(b=r[B],i.writeString(B),i.writeInt(t(b)),i.writeInt(h),i.writeInt(b.length),w=w.concat(b),B==="head"&&(A=h),h+=b.length;h%4;)w.push(0),h++;return i.write(w),a=2981146554-t(i.data),i.pos=A+8,i.writeUInt32(a),i.data},t=function(r){var a,i,o,c;for(r=R6.call(r);r.length%4;)r.push(0);for(o=new ic(r),i=0,a=0,c=r.length;a<c;a=a+=4)i+=o.readUInt32();return 4294967295&i},s}(),yK={}.hasOwnProperty,co=function(t,s){for(var r in s)yK.call(s,r)&&(t[r]=s[r]);function a(){this.constructor=t}return a.prototype=s.prototype,t.prototype=new a,t.__super__=s.prototype,t};El=function(){function t(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var r;return(r=new ic).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(s),r.writeShort(this.glyphDataFormat),r.data},t}(),OB=function(){function t(s,r){var a,i,o,c,A,u,h,f,g,b,x,w,B,j,_,Q,E;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),g=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=s.readByte();break;case 4:for(x=s.readUInt16(),b=x/2,s.pos+=6,o=function(){var T,U;for(U=[],u=T=0;0<=b?T<b:T>b;u=0<=b?++T:--T)U.push(s.readUInt16());return U}(),s.pos+=2,B=function(){var T,U;for(U=[],u=T=0;0<=b?T<b:T>b;u=0<=b?++T:--T)U.push(s.readUInt16());return U}(),h=function(){var T,U;for(U=[],u=T=0;0<=b?T<b:T>b;u=0<=b?++T:--T)U.push(s.readUInt16());return U}(),f=function(){var T,U;for(U=[],u=T=0;0<=b?T<b:T>b;u=0<=b?++T:--T)U.push(s.readUInt16());return U}(),i=(this.length-s.pos+this.offset)/2,A=function(){var T,U;for(U=[],u=T=0;0<=i?T<i:T>i;u=0<=i?++T:--T)U.push(s.readUInt16());return U}(),u=_=0,E=o.length;_<E;u=++_)for(j=o[u],a=Q=w=B[u];w<=j?Q<=j:Q>=j;a=w<=j?++Q:--Q)f[u]===0?c=a+h[u]:(c=A[f[u]/2+(a-w)-(b-u)]||0)!==0&&(c+=h[u]),this.codeMap[a]=65535&c}s.pos=g}return t.encode=function(s,r){var a,i,o,c,A,u,h,f,g,b,x,w,B,j,_,Q,E,T,U,k,q,K,z,$,D,L,R,P,re,I,G,X,ie,ge,ee,M,H,Z,Ae,fe,pe,Se,me,Le,Ve,ke;switch(P=new ic,c=Object.keys(s).sort(function(Ke,ae){return Ke-ae}),r){case"macroman":for(B=0,j=function(){var Ke=[];for(w=0;w<256;++w)Ke.push(0);return Ke}(),Q={0:0},o={},re=0,ie=c.length;re<ie;re++)Q[me=s[i=c[re]]]==null&&(Q[me]=++B),o[i]={old:s[i],new:Q[s[i]]},j[i]=Q[s[i]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(j),{charMap:o,subtable:P.data,maxGlyphID:B+1};case"unicode":for(L=[],g=[],E=0,Q={},a={},_=h=null,I=0,ge=c.length;I<ge;I++)Q[U=s[i=c[I]]]==null&&(Q[U]=++E),a[i]={old:U,new:Q[U]},A=Q[U]-i,_!=null&&A===h||(_&&g.push(_),L.push(i),h=A),_=i;for(_&&g.push(_),g.push(65535),L.push(65535),$=2*(z=L.length),K=2*Math.pow(Math.log(z)/Math.LN2,2),b=Math.log(K/2)/Math.LN2,q=2*z-K,u=[],k=[],x=[],w=G=0,ee=L.length;G<ee;w=++G){if(D=L[w],f=g[w],D===65535){u.push(0),k.push(0);break}if(D-(R=a[D].new)>=32768)for(u.push(0),k.push(2*(x.length+z-w)),i=X=D;D<=f?X<=f:X>=f;i=D<=f?++X:--X)x.push(a[i].new);else u.push(R-D),k.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*z+2*x.length),P.writeUInt16(0),P.writeUInt16($),P.writeUInt16(K),P.writeUInt16(b),P.writeUInt16(q),pe=0,M=g.length;pe<M;pe++)i=g[pe],P.writeUInt16(i);for(P.writeUInt16(0),Se=0,H=L.length;Se<H;Se++)i=L[Se],P.writeUInt16(i);for(Le=0,Z=u.length;Le<Z;Le++)A=u[Le],P.writeUInt16(A);for(Ve=0,Ae=k.length;Ve<Ae;Ve++)T=k[Ve],P.writeUInt16(T);for(ke=0,fe=x.length;ke<fe;ke++)B=x[ke],P.writeUInt16(B);return{charMap:a,subtable:P.data,maxGlyphID:E+1}}},t}(),M6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="cmap",t.prototype.parse=function(s){var r,a,i;for(s.pos=this.offset,this.version=s.readUInt16(),i=s.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new OB(s,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(s,r){var a,i;return r==null&&(r="macroman"),a=OB.encode(s,r),(i=new ic).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),wK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t}(),NK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(s.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(s.readInt());return a}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(s.readInt());return a}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t}(),jK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="post",t.prototype.parse=function(s){var r,a,i;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(a=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],i=[];s.pos<this.offset+this.length;)r=s.readByte(),i.push(this.names.push(s.readString(r)));return i;case 151552:return a=s.readUInt16(),this.offsets=s.read(a);case 262144:return this.map=(function(){var c,A,u;for(u=[],o=c=0,A=this.file.maxp.numGlyphs;0<=A?c<A:c>A;o=0<=A?++c:--c)u.push(s.readUInt32());return u}).call(this)}},t}(),BK=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},_K=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="name",t.prototype.parse=function(s){var r,a,i,o,c,A,u,h,f,g,b;for(s.pos=this.offset,s.readShort(),r=s.readShort(),A=s.readShort(),a=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)a.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+A+s.readShort()});for(u={},o=f=0,g=a.length;f<g;o=++f)i=a[o],s.pos=i.offset,h=s.readString(i.length),c=new BK(h,i),u[b=i.nameID]==null&&(u[b]=[]),u[i.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),CK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t}(),SK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="hmtx",t.prototype.parse=function(s){var r,a,i,o,c,A,u;for(s.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)f.push(s.readInt16());return f}(),this.widths=(function(){var h,f,g,b;for(b=[],h=0,f=(g=this.metrics).length;h<f;h++)o=g[h],b.push(o.advance);return b}).call(this),a=this.widths[this.widths.length-1],u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t}(),R6=[].slice,EK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var r,a,i,o,c,A,u,h,f,g;return s in this.cache?this.cache[s]:(o=this.file.loca,r=this.file.contents,a=o.indexOf(s),(i=o.lengthOf(s))===0?this.cache[s]=null:(r.pos=this.offset+a,c=(A=new ic(r.read(i))).readShort(),h=A.readShort(),g=A.readShort(),u=A.readShort(),f=A.readShort(),this.cache[s]=c===-1?new UK(A,h,g,u,f):new FK(A,c,h,g,u,f),this.cache[s]))},t.prototype.encode=function(s,r,a){var i,o,c,A,u;for(c=[],o=[],A=0,u=r.length;A<u;A++)i=s[r[A]],o.push(c.length),i&&(c=c.concat(i.encode(a)));return o.push(c.length),{table:c,offsets:o}},t}(),FK=function(){function t(s,r,a,i,o,c){this.raw=s,this.numberOfContours=r,this.xMin=a,this.yMin=i,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),UK=function(){function t(s,r,a,i,o){var c,A;for(this.raw=s,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;A=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&A;)c.pos+=1&A?4:2,128&A?c.pos+=8:64&A?c.pos+=4:8&A&&(c.pos+=2)}return t.prototype.encode=function(){var s,r,a;for(r=new ic(R6.call(this.raw.data)),s=0,a=this.glyphIDs.length;s<a;++s)r.pos=this.glyphOffsets[s];return r.data},t}(),kK=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return co(t,El),t.prototype.tag="loca",t.prototype.parse=function(s){var r,a;return s.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*s.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(s.readUInt32());return o}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,r){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,c=0;c<a.length;++c)if(a[c]=i,o<r.length&&r[o]==c){++o,a[c]=i;var A=this.offsets[c],u=this.offsets[c+1]-A;u>0&&(i+=u)}for(var h=new Array(4*a.length),f=0;f<a.length;++f)h[4*f+3]=255&a[f],h[4*f+2]=(65280&a[f])>>8,h[4*f+1]=(16711680&a[f])>>16,h[4*f]=(4278190080&a[f])>>24;return h},t}(),LK=function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,r,a,i,o;for(r in i=this.font.cmap.tables[0].codeMap,s={},o=this.subset)a=o[r],s[r]=i[a];return s},t.prototype.glyphsFor=function(s){var r,a,i,o,c,A,u;for(i={},c=0,A=s.length;c<A;c++)i[o=s[c]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(a=i[o])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(o in u=this.glyphsFor(r))a=u[o],i[o]=a;return i},t.prototype.encode=function(s,r){var a,i,o,c,A,u,h,f,g,b,x,w,B,j,_;for(i in a=M6.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(s),x={0:0},_=a.charMap)x[(u=_[i]).old]=u.new;for(w in b=a.maxGlyphID,c)w in x||(x[w]=b++);return f=function(Q){var E,T;for(E in T={},Q)T[Q[E]]=E;return T}(x),g=Object.keys(f).sort(function(Q,E){return Q-E}),B=function(){var Q,E,T;for(T=[],Q=0,E=g.length;Q<E;Q++)A=g[Q],T.push(f[A]);return T}(),o=this.font.glyf.encode(c,B,x),h=this.font.loca.encode(o.offsets,B),j={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();Nt.API.PDFObject=function(){var t;function s(){}return t=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},s.convert=function(r){var a,i,o,c;if(Array.isArray(r))return"["+function(){var A,u,h;for(h=[],A=0,u=r.length;A<u;A++)a=r[A],h.push(s.convert(a));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)c=r[i],o.push("/"+i+" "+s.convert(c));return o.push(">>"),o.join(`
`)}return""+r},s}();const QK=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:cK,AcroFormAppearance:yt,AcroFormButton:xa,AcroFormCheckBox:xf,AcroFormChoiceField:td,AcroFormComboBox:rd,AcroFormEditBox:gf,AcroFormListBox:sd,AcroFormPasswordField:bf,AcroFormPushButton:pf,AcroFormRadioButton:ad,AcroFormTextField:ec,GState:Qf,ShadingPattern:KA,TilingPattern:$c,default:Nt,jsPDF:Nt},Symbol.toStringTag,{value:"Module"}));var TK=Object.defineProperty,vg=Object.getOwnPropertySymbols,O6=Object.prototype.hasOwnProperty,H6=Object.prototype.propertyIsEnumerable,HB=(t,s,r)=>s in t?TK(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,qy=(t,s)=>{for(var r in s||(s={}))O6.call(s,r)&&HB(t,r,s[r]);if(vg)for(var r of vg(s))H6.call(s,r)&&HB(t,r,s[r]);return t},$y=(t,s)=>{var r={};for(var a in t)O6.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&vg)for(var a of vg(t))s.indexOf(a)<0&&H6.call(t,a)&&(r[a]=t[a]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var cd;(t=>{const s=class ds{constructor(u,h,f,g){if(this.version=u,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],u<ds.MIN_VERSION||u>ds.MAX_VERSION)throw new RangeError("Version value out of range");if(g<-1||g>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let b=[];for(let w=0;w<this.size;w++)b.push(!1);for(let w=0;w<this.size;w++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(f);if(this.drawCodewords(x),g==-1){let w=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const j=this.getPenaltyScore();j<w&&(g=B,w=j),this.applyMask(B)}}i(0<=g&&g<=7),this.mask=g,this.applyMask(g),this.drawFormatBits(g),this.isFunction=[]}static encodeText(u,h){const f=t.QrSegment.makeSegments(u);return ds.encodeSegments(f,h)}static encodeBinary(u,h){const f=t.QrSegment.makeBytes(u);return ds.encodeSegments([f],h)}static encodeSegments(u,h,f=1,g=40,b=-1,x=!0){if(!(ds.MIN_VERSION<=f&&f<=g&&g<=ds.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let w,B;for(w=f;;w++){const E=ds.getNumDataCodewords(w,h)*8,T=c.getTotalBits(u,w);if(T<=E){B=T;break}if(w>=g)throw new RangeError("Data too long")}for(const E of[ds.Ecc.MEDIUM,ds.Ecc.QUARTILE,ds.Ecc.HIGH])x&&B<=ds.getNumDataCodewords(w,E)*8&&(h=E);let j=[];for(const E of u){r(E.mode.modeBits,4,j),r(E.numChars,E.mode.numCharCountBits(w),j);for(const T of E.getData())j.push(T)}i(j.length==B);const _=ds.getNumDataCodewords(w,h)*8;i(j.length<=_),r(0,Math.min(4,_-j.length),j),r(0,(8-j.length%8)%8,j),i(j.length%8==0);for(let E=236;j.length<_;E^=253)r(E,8,j);let Q=[];for(;Q.length*8<j.length;)Q.push(0);return j.forEach((E,T)=>Q[T>>>3]|=E<<7-(T&7)),new ds(w,h,Q,b)}getModule(u,h){return 0<=u&&u<this.size&&0<=h&&h<this.size&&this.modules[h][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const u=this.getAlignmentPatternPositions(),h=u.length;for(let f=0;f<h;f++)for(let g=0;g<h;g++)f==0&&g==0||f==0&&g==h-1||f==h-1&&g==0||this.drawAlignmentPattern(u[f],u[g]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){const h=this.errorCorrectionLevel.formatBits<<3|u;let f=h;for(let b=0;b<10;b++)f=f<<1^(f>>>9)*1335;const g=(h<<10|f)^21522;i(g>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,a(g,b));this.setFunctionModule(8,7,a(g,6)),this.setFunctionModule(8,8,a(g,7)),this.setFunctionModule(7,8,a(g,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,a(g,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,a(g,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,a(g,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let f=0;f<12;f++)u=u<<1^(u>>>11)*7973;const h=this.version<<12|u;i(h>>>18==0);for(let f=0;f<18;f++){const g=a(h,f),b=this.size-11+f%3,x=Math.floor(f/3);this.setFunctionModule(b,x,g),this.setFunctionModule(x,b,g)}}drawFinderPattern(u,h){for(let f=-4;f<=4;f++)for(let g=-4;g<=4;g++){const b=Math.max(Math.abs(g),Math.abs(f)),x=u+g,w=h+f;0<=x&&x<this.size&&0<=w&&w<this.size&&this.setFunctionModule(x,w,b!=2&&b!=4)}}drawAlignmentPattern(u,h){for(let f=-2;f<=2;f++)for(let g=-2;g<=2;g++)this.setFunctionModule(u+g,h+f,Math.max(Math.abs(g),Math.abs(f))!=1)}setFunctionModule(u,h,f){this.modules[h][u]=f,this.isFunction[h][u]=!0}addEccAndInterleave(u){const h=this.version,f=this.errorCorrectionLevel;if(u.length!=ds.getNumDataCodewords(h,f))throw new RangeError("Invalid argument");const g=ds.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][h],b=ds.ECC_CODEWORDS_PER_BLOCK[f.ordinal][h],x=Math.floor(ds.getNumRawDataModules(h)/8),w=g-x%g,B=Math.floor(x/g);let j=[];const _=ds.reedSolomonComputeDivisor(b);for(let E=0,T=0;E<g;E++){let U=u.slice(T,T+B-b+(E<w?0:1));T+=U.length;const k=ds.reedSolomonComputeRemainder(U,_);E<w&&U.push(0),j.push(U.concat(k))}let Q=[];for(let E=0;E<j[0].length;E++)j.forEach((T,U)=>{(E!=B-b||U>=w)&&Q.push(T[E])});return i(Q.length==x),Q}drawCodewords(u){if(u.length!=Math.floor(ds.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let g=0;g<this.size;g++)for(let b=0;b<2;b++){const x=f-b,B=(f+1&2)==0?this.size-1-g:g;!this.isFunction[B][x]&&h<u.length*8&&(this.modules[B][x]=a(u[h>>>3],7-(h&7)),h++)}}i(h==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let f=0;f<this.size;f++){let g;switch(u){case 0:g=(f+h)%2==0;break;case 1:g=h%2==0;break;case 2:g=f%3==0;break;case 3:g=(f+h)%3==0;break;case 4:g=(Math.floor(f/3)+Math.floor(h/2))%2==0;break;case 5:g=f*h%2+f*h%3==0;break;case 6:g=(f*h%2+f*h%3)%2==0;break;case 7:g=((f+h)%2+f*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][f]&&g&&(this.modules[h][f]=!this.modules[h][f])}}getPenaltyScore(){let u=0;for(let b=0;b<this.size;b++){let x=!1,w=0,B=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[b][j]==x?(w++,w==5?u+=ds.PENALTY_N1:w>5&&u++):(this.finderPenaltyAddHistory(w,B),x||(u+=this.finderPenaltyCountPatterns(B)*ds.PENALTY_N3),x=this.modules[b][j],w=1);u+=this.finderPenaltyTerminateAndCount(x,w,B)*ds.PENALTY_N3}for(let b=0;b<this.size;b++){let x=!1,w=0,B=[0,0,0,0,0,0,0];for(let j=0;j<this.size;j++)this.modules[j][b]==x?(w++,w==5?u+=ds.PENALTY_N1:w>5&&u++):(this.finderPenaltyAddHistory(w,B),x||(u+=this.finderPenaltyCountPatterns(B)*ds.PENALTY_N3),x=this.modules[j][b],w=1);u+=this.finderPenaltyTerminateAndCount(x,w,B)*ds.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let x=0;x<this.size-1;x++){const w=this.modules[b][x];w==this.modules[b][x+1]&&w==this.modules[b+1][x]&&w==this.modules[b+1][x+1]&&(u+=ds.PENALTY_N2)}let h=0;for(const b of this.modules)h=b.reduce((x,w)=>x+(w?1:0),h);const f=this.size*this.size,g=Math.ceil(Math.abs(h*20-f*10)/f)-1;return i(0<=g&&g<=9),u+=g*ds.PENALTY_N4,i(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{const u=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2;let f=[6];for(let g=this.size-7;f.length<u;g-=h)f.splice(1,0,g);return f}}static getNumRawDataModules(u){if(u<ds.MIN_VERSION||u>ds.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*u+128)*u+64;if(u>=2){const f=Math.floor(u/7)+2;h-=(25*f-10)*f-55,u>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(u,h){return Math.floor(ds.getNumRawDataModules(u)/8)-ds.ECC_CODEWORDS_PER_BLOCK[h.ordinal][u]*ds.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let h=[];for(let g=0;g<u-1;g++)h.push(0);h.push(1);let f=1;for(let g=0;g<u;g++){for(let b=0;b<h.length;b++)h[b]=ds.reedSolomonMultiply(h[b],f),b+1<h.length&&(h[b]^=h[b+1]);f=ds.reedSolomonMultiply(f,2)}return h}static reedSolomonComputeRemainder(u,h){let f=h.map(g=>0);for(const g of u){const b=g^f.shift();f.push(0),h.forEach((x,w)=>f[w]^=ds.reedSolomonMultiply(x,b))}return f}static reedSolomonMultiply(u,h){if(u>>>8||h>>>8)throw new RangeError("Byte out of range");let f=0;for(let g=7;g>=0;g--)f=f<<1^(f>>>7)*285,f^=(h>>>g&1)*u;return i(f>>>8==0),f}finderPenaltyCountPatterns(u){const h=u[1];i(h<=this.size*3);const f=h>0&&u[2]==h&&u[3]==h*3&&u[4]==h&&u[5]==h;return(f&&u[0]>=h*4&&u[6]>=h?1:0)+(f&&u[6]>=h*4&&u[0]>=h?1:0)}finderPenaltyTerminateAndCount(u,h,f){return u&&(this.finderPenaltyAddHistory(h,f),h=0),h+=this.size,this.finderPenaltyAddHistory(h,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(u,h){h[0]==0&&(u+=this.size),h.pop(),h.unshift(u)}};s.MIN_VERSION=1,s.MAX_VERSION=40,s.PENALTY_N1=3,s.PENALTY_N2=3,s.PENALTY_N3=40,s.PENALTY_N4=10,s.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],s.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=s;function r(A,u,h){if(u<0||u>31||A>>>u)throw new RangeError("Value out of range");for(let f=u-1;f>=0;f--)h.push(A>>>f&1)}function a(A,u){return(A>>>u&1)!=0}function i(A){if(!A)throw new Error("Assertion error")}const o=class Or{constructor(u,h,f){if(this.mode=u,this.numChars=h,this.bitData=f,h<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(u){let h=[];for(const f of u)r(f,8,h);return new Or(Or.Mode.BYTE,u.length,h)}static makeNumeric(u){if(!Or.isNumeric(u))throw new RangeError("String contains non-numeric characters");let h=[];for(let f=0;f<u.length;){const g=Math.min(u.length-f,3);r(parseInt(u.substring(f,f+g),10),g*3+1,h),f+=g}return new Or(Or.Mode.NUMERIC,u.length,h)}static makeAlphanumeric(u){if(!Or.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],f;for(f=0;f+2<=u.length;f+=2){let g=Or.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f))*45;g+=Or.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f+1)),r(g,11,h)}return f<u.length&&r(Or.ALPHANUMERIC_CHARSET.indexOf(u.charAt(f)),6,h),new Or(Or.Mode.ALPHANUMERIC,u.length,h)}static makeSegments(u){return u==""?[]:Or.isNumeric(u)?[Or.makeNumeric(u)]:Or.isAlphanumeric(u)?[Or.makeAlphanumeric(u)]:[Or.makeBytes(Or.toUtf8ByteArray(u))]}static makeEci(u){let h=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)r(u,8,h);else if(u<16384)r(2,2,h),r(u,14,h);else if(u<1e6)r(6,3,h),r(u,21,h);else throw new RangeError("ECI assignment value out of range");return new Or(Or.Mode.ECI,0,h)}static isNumeric(u){return Or.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return Or.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,h){let f=0;for(const g of u){const b=g.mode.numCharCountBits(h);if(g.numChars>=1<<b)return 1/0;f+=4+b+g.bitData.length}return f}static toUtf8ByteArray(u){u=encodeURI(u);let h=[];for(let f=0;f<u.length;f++)u.charAt(f)!="%"?h.push(u.charCodeAt(f)):(h.push(parseInt(u.substring(f+1,f+3),16)),f+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=o;t.QrSegment=o})(cd||(cd={}));(t=>{(s=>{const r=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),s.Ecc=r})(t.QrCode||(t.QrCode={}))})(cd||(cd={}));(t=>{(s=>{const r=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),s.Mode=r})(t.QrSegment||(t.QrSegment={}))})(cd||(cd={}));var Bu=cd;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var DK={L:Bu.QrCode.Ecc.LOW,M:Bu.QrCode.Ecc.MEDIUM,Q:Bu.QrCode.Ecc.QUARTILE,H:Bu.QrCode.Ecc.HIGH},P6=128,V6="L",z6="#FFFFFF",K6="#000000",G6=!1,q6=1,IK=4,MK=0,RK=.1;function $6(t,s=0){const r=[];return t.forEach(function(a,i){let o=null;a.forEach(function(c,A){if(!c&&o!==null){r.push(`M${o+s} ${i+s}h${A-o}v1H${o+s}z`),o=null;return}if(A===a.length-1){if(!c)return;o===null?r.push(`M${A+s},${i+s} h1v1H${A+s}z`):r.push(`M${o+s},${i+s} h${A+1-o}v1H${o+s}z`);return}c&&o===null&&(o=A)})}),r.join("")}function X6(t,s){return t.slice().map((r,a)=>a<s.y||a>=s.y+s.h?r:r.map((i,o)=>o<s.x||o>=s.x+s.w?i:!1))}function OK(t,s,r,a){if(a==null)return null;const i=t.length+r*2,o=Math.floor(s*RK),c=i/s,A=(a.width||o)*c,u=(a.height||o)*c,h=a.x==null?t.length/2-A/2:a.x*c,f=a.y==null?t.length/2-u/2:a.y*c,g=a.opacity==null?1:a.opacity;let b=null;if(a.excavate){let w=Math.floor(h),B=Math.floor(f),j=Math.ceil(A+h-w),_=Math.ceil(u+f-B);b={x:w,y:B,w:j,h:_}}const x=a.crossOrigin;return{x:h,y:f,h:u,w:A,excavation:b,opacity:g,crossOrigin:x}}function HK(t,s){return s!=null?Math.max(Math.floor(s),0):t?IK:MK}function Y6({value:t,level:s,minVersion:r,includeMargin:a,marginSize:i,imageSettings:o,size:c,boostLevel:A}){let u=Ds.useMemo(()=>{const w=(Array.isArray(t)?t:[t]).reduce((B,j)=>(B.push(...Bu.QrSegment.makeSegments(j)),B),[]);return Bu.QrCode.encodeSegments(w,DK[s],r,void 0,void 0,A)},[t,s,r,A]);const{cells:h,margin:f,numCells:g,calculatedImageSettings:b}=Ds.useMemo(()=>{let x=u.getModules();const w=HK(a,i),B=x.length+w*2,j=OK(x,c,w,o);return{cells:x,margin:w,numCells:B,calculatedImageSettings:j}},[u,c,o,a,i]);return{qrcode:u,margin:f,cells:h,numCells:g,calculatedImageSettings:b}}var PK=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),eh=Ds.forwardRef(function(s,r){const a=s,{value:i,size:o=P6,level:c=V6,bgColor:A=z6,fgColor:u=K6,includeMargin:h=G6,minVersion:f=q6,boostLevel:g,marginSize:b,imageSettings:x}=a,B=$y(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:j}=B,_=$y(B,["style"]),Q=x?.src,E=Ds.useRef(null),T=Ds.useRef(null),U=Ds.useCallback(P=>{E.current=P,typeof r=="function"?r(P):r&&(r.current=P)},[r]),[k,q]=Ds.useState(!1),{margin:K,cells:z,numCells:$,calculatedImageSettings:D}=Y6({value:i,level:c,minVersion:f,boostLevel:g,includeMargin:h,marginSize:b,imageSettings:x,size:o});Ds.useEffect(()=>{if(E.current!=null){const P=E.current,re=P.getContext("2d");if(!re)return;let I=z;const G=T.current,X=D!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;X&&D.excavation!=null&&(I=X6(z,D.excavation));const ie=window.devicePixelRatio||1;P.height=P.width=o*ie;const ge=o/$*ie;re.scale(ge,ge),re.fillStyle=A,re.fillRect(0,0,$,$),re.fillStyle=u,PK?re.fill(new Path2D($6(I,K))):z.forEach(function(ee,M){ee.forEach(function(H,Z){H&&re.fillRect(Z+K,M+K,1,1)})}),D&&(re.globalAlpha=D.opacity),X&&re.drawImage(G,D.x+K,D.y+K,D.w,D.h)}}),Ds.useEffect(()=>{q(!1)},[Q]);const L=qy({height:o,width:o},j);let R=null;return Q!=null&&(R=Ds.createElement("img",{src:Q,key:Q,style:{display:"none"},onLoad:()=>{q(!0)},ref:T,crossOrigin:D?.crossOrigin})),Ds.createElement(Ds.Fragment,null,Ds.createElement("canvas",qy({style:L,height:o,width:o,ref:U,role:"img"},_)),R)});eh.displayName="QRCodeCanvas";var VK=Ds.forwardRef(function(s,r){const a=s,{value:i,size:o=P6,level:c=V6,bgColor:A=z6,fgColor:u=K6,includeMargin:h=G6,minVersion:f=q6,boostLevel:g,title:b,marginSize:x,imageSettings:w}=a,B=$y(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:j,cells:_,numCells:Q,calculatedImageSettings:E}=Y6({value:i,level:c,minVersion:f,boostLevel:g,includeMargin:h,marginSize:x,imageSettings:w,size:o});let T=_,U=null;w!=null&&E!=null&&(E.excavation!=null&&(T=X6(_,E.excavation)),U=Ds.createElement("image",{href:w.src,height:E.h,width:E.w,x:E.x+j,y:E.y+j,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const k=$6(T,j);return Ds.createElement("svg",qy({height:o,width:o,viewBox:`0 0 ${Q} ${Q}`,ref:r,role:"img"},B),!!b&&Ds.createElement("title",null,b),Ds.createElement("path",{fill:A,d:`M0,0 h${Q}v${Q}H0z`,shapeRendering:"crispEdges"}),Ds.createElement("path",{fill:u,d:k,shapeRendering:"crispEdges"}),U)});VK.displayName="QRCodeSVG";function rv({passengerInfo:t,selectedSeats:s,transport:r,paymentType:a,setStep:i,manualPaymentScreenshot:o}){const[c,A]=S.useState(!1),[u,h]=S.useState(""),[f,g]=S.useState(null),[b,x]=S.useState(o||null),w=S.useRef();S.useEffect(()=>{o&&!b&&x(o)},[o]);const B=async()=>{const _=w.current;if(_)try{const Q=_.style.width,E=_.style.overflow;_.style.width="100%",_.style.overflow="visible";const T=await Ju(_,{useCORS:!0,scale:3,backgroundColor:"#ffffff",logging:!1,windowWidth:_.scrollWidth,windowHeight:_.scrollHeight,onclone:P=>{const re=P.getElementById("receipt-content");re&&(re.style.width="100%",re.style.overflow="visible",re.style.border="none",re.style.boxShadow="none")}});_.style.width=Q,_.style.overflow=E;const U=T.toDataURL("image/png",1),k=new Nt({orientation:"portrait",unit:"mm",format:"a4"}),q=k.internal.pageSize.getWidth(),K=k.internal.pageSize.getHeight(),z=T.width,$=T.height,D=Math.min(q/z,K/$),L=(q-z*D)/2;k.addImage(U,"PNG",L,10,z*D,$*D,void 0,"FAST"),k.save(`ticket_${t?.name||"passenger"}_${new Date().getTime()}.pdf`)}catch(Q){console.error("Error generating PDF:",Q),alert("Error generating PDF. Please try again.")}},j=async()=>{const _=localStorage.getItem("access_token");if(!_){alert("You must be logged in!");return}const Q=a.toLowerCase().includes("manual");let E,T={Authorization:`Bearer ${_}`};Q&&b?(E=new FormData,E.append("vehicle_id",r.vehicle),E.append("company_id",r.company),s.forEach(U=>{E.append("seat_numbers",Number(U))}),E.append("screenshot",b),E.append("passenger_name",t.name),E.append("passenger_phone",t.contact),E.append("passenger_email",t.email),E.append("passenger_cnic",t.cnic),E.append("from_location",r.route_from),E.append("to_location",r.route_to),E.append("arrival_date",r.arrival_date),E.append("arrival_time",r.arrival_time),E.append("total_amount",s.length*r.price_per_seat),E.append("currency","PKR"),E.append("method","MANUAL")):(T["Content-Type"]="application/json",E=JSON.stringify({vehicle_id:r.vehicle,company_id:r.company,seat_numbers:s,passenger_name:t.name,passenger_phone:t.contact,passenger_email:t.email,passenger_cnic:t.cnic,from_location:r.route_from,to_location:r.route_to,arrival_date:r.arrival_date,arrival_time:r.arrival_time,total_amount:s.length*r.price_per_seat,currency:"PKR",method:"CASH"}));try{const U=await fetch("/api/checkout/bookings/",{method:"POST",headers:T,body:E});if(!U.ok){const $=await U.text();console.log($),alert("Booking failed!");return}const k=await U.json();g({...k,paymentStatus:Q?"Pending Verification":"Paid",bookingStatus:Q?"Reserved":"Confirmed"});const z={id:k.id,p:t.name.substring(0,10),s:s.join(","),a:s.length*r.price_per_seat,d:r.arrival_date.replace(/-/g,""),t:r.arrival_time.replace(/:/g,""),f:r.route_from.substring(0,3),to:r.route_to.substring(0,3)};h(JSON.stringify(z)),A(!0)}catch(U){console.error(U),alert("Something went wrong!")}};return c&&f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-blue-50 p-4 sm:p-6 font-sans",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h1",{className:"text-3xl font-extrabold text-green-700 mb-2",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-600",children:"Your journey is booked. Please find your receipt below."})]}),e.jsxs("div",{id:"receipt-content",ref:w,className:"bg-white rounded-3xl shadow-2xl border-4 border-teal-500 overflow-hidden",style:{width:"100%",minHeight:"auto"},children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 p-6 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{className:"text-center md:text-left mb-4 md:mb-0",children:[e.jsx("h4",{className:"text-2xl font-bold",children:"OFFICIAL RECEIPT"}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:["Booking ID: ",e.jsx("span",{className:"font-mono font-bold",children:f.id||"N/A"})]}),e.jsx("p",{className:"text-xs mt-2",children:r?.company_name||"Travel Company"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-3 rounded-lg max-w-xs",children:[e.jsx("h3",{className:"font-bold text-xs mb-1 text-amber-300",children:" Payment Instructions:"}),e.jsxs("ul",{className:"text-xs text-white/90 space-y-1",children:[e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-green-300 mt-0.5",children:"1."}),e.jsx("span",{children:"Ticket verification: 10-30 minutes via email"})]}),e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-red-300 mt-0.5",children:"2."}),e.jsx("span",{children:"Cash payment must be made 5 hours before departure"})]})]})]})]})}),e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-1 h-6 bg-teal-500 rounded-full"}),e.jsx("h3",{className:"text-lg font-bold text-teal-700",children:" TRIP SUMMARY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-red-500 text-lg",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"From"}),e.jsx("p",{className:"font-semibold",children:r.route_from})]}),e.jsx("span",{className:"text-green-500 text-lg",children:""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"To"}),e.jsx("p",{className:"font-semibold",children:r.route_to})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),e.jsx("p",{className:"font-semibold",children:r.arrival_date})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-500",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),e.jsx("p",{className:"font-semibold",children:r.arrival_time})]})]})]})]})]}),e.jsx("hr",{className:"border-dashed border-gray-300"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-1 h-6 bg-teal-500 rounded-full"}),e.jsx("h3",{className:"text-lg font-bold text-teal-700",children:" PASSENGER DETAILS"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-teal-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"Name"})]}),e.jsx("p",{className:"font-semibold",children:t?.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-teal-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"})]}),e.jsx("p",{className:"font-semibold",children:t?.contact})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-teal-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"CNIC"})]}),e.jsx("p",{className:"font-semibold",children:t?.cnic||"N/A"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-teal-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"Email"})]}),e.jsx("p",{className:"font-semibold",children:t?.email||"N/A"})]})]})]}),e.jsx("hr",{className:"border-dashed border-gray-300"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-1 h-6 bg-teal-500 rounded-full"}),e.jsx("h3",{className:"text-lg font-bold text-teal-700",children:" BOOKING DETAILS"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-teal-50 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-teal-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"Seats"})]}),e.jsx("p",{className:"text-xl font-bold text-teal-700",children:s.join(", ")})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-blue-600",children:""}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total"})]}),e.jsxs("p",{className:"text-xl font-bold text-blue-700",children:[s.length*r.price_per_seat," PKR"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"font-semibold",children:a})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:`font-semibold ${f.paymentStatus==="Pending Verification"?"text-amber-600":"text-green-600"}`,children:f.paymentStatus})]})]})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"border-dashed border-gray-300"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold text-amber-700",children:" PAYMENT PROOF"}),e.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-xl p-3",children:[e.jsx("img",{src:URL.createObjectURL(b),className:"w-full rounded-lg border-2 border-amber-300",alt:"Payment Proof"}),e.jsx("p",{className:"text-center text-sm text-amber-700 font-medium mt-2",children:" Payment verification pending"})]})]})]}),e.jsx("hr",{className:"border-dashed border-gray-300"}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-2xl border-2 border-dashed border-gray-300",children:u&&e.jsx(eh,{value:u,size:140,bgColor:"#ffffff",fgColor:"#0f766e",level:"L",includeMargin:!0})})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Scan this code at boarding time for verification"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsxs("p",{children:[" Generated on: ",new Date().toLocaleDateString()]}),e.jsxs("p",{children:[" Total Passengers: ",s.length]})]}),e.jsxs("p",{className:"text-center text-xs text-gray-400 mt-3",children:[" Thank you for choosing ",r?.company_name||"our service","!"]})]})]})]}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsx("button",{onClick:B,className:"px-8 py-4 bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white font-bold text-lg rounded-2xl shadow-xl transition-all duration-300 transform hover:-translate-y-1 flex items-center justify-center gap-3 w-full",children:" Download Receipt (PDF)"}),e.jsx("button",{onClick:()=>window.print(),className:"mt-4 px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-xl shadow transition duration-300 w-full",children:" Print Receipt"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-teal-50 p-4 font-sans",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-teal-800 mb-2",children:r?.company_name}),e.jsx("p",{className:"text-gray-600",children:"Booking Summary"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6 border border-teal-100",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-teal-700 mb-4 flex items-center gap-2",children:" Passenger Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-semibold",children:t?.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"CNIC"}),e.jsx("p",{className:"font-semibold",children:t?.cnic})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Contact"}),e.jsx("p",{className:"font-semibold",children:t?.contact})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-semibold",children:t?.email})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-teal-700 mb-4 flex items-center gap-2",children:" Journey Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-xl",children:[e.jsx("span",{className:"text-gray-600",children:"Route"}),e.jsxs("span",{className:"font-bold text-teal-700",children:[r.route_from,"  ",r.route_to]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),e.jsx("p",{className:"font-semibold",children:r.arrival_date})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),e.jsx("p",{className:"font-semibold",children:r.arrival_time})]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-teal-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Selected Seats"}),e.jsx("p",{className:"text-2xl font-bold text-teal-700",children:s.join(", ")})]}),e.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:[s.length*r.price_per_seat," PKR"]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-gray-600",children:"Payment Method"}),e.jsx("p",{className:"font-bold text-lg",children:a})]})]}),b&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-green-700 mb-2",children:" Payment Screenshot Uploaded"}),e.jsx("img",{src:URL.createObjectURL(b),className:"w-full rounded-lg border-2 border-green-300",alt:"Payment Proof"}),e.jsx("p",{className:"text-center text-amber-600 font-medium mt-2",children:" Will be verified manually"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:j,className:"w-full py-4 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white font-bold text-lg rounded-2xl shadow-lg transition-all duration-300 transform hover:-translate-y-1 flex items-center justify-center gap-3",children:" Confirm & Generate Ticket"}),e.jsx("button",{onClick:()=>i("seatSelection"),className:"w-full py-3 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-xl shadow transition duration-300 flex items-center justify-center gap-3",children:" Back to Seat Selection"})]}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-6",children:"By confirming, you agree to our terms and conditions. Ticket will be generated immediately."})]})})}const PB=({type:t,text:s,onClose:r})=>{if(!s)return null;const a=t==="success",i=a?zs:aQ,o=a?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700";return e.jsxs("div",{className:`fixed top-4 right-4 p-4 border rounded-lg shadow-lg z-50 flex items-center space-x-3 ${o}`,children:[e.jsx(i,{className:"w-6 h-6"}),e.jsx("p",{children:s}),e.jsx(Is,{className:"w-4 h-4 cursor-pointer",onClick:r})]})},zK=({isOpen:t,onClose:s,showAlert:r})=>{const[a,i]=S.useState(""),[o,c]=S.useState(""),[A,u]=S.useState(""),[h,f]=S.useState(!1),[g,b]=S.useState(!1),x=async B=>{B.preventDefault(),f(!0);try{await Kt.post("auth/passenger/verify-password/",{password:a}),r("success","Current password verified. Enter new password."),b(!0)}catch(j){console.error(j),r("error","Incorrect current password.")}f(!1)},w=async B=>{if(B.preventDefault(),o!==A)return r("error","Passwords do not match.");if(o.length<8)return r("error","Password must be at least 8 characters.");f(!0);try{await Kt.put("auth/passenger/change-password/",{old_password:a,new_password:o}),r("success","Password changed successfully."),i(""),c(""),u(""),b(!1),s()}catch(j){console.error(j),r("error","Error changing password.")}f(!1)};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(Z4,{className:"w-6 h-6 text-indigo-600 mr-2"}),"Change Password"]}),e.jsx(Is,{className:"w-6 h-6 cursor-pointer",onClick:s})]}),g?e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsx("input",{type:"password",placeholder:"New Password",className:"w-full border p-3 rounded-lg",value:o,onChange:B=>c(B.target.value)}),e.jsx("input",{type:"password",placeholder:"Confirm Password",className:"w-full border p-3 rounded-lg",value:A,onChange:B=>u(B.target.value)}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 text-white py-3 rounded-lg",children:h?"Changing...":"Change Password"})]}):e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsx("input",{type:"password",placeholder:"Current Password",className:"w-full border p-3 rounded-lg",value:a,onChange:B=>i(B.target.value)}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 text-white py-3 rounded-lg",children:h?"Verifying...":"Verify Current Password"})]})]})}):null},OA=({icon:t,label:s,value:r})=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg flex items-center space-x-3",children:[e.jsx(t,{className:"w-5 h-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:s}),e.jsx("p",{className:"font-medium",children:r||"---"})]})]}),_b=({name:t,label:s,value:r,onChange:a,type:i="text"})=>e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:s}),e.jsx("input",{type:i,name:t,className:"w-full border p-3 rounded-lg",value:r||"",onChange:a})]}),VB=({label:t,value:s})=>e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:t}),e.jsx("input",{className:"w-full border p-3 rounded-lg bg-gray-100",value:s,readOnly:!0})]}),S0=({name:t,label:s,value:r,onChange:a,options:i})=>e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:s}),e.jsxs("select",{name:t,value:r??"",onChange:a,className:"w-full border p-3 rounded-lg",children:[e.jsx("option",{value:"",children:"Select..."}),i.map(([o,c])=>e.jsx("option",{value:o,children:c},o))]})]}),E0={male:"Male",female:"Female",married:"Married",unmarried:"Unmarried",student:"Student",govt_job:"Government Job",private_job:"Private Job",labor_former:"Laborer/Farmer",business_man:"Business Man",no_job:"No Job",yes:"Yes",no:"No"};function W6(){const[t,s]=S.useState(null),[r,a]=S.useState({}),[i,o]=S.useState(!1),[c,A]=S.useState(null),[u,h]=S.useState(null),[f,g]=S.useState({type:"",text:""}),[b,x]=S.useState(!1),w=S.useCallback((Q,E)=>{g({type:Q,text:E}),setTimeout(()=>g({type:"",text:""}),4e3)},[]);S.useEffect(()=>{(async()=>{try{const E=await Kt.get("auth/passenger/profile/");s(E.data),a({...E.data,username:E.data.user.username,email:E.data.user.email,phone_number:E.data.user.phone_number}),h(E.data.profile_picture),localStorage.setItem("passenger_profile_data",JSON.stringify(E.data))}catch{console.log("Using localStorage fallback");const E=JSON.parse(localStorage.getItem("passenger_profile_data")||"{}");s(E),a(E),h(E.profile_picture)}})()},[]);const B=Q=>{const{name:E,value:T,type:U,checked:k}=Q.target;a(q=>({...q,[E]:U==="checkbox"?k:T}))},j=Q=>{const E=Q.target.files[0];if(!E)return;A(E);const T=new FileReader;T.onloadend=()=>h(T.result),T.readAsDataURL(E)},_=async(Q={})=>{try{const E=new FormData,T={...r,...Q};E.append("cnic_or_passport",T.cnic_or_passport||""),E.append("address",T.address||""),E.append("gender",T.gender||""),E.append("date_of_birth",T.date_of_birth||""),E.append("living_status",T.living_status||""),E.append("current_status",T.current_status||""),E.append("special_person",T.special_person||""),E.append("additional_info",T.additional_info||""),E.append("notification_enabled",T.notification_enabled?"true":"false"),c&&E.append("profile_picture",c);const U=await Kt.put("auth/passenger/profile/",E);s(U.data),a(k=>({...k,...U.data})),o(!1),w("success","Profile updated successfully!"),localStorage.setItem("passenger_profile_data",JSON.stringify(U.data))}catch(E){console.error(E),w("error","Error saving profile.")}};return t?i?e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-xl rounded-xl my-10",children:[e.jsx(PB,{...f,onClose:()=>g({type:"",text:""})}),e.jsxs("div",{className:"flex justify-between items-center border-b pb-4 mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-600",children:"Edit Profile"}),e.jsxs("div",{className:"space-x-3",children:[e.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg",onClick:()=>_(),children:[e.jsx(c1,{className:"inline w-4 h-4 mr-1"})," Save"]}),e.jsxs("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg",onClick:()=>o(!1),children:[e.jsx(Is,{className:"inline w-4 h-4 mr-1"})," Cancel"]})]})]}),e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:u||"https://via.placeholder.com/150",className:"w-32 h-32 rounded-full object-cover border-4 border-indigo-300"}),e.jsxs("label",{className:"mt-3 px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg cursor-pointer",children:[e.jsx(A1,{className:"w-4 h-4 inline mr-1"}),"Change Photo",e.jsx("input",{type:"file",className:"hidden",onChange:j})]}),c&&e.jsxs("p",{className:"text-sm mt-2",children:["Selected: ",c.name]})]}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(VB,{label:"Username",value:r.username}),e.jsx(VB,{label:"Email",value:r.email}),e.jsx(_b,{name:"phone_number",label:"Phone",value:r.phone_number,onChange:B}),e.jsx(_b,{name:"cnic_or_passport",label:"CNIC / Passport",value:r.cnic_or_passport,onChange:B}),e.jsx(_b,{name:"date_of_birth",type:"date",label:"Date of Birth",value:r.date_of_birth,onChange:B}),e.jsx(S0,{name:"gender",label:"Gender",value:r.gender,onChange:B,options:[["male","Male"],["female","Female"]]}),e.jsx(S0,{name:"living_status",label:"Marital Status",value:r.living_status,onChange:B,options:[["married","Married"],["unmarried","Unmarried"]]}),e.jsx(S0,{name:"current_status",label:"Current Status",value:r.current_status,onChange:B,options:[["student","Student"],["govt_job","Government Job"],["private_job","Private Job"],["labor_former","Laborer / Farmer"],["business_man","Business Man"],["no_job","No Job"]]}),e.jsx(S0,{name:"special_person",label:"Special Person",value:r.special_person,onChange:B,options:[["yes","Yes"],["no","No"]]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block font-medium",children:"Address"}),e.jsx("input",{name:"address",className:"w-full border p-3 rounded-lg",value:r.address||"",onChange:B})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block font-medium",children:"Additional Info"}),e.jsx("textarea",{name:"additional_info",className:"w-full border p-3 rounded-lg",rows:"3",value:r.additional_info||"",onChange:B})]})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white shadow-xl rounded-xl my-10",children:[e.jsx(PB,{...f,onClose:()=>g({type:"",text:""})}),e.jsxs("div",{className:"flex justify-between items-center border-b pb-4 mb-6",children:[e.jsxs("h2",{className:"text-3xl font-bold flex items-center",children:[e.jsx(l5,{className:"w-8 h-8 text-indigo-600 mr-3"}),"Passenger Profile"]}),e.jsxs("div",{className:"space-x-3",children:[e.jsxs("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg",onClick:()=>x(!0),children:[e.jsx(Z4,{className:"inline w-4 h-4 mr-1"})," Change Password"]}),e.jsxs("button",{className:"bg-indigo-600 text-white px-4 py-2 rounded-lg",onClick:()=>o(!0),children:[e.jsx(eg,{className:"inline w-4 h-4 mr-1"})," Edit"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[e.jsx("img",{src:t.profile_picture||"https://via.placeholder.com/150",className:"w-32 h-32 rounded-full object-cover border-4 border-indigo-300"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold",children:t.user.username}),e.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),t.user.email]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(OA,{icon:Ls,label:"Phone",value:t.user.phone_number}),e.jsx(OA,{icon:W4,label:"CNIC / Passport",value:t.cnic_or_passport}),e.jsx(OA,{icon:Yt,label:"Address",value:t.address}),e.jsx(OA,{icon:as,label:"Date of Birth",value:t.date_of_birth}),e.jsx(OA,{icon:rs,label:"Gender",value:E0[t.gender]}),e.jsx(OA,{icon:Mk,label:"Marital Status",value:E0[t.living_status]}),e.jsx(OA,{icon:G4,label:"Current Status",value:E0[t.current_status]}),e.jsx(OA,{icon:l5,label:"Special Person",value:E0[t.special_person]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-indigo-50 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-indigo-700 mb-2",children:"Additional Info"}),e.jsx("p",{children:t.additional_info||"N/A"})]}),e.jsxs("div",{className:"mt-6 flex items-center space-x-3",children:[e.jsx(V8,{className:"w-6 h-6 text-indigo-600"}),e.jsxs("p",{className:"font-medium",children:["Notifications: ",t.notification_enabled?"Enabled":"Disabled"]}),e.jsx("button",{onClick:()=>_({notification_enabled:!t.notification_enabled}),className:`px-4 py-2 rounded-lg text-white ${t.notification_enabled?"bg-red-500":"bg-green-600"}`,children:t.notification_enabled?"Disable":"Enable"})]}),e.jsx(zK,{isOpen:b,onClose:()=>x(!1),showAlert:w})]}):e.jsx("p",{children:"Loading..."})}const KK=({selectedTicket:t,transport:s,ticketRef:r,handleDownload:a,setSelectedTicket:i})=>{const o=(t.seats?.length||0)*(t.price_per_seat||0),c=t.transport_company||"PTMS Transport Service",A=s?.company_logo_url,u=t.ticket_type==="FULLVEHICLE"||t.offer_type==="whole_hire"||t.service_type==="long_drive";return e.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-gray-700 px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 transition-colors",children:[e.jsx(ka,{className:"w-5 h-5 mr-2"}),"Back to History"]}),e.jsxs("button",{onClick:a,className:"flex items-center bg-teal-600 text-white font-semibold px-6 py-2 rounded-lg shadow-md hover:bg-teal-700 transition-all",children:[e.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Download PDF"]})]}),e.jsxs("div",{ref:r,className:"bg-white p-8 rounded-2xl shadow-2xl border-2 border-dashed border-teal-300/80",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-teal-700 flex items-center",children:[e.jsx(sc,{className:"w-7 h-7 mr-2 text-teal-500"})," E-TICKET"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u?"Full Vehicle Booking":"Seat Booking"})]}),A?e.jsx("img",{src:A,alt:"Company Logo",className:"w-16 h-16 object-contain rounded-full border border-gray-200 shadow-md",onError:h=>h.target.style.display="none"}):e.jsx("div",{className:"text-xl font-semibold text-gray-600",children:c})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Booking ID: ",e.jsx("span",{className:"font-mono text-gray-700 font-bold",children:t.booking||t.booking_id})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6 p-4 bg-teal-50 rounded-lg border border-teal-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"FROM"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_from})]}),e.jsxs("div",{className:"text-center flex flex-col items-center justify-center",children:[e.jsx(ka,{className:"w-5 h-5 text-teal-600 rotate-180"}),e.jsx("p",{className:"text-xs text-teal-600 font-bold",children:"ROUTE"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"TO"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_to})]})]}),e.jsxs("div",{className:`grid ${u?"grid-cols-2 md:grid-cols-5":"grid-cols-2 md:grid-cols-4"} gap-4 mb-6`,children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1 text-teal-500"})," PASSENGER"]}),e.jsx("p",{className:"font-semibold text-gray-800 truncate",children:t.passenger_name})]}),u?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," FROM DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.departure_date||t.arrival_date})]}),t.return_date&&e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," TO DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.return_date})]}),t.duration_type&&t.duration_value&&e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DURATION"]}),e.jsxs("p",{className:"font-semibold text-gray-800",children:[t.duration_value," ",t.duration_type,parseInt(t.duration_value)>1?"s":""]})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DEPARTURE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.arrival_time})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.arrival_date})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DEPARTURE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:t.arrival_time})]})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[u?e.jsx(jn,{className:"w-4 h-4 mr-1 text-teal-500"}):e.jsx(sc,{className:"w-4 h-4 mr-1 text-teal-500"}),u?"VEHICLE TYPE":"SEATS"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:u?t.vehicle_type||"Full Vehicle Reserved":t.seats?.length>0?t.seats.join(", "):""})]})]}),e.jsxs("div",{className:"p-4 border-t border-b border-gray-200 mb-6 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Vehicle No/Type:"}),e.jsxs("span",{className:"font-bold text-gray-800 flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"})," ",t.vehicle_number]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Driver Name:"}),e.jsx("span",{className:"font-bold text-gray-800",children:t.driver_name})]}),e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-dashed border-gray-200",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount Paid:"}),e.jsxs("span",{className:"font-bold text-teal-700 text-lg flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 mr-1"}),u?Number(t.price_per_seat||t.total_amount||0).toLocaleString():o.toLocaleString()," Rs"]})]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(eh,{value:JSON.stringify({booking_id:t.booking||t.booking_id,booking_type:u?"full_vehicle":"seat",seats:t.seats?.join(","),cnic:t.passenger_cnic}),size:120,className:"p-1 border border-gray-200 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan for Validation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.status?.toUpperCase()}),e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.payment_status?.toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Thank you for traveling with us!"})]})]})]})]})},GK=({searchQuery:t,setSearchQuery:s,activeTab:r,setActiveTab:a,showFilters:i,setShowFilters:o,dateFilter:c,setDateFilter:A,fromFilter:u,setFromFilter:h,toFilter:f,setToFilter:g,allTickets:b})=>{const x=S.useMemo(()=>{const j=b.map(_=>_.route_from).filter(Boolean);return[...new Set(j)]},[b]),w=S.useMemo(()=>{const j=b.map(_=>_.route_to).filter(Boolean);return[...new Set(j)]},[b]),B=S.useMemo(()=>{const j=b.map(_=>_.arrival_date).filter(Boolean);return[...new Set(j)]},[b]);return e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by booking ID, passenger name, vehicle number...",value:t,onChange:j=>s(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),t&&e.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(Is,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg font-medium ${r==="all"?"bg-teal-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Bookings"}),e.jsxs("button",{onClick:()=>a("seat"),className:`px-4 py-2 rounded-lg font-medium flex items-center ${r==="seat"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Seat Bookings"]}),e.jsxs("button",{onClick:()=>a("fullVehicle"),className:`px-4 py-2 rounded-lg font-medium flex items-center ${r==="fullVehicle"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(jn,{className:"w-4 h-4 mr-2"}),"Full Vehicle"]})]}),e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[e.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Advanced Filters",i?e.jsx(Ug,{className:"w-4 h-4 ml-2"}):e.jsx(Hf,{className:"w-4 h-4 ml-2"})]})]}),i&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Location"}),e.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[e.jsx("option",{value:"",children:"All Locations"}),x.map((j,_)=>e.jsx("option",{value:j,children:j},_))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Location"}),e.jsxs("select",{value:f,onChange:j=>g(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[e.jsx("option",{value:"",children:"All Locations"}),w.map((j,_)=>e.jsx("option",{value:j,children:j},_))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsxs("select",{value:c,onChange:j=>A(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[e.jsx("option",{value:"",children:"All Dates"}),B.map((j,_)=>e.jsx("option",{value:j,children:j},_))]})]})]}),(u||f||c)&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>{h(""),g(""),A("")},className:"px-4 py-2 text-sm text-red-600 bg-red-50 rounded-lg hover:bg-red-100",children:"Clear Filters"})})]})]})};function qK({setStep:t,transport:s}){const[r,a]=S.useState([]),[i,o]=S.useState([]),[c,A]=S.useState(!0),[u,h]=S.useState(null),[f,g]=S.useState("all"),[b,x]=S.useState(""),[w,B]=S.useState(!1),[j,_]=S.useState(""),[Q,E]=S.useState(""),[T,U]=S.useState(""),k=S.useRef();S.useEffect(()=>{(async()=>{try{const D=localStorage.getItem("access_token"),R=await(await fetch("/api/tickets/my-tickets/",{method:"GET",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}})).json(),re=(Array.isArray(R)?R:R.data||[]).sort((I,G)=>{const X=new Date(I.created_at||I.booking_date||0);return new Date(G.created_at||G.booking_date||0)-X});a(re),o(re)}catch(D){console.error("Error fetching tickets:",D)}finally{A(!1)}})()},[]),S.useEffect(()=>{let $=r;if(f==="seat"?$=$.filter(D=>!(D.ticket_type==="FULLVEHICLE"||D.offer_type==="whole_hire"||D.service_type==="long_drive")):f==="fullVehicle"&&($=$.filter(D=>D.ticket_type==="FULLVEHICLE"||D.offer_type==="whole_hire"||D.service_type==="long_drive")),b){const D=b.toLowerCase();$=$.filter(L=>L.booking&&L.booking.toLowerCase().includes(D)||L.passenger_name&&L.passenger_name.toLowerCase().includes(D)||L.vehicle_number&&L.vehicle_number.toLowerCase().includes(D)||L.route_from&&L.route_from.toLowerCase().includes(D)||L.route_to&&L.route_to.toLowerCase().includes(D))}Q&&($=$.filter(D=>D.route_from===Q)),T&&($=$.filter(D=>D.route_to===T)),j&&($=$.filter(D=>D.arrival_date===j)),o($)},[r,f,b,Q,T,j]);const q=async()=>{const $=k.current;if(!$)return;const L=(await Ju($,{useCORS:!0,scale:3,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png",1),R=new Nt("p","mm","a4"),P=R.internal.pageSize.getWidth(),re=R.internal.pageSize.getHeight(),I=R.getImageProperties(L),G=I.height/I.width,X=re/P;let ie,ge;G>X?(ge=re*.9,ie=ge/G):(ie=P*.9,ge=ie*G);const ee=(P-ie)/2,M=(re-ge)/2;R.addImage(L,"PNG",ee,M,ie,ge);const H=`ticket_${u?.passenger_name?.replace(/\s/g,"_")||"passenger"}_${u?.booking||u?.booking_id}.pdf`;R.save(H)},K=r.filter($=>!($.ticket_type==="FULLVEHICLE"||$.offer_type==="whole_hire"||$.service_type==="long_drive")).length,z=r.filter($=>$.ticket_type==="FULLVEHICLE"||$.offer_type==="whole_hire"||$.service_type==="long_drive").length;return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your booking history..."})]})}):u?e.jsx(KK,{selectedTicket:u,transport:s,ticketRef:k,handleDownload:q,setSelectedTicket:h}):e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Booking History"}),e.jsx("p",{className:"text-gray-600",children:"View and manage all your past and upcoming bookings"}),e.jsxs("div",{className:"flex space-x-4 mt-4",children:[e.jsxs("div",{className:"px-4 py-2 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:r.length})]}),e.jsxs("div",{className:"px-4 py-2 bg-green-50 rounded-lg border border-green-100",children:[e.jsx("p",{className:"text-sm text-green-600",children:"Seat Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:K})]}),e.jsxs("div",{className:"px-4 py-2 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsx("p",{className:"text-sm text-purple-600",children:"Full Vehicle"}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:z})]})]})]}),e.jsx(GK,{searchQuery:b,setSearchQuery:x,activeTab:f,setActiveTab:g,showFilters:w,setShowFilters:B,dateFilter:j,setDateFilter:_,fromFilter:Q,setFromFilter:E,toFilter:T,setToFilter:U,allTickets:r}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-600",children:["Showing ",e.jsx("span",{className:"font-bold",children:i.length})," of ",e.jsx("span",{className:"font-bold",children:r.length})," bookings"]}),i.length===0&&e.jsx("button",{onClick:()=>{x(""),E(""),U(""),_("")},className:"text-sm text-teal-600 hover:text-teal-700",children:"Clear all filters"})]}),i.length===0?e.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[e.jsx(sc,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl text-gray-600 font-semibold",children:"No bookings found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:b||Q||T||j?"Try adjusting your filters":"You haven't made any bookings yet"}),(b||Q||T||j)&&e.jsx("button",{onClick:()=>{x(""),E(""),U(""),_("")},className:"mt-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"Clear Filters"})]}):e.jsx("div",{className:"space-y-4",children:i.map(($,D)=>{const L=$.ticket_type==="FULLVEHICLE"||$.offer_type==="whole_hire"||$.service_type==="long_drive";return e.jsxs("div",{onClick:()=>h($),className:`grid grid-cols-1 md:grid-cols-5 items-center p-4 rounded-xl shadow-md bg-white border-l-4 ${L?"border-purple-500 hover:bg-purple-50":"border-teal-500 hover:bg-teal-50"} cursor-pointer hover:shadow-lg transition-all duration-300`,children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"flex items-center",children:[L?e.jsx(jn,{className:"w-5 h-5 mr-2 text-purple-500"}):e.jsx(Gt,{className:"w-5 h-5 mr-2 text-teal-500"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[$.route_from,"  ",$.route_to]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Booking: ",e.jsx("span",{className:"font-mono",children:$.booking||$.booking_id})]})]})]}),L&&$.duration_type&&$.duration_value&&e.jsxs("div",{className:"mt-2 flex items-center text-sm text-purple-600",children:[e.jsx(is,{className:"w-3 h-3 mr-1"}),$.duration_value," ",$.duration_type,parseInt($.duration_value)>1?"s":""]})]}),e.jsxs("div",{className:"text-sm text-gray-600 md:text-center mt-2 md:mt-0",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-gray-400"}),$.arrival_date]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start mt-1",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-gray-400"}),$.arrival_time]})]}),e.jsx("div",{className:"text-sm text-gray-600 md:text-center mt-2 md:mt-0",children:L?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:"Full Vehicle"}),$.vehicle_number&&e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:$.vehicle_number})]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(sc,{className:"w-4 h-4 mr-1 text-gray-400"}),e.jsxs("span",{className:"font-bold",children:[$.seats?.length||0," Seat",$.seats?.length!==1?"s":""]}),$.seats?.length>0&&e.jsxs("span",{className:"ml-2 text-gray-500",children:["(",$.seats?.join(", "),")"]})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${$.payment_status==="PAID"?"bg-green-100 text-green-700":$.payment_status==="UNPAID"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:$.payment_status||"Unknown"}),e.jsxs("p",{className:"text-lg font-bold text-gray-800 mt-2",children:["Rs ",L?Number($.price_per_seat||$.total_amount||0).toLocaleString():(($.seats?.length||0)*($.price_per_seat||0)).toLocaleString()]})]})]},D)})}),t&&e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("button",{onClick:()=>t("dashboard"),className:"flex items-center mx-auto bg-gray-600 text-white px-6 py-3 rounded-lg shadow-md hover:bg-gray-700 transition-colors",children:[e.jsx(ka,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})})]})}const $K=({vehicle:t,toLocation:s,passenger:r,durationType:a,durationValue:i,calculateTotalPrice:o,getDisplayRate:c,getChargesBreakdown:A,serviceType:u,onBookNow:h})=>{const f=Js(),g=()=>{const q=localStorage.getItem("accessToken"),K=JSON.parse(localStorage.getItem("search_filters"))||{},z=o?o(t):0;console.log(" Vehicle data for booking:",t);let $=null,D=null,L=null;if(t.vehicle_id?$=t.vehicle_id:t.vehicle?typeof t.vehicle=="object"&&t.vehicle.id?$=t.vehicle.id:$=t.vehicle:t.id&&($=t.id),t.company_id?D=t.company_id:t.company&&(typeof t.company=="object"&&t.company.id?D=t.company.id:D=t.company),t.driver_id?L=t.driver_id:t.driver&&(typeof t.driver=="object"&&t.driver.id?L=t.driver.id:L=t.driver),console.log(" FINAL IDs:",{vehicleId:$,companyId:D,driverId:L,vehicleObject:t}),!$){console.error(" Vehicle ID is missing!"),alert("Error: Vehicle information is incomplete. Please try again.");return}if(!D){console.error(" Company ID is missing!"),alert("Error: Company information is missing. Please try again.");return}const R={vehicle:$,vehicle_id:$,company:D,company_id:D,driver:L,driver_id:L,offer_id:t.id||$,service_type:u||"long_drive",arrival_date:K.arrival_date||new Date().toISOString().split("T")[0],arrival_time:K.arrival_time||"12:00",departure_date:K.arrival_date||new Date().toISOString().split("T")[0],departure_time:K.arrival_time||"12:00",duration_type:a,duration_value:i,trip_duration:i,trip_duration_unit:a,from_location:t.route_from||t.from_location||t.location_address||"Pickup Location",to_location:s||t.route_to||t.to_location||"Flexible/N/A",pickup_location:t.location_address||t.route_from||t.from_location||"Not specified",dropoff_location:s||t.route_to||t.to_location||"Not specified",location_address:t.location_address||"Not specified",route_from:t.route_from,route_to:t.route_to,vehicle_type:t.vehicle_type||t.vehicle_type_snapshot||"Vehicle",vehicle_number:t.vehicle_number||t.vehicle_number_snapshot||"N/A",vehicle_image:t.vehicle_image||t.vehicle_image_snapshot||"/placeholder.svg",vehicle_seats:t.vehicle_seats||t.vehicle_seats_snapshot||"N/A",vehicle_capacity:t.vehicle_seats||t.vehicle_seats_snapshot||"N/A",company_name:t.company_name||"Transport Service",company_logo_url:t.company_logo_url||"",driver_name:t.driver_name||t.driver_name_snapshot||"Driver",driver_contact:t.driver_contact||t.driver_contact_snapshot||"N/A",driver_image:t.driver_image||t.driver_image_snapshot||"/placeholder.svg",rate_per_km:t.rate_per_km||0,fixed_fare:t.fixed_fare||0,total_amount:z,calculatedFare:z,currency:"PKR",base_fare:t.rate_per_km||t.fixed_fare||0,passenger_name:r?.name||"",passenger_phone:r?.contact||r?.phone||"",passenger_contact:r?.contact||r?.phone||"",passenger_cnic:r?.cnic||"",passenger_email:r?.email||"",passenger_count:1,payment_type:t.payment_type||"BOTH",payment_method:"CASH",payment_status:"pending",booking_status:"pending",bank_name:t.bank_name||"",bank_account_title:t.bank_account_title||"",bank_account_number:t.bank_account_number||"",bank_iban:t.bank_iban||"",easypaisa_name:t.easypaisa_name||"",easypaisa_number:t.easypaisa_number||"",jazzcash_name:t.jazzcash_name||"",jazzcash_number:t.jazzcash_number||"",night_charge:t.night_charge||0,mountain_surcharge:t.mountain_surcharge||0,extra_charges:0,per_hour_rate:t.per_hour_rate||0,per_day_rate:t.per_day_rate||0,weekly_rate:t.weekly_rate||0,price_per_seat:t.price_per_seat||0,is_taxi_service:t.is_taxi_service||!1,is_long_drive:t.is_long_drive||!1,is_specific_route:t.is_specific_route||!1,offer_type:t.offer_type||"whole_hire",is_full_vehicle:!0,distance:t.distance||0,rating:t.rating||0,notes:"",special_requests:"",allow_custom_quote:t.allow_custom_quote||!1,booking_id:`BOOK-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,booking_reference:`REF-${Date.now()}`};if(console.log(" COMPLETE BOOKING PAYLOAD:",{vehicleId:R.vehicle,companyId:R.company_id,driverId:R.driver_id,paymentType:R.payment_type,bankDetails:{bankName:R.bank_name,easypaisa:R.easypaisa_number,jazzcash:R.jazzcash_number}}),h){h(R);return}if(!q||q==="null"||q==="undefined"||q.trim()===""){localStorage.setItem("pending_booking_data",JSON.stringify(R)),f("/login",{replace:!0,state:{from:`/book-vehicle/${t.id}`,vehicleDetails:t,fromCard:!0,redirectTo:"/payment"}});return}localStorage.setItem("booking_payload",JSON.stringify(R)),localStorage.setItem("paymentData",JSON.stringify(R)),f("/payment",{state:{fromSearch:!0,bookingData:R,vehicleDetails:t,fromCard:!0}})},b=JSON.parse(localStorage.getItem("search_filters"))||{},x=b.arrival_date||"Not selected",w=b.arrival_time?b.arrival_time.slice(0,5):"Not selected",B=o?o(t):0,j=()=>t.is_long_drive&&t.is_specific_route?"Long Drive & Fixed Route":t.is_long_drive?"Long Drive":t.is_specific_route?"Fixed Route":"Standard Hire",Q=u==="specific_route"?{from:t.route_from||t.from_location||t.location_address||"Pickup",to:t.route_to||t.to_location||s||"Destination"}:u==="long_drive"?{from:t.location_address||t.route_from||t.from_location||"Your Location",to:"Any Destination"}:{from:"Flexible",to:"Flexible"},E=t.vehicle_number||t.vehicle_number_snapshot||"N/A",T=t.vehicle_type||t.vehicle_type_snapshot||"Vehicle",U=t.vehicle_seats||t.vehicle_seats_snapshot||"N/A";t.rating;const k=()=>{if(typeof t.rating=="number"&&t.rating>0){const q=Math.floor(t.rating);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((K,z)=>e.jsx(za,{className:`w-3 h-3 ${z<q?"fill-yellow-400":"text-gray-300"}`},z))}),e.jsx("span",{className:"ml-1 text-xs font-semibold text-gray-700",children:t.rating.toFixed(1)})]})}return e.jsx("span",{className:"text-xs font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:" New"})};return e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl shadow-xl hover:shadow-2xl transition-all overflow-hidden max-w-full lg:max-w-4xl mx-auto mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-[30%] relative",children:[e.jsx("img",{src:t.vehicle_image||t.vehicle_image_snapshot||"/placeholder.svg",alt:t.company_name||"Vehicle",className:"w-full h-48 md:h-full object-cover",onError:q=>{q.target.onerror=null,q.target.src="/placeholder.svg"}}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg",children:"WHOLE VEHICLE"})}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("span",{className:"bg-black/70 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm",children:E})})]}),e.jsxs("div",{className:"md:w-[70%] p-5 space-y-4",children:[e.jsx("div",{className:"flex justify-between items-start pb-3 border-b",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1 line-clamp-1",children:t.company_name||"Transport Service"}),k()]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.is_long_drive&&t.is_specific_route?"bg-purple-100 text-purple-800":t.is_long_drive?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:j()}),t.is_specific_route&&t.fixed_fare&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Fixed Fare"}),t.is_long_drive&&t.per_hour_rate&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Hourly Rate"})]})]})}),Q.from&&Q.to&&e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Jr,{className:"w-4 h-4 text-indigo-500 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-500",children:"Route"}),e.jsxs("div",{className:"font-bold text-base",children:[e.jsx("span",{className:"text-gray-800",children:Q.from}),e.jsx("span",{className:"text-gray-400 mx-2",children:""}),e.jsx("span",{className:"text-gray-800",children:Q.to})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(gs,{className:"w-4 h-4 text-blue-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Vehicle Type"}),e.jsx("div",{className:"font-semibold capitalize",children:T})]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Gt,{className:"w-4 h-4 text-green-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Seating Capacity"}),e.jsxs("div",{className:"font-semibold",children:[U," Seats"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Yt,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Pickup Location"}),e.jsx("div",{className:"font-semibold line-clamp-1",children:t.location_address||"Flexible"})]})]}),u==="long_drive"&&a&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(o1,{className:"w-4 h-4 text-blue-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Duration"}),e.jsxs("div",{className:"font-semibold",children:[i," ",a,i>1?"s":""]})]})]})]}),e.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-3 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(as,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Date"}),e.jsx("div",{className:"font-semibold",children:x})]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(is,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Time"}),e.jsx("div",{className:"font-semibold",children:w})]})]})]}),e.jsx("div",{className:"md:col-span-2 bg-green-50 p-3 rounded-lg border border-green-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center text-green-700",children:[e.jsx(Vr,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-green-600",children:"Current Rate"}),e.jsx("div",{className:"font-bold",children:c?c(t):"Contact for rates"})]})]})})})]}),A&&A(t),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-extrabold text-teal-700 flex items-center",children:[e.jsx(Vr,{className:"w-6 h-6 mr-1"})," ",B.toFixed(0)," PKR"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Total for ",u==="long_drive"?`${i} ${a}${i>1?"s":""}`:"this trip"]})]}),e.jsx(nt.button,{onClick:g,className:"px-8 py-3 bg-gradient-to-r from-teal-600 to-emerald-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl hover:from-teal-700 hover:to-emerald-700 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Book Now"})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Payment Options:"}),t.payment_type==="BOTH"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Cash"}),e.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded",children:"Online"})]}),t.payment_type==="CASH"&&e.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Cash Only"}),t.payment_type==="ONLINE"&&e.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded",children:"Online Only"})]})})]})]})]})})},zB=["Car","Coaster","Hiace","Bus","Jeep","Carry Daba"],XK=[{value:"hourly",label:"Hourly",description:"Rent by hours"},{value:"daily",label:"Daily",description:"Rent by days"},{value:"weekly",label:"Weekly",description:"Rent by weeks"}],YK=[{value:"long_drive",label:"Long Drive",description:"Duration-based rental with flexible pricing"},{value:"specific_route",label:"Specific Route",description:"Fixed fare for predefined routes"}],ci=({label:t,icon:s,type:r,value:a,onChange:i,placeholder:o,options:c,disabled:A=!1,name:u,min:h,max:f})=>e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center mb-1",children:[e.jsx(s,{className:"w-4 h-4 mr-1 text-indigo-500"})," ",t]}),c?e.jsxs("select",{name:u,value:a,onChange:i,disabled:A,className:`w-full p-3 border border-gray-300 rounded-lg transition-all duration-200 text-base md:text-sm ${A?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-white hover:border-indigo-400 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500"}`,children:[e.jsxs("option",{value:"",children:["-- Select ",t," --"]}),c.map(g=>e.jsx("option",{value:g,children:g},g))]}):e.jsx("input",{name:u,type:r,value:a,onChange:i,placeholder:o,disabled:A,min:h,max:f,className:`w-full p-3 border border-gray-300 rounded-lg transition-all duration-200 text-base md:text-sm ${A?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-white hover:border-indigo-400 focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500"}`})]}),WK=({type:t,label:s,description:r,isSelected:a,onClick:i})=>e.jsx("div",{onClick:()=>i(t),className:`p-3 md:p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 transform hover:scale-[1.02] ${a?"border-indigo-500 bg-indigo-50 shadow-md":"border-gray-200 bg-white hover:border-indigo-300"}`,children:e.jsxs("div",{className:"flex items-start space-x-2 md:space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg flex-shrink-0 ${a?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-600"}`,children:e.jsx(Hb,{className:"w-4 h-4 md:w-5 md:h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-sm md:text-base",children:s}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 mt-1 line-clamp-2",children:r})]}),a&&e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-indigo-500 rounded-full flex-shrink-0 mt-1"})]})}),JK=({type:t,label:s,description:r,isSelected:a,onClick:i})=>e.jsx("div",{onClick:()=>i(t),className:`p-3 md:p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 ${a?"border-teal-500 bg-teal-50 shadow-md":"border-gray-200 bg-white hover:border-teal-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("div",{className:`p-1.5 md:p-2 rounded-lg flex-shrink-0 ${a?"bg-teal-100 text-teal-600":"bg-gray-100 text-gray-600"}`,children:e.jsx(o1,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-sm md:text-base",children:s}),e.jsx("p",{className:"text-xs md:text-sm text-gray-600 line-clamp-1",children:r})]})]})}),J6=t=>{const s=Ur(),r=Js(),a=t.vehicleDataFromCard||s.state?.vehicleDetails,i=t.isDirectBooking||s.state?.fromCard||!1,[o,c]=S.useState({name:"",contact:"",email:"",cnic:""}),[A,u]=S.useState({service_type:"",location_address:"",to_location:"",arrival_date:"",arrival_time:"",vehicle_type:"",duration_type:"",duration_value:"",pickup_location:""}),[h,f]=S.useState([]),[g,b]=S.useState(!1),[x,w]=S.useState(""),[B,j]=S.useState("default"),[_,Q]=S.useState(null),[E,T]=S.useState(!1),[U,k]=S.useState([]),[q,K]=S.useState([]),[z,$]=S.useState([]),[D,L]=S.useState(!1),R=()=>{const ae=new Date,Y=ae.toISOString().split("T")[0],xe=ae.toTimeString().slice(0,5);return{currentDate:Y,currentTime:xe}},P=async()=>{L(!0);try{const ae=await Kt.get("/search/",{params:{offer_type:"whole_hire",limit:100}});if(ae.data&&Array.isArray(ae.data)){const Y=[...new Set(ae.data.filter(ve=>ve.is_long_drive&&ve.location_address).map(ve=>ve.location_address))].sort(),xe=[...new Set(ae.data.filter(ve=>ve.is_specific_route&&ve.route_from).map(ve=>ve.route_from))].sort(),Ue=[...new Set(ae.data.filter(ve=>ve.is_specific_route&&ve.route_to).map(ve=>ve.route_to))].sort();k(Y),K(xe),$(Ue)}}catch(ae){console.error("Error fetching locations:",ae)}finally{L(!1)}};S.useEffect(()=>{const ae=JSON.parse(localStorage.getItem("passenger_data")||"{}");ae&&Object.keys(ae).length>0&&c({name:ae.name||"",email:ae.email||"",contact:ae.contact||"",cnic:ae.cnic||""});const{currentDate:Y,currentTime:xe}=R();if(console.log(" Initializing VehicleSearch with:",{isDirectBooking:i,vehicleDataFromCard:a,locationState:s.state}),i&&a){console.log(" Processing direct booking data:",a);let Ue="";a.is_long_drive?Ue="long_drive":a.is_specific_route?Ue="specific_route":Ue="one_way";const ve=Ue==="long_drive"?{duration_type:a.duration_type,duration_value:a.duration_value}:{},oe={service_type:Ue,location_address:a.location_address||a.route_from||a.from_location||"",to_location:a.route_to||a.to_location||"",arrival_date:Y,arrival_time:xe,vehicle_type:a.vehicle_type||"",pickup_location:a.location_address||a.route_from||a.from_location||"",...ve};console.log(" Setting filters for direct booking:",oe),u(oe);const Te={id:a.id||a.vehicle_id,vehicle_id:a.vehicle||a.id,vehicle_type:a.vehicle_type,company_name:a.company_name,company_id:a.company,vehicle_image:a.vehicle_image||a.image||"https://placehold.co/400x220/82D8CC/ffffff?text=Vehicle+Image",driver_image:a.driver_image||a.driver_picture||a.driver&&a.driver.image||"https://placehold.co/400x220/55D6C2/ffffff?text=Driver+Image",driver_name:a.driver_name||a.driver&&a.driver.name||"Driver N/A",driver_contact:a.driver_contact||a.driver&&a.driver.phone||a.driver_phone||"N/A",driver_name_snapshot:a.driver_name||a.driver&&a.driver.name||"Driver N/A",driver_contact_snapshot:a.driver_contact||a.driver&&a.driver.phone||a.driver_phone||"N/A",vehicle_number:a.vehicle_number||a.registration_number||"N/A",route_from:a.route_from,route_to:a.route_to,location_address:a.location_address,from_location:a.from_location,to_location:a.to_location,fare:a.rate_per_km,fixed_fare:a.fixed_fare,per_hour_rate:a.per_hour_rate,per_day_rate:a.per_day_rate,weekly_rate:a.weekly_rate,rate_per_km:a.rate_per_km,is_long_drive:a.is_long_drive,is_specific_route:a.is_specific_route,night_charge:a.night_charge,mountain_surcharge:a.mountain_surcharge,offer_name:a.offer_name||"Direct Booking",offer_type:a.offer_type||"whole_hire",company:a.company,vehicle:a.vehicle||a.id,driver:a.driver_id||a.driver&&a.driver.id,distance_km:a.distance_km,vehicle_image_snapshot:a.vehicle_image||a.image,driver_image_snapshot:a.driver_image||a.driver_picture};console.log(" Created direct booking offer:",Te),Q(Te),localStorage.setItem("selectedVehicle",JSON.stringify(Te)),localStorage.setItem("directBookingOffer",JSON.stringify(Te)),localStorage.setItem("search_filters",JSON.stringify(oe)),console.log(" Direct booking data stored in localStorage")}else u(Ue=>({...Ue,arrival_date:Ue.arrival_date||Y,arrival_time:Ue.arrival_time||xe}));P()},[i,a]);const re=ae=>{const{name:Y,value:xe}=ae.target;u(Ue=>({...Ue,[Y]:xe}))},I=ae=>{u(Y=>({...Y,service_type:ae,location_address:"",to_location:"",duration_type:"",duration_value:"",pickup_location:""})),Q(null)},G=ae=>{u(Y=>({...Y,duration_type:ae,duration_value:""}))},X=ae=>{u(Y=>({...Y,vehicle_type:Y.vehicle_type===ae?"":ae}))},ie=()=>{const{currentDate:ae,currentTime:Y}=R();return A.arrival_date?A.arrival_date<ae?"Arrival date cannot be in the past":A.arrival_date===ae&&A.arrival_time<Y?"Arrival time cannot be in the past for today":null:"Please select arrival date"},ge=(ae,Y)=>{if(!ae||!Y)return!1;const xe=ae.toString().toLowerCase().trim().replace(/\s+/g," "),Ue=Y.toString().toLowerCase().trim().replace(/\s+/g," ");if(xe===Ue||xe.includes(Ue)||Ue.includes(xe))return!0;const ve={islamabad:["isb"],gilgit:["gilgit city","gilgit baltistan"],baltistan:["skardu","gilgit baltistan"]};for(const[oe,Te]of Object.entries(ve))if(xe===oe&&Te.includes(Ue)||Ue===oe&&Te.includes(xe))return!0;return!1},ee=(ae,Y,xe)=>!ae||!Array.isArray(ae)?[]:ae.filter(ve=>{if(Y==="specific_route"){if(!ve.is_specific_route)return!1}else if(Y==="long_drive"&&!ve.is_long_drive)return!1;if(Y==="specific_route"){let oe=!1,Te=!1;if(xe.location_address){if(oe=ge(ve.route_from,xe.location_address)||ge(ve.from_location,xe.location_address),!oe)return!1}else oe=!0;if(xe.to_location){if(Te=ge(ve.route_to,xe.to_location)||ge(ve.to_location,xe.to_location),!Te)return!1}else Te=!0;return oe&&Te}if(Y==="long_drive"){let oe=!0;return xe.pickup_location&&(oe=ge(ve.location_address,xe.pickup_location),!oe)?!1:oe}return!0}),M=async()=>{w("");const ae=ie();if(ae){w(ae);return}if(A.service_type==="specific_route"){if(!A.location_address&&!A.to_location){w("Please select at least one location (from or to) for specific route");return}}else if(A.service_type==="long_drive"&&(!A.duration_type||!A.duration_value||!A.pickup_location)){w("Please select duration type, duration value, and pickup location for long drive");return}b(!0),f([]),Q(null);try{let Y={offer_type:"whole_hire",arrival_date:A.arrival_date,arrival_time:A.arrival_time};const xe=await Kt.get("/search/",{params:Y});if(!xe.data)throw new Error("No data received from server");localStorage.setItem("search_filters",JSON.stringify({arrival_date:A.arrival_date,arrival_time:A.arrival_time,service_type:A.service_type,...A.service_type==="specific_route"&&{location_address:A.location_address,to_location:A.to_location},...A.service_type==="long_drive"&&{duration_type:A.duration_type,duration_value:A.duration_value,pickup_location:A.pickup_location}}));const Ue=ee(xe.data,A.service_type,A);f(Ue),Ue.length===0&&(A.service_type==="specific_route"?w(`No vehicles found for ${A.location_address||""} ${A.to_location?`to ${A.to_location}`:""}. Try adjusting your search locations.`):w("No vehicles found matching your criteria. Please try different search parameters."))}catch(Y){console.error(" Error fetching transports:",Y),Y.response?w(`Server error: ${Y.response.status} - ${Y.response.data?.message||"Please try again later."}`):Y.request?w("Network error: Please check your internet connection and try again."):w("Failed to fetch vehicles. Please try again later.")}finally{b(!1)}},H=ae=>{if(!ae)return 0;let Y=0;if(A.service_type==="specific_route")Y=parseFloat(ae.fixed_fare)||0;else if(A.service_type==="long_drive"){const oe=parseInt(A.duration_value)||1;A.duration_type==="hourly"&&ae.per_hour_rate?Y=(parseFloat(ae.per_hour_rate)||0)*oe:A.duration_type==="daily"&&ae.per_day_rate?Y=(parseFloat(ae.per_day_rate)||0)*oe:A.duration_type==="weekly"&&ae.weekly_rate?Y=(parseFloat(ae.weekly_rate)||0)*oe:Y=(parseFloat(ae.per_hour_rate)||parseFloat(ae.fare)||0)*oe}const xe=parseFloat(ae.night_charge)||0,Ue=parseFloat(ae.mountain_surcharge)||0;return Y+xe+Ue},Z=()=>{if(!A.duration_type||!A.duration_value)return"";const ae=parseInt(A.duration_value),Y=A.duration_type;return Y==="hourly"?`${ae} hour${ae>1?"s":""}`:Y==="daily"?`${ae} day${ae>1?"s":""}`:Y==="weekly"?`${ae} week${ae>1?"s":""}`:""},Ae=ae=>{if(!ae)return"N/A";if(A.service_type==="specific_route")return`Rs. ${ae.fixed_fare||ae.fare||"0"} (Fixed)`;if(A.service_type==="long_drive")switch(A.duration_type){case"hourly":return`Rs. ${ae.per_hour_rate||ae.fare||"0"} / hour`;case"daily":return`Rs. ${ae.per_day_rate||"0"} / day`;case"weekly":return`Rs. ${ae.weekly_rate||"0"} / week`;default:return`Rs. ${ae.per_hour_rate||ae.fare||"0"} / hour`}return"N/A"},fe=ae=>{if(!ae)return null;const Y=parseFloat(ae.night_charge)||0,xe=parseFloat(ae.mountain_surcharge)||0;return Y===0&&xe===0?null:e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h5",{className:"font-semibold text-gray-700 mb-2 text-sm md:text-base",children:"Additional Charges"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[Y>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center text-gray-600 text-xs md:text-sm",children:[e.jsx(pL,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 text-blue-500"}),"Night Charge:"]}),e.jsxs("span",{className:"font-medium text-xs md:text-sm",children:["Rs. ",Y.toLocaleString()]})]}),xe>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center text-gray-600 text-xs md:text-sm",children:[e.jsx(bL,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 text-green-500"}),"Mountain Surcharge:"]}),e.jsxs("span",{className:"font-medium text-xs md:text-sm",children:["Rs. ",xe.toLocaleString()]})]})]})]})},pe=(ae=null)=>{const Y=ae||_;if(!o.name||!o.contact){alert("      ");return}if(!Y){alert("Please select an offer to proceed with booking");return}if(Y.is_long_drive&&(!A.duration_type||!A.duration_value)){alert("Please set the duration for long drive booking");return}const xe=H(Y),Ue={company_id:Y.company_id||Y.company,vehicle_id:Y.vehicle_id||Y.vehicle||Y.id,driver_id:Y.driver_id||Y.driver,from_location:A.location_address||Y.route_from||Y.location_address,to_location:A.to_location||Y.route_to||Y.to_location,arrival_date:A.arrival_date,arrival_time:A.arrival_time,service_type:A.service_type,is_full_vehicle:!0,seats_booked:0,total_amount:xe,calculatedFare:xe,currency:"PKR",passenger_name:o.name,passenger_phone:o.contact,passenger_contact:o.contact,passenger_cnic:o.cnic,passenger_email:o.email,company_name:Y.company_name,driver_name:Y.driver_name||Y.driver_name_snapshot,driver_contact:Y.driver_contact||Y.driver_contact_snapshot,vehicle_type:Y.vehicle_type,vehicle_number:Y.vehicle_number,vehicle_image:Y.vehicle_image,driver_image:Y.driver_image,payment_method:"CASH",duration_type:A.duration_type,duration_value:A.duration_value,rate_per_km:Y.rate_per_km,fixed_fare:Y.fixed_fare,per_hour_rate:Y.per_hour_rate,per_day_rate:Y.per_day_rate,weekly_rate:Y.weekly_rate,night_charge:Y.night_charge||0,mountain_surcharge:Y.mountain_surcharge||0,payment_type:Y.payment_type||"BOTH",easypaisa_name:Y.easypaisa_name||"",easypaisa_number:Y.easypaisa_number||"",jazzcash_name:Y.jazzcash_name||"",jazzcash_number:Y.jazzcash_number||"",bank_name:Y.bank_name||"",bank_account_title:Y.bank_account_title||"",bank_account_number:Y.bank_account_number||"",bank_iban:Y.bank_iban||"",booking_id:`TEMP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};console.log("Final booking data with payment info:",Ue),localStorage.setItem("booking_payload",JSON.stringify(Ue)),localStorage.setItem("paymentData",JSON.stringify(Ue)),t.onProceedToPayment?t.onProceedToPayment(Ue):r("/payment",{state:{fromSearch:!0,bookingData:Ue,vehicleDetails:a,fromCard:i}})},Se=ae=>{console.log("VehicleCard book now clicked:",ae);const Y=H(ae),xe={company_id:ae.company_id||ae.company,vehicle_id:ae.vehicle_id||ae.vehicle||ae.id,driver_id:ae.driver_id||ae.driver,from_location:A.location_address||ae.route_from||ae.location_address,to_location:A.to_location||ae.route_to||ae.to_location,arrival_date:A.arrival_date,arrival_time:A.arrival_time,service_type:A.service_type,is_full_vehicle:!0,seats_booked:0,total_amount:Y,calculatedFare:Y,currency:"PKR",passenger_name:o.name,passenger_phone:o.contact,passenger_contact:o.contact,passenger_cnic:o.cnic,passenger_email:o.email,company_name:ae.company_name,driver_name:ae.driver_name||ae.driver_name_snapshot,driver_contact:ae.driver_contact||ae.driver_contact_snapshot,vehicle_type:ae.vehicle_type,vehicle_number:ae.vehicle_number,vehicle_image:ae.vehicle_image,driver_image:ae.driver_image,payment_method:"CASH",duration_type:A.duration_type,duration_value:A.duration_value,rate_per_km:ae.rate_per_km,fixed_fare:ae.fixed_fare,per_hour_rate:ae.per_hour_rate,per_day_rate:ae.per_day_rate,weekly_rate:ae.weekly_rate,night_charge:ae.night_charge||0,mountain_surcharge:ae.mountain_surcharge||0,payment_type:ae.payment_type||"BOTH",easypaisa_name:ae.easypaisa_name||"",easypaisa_number:ae.easypaisa_number||"",jazzcash_name:ae.jazzcash_name||"",jazzcash_number:ae.jazzcash_number||"",bank_name:ae.bank_name||"",bank_account_title:ae.bank_account_title||"",bank_account_number:ae.bank_account_number||"",bank_iban:ae.bank_iban||"",offer_name:ae.offer_name,offer_type:ae.offer_type||"whole_hire",booking_id:`TEMP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};console.log(" Complete Booking Data with Payment Info:",{hasPaymentType:!!xe.payment_type,paymentType:xe.payment_type,easypaisaNumber:xe.easypaisa_number,jazzcashNumber:xe.jazzcash_number,bankName:xe.bank_name,allKeys:Object.keys(xe)}),localStorage.setItem("selectedVehicle",JSON.stringify(ae)),localStorage.setItem("booking_payload",JSON.stringify(xe)),t.onProceedToPayment?t.onProceedToPayment(xe):r("/payment",{state:{bookingData:xe,fromCard:!0}})},{currentDate:me,currentTime:Le}=R(),ke=[...h].sort((ae,Y)=>{if(B==="low-high"){const xe=H(ae),Ue=H(Y);return xe-Ue}if(B==="high-low"){const xe=H(ae);return H(Y)-xe}return 0}).filter(ae=>A.vehicle_type?(ae.vehicle_type_snapshot||ae.vehicle_type||"").toLowerCase().includes(A.vehicle_type.toLowerCase()):!0),Ke=()=>{console.log("=== VehicleSearch Debug ==="),console.log("Props:",{vehicleDataFromCard:a,isDirectBooking:i}),console.log("Selected Offer:",_),console.log("Filters:",A),console.log("Passenger:",o),console.log("LocalStorage selectedVehicle:",JSON.parse(localStorage.getItem("selectedVehicle")||"null")),console.log("=== End Debug ===")};return e.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-4 md:py-6 space-y-6 md:space-y-8",children:[e.jsx("button",{onClick:Ke,className:"fixed bottom-4 right-4 bg-gray-800 text-white p-2 rounded-lg text-xs z-50 opacity-50 hover:opacity-100 hidden md:block",title:"Debug State",children:"Debug"}),i&&a&&_&&e.jsxs("div",{className:"mb-6 md:mb-8 border-2 border-green-400 p-4 md:p-6 rounded-xl md:rounded-2xl bg-gradient-to-r from-green-50 to-emerald-50 shadow-lg",children:[e.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-green-800 mb-4 flex items-center",children:[e.jsx(Hb,{className:"w-5 h-5 md:w-6 md:h-6 mr-2 md:mr-3"}),e.jsx("span",{className:"text-base md:text-2xl",children:"Selected Vehicle Offer"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-white p-2 md:p-3 rounded-lg border border-green-200",children:[e.jsx("p",{className:"font-semibold text-green-700 text-sm md:text-base",children:"Vehicle"}),e.jsx("p",{className:"text-sm md:text-lg truncate",children:_.company_name}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600 truncate",children:["No: ",_.vehicle_number]})]}),e.jsxs("div",{className:"bg-white p-2 md:p-3 rounded-lg border border-green-200",children:[e.jsx("p",{className:"font-semibold text-green-700 text-sm md:text-base",children:"Service Type"}),e.jsx("p",{className:"text-sm md:text-lg capitalize truncate",children:A.service_type?.replace("_"," ")}),A.service_type==="long_drive"&&A.duration_type&&e.jsx("p",{className:"text-xs md:text-sm text-gray-600 truncate",children:Z()})]}),e.jsxs("div",{className:"bg-white p-2 md:p-3 rounded-lg border border-green-200",children:[e.jsx("p",{className:"font-semibold text-green-700 text-sm md:text-base",children:"Current Rate"}),e.jsx("p",{className:"text-sm md:text-lg text-red-600 font-bold truncate",children:Ae(_)})]}),e.jsxs("div",{className:"bg-white p-2 md:p-3 rounded-lg border border-green-200",children:[e.jsx("p",{className:"font-semibold text-green-700 text-sm md:text-base",children:"Total Price"}),e.jsxs("p",{className:"text-sm md:text-lg text-green-600 font-bold truncate",children:["Rs. ",H(_).toLocaleString()]})]})]}),fe(_),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:()=>pe(),className:"w-full md:w-auto px-4 py-2 md:px-6 md:py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition text-sm md:text-base",children:"Proceed to Payment "})})]}),e.jsxs("div",{className:"mb-6 md:mb-8 border border-indigo-100 p-4 md:p-6 rounded-xl md:rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 shadow-lg",children:[e.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-indigo-700 mb-4 md:mb-6 border-b border-indigo-200 pb-3 flex items-center",children:[e.jsx(rs,{className:"w-5 h-5 md:w-6 md:h-6 mr-2 md:mr-3"}),e.jsx("span",{className:"text-base md:text-2xl",children:"Passenger Details"}),e.jsx("span",{className:"text-xs md:text-sm font-normal text-gray-500 ml-2 md:ml-3 hidden sm:inline",children:"(Please verify your details)"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsx(ci,{label:"Full Name",icon:rs,name:"name",type:"text",value:o.name,onChange:ae=>c({...o,name:ae.target.value}),placeholder:"Enter full name"}),e.jsx(ci,{label:"Contact Number",icon:Ls,name:"contact",type:"text",value:o.contact,onChange:ae=>c({...o,contact:ae.target.value}),placeholder:"03XX-XXXXXXX"}),e.jsx(ci,{label:"Email Address",icon:ln,name:"email",type:"email",value:o.email,onChange:ae=>c({...o,email:ae.target.value}),placeholder:"email@example.com"}),e.jsx(ci,{label:"CNIC/Passport",icon:Mi,name:"cnic",type:"text",value:o.cnic,onChange:ae=>c({...o,cnic:ae.target.value}),placeholder:"XXXXX-XXXXXXX-X"})]})]}),e.jsx("div",{className:"p-4 md:p-6 bg-white rounded-xl md:rounded-2xl shadow-xl border border-gray-100 mb-6 md:mb-8",children:i&&a?e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-teal-700 mb-4 md:mb-6 border-b border-teal-200 pb-3 md:pb-4 flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 md:w-7 md:h-7 mr-2 md:mr-3"}),e.jsx("span",{className:"text-base md:text-3xl",children:"Confirm Booking Details"})]}),e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[A.service_type==="specific_route"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 p-4 md:p-6 bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 rounded-lg md:rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center mb-1",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1 text-indigo-500"})," From (Pickup)"]}),e.jsx("input",{type:"text",value:A.location_address,disabled:!0,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 text-sm md:text-base"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center mb-1",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1 text-indigo-500"})," To (Destination)"]}),e.jsx("input",{type:"text",value:A.to_location,disabled:!0,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 text-sm md:text-base"})]})]}):A.service_type==="long_drive"?e.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-6 bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 rounded-lg md:rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center mb-1",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1 text-indigo-500"})," Pickup Location"]}),e.jsx("input",{type:"text",value:A.pickup_location,disabled:!0,className:"w-full p-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 text-sm md:text-base"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center mb-1",children:[e.jsx(o1,{className:"w-4 h-4 mr-1 text-indigo-500"})," Duration Type"]}),e.jsxs("select",{name:"duration_type",value:A.duration_type,onChange:re,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-200 focus:border-indigo-500 text-sm md:text-base",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"})]})]}),e.jsx(ci,{label:A.duration_type?`${A.duration_type.charAt(0).toLocaleUpperCase()+A.duration_type.slice(1)} Duration`:"Duration",icon:J0,name:"duration_value",type:"number",value:A.duration_value,onChange:re,placeholder:`Enter ${A.duration_type==="hourly"?"Hours":A.duration_type==="daily"?"Days":"Weeks"}`,min:"1"})]})]}):null,e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(ci,{label:"Start Date",icon:as,name:"arrival_date",type:"date",value:A.arrival_date,onChange:re,min:me}),e.jsx(ci,{label:"Start Time",icon:is,name:"arrival_time",type:"time",value:A.arrival_time,onChange:re,min:A.arrival_date===me?Le:void 0})]}),_&&e.jsxs("div",{className:"p-4 md:p-6 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg md:rounded-xl",children:[e.jsxs("h4",{className:"text-base md:text-lg font-bold text-amber-800 mb-3 flex items-center",children:[e.jsx(Vr,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"})," Booking Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-white/50 p-2 md:p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-xs md:text-sm",children:"Service Type:"}),e.jsx("p",{className:"capitalize text-sm md:text-base",children:A.service_type?.replace("_"," ")})]}),A.service_type==="long_drive"&&e.jsxs("div",{className:"bg-white/50 p-2 md:p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-xs md:text-sm",children:"Duration:"}),e.jsx("p",{className:"text-sm md:text-base",children:Z()||"Not set"})]}),e.jsxs("div",{className:"bg-white/50 p-2 md:p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-xs md:text-sm",children:"Current Rate:"}),e.jsx("p",{className:"text-sm md:text-base font-bold text-blue-600",children:Ae(_)})]}),e.jsxs("div",{className:"bg-white/50 p-2 md:p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold text-amber-800 text-xs md:text-sm",children:"Total Amount:"}),e.jsxs("p",{className:"text-lg md:text-2xl font-bold text-green-600",children:["Rs. ",H(_).toLocaleString()]})]})]}),fe(_)]}),e.jsx("div",{className:"flex justify-center md:justify-end mt-6 md:mt-8",children:e.jsxs("button",{onClick:()=>pe(),disabled:!_||A.service_type==="long_drive"&&(!A.duration_type||!A.duration_value),className:`w-full md:w-auto px-6 py-3 md:px-10 md:py-4 rounded-lg md:rounded-full font-bold flex items-center justify-center gap-2 md:gap-3 transition-all duration-300 shadow-lg transform hover:scale-105 text-sm md:text-base ${!_||A.service_type==="long_drive"&&(!A.duration_type||!A.duration_value)?"bg-gray-400 cursor-not-allowed text-gray-200":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl"}`,children:["Proceed to Booking ",e.jsx(va,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 md:mb-6 border-b border-teal-200 pb-3 md:pb-4 gap-3 md:gap-4",children:[e.jsxs("h2",{className:"text-xl md:text-3xl font-bold text-teal-700 flex items-center",children:[e.jsx(Iu,{className:"w-5 h-5 md:w-7 md:h-7 mr-2 md:mr-3"}),e.jsx("span",{className:"text-base md:text-3xl",children:"Find Your Perfect Ride"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-600 bg-teal-50 px-3 py-1.5 md:px-4 md:py-2 rounded-full",children:[e.jsx(Ka,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{children:"Choose your service type and requirements"})]})]}),e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsx("label",{className:"text-base md:text-lg font-semibold text-gray-800 mb-3 md:mb-4 block",children:"Select Service Type"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:YK.map(ae=>e.jsx(WK,{type:ae.value,label:ae.label,description:ae.description,isSelected:A.service_type===ae.value,onClick:I},ae.value))})]}),A.service_type&&e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[A.service_type==="specific_route"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 p-4 md:p-6 bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 rounded-lg md:rounded-xl shadow-inner",children:[e.jsx(ci,{label:"From (Pickup Location) *",icon:Yt,name:"location_address",type:"text",options:q,value:A.location_address,onChange:re}),e.jsx(ci,{label:"To (Destination) (Optional Filter)",icon:Yt,name:"to_location",type:"text",options:z,value:A.to_location,onChange:re})]}),A.service_type==="long_drive"&&e.jsxs("div",{className:"space-y-4 md:space-y-6 p-4 md:p-6 bg-gradient-to-r from-teal-50 to-cyan-50 border border-teal-200 rounded-lg md:rounded-xl shadow-inner",children:[e.jsx(ci,{label:"Pickup Location *",icon:Yt,name:"pickup_location",type:"text",options:U,value:A.pickup_location,onChange:re}),e.jsxs("div",{children:[e.jsx("label",{className:"text-base md:text-lg font-semibold text-gray-800 mb-3 md:mb-4 block",children:"Select Rental Duration *"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6",children:XK.map(ae=>e.jsx(JK,{type:ae.value,label:ae.label,description:ae.description,isSelected:A.duration_type===ae.value,onClick:G},ae.value))})]}),A.duration_type&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:e.jsx(ci,{label:`Number of ${A.duration_type==="hourly"?"Hours":A.duration_type==="daily"?"Days":"Weeks"} *`,icon:J0,name:"duration_value",type:"number",value:A.duration_value,onChange:re,placeholder:`Enter ${A.duration_type==="hourly"?"hours":A.duration_type==="daily"?"days":"weeks"}`,min:"1"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(ci,{label:"Start Date *",icon:as,name:"arrival_date",type:"date",value:A.arrival_date,onChange:re,min:me}),e.jsx(ci,{label:"Start Time *",icon:is,name:"arrival_time",type:"time",value:A.arrival_time,onChange:re,min:A.arrival_date===me?Le:void 0})]}),x&&e.jsx("div",{className:"p-3 md:p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded-lg text-sm md:text-base",children:x}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:M,disabled:g||A.service_type==="specific_route"&&!A.location_address&&!A.to_location||A.service_type==="long_drive"&&(!A.duration_type||!A.duration_value||!A.pickup_location),className:`w-full md:w-auto px-6 py-3 md:px-8 md:py-3 rounded-lg md:rounded-full font-bold flex items-center justify-center gap-2 md:gap-3 transition-all duration-300 transform hover:scale-105 text-sm md:text-base ${g||A.service_type==="specific_route"&&!A.location_address||A.service_type==="long_drive"&&(!A.duration_type||!A.duration_value||!A.pickup_location)?"bg-gray-400 cursor-not-allowed text-gray-200":"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700 shadow-lg hover:shadow-xl"}`,children:g?e.jsxs(e.Fragment,{children:[e.jsx(lo,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),e.jsx("span",{className:"text-xs md:text-base",children:"Searching Vehicles..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Iu,{className:"w-4 h-4 md:w-5 md:h-5"}),e.jsx("span",{className:"text-xs md:text-base",children:"Search Available Vehicles"})]})})})]})]})}),!i&&(h.length>0||g)&&e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 w-full mt-6 md:mt-8",children:[h.length>0&&e.jsxs("div",{className:"lg:w-1/4",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Yc,{className:"w-5 h-5"})," Filters & Sorting",e.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[ke.length," results"]})]}),e.jsx("span",{children:""})]})}),e.jsxs("div",{className:"hidden lg:block p-6 bg-white rounded-2xl shadow-xl border border-gray-200 h-fit sticky top-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-700 mb-6 flex items-center border-b border-indigo-200 pb-3",children:[e.jsx(Yc,{className:"w-5 h-5 mr-2"})," Filters & Sorting"]}),e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsx("label",{className:"text-sm md:text-md font-semibold text-gray-800 block mb-2 md:mb-3",children:"Sort by Price"}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsx(Ww,{className:"w-4 h-4 md:w-5 md:h-5 text-teal-600"}),e.jsxs("select",{value:B,onChange:ae=>j(ae.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 md:px-4 md:py-3 focus:ring-2 focus:ring-teal-200 focus:border-teal-500 transition-all duration-200 bg-white text-sm md:text-base",children:[e.jsx("option",{value:"default",children:"Default Order"}),e.jsx("option",{value:"low-high",children:"Price: Low to High"}),e.jsx("option",{value:"high-low",children:"Price: High to Low"})]})]})]}),e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h4",{className:"text-sm md:text-md font-semibold text-gray-800 block mb-3 md:mb-4",children:"Vehicle Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 md:gap-3",children:zB.map(ae=>e.jsx("button",{onClick:()=>{X(ae),window.innerWidth<1024&&setTimeout(()=>T(!1),300)},className:`px-3 py-2 md:px-4 md:py-3 text-xs md:text-sm rounded-lg md:rounded-xl border transition-all duration-200 font-medium ${A.vehicle_type===ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-700 shadow-lg transform scale-105":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-indigo-300 hover:scale-[1.02]"}`,children:ae},ae))})]})]}),E&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 lg:hidden",onClick:()=>T(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 w-5/6 max-w-sm bg-white z-50 overflow-y-auto lg:hidden transform transition-transform duration-300",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-white z-10 pb-4 border-b",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-700 flex items-center",children:[e.jsx(Yc,{className:"w-5 h-5 mr-2"})," Filters & Sorting"]}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-full transition",children:""})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{className:"text-md font-semibold text-gray-800 block mb-3",children:"Sort by Price"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ww,{className:"w-5 h-5 text-teal-600"}),e.jsxs("select",{value:B,onChange:ae=>j(ae.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-teal-200 focus:border-teal-500 transition-all duration-200 bg-white",children:[e.jsx("option",{value:"default",children:"Default Order"}),e.jsx("option",{value:"low-high",children:"Price: Low to High"}),e.jsx("option",{value:"high-low",children:"Price: High to Low"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-800 block mb-4",children:"Vehicle Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:zB.map(ae=>e.jsx("button",{onClick:()=>{X(ae),T(!1)},className:`px-4 py-3 text-sm rounded-xl border transition-all duration-200 font-medium ${A.vehicle_type===ae?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-700 shadow-lg":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-indigo-300"}`,children:ae},ae))})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:()=>T(!1),className:"w-full py-3 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white font-bold rounded-xl shadow-lg transition-all duration-300",children:"Apply Filters"})})]})})]})]}),e.jsxs("div",{className:`${h.length===0?"w-full":"lg:w-3/4"} space-y-4 md:space-y-6`,children:[g?e.jsxs("div",{className:"text-center py-12 md:py-16 bg-white rounded-xl md:rounded-2xl shadow-md border border-gray-100",children:[e.jsx(lo,{className:"w-10 h-10 md:w-12 md:h-12 text-teal-600 animate-spin mx-auto mb-3 md:mb-4"}),e.jsx("p",{className:"text-gray-600 text-base md:text-lg",children:"Searching for available vehicles..."}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-1 md:mt-2",children:"Please wait while we find the best options for you"})]}):ke.length>0?e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2",children:[e.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-gray-800",children:["Available Offers ",e.jsxs("span",{className:"text-indigo-600",children:["(",ke.length,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1.5 md:px-4 md:py-2 rounded-full",children:[e.jsx(Ka,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{children:"Click on Book Now to proceed directly"})]})]}),ke.map(ae=>e.jsx("div",{children:e.jsx($K,{vehicle:ae,toLocation:A.service_type==="specific_route"?A.to_location:void 0,passenger:o,durationType:A.duration_type,durationValue:A.duration_value,serviceType:A.service_type,calculateTotalPrice:H,getDisplayRate:Ae,getChargesBreakdown:fe,onBookNow:Se})},ae.id||ae.vehicle_id))]}):!x&&h.length>0&&e.jsxs("div",{className:"text-center py-8 md:py-12 text-gray-600 bg-white rounded-xl md:rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx(Hb,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto text-gray-400 mb-3 md:mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium",children:"No vehicles match your filters"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-1",children:"Try adjusting your filters to see more results"})]}),!x&&h.length===0&&!g&&e.jsxs("div",{className:"text-center py-8 md:py-12 text-gray-600 bg-white rounded-xl md:rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx(Jr,{className:"w-12 h-12 md:w-16 md:h-16 mx-auto text-gray-400 mb-3 md:mb-4"}),e.jsx("p",{className:"text-base md:text-lg font-medium",children:"No vehicles found for your search criteria"}),e.jsx("p",{className:"text-xs md:text-sm text-gray-500 mt-1",children:"Try adjusting your search parameters or check back later"})]})]})]})]})},ZK=()=>{const[t,s]=S.useState(null),[r,a]=S.useState(!1),i=A=>{s(A),a(!0)},o=A=>{console.log("Booking completed:",A),a(!1),s(null)},c=()=>{a(!1),s(null)};return r&&t?e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-70 flex justify-center items-center p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[98vh] sm:max-h-[90vh] overflow-y-auto relative transform transition-all duration-300 scale-95 sm:scale-100",children:[e.jsx("button",{onClick:c,className:"absolute top-2 right-2 sm:top-4 sm:right-4 p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 z-10 transition shadow-lg",title:"Close Booking Form",children:e.jsx(Is,{size:20})}),e.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-indigo-600 mb-4 sm:mb-6 border-b pb-2 sm:pb-3",children:"Complete Vehicle Hire Booking"}),e.jsx(BookingForm,{vehicle:t,onBookingComplete:o,onCancel:c})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"py-6 sm:py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(J6,{onVehicleSelect:i})})})})};function eG(t){try{const r=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch{return null}}const tG=({step:t})=>{const s=[{key:"dashboard",label:"Start"},{key:"bookingForm",label:"Search"},{key:"services",label:"Service Type"},{key:"passengerCardList",label:"Choose Transport"},{key:"seatSelection",label:"Select Seats"},{key:"payment",label:"Payment"},{key:"summary",label:"Summary"}],r=s.findIndex(a=>a.key===t);return e.jsxs("div",{className:"bg-white shadow-lg p-3 sm:p-6 rounded-xl border border-gray-100 mb-6 sm:mb-8",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx(fk,{className:"w-5 h-5 mr-2 text-teal-500"}),"Booking Progress"]}),e.jsxs("div",{className:"flex justify-between items-center relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-gray-200 transform -translate-y-1/2 mx-4 sm:mx-10"}),s.map((a,i)=>{const o=i<=r,c=i===r;return e.jsxs("div",{className:"flex flex-col items-center z-10 w-auto",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center font-bold text-xs sm:text-sm transition-all duration-300 ${o?"bg-teal-600 text-white shadow-xl shadow-teal-200":"bg-gray-300 text-gray-600"}`,children:i+1}),e.jsx("p",{className:`mt-2 text-xs text-center font-medium ${c?"text-teal-600 font-bold":"text-gray-500"} hidden sm:block`,children:a.label})]},a.key)})]})]})},sG=t=>{switch(t){case"dashboard":return"Start Booking";case"bookingForm":return"Search Routes";case"services":return"Select Service Type";case"passengerCardList":return"Choose Transport";case"seatSelection":return"Select Seats";case"payment":return"Payment Method";case"summary":return"Booking Summary";default:return"Seat Booking Flow"}},KB=({onClose:t,username:s,handleLogout:r,setShowProfile:a,activeTab:i,setActiveTab:o,setStep:c,fetchTransports:A,setCameFromDashboard:u})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-white/20 bg-gradient-to-r from-blue-600/90 to-purple-700/90 backdrop-blur-sm",children:[e.jsxs("h1",{className:"text-xl font-extrabold text-white tracking-widest flex items-center",children:[e.jsx(e_,{className:"w-5 h-5 mr-2"})," PTMS_GB"]}),e.jsx("p",{className:"text-xs text-white/80 mt-1",children:"Passenger Transport System"})]}),e.jsx("nav",{className:"flex-grow px-3 py-4 space-y-1 overflow-y-auto bg-gradient-to-br from-gray-100 via-blue-50 to-sky-100 backdrop-blur-sm border border-gray-400 ml-3",children:[{id:"seatBooking",label:"Seat Booking",icon:sc,gradient:"from-blue-500 to-indigo-500",action:()=>{o("seatBooking"),u(!0),A("offer_sets"),t&&t()}},{id:"vehicleBooking",label:"Vehicle Booking",icon:gs,gradient:"from-indigo-500 to-purple-500",action:()=>{o("vehicleBooking"),c("dashboard"),t&&t()}},{id:"history",label:"Booking History",icon:Ok,gradient:"from-purple-500 to-pink-500",action:()=>{o("history"),c("dashboard"),t&&t()}}].map(h=>e.jsxs("button",{onClick:h.action,className:`w-full flex items-center p-3 rounded-xl transition-all duration-200 group border relative overflow-hidden ${i===h.id?`bg-gradient-to-r ${h.gradient} text-white border-transparent shadow-lg`:"text-gray-700 hover:bg-white/60 border-gray-300/50 hover:border-blue-300/50 hover:text-blue-600"}`,children:[i===h.id&&e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-white rounded-r-full"}),e.jsx(h.icon,{className:`w-5 h-5 mr-3 ${i===h.id?"text-white":"text-gray-500"}`}),e.jsx("span",{className:"font-medium",children:h.label}),i===h.id&&e.jsx(Nl,{className:"w-4 h-4 ml-auto transform group-hover:translate-x-1 transition-transform"})]},h.id))})]});function rG(){const[t,s]=S.useState("seatBooking"),[r,a]=S.useState("dashboard"),[i,o]=S.useState([]),[c,A]=S.useState(""),[u,h]=S.useState(""),[f,g]=S.useState(""),[b,x]=S.useState(null),[w,B]=S.useState(null),[j,_]=S.useState([]),[Q,E]=S.useState(null),[T,U]=S.useState(""),[k,q]=S.useState(!1),[K,z]=S.useState(!1),[$,D]=S.useState(!1),[L,R]=S.useState(null),[P,re]=S.useState(null),[I,G]=S.useState(!1);S.useEffect(()=>{(async()=>{const Z=localStorage.getItem("access_token");if(Z){const Ae=eG(Z);Ae?.username?g(Ae.username):Ae?.email?g(Ae.email):Ae?.user_id&&g("User-"+Ae.user_id);try{const fe=await Kt.get("auth/passenger/profile/");fe.data?.profile_picture&&(x(fe.data.profile_picture),localStorage.setItem("passenger_profile_image",fe.data.profile_picture))}catch(fe){console.log("Error fetching profile:",fe);const pe=localStorage.getItem("passenger_profile_image");pe&&x(pe)}}})()},[]);const X=async()=>{const H=localStorage.getItem("refresh_token");if(!H)return null;try{const Z=await fetch("/api/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:H})});if(!Z.ok)return null;const Ae=await Z.json();return Ae.access&&localStorage.setItem("access_token",Ae.access),Ae.access||null}catch{return null}},ie=async H=>{try{let Z=localStorage.getItem("access_token");if(!Z||!H)return;let Ae=await fetch(`/api/search/?offer_type=${H}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`}});if(Ae.status===401){const pe=await X();if(!pe)return;Z=pe,Ae=await fetch(`/api/search/?offer_type=${H}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Z}`}})}if(!Ae.ok)return;const fe=await Ae.json();o(Array.isArray(fe)?fe:[]),A(H),a("bookingForm")}catch(Z){console.error("Error fetching transports:",Z)}};function ge(H,Z){const Ae=H.split(","),fe=Ae[0].match(/:(.*?);/)[1],pe=atob(Ae[1]);let Se=pe.length;const me=new Uint8Array(Se);for(;Se--;)me[Se]=pe.charCodeAt(Se);return new File([me],Z,{type:fe})}const ee=H=>{const Z=ge(H,"manual_payment.png"),Ae={seats:j,amount:j.length*(w?.price_per_seat||0),transport:w,paymentType:"Manual Payment",screenshot:Z};re(Ae),D(!1),a("summary")},M=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_role"),localStorage.removeItem("company_status"),localStorage.removeItem("passenger_profile_image"),window.location.href="/"};return e.jsxs("div",{className:"bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 min-h-screen",children:[e.jsxs("div",{className:"lg:flex",children:[e.jsx("div",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsx("div",{className:"w-72 lg:sticky lg:top-0 h-screen bg-white shadow-xl z-30 flex flex-col overflow-y-auto",children:e.jsx(KB,{username:f,handleLogout:M,setShowProfile:q,activeTab:t,setActiveTab:s,setStep:a,fetchTransports:ie,setCameFromDashboard:G})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>z(!0),className:"lg:hidden fixed top-6 left-4 z-50 flex items-center justify-center w-10 h-10 rounded-full bg-teal-600 text-white shadow-lg hover:bg-teal-700 transition-all",style:{marginTop:"2.5rem"},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})}),e.jsx("div",{className:"w-full h-[25vh] sm:h-[30vh] relative flex items-center justify-center bg-cover bg-center shadow-lg lg:mt-0 mt-16",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/passenger-banner.jpg')"},children:e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("div",{className:"w-20 h-20 sm:w-28 sm:h-28 rounded-full bg-white/90 flex items-center justify-center mx-auto shadow-xl border-4 border-white overflow-hidden",children:b?e.jsx("img",{src:b,alt:"Profile",className:"w-full h-full object-cover",onError:H=>{H.target.onerror=null,H.target.src="https://via.placeholder.com/150"}}):e.jsx(rs,{className:"w-10 h-10 sm:w-16 sm:h-16 text-teal-600"})}),e.jsxs("h1",{className:"text-white text-2xl sm:text-4xl mt-3 font-extrabold drop-shadow-lg",children:["Welcome, ",f||"Passenger"]}),e.jsx("p",{className:"text-gray-200 text-sm sm:text-base font-medium mt-1",children:"Book your journey with ease"})]})}),e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx("main",{className:"flex-1 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"w-full",children:[t==="seatBooking"&&r!=="dashboard"&&e.jsx(tG,{step:r}),e.jsx("div",{className:"mb-6 sm:mb-8 border-b pb-4 ",children:e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:e.jsx("span",{className:"text-blue-600",children:t==="seatBooking"?sG(r):t==="vehicleBooking"?"Private Vehicle Booking":t==="history"?"My Booking History":"Live Update"})})}),t==="seatBooking"&&e.jsxs("div",{children:[r==="dashboard"&&e.jsx("div",{className:"text-center py-8 sm:py-12 lg:py-20 bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl border border-teal-200 shadow-inner",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsx(Vs,{className:"w-16 h-16 sm:w-20 sm:h-20 text-teal-600 mx-auto mb-6 opacity-70"}),e.jsx("h3",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-800 mb-3",children:"Start Your Seamless Seat Booking"}),e.jsx("p",{className:"text-gray-600 mb-8 sm:mb-10 text-sm sm:text-base",children:"Search and compare available transport offers to plan your journey with ease."}),e.jsxs("button",{onClick:()=>{G(!0),ie("offer_sets")},className:"bg-teal-600 hover:bg-teal-700 text-white font-bold px-6 sm:px-12 py-3 sm:py-4 text-sm sm:text-base rounded-full shadow-lg transition transform hover:scale-105 flex items-center justify-center mx-auto",children:[e.jsx(sc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),e.jsx("span",{children:"Find Available Seats"})]})]})}),r==="bookingForm"&&e.jsx(VC,{transports:i,bookingType:c,setStep:a,setFilteredTransports:H=>o(H),setPassengerInfo:E,cameFromDashboard:I}),r==="services"&&e.jsx(pM,{setStep:a,setSelectedService:h,transports:i}),r==="passengerCardList"&&e.jsx(zC,{setStep:a,selectedService:u,transports:u==="ALL"?i:i.filter(H=>(H.vehicle_type||H.vehicle_type_snapshot||"").toLowerCase()===(u||"").toLowerCase()),setSelectedTransport:H=>{B(H),_([]),re(null),a("seatSelection")}}),r==="seatSelection"&&w&&e.jsx(z1,{transport:w,selectedSeats:j,setSelectedSeats:_,setStep:a,onSelectPayment:(H,Z)=>{U(H),H==="MANUAL"?(R(Z),D(!0)):(re({seats:j,amount:w?.fare||0,transport:w,passengerInfo:Q,paymentType:H}),a("summary"))}}),$&&L&&e.jsx(Ig,{onClose:()=>D(!1),paymentData:L,onSuccess:ee}),r==="summary"&&e.jsx(rv,{passengerInfo:P?.passengerInfo||Q,selectedSeats:P?.seats||j,transport:P?.transport||w,paymentType:P?.paymentType||T,manualPaymentScreenshot:P?.screenshot||null,setStep:a})]}),t==="vehicleBooking"&&e.jsx("div",{children:e.jsx(ZK,{})}),t==="history"&&e.jsx("div",{children:e.jsx(qK,{})})]})})})]})]}),K&&e.jsxs("div",{className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>z(!1)}),e.jsxs("div",{className:"fixed inset-y-0 left-0 w-72 bg-white shadow-2xl flex flex-col animate-slide-in",children:[e.jsx("button",{onClick:()=>z(!1),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900 z-10",children:e.jsx(Is,{className:"w-6 h-6"})}),e.jsx(KB,{onClose:()=>z(!1),username:f,handleLogout:M,setShowProfile:q,activeTab:t,setActiveTab:s,setStep:a,fetchTransports:ie,setCameFromDashboard:G})]})]}),k&&e.jsx(W6,{onClose:()=>q(!1)}),e.jsx("style",{jsx:!0,children:`
        @keyframes slide-in {
          from {
            transform: translateX(-100%);
          }
          to {
            transform: translateX(0);
          }
        }
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})}const qh="90861656712bf9b071b3713e803e332b",$h="https://api.openweathermap.org/data/2.5",GB=["Gilgit","Skardu","Astore","Shigar","Khaplu","Gizar","Hunza","Nagar","Islamabad","Rawalpindi","Chilas","Kharmang","Chorbat"],aG=t=>new Date(t).toLocaleDateString("en-US",{weekday:"short"}),nG=()=>{const t=new Date().getHours();return t<6?"night":t<12?"morning":t<18?"afternoon":"evening"},Cb=({data:t,onClick:s,isCurrent:r,className:a=""})=>{if(!t)return null;const i=t.weather?.[0]?.main?.toLowerCase()||"clear",o=t.weather?.[0]?.description||"Clear sky",c=()=>{if(r)return"bg-gradient-to-br from-blue-50 via-blue-100 to-yellow-50 border-2 border-blue-200/60 shadow-lg";switch(i){case"clear":return"bg-gradient-to-br from-yellow-50 via-yellow-100/80 to-blue-100/80";case"clouds":return"bg-gradient-to-br from-gray-100 via-blue-100/70 to-blue-200/50";case"rain":case"drizzle":return"bg-gradient-to-br from-blue-100 via-blue-150/80 to-cyan-100";case"snow":return"bg-gradient-to-br from-blue-100 via-cyan-100/80 to-white";case"thunderstorm":return"bg-gradient-to-br from-blue-200 via-indigo-100/80 to-purple-100";default:return"bg-gradient-to-br from-blue-50 via-blue-100/70 to-gray-100"}};return e.jsxs("div",{onClick:s,className:`relative rounded-2xl p-6 transition-all duration-300 hover:scale-[1.02] hover:shadow-xl cursor-pointer group overflow-hidden ${c()} ${a}`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-yellow-200/20 rounded-full -translate-y-8 translate-x-8"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-blue-200/20 rounded-full -translate-x-4 translate-y-4"}),e.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r&&e.jsx("span",{className:"flex items-center justify-center w-6 h-6 bg-yellow-400 rounded-full",children:e.jsx("span",{className:"w-2 h-2 bg-yellow-600 rounded-full"})}),e.jsx("h3",{className:`text-xl font-bold ${r?"text-blue-800":"text-gray-800"}`,children:t.name})]}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:o})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("span",{className:"text-3xl font-light text-gray-800",children:[Math.round(t.main.temp),"C"]}),e.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:e.jsx("img",{alt:o,src:`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`,className:"w-12 h-12 filter brightness-110 drop-shadow-sm"})})]})})]}),e.jsxs("div",{className:"space-y-3 mt-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}),e.jsx("span",{children:"Feels like"})]}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[Math.round(t.main.feels_like),"C"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{children:"Wind"})]}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[t.wind.speed," m/s"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z"})})}),e.jsx("span",{children:"Humidity"})]}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[t.main.humidity,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})})}),e.jsx("span",{children:"Pressure"})]}),e.jsxs("span",{className:"font-semibold text-gray-800",children:[t.main.pressure," hPa"]})]})]}),s&&e.jsxs("button",{className:"mt-6 w-full py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-xl transition-all duration-300 group-hover:shadow-lg relative z-10 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"View Forecast"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},iG=({day:t})=>e.jsxs("div",{className:"flex-shrink-0 w-32 bg-gradient-to-br from-white/90 to-blue-50/90 backdrop-blur-sm border border-blue-100/50 rounded-xl p-4 text-center transition-all duration-300 hover:scale-105 hover:shadow-lg",children:[e.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:t.dayName}),e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-2",children:t.date.substring(5)}),e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("img",{src:`https://openweathermap.org/img/wn/${t.icon}@2x.png`,alt:t.desc,className:"w-12 h-12"})}),e.jsx("p",{className:"text-xs text-gray-600 capitalize mb-3",children:t.desc}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-blue-500",children:"H:"}),e.jsxs("span",{className:"font-bold text-gray-800",children:[t.maxTemp,""]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-blue-400",children:"L:"}),e.jsxs("span",{className:"font-bold text-gray-800",children:[t.minTemp,""]})]})]})]}),lG=()=>{const[t,s]=S.useState({}),[r,a]=S.useState(null),[i,o]=S.useState(null),[c,A]=S.useState([]),[u,h]=S.useState(!1),[f,g]=S.useState(""),[b,x]=S.useState(null),[w,B]=S.useState("cities"),j=S.useRef(null);S.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async T=>{const{latitude:U,longitude:k}=T.coords;try{const q=await ks.get(`${$h}/weather?lat=${U}&lon=${k}&appid=${qh}&units=metric`);a(q.data)}catch(q){console.error("Error fetching user weather",q)}},T=>{console.error("Geolocation error:",T),_("Islamabad")})},[]);const _=async T=>{try{const U=await ks.get(`${$h}/weather?q=${T}&appid=${qh}&units=metric`);a(U.data)}catch(U){console.error("Error fetching weather for city",U)}};S.useEffect(()=>{(async()=>{let U={};for(let k of GB)try{const q=await ks.get(`${$h}/weather?q=${k}&appid=${qh}&units=metric`);U[k]=q.data}catch(q){console.error("Error fetching city weather",k,q)}s(U)})()},[]);const Q=async T=>{h(!0),x(null);try{const U=await ks.get(`${$h}/forecast?q=${T}&appid=${qh}&units=metric`),k={};U.data.list.forEach(K=>{const z=K.dt_txt.split(" ")[0];k[z]||(k[z]=[]),k[z].push(K)});const q=Object.keys(k).map(K=>{const z=k[K],$=z.map(L=>L.main.temp),D=z.find(L=>L.dt_txt.includes("12:00:00"))||z[Math.floor(z.length/2)];return{date:K,dayName:aG(K),avgTemp:($.reduce((L,R)=>L+R,0)/$.length).toFixed(1),minTemp:Math.min(...$).toFixed(1),maxTemp:Math.max(...$).toFixed(1),icon:D.weather[0].icon,desc:D.weather[0].description}});A(q.slice(0,7)),o(T),setTimeout(()=>{j.current?.scrollIntoView({behavior:"smooth"})},100)}catch(U){console.error("Error fetching forecast",U)}h(!1)},E=async T=>{if(T.preventDefault(),!!f.trim()){h(!0);try{const U=await ks.get(`${$h}/weather?q=${f}&appid=${qh}&units=metric`);x(U.data),B("search")}catch{alert(` City "${f}" not found. Please try again!`),x(null)}h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200ont-sans",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-yellow-200/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-blue-200/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative z-10 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[e.jsxs("header",{className:"pt-8 pb-6 px-4 sm:px-8 max-w-7xl mx-auto ",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-yellow-500 bg-clip-text text-transparent",children:"Gilgit-Baltistan Weather"})}),e.jsxs("p",{className:"text-gray-600",children:["Good ",nG(),"! Real-time weather updates for your favorite regions"]})]}),e.jsx("form",{onSubmit:E,className:"w-full sm:w-auto",children:e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",value:f,onChange:T=>g(T.target.value),placeholder:"e.g Gilgit..",className:"w-full sm:w-80 px-4 py-3 pl-12 bg-white/80 backdrop-blur-sm border border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-300 focus:border-transparent transition-all duration-300 placeholder-gray-500 shadow-sm"}),e.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("button",{type:"submit",disabled:u,className:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 disabled:opacity-50",children:u?"...":"Search"})]})})]}),e.jsxs("div",{className:"flex space-x-2 border-b border-blue-100",children:[e.jsx("button",{onClick:()=>B("cities"),className:`px-6 py-3 font-medium rounded-t-lg transition-colors ${w==="cities"?"bg-white text-blue-600 border border-blue-100 border-b-0 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-white/50"}`,children:"Popular Cities"}),e.jsx("button",{onClick:()=>B("search"),className:`px-6 py-3 font-medium rounded-t-lg transition-colors ${w==="search"?"bg-white text-blue-600 border border-blue-100 border-b-0 shadow-sm":"text-gray-600 hover:text-blue-600 hover:bg-white/50"}`,children:"Search Results"})]})]}),e.jsxs("main",{className:"px-4 sm:px-8 max-w-7xl mx-auto pb-16",children:[e.jsxs("div",{className:"mb-12",ref:j,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Your Location"}),e.jsx("span",{className:"text-sm text-white bg-red-500 px-3 py-1 rounded-full",children:r?"Live":"Detecting..."})]}),r?e.jsx(Cb,{data:r,isCurrent:!0,onClick:()=>Q(r.name),className:"max-w-2xl"}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 backdrop-blur-sm rounded-2xl p-12 border-2 border-dashed border-blue-200 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e.jsx("p",{className:"text-gray-600",children:"Detecting your location..."}),e.jsx("button",{onClick:()=>_("Islamabad"),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Or use a default city"})]})]}),w==="search"&&b&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Search Results"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(Cb,{data:b,onClick:()=>Q(b.name)})})]}),w==="cities"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Popular Cities in Gilgit-Baltistan"}),e.jsx("p",{className:"text-gray-600",children:"Click on any city to view detailed forecast"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:GB.map(T=>{const U=t[T];return U?e.jsx(Cb,{data:U,onClick:()=>Q(T)},T):null})})]}),i&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-1",children:["7-Day Forecast for ",i]}),e.jsx("p",{className:"text-blue-100",children:"Detailed weather outlook"})]}),e.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:u?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-100 rounded-full"}),e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full absolute top-0 left-0 animate-spin"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex space-x-4 pb-6 overflow-x-auto",children:c.map((T,U)=>e.jsx(iG,{day:T},T.date))}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-blue-100",children:[e.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"Additional Information"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c[0]&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-blue-50/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Temp"}),e.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[c[0].avgTemp,"C"]})]}),e.jsxs("div",{className:"bg-yellow-50/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"High / Low"}),e.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[c[0].maxTemp," / ",c[0].minTemp,""]})]}),e.jsxs("div",{className:"bg-blue-50/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Humidity"}),e.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[c[0].avgHumidity,"%"]})]}),e.jsxs("div",{className:"bg-yellow-50/50 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Wind Speed"}),e.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[c[0].avgWind," m/s"]})]})]})})]})]})})]})})]})]})]})};function oG(){const[t,s]=S.useState(0);S.useEffect(()=>{const i=setInterval(()=>{s(o=>(o+1)%r.length)},3e3);return()=>clearInterval(i)},[]);const r=["Discover More","Continue Exploring","See More Below"],a={initial:{y:0},animate:{y:[0,5,0],transition:{duration:1.2,repeat:1/0,ease:"easeInOut"}}};return e.jsx("section",{className:"relative py-12 bg-gradient-to-b from-blue-50 via-indigo-50 to-purple-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-2xl mx-auto",children:[e.jsx(nt.div,{variants:a,initial:"initial",animate:"animate",className:"mb-4 relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 blur-md opacity-30 rounded-full animate-pulse"}),e.jsx("div",{className:"relative bg-gradient-to-r from-blue-500 to-purple-500 p-3 rounded-full shadow-lg",children:e.jsx(Hf,{className:"w-8 h-8 text-white"})})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx(ui,{mode:"wait",children:e.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4},className:"flex items-center justify-center gap-2",children:[e.jsx(Mu,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-lg md:text-xl font-semibold text-gray-700",children:r[t]}),e.jsx(Mu,{className:"w-4 h-4 text-blue-500"})]},t)}),e.jsx(nt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-sm text-gray-500 mt-2 max-w-md mx-auto",children:"Scroll down for more amazing content and features"})]}),e.jsx("div",{className:"flex gap-1.5 mt-6",children:r.map((i,o)=>e.jsx(nt.div,{className:`w-1.5 h-1.5 rounded-full ${o===t?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-300"}`,animate:{scale:o===t?1.2:1},transition:{duration:.3}},o))})]})})})}const Z6="/static/assets/bus-DUCuXzc2.jpeg";function AG(){return e.jsx("section",{className:"bg-gray-200 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row bg-white rounded-xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-8 lg:p-10 lg:w-1/2 flex flex-col justify-center min-h-[280px] lg:min-h-0",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-5",children:"Register Your Company"}),e.jsx("p",{className:"text-base text-gray-600 mb-5",children:"Offer seat-based services or full-vehicle rentals across GB. Grow revenue with streamlined tools, analytics, and booking notifications."}),e.jsxs("ul",{className:"list-disc space-y-2 text-gray-700 ml-5 mb-6",children:[e.jsx("li",{className:"font-medium",children:"Post availability up to 10 days"}),e.jsx("li",{className:"font-medium",children:"Manage vehicles and drivers"}),e.jsx("li",{className:"font-medium",children:"Track bookings and revenue"})]}),e.jsx("a",{href:"/CompanyRegistration",className:"w-48 text-center py-3 px-6 rounded-lg text-white font-semibold shadow-lg transition duration-300 ease-in-out",style:{backgroundColor:"#8b5cf6"},children:"Register now"})]}),e.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-4 bg-gray-900",children:e.jsx("img",{src:Z6,alt:"A bus or transport vehicle",className:"max-w-full h-auto object-contain rounded-lg shadow-xl lg:max-w-[85%]"})})]})})})}const ao="/static/assets/Car-Dd9A6w9O.jpeg",cG=t=>{const s=t?.vehicle_image;return!s||s==="Nill"?null:s.startsWith("http://")||s.startsWith("https://")?s:`${window.location.hostname==="localhost"?"http://127.0.0.1:8000":""}${s}`};function eS({transport:t}){const s=Js(),r=Ur(),[a,i]=S.useState([]),[o,c]=S.useState(!1),[A,u]=S.useState(0),[h,f]=S.useState(t.vehicle_seats||0),[g,b]=S.useState(null),[x,w]=S.useState(!1),B=cG(t)||ao,j=t.company_name||"Bus Service",_=t.vehicle_type_snapshot||"Standard Vehicle",Q=t.price_per_seat||"N/A";S.useEffect(()=>{const z=localStorage.getItem("access_token");w(!!z&&z!=="null"&&z!=="undefined"&&z.trim()!=="")},[]),S.useEffect(()=>{if(!t)return;const z=t.vehicle_seats||t.vehicle_seats_snapshot||t.seats_available||40;f(z);const $=t?.reserve_seats||[],D=Array.isArray($)?$.length:0,L=z-D;u(L>=0?L:0)},[t]),S.useEffect(()=>{if(!t){console.log("No transport data available");return}(async()=>{c(!0),b(null);const $=t.vehicle_id||t.vehicle||t.id||t.transport_id,D=t.arrival_date||t.departure_date,L=t.arrival_time||t.departure_time;if(console.log("Fetching booked seats for:",{vehicleId:$,arrivalDate:D,arrivalTime:L}),!$||!D||!L){console.log("Missing required parameters"),c(!1);return}try{let R=L;R&&R.split(":").length===2&&(R=`${R}:00`);const P=`/api/checkout/bookings/?vehicle_id=${$}&arrival_date=${D}&arrival_time=${R}`;console.log("API URL:",P);const re=await fetch(P,{headers:{"Content-Type":"application/json"}});if(re.ok){const I=await re.json();if(console.log("API Response Data:",I),Array.isArray(I)){i(I);const G=t.vehicle_seats||t.vehicle_seats_snapshot||t.seats_available||40,X=t?.reserve_seats||[],ie=Array.isArray(X)?X.length:0,ge=I.length,ee=ie+ge,M=G-ee;u(M>=0?M:0)}else console.log("Response is not an array:",I),i([])}else if(re.status===404)console.log("No bookings found (404)"),i([]);else{const I=await re.text();console.error("API Error:",I),b("Could not load seat data")}}catch(R){console.error("Error fetching booked seats:",R),b("Network error loading seats"),i([])}finally{c(!1)}})()},[t]);const E=()=>{if(A===0){alert("Sorry, no seats available for this vehicle!");return}const z=localStorage.getItem("accessToken");if(!z||z==="null"||z==="undefined"||z.trim()===""){s("/login",{state:{from:r.pathname,transport:t}});return}s("/book-seat",{state:{fromCard:!0,transport:t}})},T=()=>{s(`/view-seat-offer/${t.id||t.transport_id}`,{state:{transport:t}})},U=t.vehicle_features&&(t.vehicle_features.AC||t.vehicle_features.WiFi||t.vehicle_features.ChargingPorts||t.vehicle_features.FreeWaterBottle||t.vehicle_features.RecliningSeats),k=()=>{const z=Array.isArray(t.reserve_seats)?t.reserve_seats.length:0,$=a.length;return e.jsxs("div",{className:"mb-3 xs:mb-4 p-2 xs:p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg xs:rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1 xs:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 xs:gap-2",children:[e.jsx(Gt,{size:14,className:"text-green-600"}),e.jsx("span",{className:"font-semibold text-gray-900 text-xs xs:text-sm",children:"Seat Availability"})]}),e.jsx("div",{className:`px-1.5 xs:px-2 py-0.5 xs:py-1 rounded-full text-xs font-bold ${A===0?"bg-red-100 text-red-800":A<=5?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"}`,children:o?"Loading...":`${A} Available`})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-0.5 xs:gap-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900 text-sm xs:text-base",children:h}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-red-600 text-sm xs:text-base",children:z}),e.jsx("div",{className:"text-xs text-gray-500",children:"Reserved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-blue-600 text-sm xs:text-base",children:x?$:"Login to see"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Booked"})]})]}),g&&e.jsx("div",{className:"text-xs text-amber-500 mt-1 xs:mt-2 text-center",children:g}),!x&&!g&&e.jsx("div",{className:"text-xs text-blue-500 mt-1 xs:mt-2 text-center",children:"Login to see real-time booked seats"})]})},q=()=>{const z=t.rating||4.5,$=t.total_reviews||120;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((D,L)=>e.jsx(za,{size:10,className:`${L<Math.floor(z)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},L))}),e.jsx("span",{className:"ml-1 text-xs font-semibold text-gray-700",children:z.toFixed(1)}),e.jsxs("span",{className:"ml-1 text-xs text-gray-500 hidden xs:inline",children:["(",$,")"]})]})},K=()=>U?e.jsxs("div",{className:"mb-3 xs:mb-4",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-1 xs:mb-2",children:"Vehicle Features:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.vehicle_features.AC&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 xs:px-2 py-0.5 xs:py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:[e.jsx(Nf,{size:9,className:"xs:size-10"}),"AC"]}),t.vehicle_features.WiFi&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 xs:px-2 py-0.5 xs:py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[e.jsx(eA,{size:9,className:"xs:size-10"}),"WiFi"]}),t.vehicle_features.ChargingPorts&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 xs:px-2 py-0.5 xs:py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[e.jsx(wf,{size:9,className:"xs:size-10"}),"Charging"]}),t.vehicle_features.FreeWaterBottle&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 xs:px-2 py-0.5 xs:py-1 bg-red-100 text-red-800 rounded-full text-xs",children:[e.jsx(Pf,{size:9,className:"xs:size-10"}),"Water"]}),t.vehicle_features.RecliningSeats&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 xs:px-2 py-0.5 xs:py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:[e.jsx(Fg,{size:9,className:"xs:size-10"}),"Reclining"]})]})]}):null;return e.jsxs(nt.div,{className:"bg-white rounded-lg sm:rounded-xl md:rounded-2xl shadow-md hover:shadow-xl overflow-hidden border border-gray-100 hover:border-indigo-300 transition-all duration-300 transform hover:-translate-y-1 sm:hover:-translate-y-2 group cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{scale:1.005},children:[e.jsxs("div",{className:"relative h-40 xs:h-44 sm:h-48 md:h-56 overflow-hidden rounded-t-lg sm:rounded-t-xl md:rounded-t-2xl",children:[e.jsx("img",{src:B,alt:_,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:z=>{z.target.onerror=null,z.target.src=ao}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-2 xs:top-3 left-2 xs:left-3 flex flex-col gap-1 xs:gap-2",children:[e.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-bold px-2 xs:px-3 py-1 xs:py-1.5 rounded-full shadow-lg whitespace-nowrap",children:"SEAT BOOKING"}),t.is_featured&&e.jsxs("span",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold px-2 xs:px-3 py-1 xs:py-1.5 rounded-full shadow-lg flex items-center whitespace-nowrap",children:[e.jsx(Mu,{size:9,className:"mr-1"}),"FEATURED"]})]}),e.jsxs("div",{className:`absolute top-2 xs:top-3 right-2 xs:right-3 px-2 xs:px-3 py-1 xs:py-2 rounded-full shadow-lg flex items-center gap-1 xs:gap-2 ${A===0?"bg-red-500":A<=5?"bg-amber-500":"bg-green-500"} text-white`,children:[e.jsx(Gt,{size:14,className:"xs:size-16"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium",children:"SEATS LEFT"}),e.jsx("div",{className:"text-base xs:text-lg font-bold",children:o?"...":A})]})]}),o&&x&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-3 xs:p-4 rounded-lg flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 xs:h-8 w-6 xs:w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-xs xs:text-sm text-gray-700 mt-2",children:"Loading seat data..."})]})}),e.jsxs("div",{className:"absolute bottom-2 xs:bottom-3 right-2 xs:right-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-2 xs:px-3 py-1 xs:py-2 rounded-lg xs:rounded-xl shadow-xl",children:[e.jsx("div",{className:"text-xs font-medium",children:"PRICE PER SEAT"}),e.jsxs("div",{className:"text-lg xs:text-xl sm:text-2xl font-bold",children:["Rs ",Q]})]}),t.company_logo_url&&e.jsx("div",{className:"absolute bottom-2 xs:bottom-3 left-2 xs:left-3",children:e.jsx("img",{src:t.company_logo_url,alt:j,className:"w-8 h-8 xs:w-10 xs:h-10 sm:w-12 sm:h-12 rounded-full border border-white shadow-lg",onError:z=>{z.target.onerror=null,z.target.src="https://placehold.co/48x48/4B5563/FFFFFF?text=Logo"}})})]}),e.jsxs("div",{className:"p-3 xs:p-4 sm:p-5 space-y-2 xs:space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base xs:text-lg sm:text-xl font-bold text-gray-900 truncate pr-2",children:j}),e.jsxs("div",{className:"flex items-center gap-1 xs:gap-2 mt-1 flex-wrap",children:[q(),e.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-50 px-1.5 xs:px-2 py-0.5 rounded-full whitespace-nowrap",children:_})]})]}),e.jsxs("span",{className:"flex-shrink-0 text-xs xs:text-sm font-semibold text-white bg-gradient-to-r from-teal-500 to-teal-600 px-2 xs:px-3 py-0.5 xs:py-1 rounded-full shadow-md whitespace-nowrap",children:[e.jsx(Ka,{size:12,className:"inline mr-1"}),"Special Offer"]})]}),e.jsx("div",{className:"p-2 xs:p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg xs:rounded-xl border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center flex-1 min-w-0 px-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Yt,{size:12,className:"text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600 whitespace-nowrap",children:"FROM"})]}),e.jsx("p",{className:"text-xs xs:text-sm font-bold text-gray-900 truncate px-1",children:t.route_from})]}),e.jsx(va,{size:16,className:"text-blue-500 mx-1 xs:mx-2 flex-shrink-0"}),e.jsxs("div",{className:"text-center flex-1 min-w-0 px-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Yt,{size:12,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600 whitespace-nowrap",children:"TO"})]}),e.jsx("p",{className:"text-xs xs:text-sm font-bold text-gray-900 truncate px-1",children:t.route_to})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 xs:gap-3",children:[e.jsxs("div",{className:"bg-gray-50 p-2 xs:p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-1 xs:gap-2 mb-1",children:[e.jsx(is,{size:14,className:"text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Departure"})]}),e.jsx("p",{className:"font-semibold text-gray-900 text-xs xs:text-sm truncate",children:t.arrival_time||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 p-2 xs:p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-1 xs:gap-2 mb-1",children:[e.jsx(as,{size:14,className:"text-purple-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:"Date"})]}),e.jsx("p",{className:"font-semibold text-gray-900 text-xs xs:text-sm truncate",children:t.arrival_date||"N/A"})]})]}),k(),K(),e.jsxs("div",{className:"flex items-center justify-center gap-1 xs:gap-2 text-xs text-gray-500 text-center px-1",children:[e.jsx(wa,{size:10,className:"text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-xs",children:"Secure Booking  Verified Transport  100% Refundable"})]})]}),e.jsxs("div",{className:"p-3 xs:p-4 sm:p-5 pt-0 flex gap-2 xs:gap-3",children:[e.jsxs(nt.button,{onClick:E,disabled:A===0||x&&o,className:`flex-1 py-2.5 xs:py-3 sm:py-3.5 rounded-lg xs:rounded-xl font-bold text-sm xs:text-base shadow-md flex items-center justify-center gap-1 xs:gap-2 transition-all ${A===0||x&&o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700 hover:shadow-lg"}`,whileHover:A===0||x&&o?{}:{scale:1.02},whileTap:A===0||x&&o?{}:{scale:.98},children:[e.jsx(wa,{size:16,className:"xs:size-18"}),e.jsx("span",{className:"truncate",children:x&&o?"Loading...":"Book Now"}),e.jsx(Nl,{size:14,className:"hidden xs:inline xs:size-16"})]}),e.jsx(nt.button,{onClick:T,className:"px-2 xs:px-3 sm:px-4 py-2.5 xs:py-3 sm:py-3.5 border border-indigo-300 text-indigo-700 bg-white rounded-lg xs:rounded-xl font-bold text-sm xs:text-base hover:bg-indigo-50 hover:border-indigo-400 transition-all flex items-center justify-center whitespace-nowrap",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Details"})]})]})}function tS(){const t=Js(),[s,r]=S.useState([]),[a,i]=S.useState(!0),[o,c]=S.useState(null),A="/api/search/?offer_type=offer_sets";S.useEffect(()=>{(async()=>{i(!0),c(null);try{const f=await ks.get(A,{headers:{Accept:"application/json"}});r(f.data)}catch(f){c(`Failed to load seat offers: ${f.message}`)}finally{i(!1)}})()},[]);const u=S.useMemo(()=>s.length<=6?s:[...s].sort(()=>.5-Math.random()).slice(0,6),[s]);return a?e.jsx("section",{className:"py-16 px-4 sm:px-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-indigo-600 font-semibold",children:"Loading amazing seat offers..."})]})}):o?e.jsx("section",{className:"py-16 px-4 sm:px-6 max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center py-10 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ri,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Unable to Load Offers"}),e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]})}):u.length===0?e.jsx("section",{className:"py-16 px-4 sm:px-6 max-w-7xl mx-auto",children:e.jsxs(nt.div,{className:"text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ri,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"No Seat Offers Available"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"We're currently updating our seat offers. Please check back later for amazing travel deals."})]})}):e.jsx("section",{className:"py-16 px-4 sm:px-6  from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(nt.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-4",children:[e.jsx(Mu,{className:"w-4 h-4"}),"Premium Seat Booking"]}),e.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Find Your Perfect ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"Seat"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Book individual seats on comfortable buses for your journey. Affordable, reliable, and convenient travel options."})]}),e.jsx(nt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},children:u.map((h,f)=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},children:e.jsx(eS,{transport:h})},h.transport_id||h.id))}),s.length>0&&e.jsxs(nt.div,{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Routes"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Available Vehicles"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(h=>h.company_name)).size}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bus Companies"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:new Set(s.map(h=>h.route_from)).size}),e.jsx("div",{className:"text-sm text-gray-600",children:"Departure Cities"})]})]}),s.length>6&&e.jsxs(nt.div,{className:"text-center mt-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[e.jsxs(nt.button,{onClick:()=>t("/AllVehiclesPage",{state:{onlySeatOffers:!0}}),className:`\r
                group relative\r
                inline-flex items-center\r
                px-8 py-4\r
                bg-gradient-to-r from-blue-600 to-indigo-600 \r
                text-white font-semibold text-lg\r
                rounded-2xl shadow-2xl\r
                hover:shadow-3xl\r
                transition-all duration-300\r
                transform hover:scale-105\r
                overflow-hidden\r
              `,whileHover:{scale:1.05},whileTap:{scale:.98},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),e.jsxs("span",{className:"relative z-10",children:["View All ",s.length," Seat Bookings"]}),e.jsx(va,{className:"w-5 h-5 ml-3 relative z-10 transform group-hover:translate-x-1 transition-transform"})]}),e.jsx("p",{className:"text-gray-500 mt-4 text-sm",children:"Discover our complete collection of seat booking options"})]})]})})}const dG=(t,s)=>{const r=s||t;if(r.is_specific_route&&r.fixed_fare)return{type:"fixed_route",primary:`Rs. ${parseInt(r.fixed_fare).toLocaleString()}`,secondary:r.distance?` ${r.distance} km`:"Fixed Route",icon:Jr,color:"text-green-600",description:"Complete route package"};if(r.is_long_drive){if(r.per_day_rate)return{type:"daily",primary:`Rs. ${parseInt(r.per_day_rate).toLocaleString()}`,secondary:"/ day",icon:as,color:"text-blue-600",description:"Per day rental"};if(r.per_hour_rate)return{type:"hourly",primary:`Rs. ${parseInt(r.per_hour_rate).toLocaleString()}`,secondary:"/ hour",icon:is,color:"text-purple-600",description:"Hourly rental"};if(r.weekly_rate)return{type:"weekly",primary:`Rs. ${parseInt(r.weekly_rate).toLocaleString()}`,secondary:"/ week",icon:Du,color:"text-orange-600",description:"Weekly package"}}return r.rate_per_km?{type:"rate_km",primary:`Rs. ${r.rate_per_km}`,secondary:"/ km",icon:kg,color:"text-red-600",description:"Per kilometer rate"}:{type:"custom",primary:"Custom Price",secondary:"Contact for details",icon:Vr,color:"text-gray-600",description:"Custom pricing available"}},uG=(t,s)=>{const r=s||t,a=[];return r?.is_specific_route&&a.push({text:"Fixed Route",icon:Jr,color:"bg-green-100 text-green-700 border border-green-200"}),r?.is_long_drive&&a.push({text:"Long Drive",icon:as,color:"bg-blue-100 text-blue-700 border border-blue-200"}),r?.allow_custom_quote&&a.push({text:"Custom Quote",icon:ld,color:"bg-purple-100 text-purple-700 border border-purple-200"}),a},hG=(t,s)=>{const r=s||t;if(!r)return[];const a=[];return r.is_long_drive&&(r.per_hour_rate&&a.push({label:"Hourly",value:`Rs. ${parseInt(r.per_hour_rate).toLocaleString()}`}),r.per_day_rate&&a.push({label:"Daily",value:`Rs. ${parseInt(r.per_day_rate).toLocaleString()}`}),r.weekly_rate&&a.push({label:"Weekly",value:`Rs. ${parseInt(r.weekly_rate).toLocaleString()}`})),r.is_specific_route&&r.fixed_fare&&(a.push({label:"Fixed Fare",value:`Rs. ${parseInt(r.fixed_fare).toLocaleString()}`}),r.distance&&a.push({label:"Distance",value:`${r.distance} km`})),r.night_charge&&a.push({label:"Night Charge",value:`+Rs. ${parseInt(r.night_charge).toLocaleString()}`}),r.mountain_surcharge&&a.push({label:"Mountain",value:`+Rs. ${parseInt(r.mountain_surcharge).toLocaleString()}`}),a.slice(0,4)};function sS({id:t,company_name:s,route:r,fare:a,rating:i,image:o,is_long_drive:c,is_specific_route:A,location_address:u,vehicle_details:h,type:f="rental",complete_offer:g}){const b=Js(),x=g||{id:t,company_name:s,route:r,fare:a,rating:i,image:o,is_long_drive:c,is_specific_route:A,location_address:u,vehicle_details:h};x.rating;const w=x.location_address||"Location not specified",B=!x.vehicle_type||x.route||"Premium Vehicle",j=x.vehicle_image||x.image||null,_=!j||j==="Nill"?ao:j.startsWith("http")?j:`${BASE_URL}${j}`,Q=x.vehicle_seats||x.vehicle_seats_snapshot,E=x.vehicle_number||x.vehicle_number_snapshot;x.vehicle_details;const T=dG(x,g),U=uG(x,g),k=hG(x,g),q=()=>b(`/book-vehical-details/${t}`,{state:{vehicleDetails:x}}),K=()=>{const L=localStorage.getItem("accessToken");if(!L||L==="null"||L==="undefined"||L.trim()===""){b("/login",{replace:!0,state:{from:`/book-vehical/${t}`,vehicleDetails:x,fromCard:!0}});return}b(`/book-vehical/${t}`,{state:{vehicleDetails:x,fromCard:!0}})},z=()=>{if(typeof x.rating=="number"&&x.rating>0&&x.rating<=5){const L=Math.floor(x.rating);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((R,P)=>e.jsx(za,{className:`w-2.5 h-2.5 xs:w-3 xs:h-3 sm:w-4 sm:h-4 ${P<L?"fill-yellow-400":"text-gray-300"}`},P))}),e.jsx("span",{className:"ml-1 sm:ml-2 text-xs font-semibold text-gray-700",children:x.rating.toFixed(1)})]})}return e.jsx("span",{className:"text-xs font-semibold text-green-600 bg-green-100 px-2 py-0.5 sm:px-2 sm:py-1 rounded-full whitespace-nowrap",children:" New"})},$=()=>x.is_specific_route&&x.route_from&&x.route_to?e.jsxs("div",{className:"flex items-center text-green-700 font-semibold text-xs sm:text-sm bg-green-50 px-2 sm:px-3 py-1.5 sm:py-2 rounded-xl border border-green-200 mb-3",children:[e.jsx(Jr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 flex-shrink-0"}),e.jsxs("span",{className:"truncate text-xs sm:text-sm",children:[x.route_from,"  ",x.route_to]})]}):null,D=()=>{const L=[];return B!=="Unknown Vehicle"&&L.push(e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-blue-500 flex-shrink-0"}),e.jsx("span",{className:"font-semibold text-gray-800 text-xs sm:text-sm truncate",children:B})]},"type")),Q&&Q!=="N/A"&&L.push(e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Gt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-green-500 flex-shrink-0"}),e.jsxs("span",{className:"text-xs sm:text-sm",children:[Q," Seats"]})]},"seats")),L};return e.jsxs(nt.div,{className:"group bg-white rounded-lg sm:rounded-xl md:rounded-2xl shadow-md hover:shadow-xl transition-all duration-500 border border-gray-200 hover:border-indigo-300 flex flex-col h-full transform hover:-translate-y-1 sm:hover:-translate-y-2",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"relative h-36 xs:h-40 sm:h-44 md:h-48 overflow-hidden rounded-t-lg sm:rounded-t-xl md:rounded-t-2xl",children:[e.jsx("img",{src:_,alt:s,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:L=>{L.target.onerror=null,L.target.src=ao}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"absolute top-2 left-2 right-2 sm:top-3 sm:left-3 sm:right-3 flex justify-between items-start",children:[e.jsx("span",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white text-[10px] xs:text-xs font-bold px-2 xs:px-3 py-0.5 xs:py-1 sm:py-1.5 rounded-full shadow-lg whitespace-nowrap",children:"WHOLE VEHICLE HIRE"}),x.company_logo_url&&e.jsx("img",{src:x.company_logo_url,alt:s,className:"w-6 h-6 xs:w-7 xs:h-7 sm:w-8 sm:h-8 rounded-full border border-white shadow-lg"})]}),E&&E!=="N/A"&&e.jsx("div",{className:"absolute bottom-2 left-2 sm:bottom-3 sm:left-3",children:e.jsx("span",{className:"bg-black/70 text-white text-[10px] xs:text-xs px-2 xs:px-3 py-0.5 xs:py-1.5 rounded-full backdrop-blur-sm truncate max-w-[120px] xs:max-w-none",children:E})})]}),e.jsxs("div",{className:"p-3 xs:p-4 sm:p-5 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:[e.jsx("h3",{className:"text-sm xs:text-base sm:text-lg font-bold text-gray-900 leading-tight pr-2 flex-1 line-clamp-2",children:s}),e.jsx("div",{className:"flex-shrink-0",children:z()})]}),$(),e.jsxs("div",{className:`flex items-center ${T.color} font-bold text-base xs:text-lg sm:text-xl md:text-2xl my-3 sm:my-4 py-2 sm:py-3 border-y border-gray-100`,children:[e.jsx(T.icon,{className:"w-4 h-4 xs:w-5 xs:h-5 mr-2 xs:mr-3"}),e.jsx("span",{children:T.primary}),e.jsx("span",{className:"text-xs xs:text-sm sm:text-base font-semibold ml-1 xs:ml-2 text-gray-600",children:T.secondary})]}),e.jsxs("div",{className:"space-y-2 xs:space-y-3 text-xs xs:text-sm text-gray-600 mb-3 xs:mb-4 flex-1",children:[D().length>0&&e.jsx("div",{className:"space-y-1 xs:space-y-2",children:D()}),e.jsxs("div",{className:"flex items-start pt-1 xs:pt-2",children:[e.jsx(Yt,{className:"w-3 h-3 xs:w-4 xs:h-4 mr-1 xs:mr-2 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-gray-700 line-clamp-2 text-xs xs:text-sm",children:w})]})]}),k.length>0&&e.jsx("div",{className:"mb-3 xs:mb-4 p-2 xs:p-3 bg-gray-50 rounded-lg xs:rounded-xl border border-gray-200",children:e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-1 xs:gap-2",children:k.map((L,R)=>e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-600 truncate",children:[L.label,":"]}),e.jsx("span",{className:"font-semibold text-gray-800 whitespace-nowrap ml-1",children:L.value})]},R))})}),e.jsx("div",{className:"mt-auto pt-3 xs:pt-4 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-1 xs:gap-2",children:U.length>0?U.map((L,R)=>e.jsxs("span",{className:`flex items-center text-[10px] xs:text-xs font-semibold px-2 xs:px-3 py-1 xs:py-1.5 rounded-full ${L.color} transition-colors duration-300 whitespace-nowrap`,children:[e.jsx(L.icon,{className:"w-2.5 h-2.5 xs:w-3 xs:h-3 mr-1 xs:mr-1.5"}),L.text]},R)):e.jsx("span",{className:"text-xs text-gray-500 italic",children:"Flexible booking options"})})})]}),e.jsx("div",{className:"p-3 xs:p-4 sm:p-5 pt-0",children:e.jsxs("div",{className:"flex gap-2 xs:gap-3",children:[e.jsx(nt.button,{onClick:K,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-2 xs:py-2.5 sm:py-3 rounded-lg xs:rounded-xl font-semibold text-xs xs:text-sm hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center group/btn",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx("span",{className:"group-hover/btn:scale-105 transition-transform",children:"Book Now"})}),e.jsx(nt.button,{onClick:q,className:"px-3 xs:px-4 border border-indigo-200 text-indigo-600 py-2 xs:py-2.5 sm:py-3 rounded-lg xs:rounded-xl font-semibold text-xs xs:text-sm hover:bg-indigo-50 hover:border-indigo-300 transition-all duration-300 flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx("span",{children:"Details"})})]})})]})}function fG(){const t=Js(),[s,r]=S.useState([]),[a,i]=S.useState(!0),[o,c]=S.useState(null),A="/api/search/?offer_type=whole_hire";S.useEffect(()=>{(async()=>{i(!0),c(null);try{const f=await fetch(A);if(!f.ok)throw new Error(`HTTP ${f.status}: ${f.statusText}`);const b=(await f.json()).filter(x=>x.offer_type==="whole_hire").map(x=>({id:x.id,company_name:x.company_name||"Vehicle Rental",route:x.vehicle_type,fare:x.fare||x.rate_per_km||null,rating:x.rating||null,image:x.vehicle_image,vehicle_details:x.vehicle_details,location_address:x.location_address||null,is_long_drive:!!x.is_long_drive,is_specific_route:!!x.is_specific_route,type:"whole-hire",complete_offer:x}));r(b)}catch(f){c(f.message),console.error("Fetch error:",f)}finally{i(!1)}})()},[]);const u=S.useMemo(()=>s.length<=6?s:[...s].sort(()=>.5-Math.random()).slice(0,6),[s]);return e.jsxs("section",{className:"py-16 px-4 sm:px-6 max-w-7xl mx-auto",children:[e.jsxs(nt.div,{className:"text-center mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium mb-4",children:[e.jsx(Mu,{className:"w-4 h-4"}),"Premium Whole Vehicle Hire"]}),e.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Discover Your Perfect ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Ride"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Book entire vehicles for customized trips. Perfect for long drives, specific routes, and personalized journeys."})]}),a?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-xl text-indigo-600 font-semibold",children:"Loading amazing vehicle offers..."})]}):o?e.jsxs("div",{className:"text-center py-10 max-w-md mx-auto",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Unable to Load Offers"}),e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Try Again"})]}):u.length>0?e.jsxs(e.Fragment,{children:[e.jsx(nt.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},children:u.map((h,f)=>e.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:f*.1},children:e.jsx(sS,{...h,type:"whole-hire"})},h.id))}),e.jsxs(nt.div,{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-4 text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.6},children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Vehicles"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(h=>h.is_long_drive).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Long Drive"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(h=>h.is_specific_route).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fixed Routes"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.filter(h=>h.complete_offer?.allow_custom_quote).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Custom Quotes"})]})]})]}):e.jsxs(nt.div,{className:"text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(gs,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"No Vehicles Available"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"We're currently updating our fleet. Please check back later for amazing vehicle offers."})]}),s.length>6&&e.jsx(nt.div,{className:"text-center mt-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:e.jsxs(nt.button,{onClick:()=>t("/AllVehiclesPage",{state:{onlyVehicles:!0}}),className:`\r
              group relative\r
              inline-flex items-center\r
              px-8 py-4\r
              bg-gradient-to-r from-indigo-600 to-purple-600 \r
              text-white font-semibold text-lg\r
              rounded-2xl shadow-2xl\r
              hover:shadow-3xl\r
              transition-all duration-300\r
              transform hover:scale-105\r
              overflow-hidden\r
            `,whileHover:{scale:1.05},whileTap:{scale:.98},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 transform translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),e.jsxs("span",{className:"relative z-10",children:["Explore All ",s.length," Vehicles"]}),e.jsx(va,{className:"w-5 h-5 ml-3 relative z-10 transform group-hover:translate-x-1 transition-transform"})]})})]})}function rS({children:t,onClose:s}){return e.jsx(ui,{children:e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:s,children:e.jsxs(nt.div,{initial:{scale:.9,y:50},animate:{scale:1,y:0},exit:{opacity:0,scale:.9,y:50},transition:{duration:.3},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md relative m-4",onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition z-10",title:"Close",children:e.jsx(Is,{size:24})}),t]})})})}const mG="/static/assets/gb1-DWYChP2v.jpg",gG="/static/assets/gb2-DcULzpWj.jpeg",pG="/static/assets/gb3-D_hxYATX.jpeg",xG="/static/assets/gb4-C_YeQ9OT.jpeg";function bG(){const t=[mG,gG,pG,xG,Z6],[s,r]=S.useState(0),[a,i]=S.useState(!1),[o,c]=S.useState(!1),[A,u]=S.useState(null),[h,f]=S.useState(""),g=Js(),b=[{title:"Real-Time Weather Updates",description:"Get live weather and road condition alerts for safe travel planning across mountainous terrains",icon:X4},{title:"Verified Transport Companies",description:"Book with confidence from our network of government-verified and trusted transport providers",icon:wa},{title:"Secure Digital Payments",description:"Multiple payment options with instant confirmation and encrypted transaction security",icon:Mi},{title:"Live Seat Tracking",description:"Real-time seat availability and booking status with instant confirmation",icon:is},{title:"Route Optimization",description:"Smart route suggestions based on weather, traffic, and road conditions",icon:Cu},{title:"24/7 Support",description:"Round-the-clock customer support for all your travel queries and assistance",icon:Ls}],x=[{step:"01",title:"Select Your Route",description:"Choose from hundreds of verified routes across Gilgit-Baltistan",icon:Yt,color:"from-blue-500 to-cyan-400"},{step:"02",title:"Book & Pay Securely",description:"Select seats or entire vehicle and pay with multiple secure options",icon:Mi,color:"from-emerald-500 to-teal-400"},{step:"03",title:"Travel Confidently",description:"Receive instant confirmation and real-time journey updates",icon:zs,color:"from-purple-500 to-pink-400"}];S.useEffect(()=>{w()},[]),S.useEffect(()=>{const E=setInterval(()=>{r(T=>(T+1)%t.length)},5e3);return()=>clearInterval(E)},[]);const w=()=>{const E=localStorage.getItem("token")||localStorage.getItem("accessToken")||localStorage.getItem("access_token"),T=localStorage.getItem("role")||localStorage.getItem("user_role");let U="";if(U=localStorage.getItem("userName")||"",!U){const k=localStorage.getItem("passenger_data"),q=localStorage.getItem("passenger_profile_data");if(k)try{const K=JSON.parse(k);U=K.name||K.username||""}catch(K){console.error("Error parsing passenger data:",K)}else if(q)try{const K=JSON.parse(q);U=K.name||K.username||""}catch(K){console.error("Error parsing passenger profile data:",K)}}return U||(U=T==="passenger"?"Passenger":T==="company"?"Company":T==="admin"?"Admin":"User"),E&&T?(u(T),f(U),{token:E,role:T,name:U}):(u(null),f(""),null)},B=()=>{const E=w();if(E){const T=E.role;T==="passenger"?g("/PassengerDashboard"):T==="company"?alert("Passenger profile is essential for booking. Please logout and login as passenger to book tickets."):T==="admin"?alert("Admin users cannot book tickets. Please login as a passenger."):c(!0)}else c(!0)},j=E=>{c(!1),E?.token&&(localStorage.setItem("token",E.token),localStorage.setItem("accessToken",E.token)),E?.role&&(localStorage.setItem("role",E.role),localStorage.setItem("user_role",E.role),u(E.role)),E?.name&&(localStorage.setItem("userName",E.name),f(E.name));const T=E?.role||localStorage.getItem("role");T==="passenger"?g("/PassengerDashboard"):T==="company"?(alert("Passenger profile must be essential for booking"),g("/CompanyDashboard")):T==="admin"?(alert("Admin users cannot book tickets. Please login as a passenger."),g("/admin/dashboard")):g("/")},_=({href:E,onClick:T,icon:U,text:k,colorClass:q,sizeClass:K="py-3 px-6"})=>e.jsxs(nt.a,{href:E||"#",onClick:T,className:`flex items-center justify-center gap-3 ${q} text-white ${K} rounded-xl font-bold shadow-lg transition-all duration-300 group relative overflow-hidden`,whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[e.jsx("span",{className:"absolute inset-0 bg-white/20 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"}),U&&e.jsx(U,{className:"w-5 h-5 relative z-10"}),e.jsx("span",{className:"relative z-10",children:k})]}),Q=({title:E,description:T,icon:U,index:k})=>e.jsxs(nt.div,{className:"group p-6 bg-gradient-to-br from-white to-blue-50 rounded-2xl border border-blue-100 shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 relative overflow-hidden",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.5,delay:k*.1},children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-50 to-transparent rounded-full -translate-y-16 translate-x-16 group-hover:scale-125 transition-transform duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"inline-flex p-3 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white mb-4 shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:e.jsx(U,{className:"w-6 h-6"})}),e.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-3",children:E}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:T})]})]});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 font-sans overflow-x-hidden",children:[e.jsxs("section",{className:"relative min-h-[90vh] bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx(ui,{mode:"wait",children:e.jsx(nt.img,{src:t[s],alt:"Gilgit Baltistan",className:"absolute inset-0 w-full h-full object-cover",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:1.5}},s)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/80 via-blue-900/50 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/30 to-purple-900/30"})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 lg:px-8 py-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-white/20",children:[e.jsx(za,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"#1 Transport Platform in GB"})]}),e.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-tight",children:["Passenger Transport",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-300 mt-2",children:"Management System"})]}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-10 leading-relaxed",children:"Experience seamless, safe, and reliable travel across the majestic landscapes of Gilgit-Baltistan with our trusted platform"})]}),e.jsxs(nt.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[e.jsxs(nt.button,{onClick:B,className:"group relative px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-lg font-bold rounded-2xl shadow-2xl shadow-blue-500/30 flex items-center justify-center gap-3 overflow-hidden",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-600 to-blue-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(Ri,{className:"w-6 h-6 relative z-10"}),e.jsx("span",{className:"relative z-10",children:A?A==="passenger"?"Book Your Journey":A==="company"?"Book Ticket (Passenger Only)":"Book Ticket":"Book Your Ticket Now"}),e.jsx(va,{className:"w-5 h-5 relative z-10 transform group-hover:translate-x-1 transition-transform"})]}),e.jsxs(nt.button,{onClick:()=>i(!a),className:"group relative px-8 py-4 bg-white/10 backdrop-blur-sm border-2 border-white/30 text-white text-lg font-bold rounded-2xl flex items-center justify-center gap-3 overflow-hidden hover:bg-white/20 transition-all duration-300",whileHover:{scale:1.05,y:-2},whileTap:{scale:.98},children:[e.jsx(cQ,{className:"w-6 h-6"}),e.jsx("span",{children:A?"Switch Account":"Join Our Community"})]})]}),e.jsx(ui,{children:a&&e.jsxs(nt.div,{initial:{height:0,opacity:0,y:-20},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto mb-12",children:[e.jsx(_,{href:"/CompanyRegistration",icon:Zo,text:"Register as Company",colorClass:"bg-gradient-to-r from-emerald-500 to-teal-600",sizeClass:"py-3 px-6 text-sm"}),e.jsx(_,{href:"/PassengerRegistration",icon:Gt,text:"Register as Passenger",colorClass:"bg-gradient-to-r from-pink-500 to-rose-600",sizeClass:"py-3 px-6 text-sm"})]})}),A&&e.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 max-w-md mx-auto",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-white/20",children:e.jsx(rs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white font-medium",children:["Welcome back, ",e.jsx("span",{className:"font-bold",children:h||(A==="passenger"?"Passenger":A==="company"?"Company":A==="admin"?"Admin":"User")}),"!"]}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:A==="passenger"?"Ready for your next adventure?":"Switch to passenger account for booking."})]})]})})]})}),e.jsx(nt.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:e.jsx("div",{className:"w-1 h-3 bg-white/70 rounded-full mt-2"})})})]}),e.jsx("div",{className:"bg-gradient-to-bbg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-12",children:[e.jsxs(nt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12 text-center",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Exclusive Travel ",e.jsx("span",{className:"text-blue-600",children:"Deals"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover amazing offers for both seat booking and full vehicle reservations"})]}),e.jsx(tS,{}),e.jsx(fG,{})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 rounded-full px-4 py-2 mb-4",children:e.jsx("span",{className:"text-sm font-semibold",children:"WHY CHOOSE PTMS GB"})}),e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Your Complete Travel ",e.jsx("span",{className:"text-blue-600",children:"Solution"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Experience the future of travel with our integrated platform designed specifically for Gilgit-Baltistan's unique needs"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:b.map((E,T)=>e.jsx(Q,{index:T,...E},T))})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-900 to-indigo-800",children:e.jsx(AG,{})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[e.jsxs(nt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Simple ",e.jsx("span",{className:"text-blue-600",children:"3-Step"})," Booking"]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Book your journey in minutes with our streamlined process"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:x.map((E,T)=>e.jsxs(nt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:T*.2},className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br ${E.color} text-white text-2xl font-bold mb-6 shadow-lg`,children:E.step}),e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${E.color} bg-opacity-10 w-fit mb-4`,children:e.jsx(E.icon,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:E.title}),e.jsx("p",{className:"text-gray-600",children:E.description})]}),T<2&&e.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 transform translate-x-1/2 -translate-y-1/2",children:e.jsx(va,{className:"w-8 h-8 text-blue-300"})})]},T))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMtMi4yIDAtNCAxLjgtNCA0czEuOCA0IDQgNCA0LTEuOCA0LTRzLTEuOC00LTQtNHoiIGZpbGw9IiNmMGY3ZmYiLz48L2c+PC9zdmc+')] opacity-40"}),e.jsx("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs(nt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl md:text-4xl font-bold mb-6",children:[e.jsx("span",{className:"text-gray-800",children:"Ready to Explore "}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-sky-500",children:"Gilgit-Baltistan?"})]}),e.jsxs(nt.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-lg text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed",children:["Join thousands of travelers who trust ",e.jsx("span",{className:"font-semibold text-blue-500",children:"PTMS GB"})," for their safe and memorable journeys through the majestic mountains"]}),e.jsxs(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsxs("button",{onClick:B,className:"group relative px-8 py-4 bg-gradient-to-r from-blue-500 to-sky-500 text-white text-lg font-bold rounded-xl shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-3 overflow-hidden",children:[e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-sky-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(Ri,{className:"w-6 h-6 relative z-10"}),e.jsx("span",{className:"relative z-10",children:A?"Continue to Dashboard":"Start Your Journey"}),e.jsx(va,{className:"w-5 h-5 relative z-10 transform group-hover:translate-x-2 transition-transform"})]}),e.jsxs("button",{onClick:()=>g("/ContactPage"),className:"group relative px-8 py-4 bg-white text-gray-700 text-lg font-bold rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 shadow-sm hover:shadow-md flex items-center justify-center gap-3",children:[e.jsx("span",{className:"relative",children:"Need Help? Contact Us"}),e.jsx(va,{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform"})]})]}),e.jsx(nt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3},className:"mt-8 p-6 bg-white/70 backdrop-blur-sm rounded-2xl border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-8 md:gap-12",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-sky-400 rounded-lg",children:e.jsx(wa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"100% Secure"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Payments"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-sky-400 to-cyan-400 rounded-lg",children:e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Instant"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Confirmation"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-lg",children:e.jsx(zs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-800",children:"Verified"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Companies"})]})]})]})}),e.jsxs("div",{className:"mt-12 flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-transparent to-blue-200"}),e.jsx(za,{className:"w-5 h-5 text-blue-400"}),e.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-blue-200 to-transparent"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Trusted by over 10,000+ travelers across Gilgit-Baltistan"})]})]})}),e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-blue-100 rounded-full blur-3xl opacity-30"}),e.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-sky-100 rounded-full blur-3xl opacity-30"})]}),e.jsx(oG,{}),o&&e.jsx(rS,{onClose:()=>c(!1),children:e.jsx(dy,{isModal:!0,onSuccessfulLogin:j})})]})}const qB=["Skardu","Gilgit","Shigar","Hunza","Nagar","Khaplu","Chilas","Astor","Islamabad/Rawalpindi","Gizer"],Sb=["bus","coaster","car","hiace"],yG=t=>/^[A-Za-z ]*$/.test(t||""),$B=t=>t&&t.size<=250*1024,Eb={id:null,company_name:"",registration_id:"",company_email:"",contact_number_1:"",contact_number_2:"",company_type:"offer_vehicle",main_office_location:"",Passenger_instruction:"",company_logo:null,owner_name:"",owner_email:"",owner_contact_number:"",owner_cnic:"",owner_address:"",routes:[],vehicles:[],drivers:[],is_submitted:!1,agreement_accepted:!1},vG=({currentStep:t})=>{const s=[{number:1,label:"Company Info",icon:Zo},{number:2,label:"Owner Info",icon:rs},{number:3,label:"Routes",icon:Cu},{number:4,label:"Vehicles",icon:gs},{number:5,label:"Drivers",icon:Gt},{number:6,label:"Agreement",icon:Ek}];return e.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zo,{className:"h-6 w-6 text-indigo-600"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Company Registration"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:s.map((r,a)=>{r.icon;const i=t===r.number,o=t>r.number;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i?"bg-indigo-600 border-indigo-600 text-white":o?"bg-green-100 border-green-500 text-green-600":"bg-gray-100 border-gray-300 text-gray-400"}`,children:o?e.jsx(zs,{className:"h-5 w-5"}):r.number}),e.jsx("span",{className:`ml-2 text-sm font-medium ${i?"text-indigo-600":o?"text-green-600":"text-gray-500"}`,children:r.label}),a<s.length-1&&e.jsx(Nl,{className:"mx-2 h-5 w-5 text-gray-300"})]},r.number)})}),e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:t})}),e.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-700",children:["Step ",t," of 6"]})]})})]})})})};function wG(){const[t,s]=S.useState(Eb),[r,a]=S.useState(!1),[i,o]=S.useState(""),[c,A]=S.useState(""),[u,h]=S.useState(!1),[f,g]=S.useState(1),[b,x]=S.useState(null),[w,B]=S.useState(null),[j,_]=S.useState(null),Q=S.useRef([]);S.useEffect(()=>{(async()=>{try{const G=await Kt.get("/auth/my-company-detail/");G.data&&s(X=>({...X,...G.data,company_logo:G.data.company_logo||null}))}catch{s(Eb)}})()},[]),S.useEffect(()=>{if(i){const I=setTimeout(()=>o(""),5e3);return()=>clearTimeout(I)}if(c){const I=setTimeout(()=>A(""),7e3);return()=>clearTimeout(I)}},[i,c]),S.useEffect(()=>{const I=()=>{const G=window.scrollY+100;for(let X=0;X<Q.current.length;X++){const ie=Q.current[X];if(ie){const{top:ge,height:ee}=ie.getBoundingClientRect(),M=ge+window.scrollY;if(G>=M&&G<M+ee){g(X+1);break}}}};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[]);const E=(I,G)=>s(X=>({...X,[I]:G})),T=()=>{!b?.from_location||!b?.to_location||(s(I=>({...I,routes:[...I.routes,b]})),x(null),A(""))},U=I=>s(G=>{const X=[...G.routes];return X.splice(I,1),{...G,routes:X}}),k=()=>{if(!w?.vehicle_type||!w?.vehicle_number){A("Vehicle Type and Number are required.");return}if(w.image&&!$B(w.image)){A("Vehicle image must be smaller than 250KB");return}s(I=>({...I,vehicles:[...I.vehicles,w]})),B(null),A("")},q=I=>s(G=>{const X=[...G.vehicles];return X.splice(I,1),{...G,vehicles:X}}),K=()=>{if(!j?.driver_name||!j?.driving_license_no){A("Driver Name and License Number are required.");return}if(j.image&&!$B(j.image)){A("Driver photo must be smaller than 250KB");return}s(I=>({...I,drivers:[...I.drivers,j]})),_(null),A("")},z=I=>s(G=>{const X=[...G.drivers];return X.splice(I,1),{...G,drivers:X}}),$=I=>{const G=new FormData;return["company_name","registration_id","company_email","contact_number_1","contact_number_2","company_type","main_office_location","Passenger_instruction","owner_name","owner_email","owner_contact_number","owner_cnic","owner_address"].forEach(ie=>G.append(ie,I[ie]??"")),I.company_logo instanceof File?G.append("company_logo",I.company_logo):(I.company_logo===null||I.company_logo==="")&&G.append("company_logo",""),G.append("agreement_accepted",I.agreement_accepted?"true":"false"),G.append("is_submitted",I.is_submitted?"true":"false"),G.append("routes",JSON.stringify(I.routes||[])),G.append("vehicles",JSON.stringify(I.vehicles?.map(ie=>({vehicle_type:ie.vehicle_type,vehicle_number:ie.vehicle_number,number_of_seats:ie.number_of_seats,id:ie.id}))||[])),G.append("drivers",JSON.stringify(I.drivers?.map(ie=>({driver_name:ie.driver_name,driver_contact_number:ie.driver_contact_number,driver_cnic:ie.driver_cnic,driving_license_no:ie.driving_license_no,id:ie.id}))||[])),(I.vehicles||[]).forEach((ie,ge)=>{ie.image instanceof File&&G.append(`vehicle_images_${ge}`,ie.image)}),(I.drivers||[]).forEach((ie,ge)=>{ie.image instanceof File&&G.append(`driver_images_${ge}`,ie.image)}),G},D=async()=>{a(!0),o(""),A("");try{const I=$({...t,is_submitted:!1}),G={Authorization:`Bearer ${localStorage.getItem("access_token")}`};let X;t.id?X=await Kt.patch(`auth/CompanyDetail/${t.id}/`,I,{headers:G}):X=await Kt.post("auth/CompanyDetail/",I,{headers:G}),s(ie=>({...ie,...X.data,company_logo:X.data.company_logo||ie.company_logo})),o("Draft saved successfully! ")}catch(I){console.error("Save Draft Error:",I),A(YB(I,"Error saving draft. Please check your inputs."))}finally{a(!1)}},L=()=>{if(!t.company_name||!t.owner_name||t.routes.length===0||t.vehicles.length===0||t.drivers.length===0){A("Please fill in Company/Owner details, and add at least one Route, Vehicle, and Driver before submitting.");return}h(!0),A("")},R=async()=>{a(!0),o(""),A("");try{const I=$({...t,is_submitted:!0}),G={Authorization:`Bearer ${localStorage.getItem("access_token")}`};let X;t.id?X=await Kt.patch(`auth/CompanyDetail/${t.id}/`,I,{headers:G}):X=await Kt.post("auth/CompanyDetail/",I,{headers:G}),o("Submitted for admin review! "),h(!1),s(ie=>({...ie,...X.data,company_logo:X.data.company_logo||ie.company_logo}))}catch(I){console.error("Submit Error:",I),A(YB(I,"Submit failed . Please check required fields."))}finally{a(!1)}},P=()=>{window.confirm("Are you sure you want to clear the entire form? This action cannot be undone unless you have a saved draft.")&&(s(Eb),o("Form cleared. You can now start over."),A(""))},re=S.useMemo(()=>({Company:[["Company Name",t.company_name||""],["Registration ID",t.registration_id||""],["Email",t.company_email||""],["Contact #1",t.contact_number_1||""],["Contact #2",t.contact_number_2||""],["Company Type",t.company_type==="offer_seats"?"Offer Seats":"Offer Vehicle"],["Main Office",t.main_office_location||""],["Passenger Instruction",t.Passenger_instruction||""],["Company Logo",t.company_logo?t.company_logo.name||"Uploaded/Existing":""]],Owner:[["Name",t.owner_name||""],["Email",t.owner_email||""],["Contact",t.owner_contact_number||""],["CNIC",t.owner_cnic||""],["Address",t.owner_address||""]],Routes:(t.routes||[]).map(I=>[`${I.from_location||""}  ${I.to_location||""}`]),Vehicles:(t.vehicles||[]).map(I=>[I.vehicle_type?.charAt(0).toUpperCase()+I.vehicle_type?.slice(1)||"",I.vehicle_number||"",I.number_of_seats||"",I.image?I.image.name||"Image Uploaded":""]),Drivers:(t.drivers||[]).map(I=>[I.driver_name||"",I.driver_contact_number||"",I.driver_cnic||"",I.driving_license_no||"",I.image?I.image.name||"Image Uploaded":""])}),[t]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[e.jsx(vG,{currentStep:f}),(i||c)&&e.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-2xl px-4",children:e.jsxs(ui,{children:[i&&e.jsx(nt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"mb-2 p-4 bg-green-50 border border-green-200 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zs,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("span",{className:"text-green-800 font-medium",children:i})]})}),c&&e.jsx(nt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"p-4 bg-red-50 border border-red-200 rounded-xl shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nn,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("span",{className:"text-red-800 font-medium",children:c})]})})]})}),e.jsx("div",{className:`max-w-4xl mx-auto px-4 py-8 ${u?"opacity-30 pointer-events-none":""}`,children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{ref:I=>Q.current[0]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mr-4",children:e.jsx(Zo,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Company Information"}),e.jsx("p",{className:"text-gray-600",children:"Basic details about your company"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(dr,{label:"Company Name *",required:!0,icon:e.jsx(Zo,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"Enter company name",value:t.company_name,onChange:I=>{yG(I.target.value)&&E("company_name",I.target.value)}})}),e.jsx(dr,{label:"Registration ID",icon:e.jsx(Z0,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"Enter registration ID",value:t.registration_id,onChange:I=>E("registration_id",I.target.value)})}),e.jsx(dr,{label:"Company Email",icon:e.jsx(ln,{className:"h-5 w-5"}),children:e.jsx(Ha,{type:"email",placeholder:"company@example.com",value:t.company_email,onChange:I=>E("company_email",I.target.value)})}),e.jsx(dr,{label:"Contact Number 1 *",required:!0,icon:e.jsx(Ls,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"03XXXXXXXXX",value:t.contact_number_1,onChange:I=>E("contact_number_1",I.target.value)})}),e.jsx(dr,{label:"Contact Number 2",icon:e.jsx(Ls,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"Optional",value:t.contact_number_2,onChange:I=>E("contact_number_2",I.target.value)})}),e.jsx(dr,{label:"Company Type",icon:e.jsx(tc,{className:"h-5 w-5"}),children:e.jsxs("select",{className:"form-select",value:t.company_type,onChange:I=>E("company_type",I.target.value),children:[e.jsx("option",{value:"offer_vehicle",children:"Offer Vehicle (Whole Hire)"}),e.jsx("option",{value:"offer_seats",children:"Offer Seats (Individual)"})]})}),e.jsx(dr,{label:"Main Office Location",icon:e.jsx(Yt,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"e.g., Gilgit",value:t.main_office_location,onChange:I=>E("main_office_location",I.target.value)})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Company Logo",icon:e.jsx(WA,{className:"h-5 w-5"}),children:e.jsx(Fb,{file:t.company_logo,onChange:I=>E("company_logo",I),accept:"image/*",maxSize:250,label:"Upload company logo (max 250KB)"})})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Passenger Instructions",icon:e.jsx(tc,{className:"h-5 w-5"}),children:e.jsx("textarea",{className:"form-textarea h-32",placeholder:"Important information for passengers...",value:t.Passenger_instruction,onChange:I=>E("Passenger_instruction",I.target.value)})})})]})]}),e.jsxs("section",{ref:I=>Q.current[1]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4",children:e.jsx(rs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Owner Information"}),e.jsx("p",{className:"text-gray-600",children:"Details about company owner/registrar"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(dr,{label:"Owner Name *",required:!0,icon:e.jsx(rs,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"Enter owner's full name",value:t.owner_name,onChange:I=>E("owner_name",I.target.value)})}),e.jsx(dr,{label:"Owner Email",icon:e.jsx(ln,{className:"h-5 w-5"}),children:e.jsx(Ha,{type:"email",placeholder:"owner@example.com",value:t.owner_email,onChange:I=>E("owner_email",I.target.value)})}),e.jsx(dr,{label:"Owner Contact",icon:e.jsx(Ls,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"03XXXXXXXXX",value:t.owner_contact_number,onChange:I=>E("owner_contact_number",I.target.value)})}),e.jsx(dr,{label:"Owner CNIC",icon:e.jsx(Z0,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"XXXXX-XXXXXXX-X",value:t.owner_cnic,onChange:I=>E("owner_cnic",I.target.value)})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Owner Address",icon:e.jsx(Yt,{className:"h-5 w-5"}),children:e.jsx(Ha,{placeholder:"Full residential address",value:t.owner_address,onChange:I=>E("owner_address",I.target.value)})})})]})]}),e.jsxs("section",{ref:I=>Q.current[2]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-4",children:e.jsx(Cu,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Routes"}),e.jsx("p",{className:"text-gray-600",children:"Add your company routes (Minimum 1 required)"})]})]}),e.jsxs("button",{onClick:()=>x({from_location:"",to_location:""}),className:"btn-primary",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add Route"]})]}),t.routes.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl",children:[e.jsx(Cu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No routes added"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add at least one route to continue"}),e.jsxs("button",{onClick:()=>x({from_location:"",to_location:""}),className:"btn-outline",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add First Route"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.routes.map((I,G)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-green-500 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-green-600 font-bold",children:G+1})}),e.jsxs("span",{className:"font-medium text-gray-900",children:["Route ",G+1]})]}),e.jsx("button",{onClick:()=>U(G),className:"text-red-500 hover:text-red-700",children:e.jsx(bx,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-500 w-20",children:"From:"}),e.jsx("span",{className:"font-medium",children:I.from_location})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-500 w-20",children:"To:"}),e.jsx("span",{className:"font-medium",children:I.to_location})]})]})]},G))})]}),e.jsxs("section",{ref:I=>Q.current[3]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center mr-4",children:e.jsx(gs,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Vehicles"}),e.jsx("p",{className:"text-gray-600",children:"Add your company vehicles (Minimum 1 required)"})]})]}),e.jsxs("button",{onClick:()=>B({vehicle_type:Sb[0],vehicle_number:"",number_of_seats:"",image:null}),className:"btn-primary",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add Vehicle"]})]}),t.vehicles.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl",children:[e.jsx(gs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No vehicles added"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add at least one vehicle to continue"}),e.jsxs("button",{onClick:()=>B({vehicle_type:Sb[0],vehicle_number:"",number_of_seats:"",image:null}),className:"btn-outline",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add First Vehicle"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.vehicles.map((I,G)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 hover:border-orange-500 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 font-bold",children:G+1})}),e.jsx("span",{className:"font-bold text-gray-900",children:I.vehicle_type?.charAt(0).toUpperCase()+I.vehicle_type?.slice(1)})]}),e.jsxs("div",{className:"space-y-1 ml-11",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-500 w-20",children:"Number:"}),e.jsx("span",{className:"font-medium",children:I.vehicle_number})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-500 w-20",children:"Seats:"}),e.jsx("span",{className:"font-medium",children:I.number_of_seats})]})]})]}),e.jsx("button",{onClick:()=>q(G),className:"text-red-500 hover:text-red-700",children:e.jsx(bx,{className:"h-4 w-4"})})]}),I.image&&e.jsx("div",{className:"mt-4 p-2 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(WA,{className:"h-4 w-4 mr-2"}),I.image.name||"Image uploaded"]})})]},G))})]}),e.jsxs("section",{ref:I=>Q.current[4]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-4",children:e.jsx(Gt,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Drivers"}),e.jsx("p",{className:"text-gray-600",children:"Add your company drivers (Minimum 1 required)"})]})]}),e.jsxs("button",{onClick:()=>_({driver_name:"",driver_contact_number:"",driver_cnic:"",driving_license_no:"",image:null}),className:"btn-primary",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add Driver"]})]}),t.drivers.length===0?e.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-xl",children:[e.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drivers added"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Add at least one driver to continue"}),e.jsxs("button",{onClick:()=>_({driver_name:"",driver_contact_number:"",driver_cnic:"",driving_license_no:"",image:null}),className:"btn-outline",children:[e.jsx(Di,{className:"h-5 w-5 mr-2"}),"Add First Driver"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.drivers.map((I,G)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 hover:border-purple-500 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-4",children:e.jsx(rs,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:I.driver_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Driver ",G+1]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 ml-14",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500 block",children:"Contact:"}),e.jsx("span",{className:"font-medium",children:I.driver_contact_number||""})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500 block",children:"CNIC:"}),e.jsx("span",{className:"font-medium",children:I.driver_cnic||""})]}),e.jsxs("div",{className:"text-sm col-span-2",children:[e.jsx("span",{className:"text-gray-500 block",children:"License #:"}),e.jsx("span",{className:"font-medium",children:I.driving_license_no})]})]})]}),e.jsx("button",{onClick:()=>z(G),className:"text-red-500 hover:text-red-700 ml-4",children:e.jsx(bx,{className:"h-4 w-4"})})]}),I.image&&e.jsx("div",{className:"mt-4 p-2 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(WA,{className:"h-4 w-4 mr-2"}),I.image.name||"Photo uploaded"]})})]},G))})]}),e.jsxs("section",{ref:I=>Q.current[5]=I,className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mr-4",children:e.jsx(wa,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agreement & Submission"}),e.jsx("p",{className:"text-gray-600",children:"Review and submit your application"})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start mb-6",children:[e.jsx("input",{type:"checkbox",id:"agreement",checked:t.agreement_accepted,onChange:I=>E("agreement_accepted",I.target.checked),className:"mt-1 w-5 h-5 text-green-600 rounded focus:ring-green-500"}),e.jsxs("label",{htmlFor:"agreement",className:"ml-3",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Terms & Conditions"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:"I certify that the information provided is true and accurate to the best of my knowledge. I understand that providing false information may lead to rejection or suspension of access to CTMS_GB services. CTMS_GB may verify my details and contact me for clarifications. I have read and accept the Terms & Conditions and Privacy Policy."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:P,className:"btn-secondary flex-1",children:"Clear All"}),e.jsxs("button",{onClick:D,disabled:r,className:"btn-warning flex-1",children:[e.jsx(c1,{className:"h-5 w-5 mr-2"}),r?"Saving...":t.id?"Update Draft":"Save Draft"]}),e.jsxs("button",{onClick:L,disabled:!t.agreement_accepted||r,className:"btn-success flex-1",children:[e.jsx(a_,{className:"h-5 w-5 mr-2"}),"Submit for Review"]})]})]})]})]})}),e.jsx(ui,{children:b&&e.jsx(F0,{onClose:()=>x(null),title:"Add New Route",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(dr,{label:"From Location",children:e.jsxs("select",{className:"form-select",value:b.from_location,onChange:I=>x(G=>({...G,from_location:I.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select starting point"}),qB.map(I=>e.jsx("option",{value:I,children:I},I))]})}),e.jsx(dr,{label:"To Location",children:e.jsxs("select",{className:"form-select",value:b.to_location,onChange:I=>x(G=>({...G,to_location:I.target.value})),children:[e.jsx("option",{value:"",disabled:!0,children:"Select destination"}),qB.map(I=>e.jsx("option",{value:I,children:I},I))]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>x(null),children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:T,disabled:!b.from_location||!b.to_location,children:"Add Route"})]})]})})}),e.jsx(ui,{children:w&&e.jsx(F0,{onClose:()=>B(null),title:"Add New Vehicle",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(dr,{label:"Vehicle Type *",children:e.jsx("select",{className:"form-select",value:w.vehicle_type,onChange:I=>B(G=>({...G,vehicle_type:I.target.value})),children:Sb.map(I=>e.jsx("option",{value:I,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})}),e.jsx(dr,{label:"Vehicle Number *",children:e.jsx(Ha,{placeholder:"e.g., LE-1234",value:w.vehicle_number,onChange:I=>B(G=>({...G,vehicle_number:I.target.value}))})}),e.jsx(dr,{label:"Number of Seats",children:e.jsx(Ha,{type:"number",placeholder:"e.g., 14",value:w.number_of_seats,onChange:I=>B(G=>({...G,number_of_seats:I.target.value}))})}),e.jsx(dr,{label:"Vehicle Image",children:e.jsx(Fb,{file:w.image,onChange:I=>B(G=>({...G,image:I})),accept:"image/*",maxSize:250,label:"Upload vehicle image (max 250KB)"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>B(null),children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:k,disabled:!w.vehicle_type||!w.vehicle_number,children:"Add Vehicle"})]})]})})}),e.jsx(ui,{children:j&&e.jsx(F0,{onClose:()=>_(null),title:"Add New Driver",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(dr,{label:"Driver Name *",children:e.jsx(Ha,{placeholder:"Full name",value:j.driver_name,onChange:I=>_(G=>({...G,driver_name:I.target.value}))})}),e.jsx(dr,{label:"Driver Contact",children:e.jsx(Ha,{placeholder:"03XXXXXXXXX",value:j.driver_contact_number,onChange:I=>_(G=>({...G,driver_contact_number:I.target.value}))})}),e.jsx(dr,{label:"Driver CNIC",children:e.jsx(Ha,{placeholder:"XXXXX-XXXXXXX-X",value:j.driver_cnic,onChange:I=>_(G=>({...G,driver_cnic:I.target.value}))})}),e.jsx(dr,{label:"License Number *",children:e.jsx(Ha,{placeholder:"Driver's license number",value:j.driving_license_no,onChange:I=>_(G=>({...G,driving_license_no:I.target.value}))})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(dr,{label:"Driver Photo",children:e.jsx(Fb,{file:j.image,onChange:I=>_(G=>({...G,image:I})),accept:"image/*",maxSize:250,label:"Upload driver photo (max 250KB)"})})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>_(null),children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:K,disabled:!j.driver_name||!j.driving_license_no,children:"Add Driver"})]})]})})}),e.jsx(ui,{children:u&&e.jsx(F0,{onClose:()=>h(!1),title:"Review & Submit Application",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nn,{className:"h-5 w-5 text-blue-600 mr-3"}),e.jsx("p",{className:"text-blue-800 font-medium",children:"Please review all details carefully before submitting."})]})}),e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto space-y-8 pr-2",children:[e.jsx(XB,{title:"Company Details",data:re.Company}),e.jsx(XB,{title:"Owner Details",data:re.Owner}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4",children:["Routes (",re.Routes.length,")"]}),re.Routes.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:re.Routes.map((I,G)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Cu,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsx("span",{className:"font-medium",children:I[0]})]})},G))}):e.jsx("p",{className:"text-red-500 text-sm",children:"No routes added!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4",children:["Vehicles (",re.Vehicles.length,")"]}),re.Vehicles.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Type"}),e.jsx("th",{className:"p-3 text-left",children:"Number"}),e.jsx("th",{className:"p-3 text-left",children:"Seats"}),e.jsx("th",{className:"p-3 text-left",children:"Image"})]})}),e.jsx("tbody",{children:re.Vehicles.map((I,G)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:I[0]}),e.jsx("td",{className:"p-3",children:I[1]}),e.jsx("td",{className:"p-3",children:I[2]}),e.jsx("td",{className:"p-3",children:I[3]})]},G))})]})}):e.jsx("p",{className:"text-red-500 text-sm",children:"No vehicles added!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4",children:["Drivers (",re.Drivers.length,")"]}),re.Drivers.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left",children:"Name"}),e.jsx("th",{className:"p-3 text-left",children:"Contact"}),e.jsx("th",{className:"p-3 text-left",children:"CNIC"}),e.jsx("th",{className:"p-3 text-left",children:"License"}),e.jsx("th",{className:"p-3 text-left",children:"Photo"})]})}),e.jsx("tbody",{children:re.Drivers.map((I,G)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:I[0]}),e.jsx("td",{className:"p-3",children:I[1]}),e.jsx("td",{className:"p-3",children:I[2]}),e.jsx("td",{className:"p-3",children:I[3]}),e.jsx("td",{className:"p-3",children:I[4]})]},G))})]})}):e.jsx("p",{className:"text-red-500 text-sm",children:"No drivers added!"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[e.jsx("button",{className:"btn-secondary",onClick:()=>h(!1),disabled:r,children:"Cancel"}),e.jsx("button",{className:"btn-success",onClick:R,disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Confirm Submission"})]})]})})})]})}function F0({children:t,onClose:s,title:r}){return e.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),e.jsxs(nt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden z-10",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Is,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:t})]})]})}function dr({label:t,children:s,icon:r,required:a}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("div",{className:"flex items-center",children:[r&&e.jsx("span",{className:"mr-2 text-gray-500",children:r}),t,a&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),s]})}function Ha(t){return e.jsx("input",{...t,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition"})}function Fb({file:t,onChange:s,accept:r,maxSize:a,label:i}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:border-indigo-400 transition-colors",children:[e.jsx(WA,{className:"h-8 w-8 text-gray-400 mx-auto mb-3"}),e.jsx("div",{className:"text-sm text-gray-600",children:t?t.name:i}),t&&e.jsxs("div",{className:"mt-2 text-xs text-green-600",children:[" File selected (",Math.round(t.size/1024),"KB)"]}),e.jsx("input",{type:"file",accept:r,className:"hidden",onChange:o=>{const c=o.target.files?.[0];c&&(c.size>a*1024?(alert(`File must be smaller than ${a}KB`),o.target.value=null):s(c))}})]})}),t&&e.jsx("button",{type:"button",onClick:()=>s(null),className:"text-sm text-red-600 hover:text-red-800",children:"Remove file"})]})}function XB({title:t,data:s}){return e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:t}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:s.map((r,a)=>e.jsxs("div",{className:`flex ${a%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("div",{className:"w-1/3 px-4 py-3 border-r border-gray-200 text-gray-600",children:r[0]}),e.jsx("div",{className:"w-2/3 px-4 py-3 font-medium",children:r[1]})]},a))})]})}function YB(t,s){if(t?.response?.data)try{const r=t.response.data;return typeof r=="object"&&!Array.isArray(r)?Object.entries(r).map(([a,i])=>`${a.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())}: ${Array.isArray(i)?i.join(", "):i}`).join(" | "):Array.isArray(r)?r.join(", "):r.toString()}catch{return s}return s}const NG=`
  .btn-primary {
    @apply px-5 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-colors flex items-center justify-center;
  }
  .btn-secondary {
    @apply px-5 py-3 bg-gray-200 text-gray-800 font-medium rounded-xl hover:bg-gray-300 transition-colors;
  }
  .btn-success {
    @apply px-5 py-3 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors flex items-center justify-center;
  }
  .btn-warning {
    @apply px-5 py-3 bg-yellow-500 text-white font-medium rounded-xl hover:bg-yellow-600 transition-colors flex items-center justify-center;
  }
  .btn-outline {
    @apply px-5 py-2 border-2 border-indigo-600 text-indigo-600 font-medium rounded-xl hover:bg-indigo-50 transition-colors flex items-center justify-center;
  }
  .form-select {
    @apply w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition;
  }
  .form-textarea {
    @apply w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition resize-none;
  }
`,aS=document.createElement("style");aS.innerText=NG;document.head.appendChild(aS);const jG=()=>{const[t,s]=S.useState([]),[r,a]=S.useState(!1),[i,o]=S.useState(null),[c,A]=S.useState(null),[u,h]=S.useState(!1),f={vehicle_type:"",vehicle_number:"",number_of_seats:"",details:"",image:null,features:{AC:!1,WiFi:!1,RecliningSeats:!1,ChargingPorts:!1,FreeWaterBottle:!1}},[g,b]=S.useState(f),x=Object.keys(f.features),w={AC:o5,WiFi:eA,RecliningSeats:Su,ChargingPorts:CL,FreeWaterBottle:Nk},B=async()=>{try{const k=await Kt.get("/auth/vehicles/");s(k.data)}catch(k){console.error("Fetch error:",k.response?.data||k.message)}};S.useEffect(()=>{B()},[]);const j=k=>{const{name:q,value:K,type:z,checked:$,files:D}=k.target;q in g.features?b(L=>({...L,features:{...L.features,[q]:$}})):b(z==="file"?L=>({...L,image:D[0]}):L=>({...L,[q]:K}))},_=async k=>{k.preventDefault(),h(!0);const q=new FormData;Object.entries(g).forEach(([K,z])=>{K==="features"?q.append("features",JSON.stringify(z)):K==="image"&&z!==null?q.append("image",z):K!=="image"&&q.append(K,z)});try{c?await Kt.put(`/auth/vehicles/${c.id}/`,q,{headers:{"Content-Type":"multipart/form-data"}}):await Kt.post("/vehicles/",q,{headers:{"Content-Type":"multipart/form-data"}}),a(!1),A(null),b(f),B()}catch(K){console.error("Submit error:",K.response?.data||K.message)}finally{h(!1)}},Q=async k=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await Kt.delete(`/auth/vehicles/${k}/`),B()}catch(q){console.error("Delete error:",q.response?.data||q.message)}},E=k=>{let q={};try{q=typeof k.features=="string"?JSON.parse(k.features):k.features}catch{q=f.features}A(k),o(null),a(!0),b({vehicle_type:k.vehicle_type,vehicle_number:k.vehicle_number,number_of_seats:k.number_of_seats,details:k.details||"",image:null,features:{...f.features,...q}})},T=k=>({bus:"bg-blue-100 text-blue-800",coaster:"bg-purple-100 text-purple-800",car:"bg-green-100 text-green-800",hiace:"bg-orange-100 text-orange-800"})[k]||"bg-gray-100 text-gray-800",U=k=>({bus:"",coaster:"",car:"",hiace:""})[k]||"";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6 transition-all duration-300",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg",children:e.jsx(gs,{className:"text-white",size:28})}),"Vehicle Fleet Management"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your entire vehicle fleet in one place"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl shadow-md",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Vehicles:"}),e.jsx("span",{className:"ml-2 font-bold text-lg text-gray-900",children:t.length})]}),e.jsx("button",{onClick:()=>{a(!r),A(null),b(f),o(null)},className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg transform hover:scale-105 ${r?"bg-gradient-to-r from-red-500 to-red-600 text-white hover:shadow-red-200":"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-blue-200"} flex items-center gap-2`,children:r?e.jsxs(e.Fragment,{children:[e.jsx(Is,{size:20})," Cancel"]}):e.jsxs(e.Fragment,{children:[e.jsx(Di,{size:20})," Add New Vehicle"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-md border-l-4 border-blue-500 transition-transform duration-300 hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Vehicles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(gs,{className:"text-blue-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-md border-l-4 border-green-500 transition-transform duration-300 hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Capacity"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.reduce((k,q)=>k+(parseInt(q.number_of_seats)||0),0)})]}),e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Gt,{className:"text-green-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-md border-l-4 border-purple-500 transition-transform duration-300 hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"With AC"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(k=>(typeof k.features=="string"?JSON.parse(k.features):k.features)?.AC).length})]}),e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(o5,{className:"text-purple-600",size:24})})]})}),e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-md border-l-4 border-orange-500 transition-transform duration-300 hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"With WiFi"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(k=>(typeof k.features=="string"?JSON.parse(k.features):k.features)?.WiFi).length})]}),e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(eA,{className:"text-orange-600",size:24})})]})})]})]}),r&&e.jsx("div",{className:"animate-fadeIn mb-8",children:e.jsxs("form",{onSubmit:_,className:"bg-white p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:c?"Update Vehicle Details":"Add New Vehicle"}),c&&e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:["Editing: ",c.vehicle_number]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(gs,{size:16})," Vehicle Type"]}),e.jsxs("select",{name:"vehicle_type",value:g.vehicle_type,onChange:j,required:!0,className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"bus",children:"Bus"}),e.jsx("option",{value:"coaster",children:"Coaster"}),e.jsx("option",{value:"car",children:"Car"}),e.jsx("option",{value:"hiace",children:"Hiace"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Vehicle Number"}),e.jsx("input",{type:"text",name:"vehicle_number",value:g.vehicle_number,onChange:j,className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0,placeholder:"e.g., ABC-1234"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(Gt,{size:16})," Number of Seats"]}),e.jsx("input",{type:"number",name:"number_of_seats",value:g.number_of_seats,onChange:j,className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0,min:"1"})]}),e.jsxs("div",{className:"md:col-span-3 space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Additional Details"}),e.jsx("textarea",{name:"details",value:g.details,onChange:j,className:"w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",rows:"3",placeholder:"Enter any additional information about the vehicle..."})]}),e.jsxs("div",{className:"md:col-span-3 space-y-3",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(Su,{size:16})," Vehicle Features"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4",children:x.map(k=>{const q=w[k];return e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 ${g.features[k]?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",name:k,checked:g.features[k],onChange:j,className:"hidden"}),e.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${g.features[k]?"bg-blue-500 border-blue-500":"bg-white border-gray-300"}`,children:g.features[k]&&e.jsx(l1,{size:14,className:"text-white"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-800",children:k}),q&&e.jsx(q,{size:16,className:"text-gray-500 mt-1"})]})]},k)})})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 mb-3 block",children:"Vehicle Image"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsx("label",{className:"cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col items-center justify-center w-48 h-48 border-2 border-dashed border-gray-300 rounded-2xl hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 group-hover:scale-105",children:[e.jsx("div",{className:"p-4 bg-blue-100 rounded-full mb-3",children:e.jsx(J8,{className:"text-blue-600",size:32})}),e.jsx("span",{className:"text-blue-600 font-medium",children:"Upload Image"}),e.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:j,className:"hidden"})]})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[g.image&&e.jsx("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zs,{className:"text-green-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Image Selected"}),e.jsx("p",{className:"text-sm text-green-600",children:g.image.name})]})]})}),c&&!g.image&&e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," Current image will remain unchanged unless you upload a new one."]})})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:u,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-lg transform hover:scale-[1.02] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):c?e.jsxs(e.Fragment,{children:[e.jsx(zs,{size:20})," Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(Di,{size:20})," Add Vehicle"]})}),e.jsx("button",{type:"button",onClick:()=>{a(!1),A(null),b(f)},className:"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-all duration-300",children:"Cancel"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl",children:e.jsx(Xk,{className:"text-white",size:24})}),"Current Vehicle Fleet"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Click on any vehicle to view details"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full",children:[t.length," vehicles"]})})]}),t.length===0?e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(gs,{className:"text-gray-400",size:32})}),e.jsx("h4",{className:"text-xl font-bold text-gray-700 mb-2",children:"No Vehicles Added Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your fleet by adding your first vehicle"}),e.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:[e.jsx(Di,{size:20,className:"inline mr-2"}),"Add Your First Vehicle"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(k=>{const q=typeof k.features=="string"?JSON.parse(k.features):k.features,K=Object.entries(q).filter(([z,$])=>$);return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-2xl transition-all duration-300 transform hover:translate-y-[-4px] group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[k.image?e.jsx("img",{src:k.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",alt:k.vehicle_number}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx(gs,{className:"text-blue-400",size:64})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${T(k.vehicle_type)}`,children:[U(k.vehicle_type)," ",k.vehicle_type.toUpperCase()]})}),e.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm",children:[k.number_of_seats," seats"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900",children:k.vehicle_number}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Vehicle ID: #",k.id.toString().padStart(4,"0")]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(wa,{size:14}),e.jsx("span",{className:"text-xs font-medium",children:"ACTIVE"})]})})]}),K.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[K.slice(0,3).map(([z])=>{const $=w[z];return e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg text-xs",children:[$&&e.jsx($,{size:12}),z]},z)}),K.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs",children:["+",K.length-3," more"]})]})}),k.details&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:k.details}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t border-gray-100",children:[e.jsxs("button",{onClick:()=>o(k),className:"flex-1 bg-gradient-to-r from-blue-50 to-blue-100 text-blue-700 px-4 py-2.5 rounded-xl font-medium hover:from-blue-100 hover:to-blue-200 transition-all duration-300 flex items-center justify-center gap-2 group/btn",children:[e.jsx(fi,{size:16}),"View Details",e.jsx(va,{size:14,className:"opacity-0 group-hover/btn:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>E(k),className:"p-2.5 bg-amber-50 text-amber-700 rounded-xl hover:bg-amber-100 transition-colors duration-300 tooltip",title:"Edit",children:e.jsx(s5,{size:18})}),e.jsx("button",{onClick:()=>Q(k.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors duration-300 tooltip",title:"Delete",children:e.jsx(Ru,{size:18})})]})]})]})]},k.id)})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center p-4 z-50 animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl transform transition-all duration-300 scale-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white",children:[i.vehicle_type.toUpperCase()," - ",i.vehicle_number]}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Vehicle Details"})]}),e.jsx("button",{onClick:()=>o(null),className:"p-2 bg-white/20 hover:bg-white/30 rounded-xl transition-colors duration-200",children:e.jsx(Is,{className:"text-white",size:24})})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[i.image&&e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:i.image,className:"w-full h-64 object-cover rounded-xl shadow-md",alt:i.vehicle_number})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Vehicle Type"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:i.vehicle_type})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Registration Number"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:i.vehicle_number})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Seating Capacity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"text-blue-600",size:20}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:i.number_of_seats}),e.jsx("span",{className:"text-gray-600",children:"seats"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Su,{size:20})," Features & Amenities"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(typeof i.features=="string"?JSON.parse(i.features):i.features).filter(([k,q])=>q).map(([k])=>{const q=w[k];return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:q?e.jsx(q,{className:"text-green-700",size:20}):e.jsx(zs,{className:"text-green-700",size:20})}),e.jsx("span",{className:"font-medium text-gray-900",children:k})]},k)})})]})]}),i.details&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"Additional Information"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:e.jsx("p",{className:"text-gray-700",children:i.details})})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>{E(i),o(null)},className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white py-3.5 rounded-xl font-bold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(s5,{size:20})," Edit Vehicle"]}),e.jsx("button",{onClick:()=>o(null),className:"px-8 py-3.5 border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 transition-all duration-300",children:"Close"})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        .tooltip {
          position: relative;
        }
        .tooltip:hover::after {
          content: attr(title);
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          background: rgba(0,0,0,0.8);
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          white-space: nowrap;
          margin-bottom: 5px;
        }
      `})]})},BG=({driver:t,onClose:s,onUpdateSuccess:r,onDeleteSuccess:a})=>{const[i,o]=S.useState({...t,image:null}),[c,A]=S.useState(!1),[u,h]=S.useState(""),[f,g]=S.useState("");S.useEffect(()=>{o({...t,image:null}),h(""),g("")},[t]);const b=B=>{const{name:j,value:_,files:Q}=B.target;o(E=>({...E,[j]:Q?Q[0]:_}))},x=async B=>{B.preventDefault(),A(!0),h(""),g("");try{const j=new FormData;j.append("driver_name",i.driver_name),j.append("driver_contact_number",i.driver_contact_number),j.append("driver_cnic",i.driver_cnic),j.append("driving_license_no",i.driving_license_no),i.image instanceof File&&j.append("image",i.image);const _=`/auth/drivers/${t.id}/`,Q=await Kt.patch(_,j,{headers:{"Content-Type":"multipart/form-data"}});h(" Driver updated successfully!"),r(Q.data)}catch(j){const _=j.response?.data?.detail||j.response?.data?.message||j.message;g(` Update failed: ${_}`)}finally{A(!1)}},w=async()=>{if(window.confirm(`Delete driver "${t.driver_name}" permanently?`)){A(!0),h(""),g("");try{const B=`/auth/drivers/${t.id}/`;await Kt.delete(B),a(t.id),s()}catch(B){const j=B.response?.data?.detail||B.response?.data?.message||B.message;g(` Delete failed: ${j}`)}finally{A(!1)}}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 p-4",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",onClick:B=>B.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-600 hover:text-red-600 p-1 rounded-full bg-gray-50",children:e.jsx(Is,{size:24})}),e.jsxs("h3",{className:"text-2xl font-bold mb-4 text-green-700 border-b pb-2",children:["Driver Details: ",t.driver_name]}),u&&e.jsx("p",{className:"text-green-600 mb-3 font-medium",children:u}),f&&e.jsx("p",{className:"text-red-600 mb-3 font-medium",children:f}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1 flex flex-col items-center pt-4",children:[e.jsx("img",{src:i.image instanceof File?URL.createObjectURL(i.image):t.image||"https://via.placeholder.com/200x200?text=Driver",alt:"Driver",className:"w-40 h-40 object-cover rounded-full border-4 border-green-200 shadow-md mb-4"}),e.jsxs("label",{className:"block w-full text-center",children:[e.jsx("span",{className:"text-gray-700 font-medium text-sm",children:"Change Image:"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:b,className:`mt-1 block w-full text-xs text-gray-500 file:py-1 file:px-2\r
                                file:rounded-full file:text-sm file:font-semibold\r
                                file:bg-green-50 file:text-green-700`})]})]}),e.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"block col-span-2",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Driver Name:"}),e.jsx("input",{type:"text",name:"driver_name",value:i.driver_name,onChange:b,required:!0,className:"mt-1 block w-full border p-2 rounded-lg"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Contact Number:"}),e.jsx("input",{type:"text",name:"driver_contact_number",value:i.driver_contact_number,onChange:b,required:!0,className:"mt-1 block w-full border p-2 rounded-lg"})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"CNIC:"}),e.jsx("input",{type:"text",name:"driver_cnic",value:i.driver_cnic,onChange:b,required:!0,className:"mt-1 block w-full border p-2 rounded-lg"})]}),e.jsxs("label",{className:"block col-span-2",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"License Number:"}),e.jsx("input",{type:"text",name:"driving_license_no",value:i.driving_license_no,onChange:b,required:!0,className:"mt-1 block w-full border p-2 rounded-lg"})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3 flex justify-end gap-4 pt-3 border-t mt-4",children:[e.jsxs("button",{type:"button",onClick:w,disabled:c,className:`flex items-center gap-2 bg-red-600 hover:bg-red-700 \r
                            text-white py-2 px-4 rounded-full font-semibold`,children:[c?e.jsx(lo,{className:"animate-spin",size:20}):e.jsx(Ru,{size:20}),"Delete"]}),e.jsxs("button",{type:"submit",disabled:c,className:`flex items-center gap-2 bg-green-600 hover:bg-green-700 \r
                            text-white py-2 px-4 rounded-full font-semibold`,children:[c?e.jsx(lo,{className:"animate-spin",size:20}):e.jsx(c1,{size:20}),"Save Changes"]})]})]})]})})},_G=()=>{const[t,s]=S.useState([]),[r,a]=S.useState(!1),[i,o]=S.useState(null),[c,A]=S.useState(!1),[u,h]=S.useState(!0),[f,g]=S.useState(""),[b,x]=S.useState(""),[w,B]=S.useState({driver_name:"",driver_contact_number:"",driver_cnic:"",driving_license_no:"",image:null}),j=async()=>{h(!0),g(""),x("");try{const U=await Kt.get("/auth/my-drivers/");s(Array.isArray(U.data)?U.data:[])}catch(U){console.error(" Error fetching drivers:",U),x("Failed to load drivers. Please try again.")}finally{h(!1)}};S.useEffect(()=>{j()},[]);const _=U=>{s(k=>k.map(q=>q.id===U.id?U:q)),o(U),g(` Driver ${U.driver_name} updated successfully!`),setTimeout(()=>g(""),3e3)},Q=U=>{s(k=>k.filter(q=>q.id!==U)),o(null),g(" Driver deleted successfully!"),setTimeout(()=>g(""),3e3)},E=U=>{const{name:k,value:q,files:K}=U.target;B(z=>({...z,[k]:K?K[0]:q}))},T=async U=>{U.preventDefault(),A(!0),g(""),x("");try{const k=new FormData;Object.keys(w).forEach(K=>{w[K]&&k.append(K,w[K])});const q=await Kt.post("/drivers/",k,{headers:{"Content-Type":"multipart/form-data"}});s(K=>[...K,q.data]),g(" Driver added successfully!"),B({driver_name:"",driver_contact_number:"",driver_cnic:"",driving_license_no:"",image:null}),a(!1),setTimeout(()=>g(""),3e3)}catch(k){console.error(k),x("Failed to add driver. Please check the information.")}finally{A(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-4 md:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8 md:mb-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Driver Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your drivers, view details, and track their status"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"bg-white px-4 py-2 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Drivers"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white px-5 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 group",children:[e.jsx(Di,{size:20,className:"group-hover:rotate-90 transition-transform"}),e.jsx("span",{className:"font-semibold",children:"Add Driver"})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-3",children:[f&&e.jsx("div",{className:"bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3 rounded-xl shadow-sm animate-fadeIn",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),f]})}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl shadow-sm animate-fadeIn",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),b]})})]}),u?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 md:py-20",children:[e.jsxs("div",{className:"relative",children:[e.jsx(lo,{className:"w-12 h-12 text-emerald-600 animate-spin"}),e.jsx("div",{className:"absolute inset-0 border-4 border-emerald-200 rounded-full animate-ping opacity-20"})]}),e.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Loading drivers..."})]}):t.length===0?e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 md:p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No drivers yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first driver to get started managing your fleet"}),e.jsxs("button",{onClick:()=>a(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg font-medium inline-flex items-center gap-2 transition-colors",children:[e.jsx(Di,{size:18}),"Add First Driver"]})]})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 md:gap-6",children:t.map(U=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-200 overflow-hidden group hover:border-emerald-200",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200",children:[U.image?e.jsx("img",{src:U.image,alt:U.driver_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(rs,{className:"w-20 h-20 text-gray-400"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:U.driver_name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-1 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Professional Driver"})]})]}),e.jsx("button",{onClick:()=>o(U),className:"bg-gray-100 hover:bg-emerald-600 hover:text-white text-gray-700 p-2 rounded-lg transition-all duration-300 group/btn",children:e.jsx(eg,{size:18,className:"group-hover/btn:rotate-12 transition-transform"})})]}),e.jsxs("div",{className:"space-y-3 mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-lg flex items-center justify-center",children:e.jsx(Ls,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Contact Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:U.driver_contact_number||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(Z0,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"CNIC Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:U.driver_cnic||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center",children:e.jsx(gs,{className:"w-5 h-5 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"License Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:U.driving_license_no||"N/A"})]})]})]}),e.jsxs("button",{onClick:()=>o(U),className:"w-full bg-gradient-to-r from-gray-900 to-gray-800 hover:from-emerald-700 hover:to-teal-700 text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all duration-300 group/action",children:[e.jsx("span",{children:"View Full Details"}),e.jsx(tc,{size:18,className:"group-hover/action:translate-x-1 transition-transform"})]})]})]},U.id))}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden",onClick:U=>U.stopPropagation(),children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Add New Driver"}),e.jsx("p",{className:"text-emerald-100 mt-1",children:"Fill in the driver details below"})]}),e.jsx("button",{onClick:()=>a(!1),className:"hover:bg-white/20 p-2 rounded-full transition-colors",children:e.jsx(Is,{size:24})})]})}),e.jsx("form",{onSubmit:T,className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(rs,{size:16}),"Driver Name *"]}),e.jsx("input",{type:"text",name:"driver_name",placeholder:"John Doe",value:w.driver_name,onChange:E,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(Ls,{size:16}),"Contact Number *"]}),e.jsx("input",{type:"text",name:"driver_contact_number",placeholder:"+1 (555) 123-4567",value:w.driver_contact_number,onChange:E,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(Z0,{size:16}),"CNIC *"]}),e.jsx("input",{type:"text",name:"driver_cnic",placeholder:"12345-6789012-3",value:w.driver_cnic,onChange:E,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[e.jsx(gs,{size:16}),"License Number *"]}),e.jsx("input",{type:"text",name:"driving_license_no",placeholder:"DL-2024-ABC123",value:w.driving_license_no,onChange:E,required:!0,className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Driver Photo"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center hover:border-emerald-500 transition-colors cursor-pointer",children:[e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:E,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(rs,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 mb-2",children:w.image?w.image.name:"Click to upload driver photo"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 5MB"})]})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(lo,{className:"w-5 h-5 animate-spin"}),"Adding Driver..."]}):"Add Driver to Fleet"})]})})]})}),i&&e.jsx(BG,{driver:i,onClose:()=>o(null),onUpdateSuccess:_,onDeleteSuccess:Q})]})})},CG=["Skardu","Gilgit","Shigar","Hunza","Nagar","Khaplu","Chilas","Astor","Islamabad/Rawalpindi","Gizer"];function SG(){const[t,s]=S.useState([]),[r,a]=S.useState(""),[i,o]=S.useState(""),[c,A]=S.useState(!1),[u,h]=S.useState(!1),[f,g]=S.useState(""),b=CG.map(j=>e.jsx("option",{value:j,children:j},j)),x=async()=>{try{h(!0);const j=await Kt.get("/routes/");s(j.data)}catch(j){console.error("Failed to fetch routes:",j),g("Failed to load routes.")}finally{h(!1)}};S.useEffect(()=>{x()},[]);const w=async()=>{if(g(""),!r||!i)return g("Select both From & To locations.");if(r===i)return g("From & To cannot be the same.");if(t.some(_=>_.from_location===r&&_.to_location===i||_.from_location===i&&_.to_location===r))return g("This route already exists!");const j={from_location:r,to_location:i};A(!0);try{await Kt.post("/routes/",j),a(""),o(""),x()}catch(_){console.error("Add route failed:",_),g(_.response?.data?.detail||"Failed to add route.")}finally{A(!1)}},B=j=>{if(!window.confirm("Are you sure you want to delete this route?"))return;const _=localStorage.getItem("access_token");if(!_)return g("You are not authorized.");Kt.delete(`/auth/routes/${j.id}/`,{headers:{Authorization:`Bearer ${_}`}}).then(()=>s(Q=>Q.filter(E=>E.id!==j.id))).catch(Q=>{console.error("Failed to delete route:",Q.response||Q.message),g(Q.response?.data?.detail||"Failed to delete route.")})};return e.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-6 border border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Yt,{size:20})," Route Management"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium mb-1",children:"From Location"}),e.jsxs("select",{value:r,onChange:j=>a(j.target.value),className:"border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select"}),b]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"font-medium mb-1",children:"To Location"}),e.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select"}),b]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:w,disabled:c,className:`bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 ${c?"opacity-70 cursor-not-allowed":""}`,children:[e.jsx(Di,{size:18})," ",c?"Adding...":"Add Route"]})})]}),f&&e.jsx("p",{className:"text-red-600 mb-3",children:f}),u?e.jsx("p",{className:"text-gray-500",children:"Loading routes..."}):t.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No routes added yet."}):e.jsx("ul",{className:"space-y-3",children:t.map(j=>(console.log("Route from backend:",j),e.jsxs("li",{className:"border border-gray-300 rounded-lg p-3 flex justify-between items-center bg-gray-50 hover:bg-gray-100",children:[e.jsxs("span",{className:"font-medium",children:[j.from_location,"  ",j.to_location]}),e.jsx("button",{onClick:()=>B(j),className:"text-red-600 hover:text-red-700",children:e.jsx(Ru,{size:18})})]},j.id||j.from_location+j.to_location)))})]})}const EG=(t,s,r=null,a=null)=>{const i=new FormData;return s.forEach(o=>{t[o]!==void 0&&i.append(o,t[o]===null?"":t[o])}),r&&i.append("company_logo",r),a&&i.append("company_banner",a),i},nS=({user:t,fetchUser:s})=>{const[r,a]=S.useState("company"),[i,o]=S.useState(null),[c,A]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(null),[b,x]=S.useState(null),[w,B]=S.useState({company_name:"",company_email:"",contact_number_1:"",contact_number_2:"",main_office_location:"",owner_name:"",owner_email:"",owner_contact_number:"",owner_cnic:"",owner_address:"",payment_type:"BOTH",easypaisa_name:"",easypaisa_number:"",jazzcash_name:"",jazzcash_number:"",bank_name:"",bank_account_title:"",bank_account_number:"",bank_iban:""}),[j,_]=S.useState(!0),[Q,E]=S.useState({old_password:"",new_password:"",confirm_password:""}),[T,U]=S.useState(!1),k=(L,R="success")=>{o({text:L,type:R}),setTimeout(()=>o(null),5e3)};S.useEffect(()=>{(async()=>{try{const P=(await Kt.get("auth/my-company-detail/")).data;x(P),B(re=>({...re,company_name:P.company_name??"",company_email:P.company_email??"",contact_number_1:P.contact_number_1??"",contact_number_2:P.contact_number_2??"",main_office_location:P.main_office_location??"",owner_name:P.owner_name??"",owner_email:P.owner_email??"",owner_contact_number:P.owner_contact_number??"",owner_cnic:P.owner_cnic??"",owner_address:P.owner_address??"",payment_type:P.payment_type??"BOTH",easypaisa_name:P.easypaisa_name??"",easypaisa_number:P.easypaisa_number??"",jazzcash_name:P.jazzcash_name??"",jazzcash_number:P.jazzcash_number??"",bank_name:P.bank_name??"",bank_account_title:P.bank_account_title??"",bank_account_number:P.bank_account_number??"",bank_iban:P.bank_iban??""})),console.log("the response is",P,"this is total")}catch(R){console.error("Failed to load company:",R),k("Failed to load company data.","error")}finally{_(!1)}})()},[]);const q=L=>{const{name:R,value:P}=L.target;B(re=>({...re,[R]:P}))},K=async L=>{L.preventDefault();const P=EG(w,["company_name","company_email","contact_number_1","contact_number_2","main_office_location"],u,f);try{const re=await Kt.put("auth/update-my-company-detail/",P,{headers:{"Content-Type":"multipart/form-data"}});x(re.data),B(I=>({...I,company_name:re.data.company_name??I.company_name,company_email:re.data.company_email??I.company_email,contact_number_1:re.data.contact_number_1??I.contact_number_1,contact_number_2:re.data.contact_number_2??I.contact_number_2,main_office_location:re.data.main_office_location??I.main_office_location})),h(null),g(null),s&&await s(),k("Company details updated successfully!")}catch(re){console.log(re),k("Failed to update company details.","error")}},z=async L=>{L.preventDefault();const R=["owner_name","owner_email","owner_contact_number","owner_cnic","owner_address"],P={};R.forEach(re=>P[re]=w[re]);try{const re=await Kt.put("auth/update-my-company-detail/",P);x(re.data),B(I=>({...I,owner_name:re.data.owner_name??I.owner_name,owner_email:re.data.owner_email??I.owner_email,owner_contact_number:re.data.owner_contact_number??I.owner_contact_number,owner_cnic:re.data.owner_cnic??I.owner_cnic,owner_address:re.data.owner_address??I.owner_address})),k("Owner details updated!")}catch(re){console.error(re),k("Failed to update owner info.","error")}},$=async L=>{L.preventDefault();const R={payment_type:w.payment_type,easypaisa_name:w.easypaisa_name,easypaisa_number:w.easypaisa_number,jazzcash_name:w.jazzcash_name,jazzcash_number:w.jazzcash_number,bank_name:w.bank_name,bank_account_title:w.bank_account_title,bank_account_number:w.bank_account_number,bank_iban:w.bank_iban};try{const P=await Kt.put("auth/update-my-company-detail/",R);x(P.data),B(re=>({...re,payment_type:P.data.payment_type??re.payment_type,easypaisa_name:P.data.easypaisa_name??re.easypaisa_name,easypaisa_number:P.data.easypaisa_number??re.easypaisa_number,jazzcash_name:P.data.jazzcash_name??re.jazzcash_name,jazzcash_number:P.data.jazzcash_number??re.jazzcash_number,bank_name:P.data.bank_name??re.bank_name,bank_account_title:P.data.bank_account_title??re.bank_account_title,bank_account_number:P.data.bank_account_number??re.bank_account_number,bank_iban:P.data.bank_iban??re.bank_iban})),k("Payment info updated!")}catch(P){console.log(P),k("Failed to update payment info.","error")}},D={company:"bg-blue-600",owner:"bg-green-600",payment:"bg-purple-600",password:"bg-red-600"};return j?e.jsx("div",{className:"p-8 text-center",children:"Loading..."}):(f?URL.createObjectURL(f):b?.company_banner,u?URL.createObjectURL(u):b?.company_logo_url,e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 bg-gray-50 min-h-screen pt-20 lg:pt-8",children:[i&&e.jsxs("div",{className:`flex items-center p-3 sm:p-4 rounded-xl mb-4 sm:mb-6 shadow-md ${i.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i.type==="success"?e.jsx(l1,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(Is,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:i.text})]}),e.jsx("div",{className:"bg-white p-2 rounded-xl shadow-lg mb-4 sm:mb-6 grid grid-cols-2 sm:grid-cols-4 gap-2",children:["company","owner","payment","password"].map(L=>e.jsx("button",{onClick:()=>a(L),className:`px-3 py-2.5 sm:px-4 sm:py-3 rounded-lg font-bold text-xs sm:text-sm md:text-base whitespace-nowrap ${r===L?D[L]+" text-white":"text-gray-600 hover:bg-gray-100"}`,children:L==="company"?"Company":L==="owner"?"Owner":L==="payment"?"Payment Info":"Password"},L))}),e.jsxs("div",{className:"bg-white p-4 sm:p-6 md:p-8 rounded-2xl shadow-xl",children:[r==="company"&&e.jsxs("form",{onSubmit:K,className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-5",children:["company_name","company_email","contact_number_1","contact_number_2","main_office_location"].map(L=>e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"text-xs sm:text-sm font-bold block mb-1 sm:mb-2",children:L.replace(/_/g," ").toUpperCase()}),e.jsx("input",{name:L,value:w[L],onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base"})]},L))}),e.jsxs("div",{className:"pt-3 sm:pt-4 border-t",children:[e.jsxs("label",{className:"font-semibold flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(WA,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Update Logo"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:L=>{L.target.files&&L.target.files[0]&&h(L.target.files[0])},className:"mt-2 text-xs sm:text-sm w-full"}),e.jsxs("label",{className:"font-semibold mt-3 sm:mt-4 flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(WA,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Update Cover Image"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:L=>{L.target.files&&L.target.files[0]&&g(L.target.files[0])},className:"mt-2 text-xs sm:text-sm w-full"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2.5 sm:py-3 rounded-xl font-bold text-sm sm:text-base",children:"Save Company Details"})]}),r==="owner"&&e.jsxs("form",{onSubmit:z,className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 md:gap-5",children:["owner_name","owner_email","owner_contact_number","owner_cnic"].map(L=>e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"text-xs sm:text-sm font-bold block mb-1 sm:mb-2",children:L.replace(/_/g," ").toUpperCase()}),e.jsx("input",{name:L,value:w[L],onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base"})]},L))}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"text-xs sm:text-sm font-bold block mb-1 sm:mb-2",children:"OWNER ADDRESS"}),e.jsx("textarea",{name:"owner_address",rows:"3",value:w.owner_address,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base"})]}),e.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-2.5 sm:py-3 rounded-xl font-bold text-sm sm:text-base",children:"Save Owner Details"})]}),r==="payment"&&e.jsxs("form",{onSubmit:$,className:"space-y-4 sm:space-y-6 md:space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-bold text-xs sm:text-sm md:text-base block mb-1 sm:mb-2",children:"Payment Type"}),e.jsxs("select",{name:"payment_type",value:w.payment_type,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base",children:[e.jsx("option",{value:"ADVANCE",children:"Advance Payment Only"}),e.jsx("option",{value:"CASH",children:"Cash Only"}),e.jsx("option",{value:"BOTH",children:"Both Cash + Advance"})]})]}),e.jsxs("div",{className:"border p-3 sm:p-4 rounded-xl",children:[e.jsxs("h2",{className:"font-bold mb-3 sm:mb-4 text-purple-600 flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Eu,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Easypaisa Info"]}),e.jsx("input",{name:"easypaisa_name",placeholder:"Account Holder Name",value:w.easypaisa_name,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full mb-2.5 sm:mb-3 text-sm sm:text-base"}),e.jsx("input",{name:"easypaisa_number",placeholder:"Easypaisa Number",value:w.easypaisa_number,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base"})]}),e.jsxs("div",{className:"border p-3 sm:p-4 rounded-xl",children:[e.jsxs("h2",{className:"font-bold mb-3 sm:mb-4 text-yellow-600 flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Eu,{className:"w-4 h-4 sm:w-5 sm:h-5"})," JazzCash Info"]}),e.jsx("input",{name:"jazzcash_name",placeholder:"Account Holder Name",value:w.jazzcash_name,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full mb-2.5 sm:mb-3 text-sm sm:text-base"}),e.jsx("input",{name:"jazzcash_number",placeholder:"JazzCash Number",value:w.jazzcash_number,onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base"})]}),e.jsxs("div",{className:"border p-3 sm:p-4 rounded-xl",children:[e.jsxs("h2",{className:"font-bold mb-3 sm:mb-4 text-blue-600 flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Eu,{className:"w-4 h-4 sm:w-5 sm:h-5"})," Bank Account Info"]}),["bank_name","bank_account_title","bank_account_number","bank_iban"].map(L=>e.jsx("input",{name:L,placeholder:L.replace(/_/g," ").toUpperCase(),value:w[L],onChange:q,className:"border p-2.5 sm:p-3 rounded-xl w-full mb-2.5 sm:mb-3 text-sm sm:text-base"},L))]}),e.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2.5 sm:py-3 rounded-xl font-bold text-sm sm:text-base",children:"Save Payment Info"})]}),r==="password"&&e.jsxs("form",{onSubmit:async L=>{if(L.preventDefault(),!T){try{await Kt.post("auth/passenger/verify-password/",{password:Q.old_password}),U(!0),k("Old password verified! Enter new password.","success")}catch(R){k(R.response?.data?.detail||"Current password incorrect.","error")}return}if(Q.new_password.length<6){k("New password must be at least 6 characters.","error");return}if(Q.new_password!==Q.confirm_password){k("New password and confirmation do not match.","error");return}try{await Kt.put("/auth/passenger/change-password/",{old_password:Q.old_password,new_password:Q.new_password}),k("Password changed successfully! Please log in again.","success"),E({old_password:"",new_password:"",confirm_password:""}),U(!1)}catch(R){k(R.response?.data?.detail||"Password change failed.","error")}},className:"space-y-4 sm:space-y-6 max-w-lg mx-auto",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Current Password"}),e.jsx("input",{type:"password",value:Q.old_password,onChange:L=>E({...Q,old_password:L.target.value}),className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base",required:!0})]}),T&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"New Password"}),e.jsx("input",{type:"password",value:Q.new_password,onChange:L=>E({...Q,new_password:L.target.value}),className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:Q.confirm_password,onChange:L=>E({...Q,confirm_password:L.target.value}),className:"border p-2.5 sm:p-3 rounded-xl w-full text-sm sm:text-base",required:!0})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-red-600 text-white py-2.5 sm:py-3 rounded-xl font-bold flex justify-center items-center gap-1.5 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Gk,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T?"Save New Password":"Verify Current Password"]})]})]})]})}))},FG=()=>{const[t,s]=S.useState({}),[r,a]=S.useState({}),[i,o]=S.useState(!0),[c,A]=S.useState(null),[u,h]=S.useState("seat"),[f,g]=S.useState({seat:{totalGroups:0,totalBookings:0,totalReserved:0,totalBooked:0,totalRevenue:0},vehicle:{totalGroups:0,totalBookings:0,totalReserved:0,totalBooked:0,totalRevenue:0}}),b=async()=>{try{o(!0),console.log(" Fetching company tickets...");const E=await Kt.get("/tickets/company-tickets/");console.log(" API Response:",{status:E.status,data:E.data});let T=[];if(E.data&&Array.isArray(E.data))T=E.data;else if(E.data&&E.data.data&&Array.isArray(E.data.data))T=E.data.data;else if(E.data&&E.data.tickets&&Array.isArray(E.data.tickets))T=E.data.tickets;else{console.error(" Unexpected response structure:",E.data),A("Unexpected data format from server");return}if(console.log(` Processing ${T.length} bookings...`),T.length===0){console.log(" No bookings found"),s({}),a({}),g({seat:{totalGroups:0,totalBookings:0,totalReserved:0,totalBooked:0,totalRevenue:0},vehicle:{totalGroups:0,totalBookings:0,totalReserved:0,totalBooked:0,totalRevenue:0}});return}const U=[],k=[];T.forEach(ie=>{ie.offer_type==="whole_hire"||ie.transport?.offer_type==="whole_hire"||ie.ticket_type==="FULLVEHICLE"||ie.ticket_type==="vehicle"||ie.total_price&&ie.total_price>1e4||ie.vehicle_type&&ie.vehicle_type.toLowerCase().includes("hire")?k.push(ie):U.push(ie)}),console.log(` Seat Bookings: ${U.length},  Vehicle Bookings: ${k.length}`);const q=x(U);s(q);const K=w(k);a(K);const z=Object.keys(q).length,$=Object.values(q).reduce((ie,ge)=>ie+ge.bookings.length,0),D=Object.values(q).reduce((ie,ge)=>{const ee=ge.bookings.filter(M=>M.status?.toLowerCase()==="reserved"||M.booking_status?.toLowerCase()==="reserved").length;return ie+ee},0),L=Object.values(q).reduce((ie,ge)=>{const ee=ge.bookings.filter(M=>M.status?.toLowerCase()==="booked"||M.status?.toLowerCase()==="confirmed"||M.booking_status?.toLowerCase()==="booked"||M.booking_status?.toLowerCase()==="confirmed").length;return ie+ee},0),R=Object.values(q).reduce((ie,ge)=>ie+ge.totalRevenue,0),P=Object.keys(K).length,re=Object.values(K).reduce((ie,ge)=>ie+ge.bookings.length,0),I=Object.values(K).reduce((ie,ge)=>{const ee=ge.bookings.filter(M=>M.status?.toLowerCase()==="reserved"||M.booking_status?.toLowerCase()==="reserved").length;return ie+ee},0),G=Object.values(K).reduce((ie,ge)=>{const ee=ge.bookings.filter(M=>M.status?.toLowerCase()==="booked"||M.status?.toLowerCase()==="confirmed"||M.booking_status?.toLowerCase()==="booked"||M.booking_status?.toLowerCase()==="confirmed").length;return ie+ee},0),X=Object.values(K).reduce((ie,ge)=>ie+ge.totalRevenue,0);g({seat:{totalGroups:z,totalBookings:$,totalReserved:D,totalBooked:L,totalRevenue:R},vehicle:{totalGroups:P,totalBookings:re,totalReserved:I,totalBooked:G,totalRevenue:X}}),A(null)}catch(E){console.error(" Error fetching bookings:",E),A(E.response?.data?.error||E.message||"Failed to fetch bookings")}finally{o(!1)}},x=E=>E.length===0?{}:E.reduce((T,U)=>{try{const k=U.vehicle_number||U.transport?.vehicle_number||"Unknown Vehicle",q=U.arrival_date||U.transport?.arrival_date||"Unknown Date",K=U.route_from||U.transport?.route_from||"Unknown",z=U.route_to||U.transport?.route_to||"Unknown",$=U.arrival_time||U.transport?.arrival_time||"Unknown",D=`${k}_${q}_seat`;T[D]||(T[D]={offerId:D,vehicle_number:k,date:q,route_from:K,route_to:z,bookings:[],times:new Set,totalRevenue:0,totalReserved:0,totalBooked:0,bookingType:"seat"});const L=U.payment_type||U.payment_method||(U.is_manual_payment?"Manual (Advance)":U.is_cash_payment?"Cash":"Unknown"),R=U.status||U.booking_status||"Pending";T[D].bookings.push({...U,vehicle_number:k,arrival_date:q,arrival_time:$,route_from:K,route_to:z,passenger_name:U.passenger_name||U.user?.name||U.user?.username||"Unknown",passenger_contact:U.passenger_contact||U.user?.phone||U.user?.contact||"N/A",seats:U.seats||[U.seat_number||"N/A"],price_per_seat:U.price_per_seat||U.total_price||U.fare||0,booking:U.booking||U.booking_number||U.id||"N/A",status:R,payment_type:L}),$&&$!=="Unknown"&&T[D].times.add($);const P=parseFloat(U.price_per_seat||U.total_price||U.fare||0),re=Array.isArray(U.seats)?U.seats.length:(U.seat_number,1);return T[D].totalRevenue+=P*re,R.toLowerCase()==="reserved"?T[D].totalReserved+=1:(R.toLowerCase()==="booked"||R.toLowerCase()==="confirmed")&&(T[D].totalBooked+=1),T}catch(k){return console.error(" Error processing seat booking:",k,U),T}},{}),w=E=>E.length===0?{}:E.reduce((T,U)=>{try{const k=U.vehicle_number||U.transport?.vehicle_number||U.vehicle_type||"Vehicle Hire",q=U.start_date||U.arrival_date||U.transport?.arrival_date||"Unknown Date",K=U.end_date||U.departure_date||U.transport?.departure_date||"Unknown",z=U.route_from||U.transport?.route_from||U.from_location||"Unknown",$=U.route_to||U.transport?.route_to||U.to_location||"Unknown",D=`${k}_${q}_vehicle`;T[D]||(T[D]={offerId:D,vehicle_number:k,start_date:q,end_date:K,route_from:z,route_to:$,bookings:[],totalRevenue:0,totalReserved:0,totalBooked:0,bookingType:"vehicle"});const L=U.payment_type||U.payment_method||(U.is_manual_payment?"Manual (Advance)":U.is_cash_payment?"Cash":"Unknown"),R=U.status||U.booking_status||"Pending";T[D].bookings.push({...U,vehicle_number:k,start_date:q,end_date:K,route_from:z,route_to:$,passenger_name:U.passenger_name||U.user?.name||U.user?.username||U.customer_name||"Unknown",passenger_contact:U.passenger_contact||U.user?.phone||U.user?.contact||U.customer_phone||"N/A",total_fare:U.total_price||U.total_fare||U.fixed_fare||U.fare||0,booking:U.booking||U.booking_number||U.id||"N/A",status:R,payment_type:L,rental_days:U.rental_days||U.duration||"N/A",vehicle_type:U.vehicle_type||U.transport?.vehicle_type||"N/A",ticket_type:U.ticket_type||"vehicle"});const P=parseFloat(U.total_price||U.total_fare||U.fixed_fare||U.fare||0);return T[D].totalRevenue+=P,R.toLowerCase()==="reserved"?T[D].totalReserved+=1:(R.toLowerCase()==="booked"||R.toLowerCase()==="confirmed")&&(T[D].totalBooked+=1),T}catch(k){return console.error(" Error processing vehicle booking:",k,U),T}},{});S.useEffect(()=>{b();const E=setInterval(b,6e4);return()=>clearInterval(E)},[]);const B=E=>{if(!E||E==="Unknown Date")return"Date not set";try{return new Date(E).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch{return E}},j=(E,T,U)=>{const k=U==="seat"?["Booking ID","Passenger Name","CNIC","Phone","Seats","Fare per Seat","Total Fare","Payment Type","Status","Vehicle","Date","Time","From","To"]:["Booking ID","Customer Name","Phone","Vehicle Type","Total Fare","Rental Days","Payment Type","Status","Vehicle","Start Date","End Date","From","To","Ticket Type","Notes"],q=T.map(L=>U==="seat"?[L.booking,L.passenger_name,L.passenger_cnic||"N/A",L.passenger_contact,Array.isArray(L.seats)?L.seats.join(", "):L.seats,L.price_per_seat,(Array.isArray(L.seats)?L.seats.length:1)*parseFloat(L.price_per_seat),L.payment_type||"N/A",L.status,L.vehicle_number,L.arrival_date,L.arrival_time,L.route_from,L.route_to]:[L.booking,L.passenger_name,L.passenger_contact,L.vehicle_type,L.total_fare,L.rental_days,L.payment_type||"N/A",L.status,L.vehicle_number,L.start_date,L.end_date,L.route_from,L.route_to,L.ticket_type||"vehicle",L.notes||L.comments||"N/A"]),K=[k.join(","),...q.map(L=>L.map(R=>`"${R}"`).join(","))].join(`
`),z=new Blob([K],{type:"text/csv"}),$=URL.createObjectURL(z),D=document.createElement("a");D.href=$,D.download=`${U}_bookings_${E.replace(/[^a-z0-9]/gi,"_")}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL($)};if(i)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Loading bookings..."}),e.jsx("p",{className:"text-sm text-gray-400",children:"Fetching data from server"})]})})});if(c)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-red-500",children:e.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.771-.833-2.542 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unable to Load Bookings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})})});const _=Object.keys(t).length>0,Q=Object.keys(r).length>0;return!_&&!Q?e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center mt-8",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-8 text-gray-300",children:e.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Bookings Yet"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"You haven't received any bookings yet. Bookings will appear here as passengers book tickets for your vehicles."}),e.jsx("div",{className:"flex justify-center space-x-4",children:e.jsx("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh"})})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 pt-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage all ticket and vehicle bookings"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>h("seat"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="seat"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Seat Bookings",_&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:f.seat.totalBookings})]}),e.jsxs("button",{onClick:()=>h("vehicle"),className:`py-4 px-1 border-b-2 font-medium text-sm ${u==="vehicle"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Vehicle Bookings",Q&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:f.vehicle.totalBookings})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-xl font-bold text-blue-600",children:u==="seat"?f.seat.totalGroups:f.vehicle.totalGroups})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Total ",u==="seat"?"Trips":"Vehicle Hires"]}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:u==="seat"?f.seat.totalGroups:f.vehicle.totalGroups})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-xl font-bold text-green-600",children:u==="seat"?f.seat.totalBookings:f.vehicle.totalBookings})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Bookings"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:u==="seat"?f.seat.totalBookings:f.vehicle.totalBookings})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-100 flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-xl font-bold text-yellow-600",children:u==="seat"?f.seat.totalReserved:f.vehicle.totalReserved})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Reserved"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:u==="seat"?f.seat.totalReserved:f.vehicle.totalReserved})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-xl font-bold text-purple-600",children:u==="seat"?f.seat.totalBooked:f.vehicle.totalBooked})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Booked"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:u==="seat"?f.seat.totalBooked:f.vehicle.totalBooked})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-100 flex items-center justify-center mr-4",children:e.jsx("span",{className:"text-xl font-bold text-indigo-600",children:"PKR"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Revenue"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:u==="seat"?f.seat.totalRevenue.toLocaleString():f.vehicle.totalRevenue.toLocaleString()})]})]})})]}),u==="seat"?_?e.jsx("div",{className:"space-y-6",children:Object.values(t).map(E=>e.jsx(UG,{group:E,formatDate:B,downloadCSV:j},E.offerId))}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-gray-300",children:e.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Seat Bookings"}),e.jsx("p",{className:"text-gray-600",children:"No seat bookings have been made yet."})]}):Q?e.jsx("div",{className:"space-y-6",children:Object.values(r).map(E=>e.jsx(kG,{group:E,formatDate:B,downloadCSV:j},E.offerId))}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 text-gray-300",children:e.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Vehicle Bookings"}),e.jsx("p",{className:"text-gray-600",children:"No vehicle hire bookings have been made yet."})]})]})})},UG=({group:t,formatDate:s,downloadCSV:r})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-lg",children:""})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.vehicle_number}),e.jsxs("p",{className:"text-gray-600",children:[t.route_from,"  ",t.route_to]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Date:"}),s(t.date)]}),t.times&&t.times.size>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Time:"}),Array.from(t.times).join(", ")]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Reserved:"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm font-medium",children:t.totalReserved})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Booked:"}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm font-medium",children:t.totalBooked})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Total:"}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-medium",children:t.bookings.length})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>r(t.offerId,t.bookings,"seat"),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]}),e.jsxs("span",{className:"px-3 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-semibold",children:["PKR ",t.totalRevenue.toLocaleString()]})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Passenger"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CNIC"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seats"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.bookings.map((a,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:a.booking})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.passenger_name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.passenger_contact})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:a.passenger_cnic||"N/A"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Array.isArray(a.seats)?a.seats.map((o,c)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:o},c)):e.jsx("span",{className:"text-gray-900",children:a.seats})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["PKR ",((Array.isArray(a.seats)?a.seats.length:1)*parseFloat(a.price_per_seat)).toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                  ${a.payment_type?.toLowerCase().includes("cash")?"bg-green-100 text-green-800":a.payment_type?.toLowerCase().includes("manual")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.payment_type||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                  ${a.status==="Reserved"?"bg-yellow-100 text-yellow-800":a.status==="Confirmed"||a.status==="Booked"?"bg-green-100 text-green-800":a.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.arrival_time})]},i))})]})})]}),kG=({group:t,formatDate:s,downloadCSV:r})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-600 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-white font-bold text-lg",children:""})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[t.vehicle_number,e.jsx("span",{className:"ml-3 text-sm font-normal bg-blue-100 text-blue-800 px-2 py-1 rounded",children:t.bookings[0]?.ticket_type==="full_vehicle"?"Full Vehicle":"Vehicle Hire"})]}),e.jsxs("p",{className:"text-gray-600",children:[t.route_from,"  ",t.route_to]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Start:"}),s(t.start_date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"End:"}),s(t.end_date)]}),t.bookings[0]?.ticket_type&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Type:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:t.bookings[0]?.ticket_type==="FULLVEHICLE"?"Full Vehicle":t.bookings[0]?.ticket_type})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Reserved:"}),e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-sm font-medium",children:t.totalReserved})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Booked:"}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm font-medium",children:t.totalBooked})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Total:"}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-sm font-medium",children:t.bookings.length})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>r(t.offerId,t.bookings,"vehicle"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]}),e.jsxs("span",{className:"px-3 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-semibold",children:["PKR ",t.totalRevenue.toLocaleString()]})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fare"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket Type"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.bookings.map((a,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-mono text-sm font-medium text-gray-900",children:a.booking})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:a.passenger_name})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:a.passenger_contact})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["PKR ",parseFloat(a.price_per_seat).toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                  ${a.payment_type?.toLowerCase().includes("cash")?"bg-green-100 text-green-800":a.payment_type?.toLowerCase().includes("manual")?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.payment_type||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                  ${a.status==="Reserved"?"bg-yellow-100 text-yellow-800":a.status==="Confirmed"||a.status==="Booked"?"bg-green-100 text-green-800":a.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                  ${a.ticket_type==="full_vehicle"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:a.ticket_type==="full_vehicle"?"Full Vehicle":a.ticket_type||"Vehicle"})})]},i))})]})})]}),Ub="/api",LG="/tickets/company-tickets/",QG="/checkout/admin/bookings/",TG="/tickets/my-tickets/",DG="Global Transport Solutions",so={PENDING:"PENDING",RESERVED:"RESERVED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",EXPIRED:"EXPIRED",FAILED:"FAILED"},nd={UNPAID:"UNPAID",PAID:"PAID",REFUNDED:"REFUNDED"},WB=new Intl.NumberFormat("en-IN",{style:"currency",currency:"USD",maximumFractionDigits:2}),iS=t=>{if(!t)return"";const s=Date.parse(t);return Number.isNaN(s)?"":new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})},IG=t=>{if(!t)return"";try{const[s,r]=t.split(":"),a=new Date;return a.setHours(parseInt(s),parseInt(r),0),a.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return""}},MG=t=>{if(!t||t==="N/A")return"Unknown Date";try{return new Date(t).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch{return t}},JB=(t,s="booking")=>{switch(t){case so.CONFIRMED:case nd.PAID:return"bg-green-100 text-green-800 ring-green-600/20";case so.PENDING:case so.RESERVED:case nd.UNPAID:return"bg-yellow-100 text-yellow-800 ring-yellow-600/20";case so.CANCELLED:case so.FAILED:case so.EXPIRED:return"bg-red-100 text-red-800 ring-red-600/20";case nd.REFUNDED:return"bg-blue-100 text-blue-800 ring-blue-600/20";default:return"bg-gray-100 text-gray-700 ring-gray-500/20"}};async function kb(t,s={}){const r=localStorage.getItem("access_token");if(!r)throw new Error("NO_TOKEN");const a={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...s.headers||{}},i=await fetch(t,{...s,headers:a});if(i.status===401)throw localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_role"),localStorage.removeItem("company_status"),window.location.href="/login",new Error("Unauthorized. Redirecting to login.");return i}const RG=Ds.memo(function({booking:s,onOpenStatusModal:r,onHandleTicket:a,isActionDisabled:i,bookingType:o}){const A=s.bookingStatus===so.CONFIRMED&&s.paymentStatus===nd.PAID||s.raw?.status===so.CONFIRMED&&s.raw?.payment_status===nd.PAID;return e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600",children:s.bookingId||s.id}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.customerName}),e.jsx("div",{className:"text-xs text-gray-500",children:s.service})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.amount!==null?WB.format(s.amount):WB.format(0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${JB(s.paymentStatus,"payment")}`,children:s.paymentStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${JB(s.bookingStatus,"booking")}`,children:s.bookingStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 justify-end items-stretch sm:items-center",children:[e.jsx("button",{onClick:()=>r(s),className:`px-3 py-1 text-xs font-semibold text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 transition duration-150 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,type:"button",children:"Update Status"}),A&&e.jsxs("button",{onClick:()=>a(s,"view",o),className:`px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 shadow-md shadow-blue-500/30 transition duration-150 flex items-center justify-center gap-1 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,type:"button",children:[e.jsx(fi,{className:"w-4 h-4"})," View/Download Ticket"]})]})})]})}),OG=Ds.memo(({ticket:t,ticketRef:s,handleDownload:r,closeTicketModal:a,bookingType:i})=>{const o=(t.seats?.length||0)*(parseFloat(t.price_per_seat)||0),c=t.transport_company||DG;return e.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("button",{onClick:a,className:"flex items-center text-gray-700 px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 transition-colors",children:[e.jsx(ka,{className:"w-5 h-5 mr-2"}),"Back to Bookings"]}),e.jsxs("button",{onClick:r,className:"flex items-center bg-teal-600 text-white font-semibold px-6 py-2 rounded-lg shadow-md hover:bg-teal-700 transition-all",children:[e.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Download PDF"]})]}),e.jsxs("div",{ref:s,className:"bg-white p-8 rounded-2xl shadow-2xl border-2 border-dashed border-teal-300/80 overflow-x-auto min-w-full md:min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-teal-700 flex items-center",children:[e.jsx(sc,{className:"w-7 h-7 mr-2 text-teal-500"})," E-TICKET"]}),e.jsxs("p",{className:"text-sm font-mono text-gray-700 font-bold mt-1",children:["Booking ID: ",t.booking||t.booking_id]}),e.jsx("p",{className:"text-xs font-medium text-gray-500 mt-1",children:i==="fullVehicle"?"Full Vehicle Booking":"Seat Booking"})]}),e.jsx("div",{className:"text-xl font-semibold text-gray-600 text-right",children:c})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6 p-4 bg-teal-50 rounded-lg border border-teal-200 min-w-[500px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"FROM"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_from})]}),e.jsxs("div",{className:"text-center flex flex-col items-center justify-center",children:[e.jsx(ka,{className:"w-5 h-5 text-teal-600 rotate-180"}),e.jsx("p",{className:"text-xs text-teal-600 font-bold",children:"ROUTE"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"TO"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_to})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 min-w-[600px]",children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1 text-teal-500"})," PASSENGER"]}),e.jsx("p",{className:"font-semibold text-gray-800 truncate",children:t.passenger_name})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:iS(t.arrival_date)})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DEPARTURE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:IG(t.arrival_time)})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i==="fullVehicle"?e.jsx(gs,{className:"w-4 h-4 mr-1 text-teal-500"}):e.jsx(Gt,{className:"w-4 h-4 mr-1 text-teal-500"}),i==="fullVehicle"?"VEHICLE TYPE":"SEATS"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:i==="fullVehicle"?t.vehicle_type||"Full Vehicle Reserved":t.seats?.length>0?t.seats.join(", "):""})]})]}),e.jsxs("div",{className:"p-4 border-t border-b border-gray-200 mb-6 space-y-3 min-w-[500px]",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(_u,{className:"w-4 h-4 mr-1"})," CNIC:"]}),e.jsx("span",{className:"font-bold text-gray-800",children:t.passenger_cnic})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(ln,{className:"w-4 h-4 mr-1"})," Email:"]}),e.jsx("span",{className:"font-bold text-gray-800 truncate",children:t.passenger_email})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"})," Contact:"]}),e.jsx("span",{className:"font-bold text-gray-800",children:t.passenger_contact})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"})," Vehicle/Driver:"]}),e.jsxs("span",{className:"font-bold text-gray-800",children:[t.vehicle_number," (",t.driver_name,")"]})]}),e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-dashed border-gray-200",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount Paid:"}),e.jsxs("span",{className:"font-bold text-teal-700 text-lg flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 mr-1"}),i==="fullVehicle"?Number(t.price_per_seat||0).toLocaleString():o.toLocaleString()," Rs"]})]})]}),e.jsxs("div",{className:"flex justify-between items-end min-w-[500px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(eh,{value:JSON.stringify({booking_id:t.booking||t.booking_id,booking_type:i,seats:t.seats?.join(","),cnic:t.passenger_cnic}),size:120,className:"p-1 border border-gray-200 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan for Validation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.status?.toUpperCase()}),e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.payment_status?.toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Confirmed by Admin"})]})]})]})]})}),HG=()=>{const[t,s]=S.useState({fullVehicle:[],seat:[]}),[r,a]=S.useState("fullVehicle"),[i,o]=S.useState(!0),[c,A]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(null),[b,x]=S.useState(null),[w,B]=S.useState(null),[j,_]=S.useState(!1),[Q,E]=S.useState(!1),[T,U]=S.useState(null),k=S.useRef(null),q=S.useRef(null),K=S.useRef(null),[z,$]=S.useState(1),D=2;S.useEffect(()=>{const ke=setTimeout(()=>{g(null)},3e3);return()=>clearTimeout(ke)},[f]);const L=S.useCallback(async ke=>{o(!0),h(null);try{const Ke=`${Ub}${LG}`;console.log(" Fetching from:",Ke);const ae=await kb(Ke,{method:"GET",signal:ke});if(!ae.ok){const Te=await ae.json().catch(()=>({}));throw new Error(Te.detail||`HTTP error! status: ${ae.status}`)}const Y=await ae.json();console.log(" API Response:",Y);let xe=[];if(Y&&Y.success&&Array.isArray(Y.data))xe=Y.data;else if(Array.isArray(Y))xe=Y;else if(Y&&Array.isArray(Y.results))xe=Y.results;else{console.error(" Unexpected response structure:",Y),h("Invalid data format from server");return}console.log(` Processing ${xe.length} tickets...`);const Ue=xe.filter(Te=>(Te.payment_type||"").toUpperCase()==="CASH");console.log(` Cash bookings found: ${Ue.length}`);const ve=[],oe=[];Ue.forEach(Te=>{const Ee=Te.ticket_type==="FULLVEHICLE"||Te.offer_type==="whole_hire"||Te.vehicle_type&&Te.vehicle_type.toLowerCase().includes("hire");let ze=[];Te.seats&&(Array.isArray(Te.seats)?ze=Te.seats:typeof Te.seats=="string"&&(ze=Te.seats.split(",").map(ot=>ot.trim())));let Oe=0;if(Te.price_per_seat){const ot=parseFloat(Te.price_per_seat)||0,ht=ze.length||1;Oe=Ee?ot:ot*ht}const Je={id:Te.id,bookingId:Te.booking||`TKT-${Te.id}`,ticketId:Te.id,transport_id:Te.transport?.id||null,vehicleNumber:Te.vehicle_number||"UNKNOWN",customerName:Te.passenger_name||"Guest",service:Ee?"Full Vehicle":`${ze.length||0} Seats`,amount:Oe,date:iS(Te.arrival_date||Te.created_at),bookingStatus:Te.status||"UNKNOWN",paymentStatus:Te.payment_status||"UNKNOWN",paymentType:Te.payment_type||"CASH",arrivalDate:Te.arrival_date||"N/A",arrivalTime:Te.arrival_time||"N/A",routeFrom:Te.route_from||"N/A",routeTo:Te.route_to||"N/A",hasTicket:!0,raw:Te};Ee?ve.push(Je):oe.push(Je)}),s({fullVehicle:ve,seat:oe}),console.log(` Full Vehicle: ${ve.length}, Seat: ${oe.length}`)}catch(Ke){if(Ke.name==="AbortError")return;if(Ke.message==="NO_TOKEN"){h("Authentication token missing. Please log in."),o(!1);return}console.error("fetchBookings error:",Ke),h(Ke.message||"Failed to load booking data from backend API.")}finally{o(!1)}},[]);S.useEffect(()=>{const ke=new AbortController;return q.current=ke,L(ke.signal),()=>{ke.abort(),q.current=null}},[L]);const R=S.useMemo(()=>I(t.fullVehicle),[t.fullVehicle]),P=S.useMemo(()=>I(t.seat),[t.seat]),re=r==="fullVehicle"?R:P;function I(ke){const Ke=ke.reduce((Y,xe)=>{const Ue=`${xe.vehicleNumber}_${xe.arrivalDate}`;return Y[Ue]||(Y[Ue]={vehicleNumber:xe.vehicleNumber,arrivalDate:xe.arrivalDate,routeFrom:xe.routeFrom,routeTo:xe.routeTo,bookings:[],times:new Set}),Y[Ue].bookings.push(xe),xe.arrivalTime&&xe.arrivalTime!=="N/A"&&Y[Ue].times.add(xe.arrivalTime),Y},{}),ae=Object.values(Ke);return ae.sort((Y,xe)=>{const Ue=new Date(Y.arrivalDate),ve=new Date(xe.arrivalDate);return isNaN(Ue.getTime())||isNaN(ve.getTime())?0:ve-Ue}),ae.forEach(Y=>{Y.bookings.sort((xe,Ue)=>new Date(Ue.date)-new Date(xe.date)),Y.times=Array.from(Y.times).sort()}),ae}const G=S.useMemo(()=>{const ke=(z-1)*D,Ke=ke+D;return re.slice(ke,Ke)},[re,z,D]),X=Math.ceil(re.length/D),ie=()=>{$(ke=>Math.min(ke+1,X))},ge=()=>{$(ke=>Math.max(ke-1,1))},ee=ke=>{x(ke),B(r),_(!0)},M=()=>{x(null),B(null),_(!1)},H=S.useCallback(async(ke,Ke,ae)=>{if(!ke)return;A(!0),h(null),g(null);const Y=ke.raw?.booking||ke.bookingId;if(!Y){h("Booking ID not found. Cannot update status."),A(!1);return}console.log(" Updating booking ID:",Y),console.log("New status:",Ke),console.log("New payment status:",ae),K.current&&K.current.abort();const xe=new AbortController;K.current=xe;try{const Ue=`${Ub}${QG}${Y}/status/`;console.log("API URL:",Ue);const ve=await kb(Ue,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_status:Ke,new_payment_status:ae}),signal:xe.signal});if(console.log("Response status:",ve.status),!ve.ok){const Ee=await ve.json().catch(()=>({}));throw new Error(Ee.detail||`HTTP error! status: ${ve.status}`)}const oe=await ve.json();console.log("Update successful:",oe);const Te=w||r;s(Ee=>{const ze=Te==="fullVehicle"?Ee.fullVehicle.map(Je=>Je.id===ke.id||Je.bookingId===Y?{...Je,bookingStatus:Ke,paymentStatus:ae,raw:{...Je.raw,status:Ke,payment_status:ae}}:Je):Ee.fullVehicle,Oe=Te==="seat"?Ee.seat.map(Je=>Je.id===ke.id||Je.bookingId===Y?{...Je,bookingStatus:Ke,paymentStatus:ae,raw:{...Je.raw,status:Ke,payment_status:ae}}:Je):Ee.seat;return{fullVehicle:ze,seat:Oe}}),g(` Status updated successfully! Booking is now ${Ke} with payment ${ae}.`),M()}catch(Ue){if(Ue.name==="AbortError")return;console.error("updateBookingStatus error:",Ue),h(`Could not update booking status: ${Ue.message}`)}finally{A(!1),K.current=null}},[w,r]),Z=S.useCallback(async(ke,Ke)=>{const Y=(Ke==="fullVehicle"?t.fullVehicle:t.seat).find(xe=>xe.bookingId===ke||xe.id===ke);if(Y&&Y.raw)return console.log(" Found ticket data locally"),Y.raw;try{const xe=`${Ub}${TG}?booking_id=${ke}`,Ue=await kb(xe);if(!Ue.ok)throw new Error(`HTTP error! status: ${Ue.status}`);const ve=await Ue.json();if(Array.isArray(ve)){const oe=ve.find(Te=>String(Te.booking_id)===String(ke));if(oe)return oe}else if(ve&&ve.booking_id)return ve;throw new Error("Ticket not found in API response")}catch(xe){throw console.error("fetchTicketDetails error:",xe),xe}},[t]),Ae=async()=>{const ke=k.current;if(!(!ke||!T))try{const ae=(await Ju(ke,{useCORS:!0,scale:3,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png",1),Y=new Nt("p","mm","a4"),xe=Y.internal.pageSize.getWidth(),Ue=Y.internal.pageSize.getHeight(),ve=Y.getImageProperties(ae),oe=ve.height/ve.width,Te=Ue/xe;let Ee,ze;oe>Te?(ze=Ue*.9,Ee=ze/oe):(Ee=xe*.9,ze=Ee*oe);const Oe=(xe-Ee)/2,Je=(Ue-ze)/2;Y.addImage(ae,"PNG",Oe,Je,Ee,ze);const ot=`ticket_${T?.passenger_name?.replace(/\s/g,"_")||"passenger"}_${T?.booking||T?.id}.pdf`;Y.save(ot),g(" Ticket downloaded successfully!")}catch(Ke){console.error("PDF generation failed:",Ke),h(" PDF generation failed. Check console for error details.")}},fe=async(ke,Ke,ae)=>{x(ke),B(ae||r),E(!0);try{if(ke.raw)U(ke.raw);else{const Y=await Z(ke.bookingId||ke.id,ae||r);U(Y)}}catch(Y){console.error("Error loading ticket:",Y),h("Failed to load ticket details. Please try again.")}},pe=()=>{E(!1),U(null),x(null),B(null)};S.useEffect(()=>{function ke(Ke){Ke.key==="Escape"&&(j&&M(),Q&&pe())}return window.addEventListener("keydown",ke),()=>window.removeEventListener("keydown",ke)},[j,Q]);const Se=()=>{if(!b)return null;const[ke,Ke]=S.useState(b.bookingStatus||""),[ae,Y]=S.useState(b.paymentStatus||"");S.useEffect(()=>{Ke(b.bookingStatus||""),Y(b.paymentStatus||"")},[b]);const xe=Ue=>{Ue.preventDefault(),!(ke===so.CONFIRMED&&ae===nd.UNPAID&&!window.confirm("Are you sure you want to CONFIRM the booking while the payment status is still 'UNPAID'? Ticket generation requires both CONFIRMED and PAID statuses."))&&H(b,ke,ae)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:["Update ",w==="fullVehicle"?"Full Vehicle":"Seat"," Booking:",e.jsx("span",{className:"text-indigo-600 ml-2",children:b.bookingId||b.id})]}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",b.vehicleNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Customer:"})," ",b.customerName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Current Status:"})," ",b.bookingStatus," / ",b.paymentStatus]})]}),e.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),e.jsx("select",{value:ke,onChange:Ue=>Ke(Ue.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2.5 border",children:Object.values(so).map(Ue=>e.jsx("option",{value:Ue,children:Ue},Ue))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsx("select",{value:ae,onChange:Ue=>Y(Ue.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2.5 border",children:Object.values(nd).map(Ue=>e.jsx("option",{value:Ue,children:Ue},Ue))})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," Ticket will be available for download only when status is ",e.jsx("span",{className:"font-bold",children:"CONFIRMED"})," and payment is ",e.jsx("span",{className:"font-bold",children:"PAID"}),"."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})})},me=()=>b?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 p-4",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto p-4 bg-gray-100 rounded-xl shadow-2xl",children:T?e.jsx(OG,{ticket:T,ticketRef:k,handleDownload:Ae,closeTicketModal:pe,bookingType:w||r}):e.jsxs("div",{className:"flex items-center justify-center p-10 space-x-3 text-indigo-500 bg-white rounded-xl shadow-md",children:[e.jsx("svg",{className:"animate-spin h-6 w-6",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),e.jsx("span",{children:"Loading Ticket Data..."})]})})}):null;S.useEffect(()=>{$(1)},[r]);const Le=t.fullVehicle.length,Ve=t.seat.length;return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 font-sans",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Cash Booking Transactions Management"}),e.jsx("p",{className:"mt-1 text-lg text-gray-500",children:"Manage all CASH vehicle and seat bookings"}),f&&e.jsxs("div",{className:"mt-4 p-3 bg-green-100 text-green-700 border border-green-300 rounded-lg flex items-center",children:[e.jsx(zs,{className:"w-5 h-5 mr-2"}),f]}),u&&e.jsxs("div",{className:"mt-4 p-3 bg-red-100 text-red-700 border border-red-300 rounded-lg flex items-center",children:[e.jsx(nn,{className:"w-5 h-5 mr-2"}),e.jsx("strong",{children:"Error:"})," ",u]}),c&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-100 text-yellow-700 border border-yellow-300 rounded-lg flex items-center",children:[e.jsx("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),"Updating booking status..."]})]}),e.jsx("div",{className:"bg-white shadow-xl rounded-xl mb-8 overflow-hidden border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Showing Only Cash Bookings"}),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"CASH ONLY"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",e.jsx("span",{className:"font-bold text-gray-700",children:Le+Ve})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>a("fullVehicle"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="fullVehicle"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Full Vehicle Bookings",Le>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Le})]})}),e.jsx("button",{onClick:()=>a("seat"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="seat"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gt,{className:"w-5 h-5 mr-2"}),"Seat Bookings",Ve>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Ve})]})})]})})}),i&&e.jsxs("div",{className:"p-6 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:[e.jsx("svg",{className:"animate-spin h-5 w-5 mr-3 inline-block",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),"Loading cash bookings from backend API..."]}),!i&&e.jsx("div",{className:"space-y-8",children:G.length===0?e.jsx("div",{className:"p-10 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:r==="fullVehicle"?"No full vehicle cash bookings found.":"No seat cash bookings found."}):e.jsxs(e.Fragment,{children:[G.map(ke=>e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200",children:[e.jsx("div",{className:`px-6 py-4 border-b ${r==="fullVehicle"?"bg-gradient-to-r from-blue-50 to-indigo-50":"bg-gradient-to-r from-green-50 to-teal-50"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[r==="fullVehicle"?e.jsx(gs,{className:"inline-block w-5 h-5 mr-2 -mt-1 text-gray-800"}):e.jsx(Vs,{className:"inline-block w-5 h-5 mr-2 -mt-1 text-gray-800"}),"Vehicle: ",e.jsx("span",{className:"text-indigo-600",children:ke.vehicleNumber}),e.jsx("span",{className:"ml-2 text-sm font-medium px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:r==="fullVehicle"?"Full Vehicle":"Seat Booking"})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),MG(ke.arrivalDate),ke.times.length>0&&e.jsxs("span",{className:"ml-4 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Times: ",ke.times.join(", ")]})]}),e.jsxs("p",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"mr-2",children:""}),ke.routeFrom,"  ",ke.routeTo]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:ke.bookings.length})," ",r==="fullVehicle"?"vehicle bookings":"seat bookings"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ke.arrivalDate})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer / Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ke.bookings.map(Ke=>e.jsx(RG,{booking:Ke,onOpenStatusModal:ee,onHandleTicket:fe,isActionDisabled:c||i,bookingType:r},`${Ke.id}-${Ke.bookingId}`))})]})})]},ke.vehicleNumber+ke.arrivalDate)),X>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 bg-white shadow-lg rounded-xl border border-gray-200 gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-semibold",children:z})," of ",e.jsx("span",{className:"font-semibold",children:X}),e.jsxs("span",{className:"ml-4",children:["Total ",r==="fullVehicle"?"full vehicle":"seat"," groups: ",e.jsx("span",{className:"font-semibold",children:re.length})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:ge,disabled:z===1,className:"px-3 py-1 text-sm font-medium text-indigo-600 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(q4,{className:"w-4 h-4 mr-1"})," Previous"]}),e.jsxs("button",{onClick:ie,disabled:z===X,className:"px-3 py-1 text-sm font-medium text-indigo-600 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next ",e.jsx(Nl,{className:"w-4 h-4 ml-1"})]})]})]})]})}),j&&e.jsx(Se,{}),Q&&e.jsx(me,{})]})},rf="/api",ZB="/checkout/admin/manual-bookings/",PG="/tickets/my-tickets/",VG="/tickets/company-tickets/",zG="PTMS",qo={PENDING:"PENDING",RESERVED:"RESERVED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",EXPIRED:"EXPIRED",FAILED:"FAILED"},Lu={UNPAID:"UNPAID",PAID:"PAID",REFUNDED:"REFUNDED"},e4=new Intl.NumberFormat("en-IN",{style:"currency",currency:"USD",maximumFractionDigits:2}),GA=t=>{if(!t)return"";const s=Date.parse(t);return Number.isNaN(s)?"":new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})},wg=t=>{if(!t)return"";try{const[s,r]=t.split(":"),a=new Date;return a.setHours(parseInt(s),parseInt(r),0),a.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return""}},Lb=t=>{if(!t||t==="N/E")return"Unknown Date";try{return new Date(t).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}catch{return t}},t4=(t,s,r)=>{if(!t||!s||!r)return"N/A";try{const a=new Date(t);let i=new Date(a);const o=parseInt(r)||1;switch(s.toLowerCase()){case"hourly":i.setHours(i.getHours()+o);break;case"daily":i.setDate(i.getDate()+o);break;case"weekly":i.setDate(i.getDate()+o*7);break;case"monthly":i.setMonth(i.getMonth()+o);break;default:return"N/A"}return i.toISOString().split("T")[0]}catch(a){return console.error("Error calculating return date:",a),"N/A"}},s4=(t,s="booking")=>{switch(t){case qo.CONFIRMED:case Lu.PAID:return"bg-green-100 text-green-800 ring-green-600/20";case qo.PENDING:case qo.RESERVED:case Lu.UNPAID:return"bg-yellow-100 text-yellow-800 ring-yellow-600/20";case qo.CANCELLED:case qo.FAILED:case qo.EXPIRED:return"bg-red-100 text-red-800 ring-red-600/20";case Lu.REFUNDED:return"bg-blue-100 text-blue-800 ring-blue-600/20";default:return"bg-gray-100 text-gray-700 ring-gray-500/20"}};async function U0(t,s={}){const r=localStorage.getItem("access_token");if(!r)throw new Error("NO_TOKEN");const a={"Content-Type":"application/json",Authorization:`Bearer ${r}`,...s.headers||{}},i=await fetch(t,{...s,headers:a});if(i.status===401)throw localStorage.removeItem("access_token"),window.location.href="/login",new Error("Unauthorized. Redirecting to login.");return i}const KG=Ds.memo(function({booking:s,onOpenStatusModal:r,onHandleTicket:a,isActionDisabled:i,onViewScreenshot:o,bookingType:c}){const A=s.bookingStatus===qo.CONFIRMED&&s.paymentStatus===Lu.PAID,u=s.screenshotUrl&&s.screenshotUrl!==null;return e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600",children:s.bookingId||s.id}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.customerName}),e.jsx("div",{className:"text-xs text-gray-500",children:s.service}),c==="fullVehicle"&&s.bookingDuration&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Duration: ",s.bookingDuration]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.amount!==null?e4.format(s.amount):e4.format(0)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${s4(s.paymentStatus,"payment")}`,children:s.paymentStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1 ring-inset ${s4(s.bookingStatus,"booking")}`,children:s.bookingStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 justify-end items-stretch sm:items-center",children:[e.jsx("button",{onClick:()=>r(s),className:`px-3 py-1 text-xs font-semibold text-indigo-700 bg-indigo-100 rounded-lg hover:bg-indigo-200 transition duration-150 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,type:"button",children:"Update Status"}),u&&e.jsxs("button",{onClick:()=>o(s.screenshotUrl),className:`px-3 py-1 text-xs font-semibold text-white bg-purple-600 rounded-lg hover:bg-purple-700 shadow-md shadow-purple-500/30 transition duration-150 flex items-center justify-center gap-1 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,type:"button",children:[e.jsx(A1,{className:"w-4 h-4"})," View Screenshot"]}),A&&e.jsxs("button",{onClick:()=>a(s,"view",c),className:`px-3 py-1 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 shadow-md shadow-blue-500/30 transition duration-150 flex items-center justify-center gap-1 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,type:"button",children:[e.jsx(fi,{className:"w-4 h-4"})," View/Download Ticket"]})]})})]})}),GG=Ds.memo(({ticket:t,ticketRef:s,handleDownload:r,closeTicketModal:a,bookingType:i})=>{const o=(t.seats?.length||0)*(parseFloat(t.price_per_seat)||0),c=t.transport_company||zG;let A=null;if(i==="fullVehicle"){if(t.booking_duration)A=t.booking_duration;else if(t.duration_type&&t.duration_value){const u=parseInt(t.duration_value)||1,h=t.duration_type.toLowerCase();A=`${u} ${h}${u>1?"s":""}`}}return e.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("button",{onClick:a,className:"flex items-center text-gray-700 px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 transition-colors",children:[e.jsx(ka,{className:"w-5 h-5 mr-2"}),"Back to Bookings"]}),e.jsxs("button",{onClick:r,className:"flex items-center bg-teal-600 text-white font-semibold px-6 py-2 rounded-lg shadow-md hover:bg-teal-700 transition-all",children:[e.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Download PDF"]})]}),e.jsxs("div",{ref:s,className:"bg-white p-8 rounded-2xl shadow-2xl border-2 border-dashed border-teal-300/80 overflow-x-auto min-w-full md:min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center pb-4 mb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-teal-700 flex items-center",children:[e.jsx(sc,{className:"w-7 h-7 mr-2 text-teal-500"})," E-TICKET"]}),e.jsxs("p",{className:"text-sm font-mono text-gray-700 font-bold mt-1",children:["Booking ID: ",t.booking||t.booking_id]}),e.jsx("p",{className:"text-xs font-medium text-gray-500 mt-1",children:i==="fullVehicle"?"Full Vehicle Booking":"Seat Booking"})]}),e.jsx("div",{className:"text-xl font-semibold text-gray-600 text-right",children:c})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6 p-4 bg-teal-50 rounded-lg border border-teal-200 min-w-[500px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"FROM"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_from})]}),e.jsxs("div",{className:"text-center flex flex-col items-center justify-center",children:[e.jsx(ka,{className:"w-5 h-5 text-teal-600 rotate-180"}),e.jsx("p",{className:"text-xs text-teal-600 font-bold",children:"ROUTE"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"TO"}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:t.route_to})]})]}),e.jsxs("div",{className:`grid ${i==="fullVehicle"?"grid-cols-2 md:grid-cols-5":"grid-cols-2 md:grid-cols-4"} gap-4 mb-6 min-w-[600px]`,children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1 text-teal-500"})," PASSENGER"]}),e.jsx("p",{className:"font-semibold text-gray-800 truncate",children:t.passenger_name})]}),i==="fullVehicle"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," FROM DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:GA(t.departure_date||t.arrival_date)})]}),t.return_date&&t.return_date!=="N/A"&&e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," TO DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:GA(t.return_date)})]}),A&&e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DURATION"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:A})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DEPARTURE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:wg(t.arrival_time)})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-1 text-teal-500"})," DATE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:GA(t.arrival_date)})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1 text-teal-500"})," DEPARTURE"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:wg(t.arrival_time)})]})]}),e.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i==="fullVehicle"?e.jsx(gs,{className:"w-4 h-4 mr-1 text-teal-500"}):e.jsx(Gt,{className:"w-4 h-4 mr-1 text-teal-500"}),i==="fullVehicle"?"VEHICLE TYPE":"SEATS"]}),e.jsx("p",{className:"font-semibold text-gray-800",children:i==="fullVehicle"?t.vehicle_type||"Full Vehicle Reserved":t.seats?.length>0?t.seats.join(", "):""})]})]}),e.jsxs("div",{className:"p-4 border-t border-b border-gray-200 mb-6 space-y-3 min-w-[500px]",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(_u,{className:"w-4 h-4 mr-1"})," CNIC:"]}),e.jsx("span",{className:"font-bold text-gray-800",children:t.passenger_cnic})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(ln,{className:"w-4 h-4 mr-1"})," Email:"]}),e.jsx("span",{className:"font-bold text-gray-800 truncate",children:t.passenger_email})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"})," Contact:"]}),e.jsx("span",{className:"font-bold text-gray-800",children:t.passenger_contact})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600 font-medium flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"})," Vehicle/Driver:"]}),e.jsxs("span",{className:"font-bold text-gray-800",children:[t.vehicle_number," (",t.driver_name,")"]})]}),e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-dashed border-gray-200",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount Paid:"}),e.jsxs("span",{className:"font-bold text-teal-700 text-lg flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 mr-1"}),i==="fullVehicle"?Number(t.price_per_seat||0).toLocaleString():o.toLocaleString()," Rs"]})]})]}),e.jsxs("div",{className:"flex justify-between items-end min-w-[500px]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(eh,{value:JSON.stringify({booking_id:t.booking||t.booking_id,booking_type:i,seats:t.seats?.join(","),cnic:t.passenger_cnic}),size:120,className:"p-1 border border-gray-200 rounded-md"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan for Validation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.status?.toUpperCase()}),e.jsx("p",{className:"text-xl font-extrabold text-red-600/90",children:t.payment_status?.toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Confirmed by Admin"})]})]})]})]})}),qG=({screenshotUrl:t,onClose:s})=>{if(!t)return null;const[r,a]=S.useState(!0),[i,o]=S.useState(!1),[c,A]=S.useState(null),u=f=>{if(!f)return null;if(f.startsWith("http")||f.startsWith("data:image"))return f;const g=window.location.hostname==="localhost"?"http://localhost:8000":"";return f.startsWith("/media/")?`${g}${f}`:`${rf}/media//media/${f}`};S.useEffect(()=>{const f=u(t);console.log("Screenshot URL:",t),console.log("Full URL:",f),A(f),a(!0),o(!1)},[t]);const h=()=>{c&&window.open(c,"_blank")};return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-75 p-4",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Payment Screenshot"}),e.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-gray-700 rounded-full hover:bg-gray-100","aria-label":"Close screenshot viewer",children:e.jsx(Is,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4 overflow-auto max-h-[80vh] flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-full max-w-3xl mb-4 min-h-[300px] flex items-center justify-center",children:[r&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading screenshot..."})]}),i&&e.jsxs("div",{className:"text-center p-4 text-red-600",children:[e.jsx(nn,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"Screenshot could not be loaded. It may have been deleted or the URL is incorrect."}),e.jsxs("p",{className:"text-xs mt-2 text-gray-500",children:["URL: ",t]})]}),c&&!i&&e.jsx("img",{src:c,alt:"Payment screenshot",className:`w-full h-auto rounded-lg shadow-lg transition-opacity duration-300 ${r?"opacity-0":"opacity-100"}`,onLoad:()=>a(!1),onError:f=>{a(!1),o(!0),console.error("Image failed to load:",c),f.target.onerror=null}})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[!i&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(fi,{className:"w-4 h-4 mr-2"}),"Open in New Tab"]}),e.jsxs("button",{onClick:()=>{if(c){const f=document.createElement("a");f.href=c,f.download=`payment_screenshot_${Date.now()}.jpg`,document.body.appendChild(f),f.click(),document.body.removeChild(f)}},className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[e.jsx(Vf,{className:"w-4 h-4 mr-2"}),"Download"]})]}),e.jsx("button",{onClick:s,className:"inline-flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Close"})]})]})]})})},$G=()=>{const[t,s]=S.useState({fullVehicle:[],seat:[]}),[r,a]=S.useState("fullVehicle"),[i,o]=S.useState(!0),[c,A]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(null),[b,x]=S.useState(null),[w,B]=S.useState(null),[j,_]=S.useState(!1),[Q,E]=S.useState(!1),[T,U]=S.useState(null),k=S.useRef(null),[q,K]=S.useState(null),[z,$]=S.useState(!1),D=S.useRef(null),L=S.useRef(null),[R,P]=S.useState(1),re=2;S.useEffect(()=>{const ve=setTimeout(()=>{g(null)},3e3);return()=>clearTimeout(ve)},[f]);const I=S.useCallback(async ve=>{o(!0),h(null);try{const oe=`${rf}${VG}`;console.log(" Fetching tickets with time/date/route:",oe);const Te=await U0(oe,{method:"GET",signal:ve});let Ee=[];if(Te.ok){const ye=await Te.json();console.log(" Tickets API Response:",ye),ye&&ye.success&&Array.isArray(ye.data)?Ee=ye.data:Array.isArray(ye)?Ee=ye:ye&&Array.isArray(ye.results)&&(Ee=ye.results)}const ze=`${rf}${ZB}`;console.log(" Fetching manual bookings for screenshots:",ze);const Oe=await U0(ze,{method:"GET",signal:ve});let Je=[];if(Oe.ok){const ye=await Oe.json();console.log(" Manual Bookings Response:",ye),Array.isArray(ye)?Je=ye:ye&&Array.isArray(ye.results)?Je=ye.results:ye&&Array.isArray(ye.data)&&(Je=ye.data)}const ot=new Map;Je.forEach(ye=>{ye&&(ot.set(ye.id,ye),ye.booking&&ot.set(ye.booking,ye))}),console.log("Manual Map size:",ot.size),console.log("Manual IDs:",Array.from(ot.keys()));const ht=Ee.map(ye=>{if(!ye)return null;const es=(ye.payment_type||ye.payment_method||"").toUpperCase();if(!["ONLINE","MANUAL"].includes(es))return null;const Qt=ye.booking||ye.booking_id;let rt=null;Qt&&ot.has(Qt)?rt=ot.get(Qt):ye.id&&ot.has(String(ye.id))?rt=ot.get(String(ye.id)):ye.passenger_name&&ye.vehicle_number&&(rt=Je.find(ps=>ps.passenger_name===ye.passenger_name&&ps.vehicle_number===ye.vehicle_number)),console.log(`Ticket ${ye.id} - Manual match:`,rt?.id);let vt=null;const Tt=window.location.hostname==="localhost"?"http://localhost:8000":"";if(rt?.screenshot_url){const ps=rt.screenshot_url;ps.startsWith("http")||ps.startsWith("data:image")?vt=ps:ps.startsWith("/media/")?vt=`${Tt}${ps}`:vt=`${Tt}/media/${ps}`}const it=ye.ticket_type==="FULLVEHICLE"||ye.offer_type==="whole_hire"||ye.service_type==="long_drive"||ye.vehicle_type&&ye.vehicle_type.toLowerCase().includes("hire");let Lt="N/A",St="N/A",us=null;if(it){if(Lt=ye.departure_date||ye.start_date||ye.travel_start_date||ye.arrival_date||"N/A",St=ye.return_date||ye.end_date||ye.travel_end_date||"N/A",St==="N/A"&&ye.duration_type&&ye.duration_value&&Lt!=="N/A"&&(St=t4(Lt,ye.duration_type,ye.duration_value)),ye.duration_type&&ye.duration_value){const ps=parseInt(ye.duration_value)||1,Zr=ye.duration_type.toLowerCase();us=`${ps} ${Zr}${ps>1?"s":""}`}if(rt?.duration_type&&rt?.duration_value&&!us){const ps=parseInt(rt.duration_value)||1,Zr=rt.duration_type.toLowerCase();us=`${ps} ${Zr}${ps>1?"s":""}`}}let ls=[];ye.seats&&(Array.isArray(ye.seats)?ls=ye.seats:typeof ye.seats=="string"&&(ls=ye.seats.split(",").map(ps=>ps.trim()).filter(ps=>ps)));let Dt=0;if(rt?.total_amount)Dt=parseFloat(rt.total_amount)||0;else if(rt?.amount)Dt=parseFloat(rt.amount)||0;else if(ye.total_amount)Dt=parseFloat(ye.total_amount)||0;else if(ye.price_per_seat){const ps=parseFloat(ye.price_per_seat)||0,Zr=ls.length||1;Dt=it?ps:ps*Zr}const Ct=rt?.booking_status||rt?.status||ye.status||"UNKNOWN",ts=rt?.payment_status||ye.payment_status||"UNKNOWN",on=Qt||`TICKET-${ye.id}`;let wr="Seat Booking";return it&&(ye.service_type==="long_drive"?wr="Long Drive":ye.offer_type==="whole_hire"?wr="Full Vehicle Hire":wr="Full Vehicle"),{id:ye.id,bookingId:on,vehicleNumber:ye.vehicle_number||rt?.vehicle_number||"UNKNOWN",customerName:ye.passenger_name||rt?.passenger_name||"Guest",service:it?wr:`${ls.length||rt?.seats_booked||0} Seats`,amount:Dt,date:GA(ye.arrival_date||ye.created_at),bookingStatus:Ct,paymentStatus:ts,paymentType:es,screenshotUrl:vt,arrivalDate:ye.arrival_date||"N/A",arrivalTime:ye.arrival_time||"N/A",routeFrom:ye.route_from||"N/A",routeTo:ye.route_to||"N/A",departureDate:Lt,returnDate:St,bookingDuration:us,serviceType:ye.service_type||(it?"long_drive":"seat"),durationType:ye.duration_type||rt?.duration_type,durationValue:ye.duration_value||rt?.duration_value,hasTicket:!0,raw:{...ye,manualData:rt,departure_date:Lt,return_date:St,booking_duration:us,duration_type:ye.duration_type||rt?.duration_type,duration_value:ye.duration_value||rt?.duration_value},source:rt?"merged":"ticket"}}).filter(ye=>ye!==null);console.log(` Processed bookings: ${ht.length}`);const _t=Je.filter(ye=>!ht.some(Qt=>Qt.raw.manualData?.id===ye.id||Qt.bookingId===ye.id||Qt.bookingId===ye.booking)).map(ye=>{const es=ye.is_full_vehicle||ye.offer_type==="whole_vehicle"||ye.ticket_type==="FULLVEHICLE"||ye.vehicle_type&&ye.vehicle_type.toLowerCase().includes("hire")||ye.service_type==="long_drive";let Qt=[];ye.seats&&(Array.isArray(ye.seats)?Qt=ye.seats:typeof ye.seats=="string"&&(Qt=ye.seats.split(",").map(Dt=>Dt.trim())));let rt="N/A",vt="N/A",Tt=null;if(es&&(rt=ye.departure_date||ye.start_date||ye.travel_date||ye.arrival_date||"N/A",vt=ye.return_date||ye.end_date||"N/A",vt==="N/A"&&ye.duration_type&&ye.duration_value&&rt!=="N/A"&&(vt=t4(rt,ye.duration_type,ye.duration_value)),ye.duration_type&&ye.duration_value)){const Dt=parseInt(ye.duration_value)||1,Ct=ye.duration_type.toLowerCase();Tt=`${Dt} ${Ct}${Dt>1?"s":""}`}const it=window.location.hostname==="localhost"?"http://localhost:8000":"";let Lt=null;if(ye.screenshot_url){const Dt=ye.screenshot_url;Dt.startsWith("http")||Dt.startsWith("data:image")?Lt=Dt:Dt.startsWith("/media/")?Lt=`${it}${Dt}`:Lt=`${it}/media/${Dt}`}let St=0;ye.total_amount?St=parseFloat(ye.total_amount)||0:ye.amount&&(St=parseFloat(ye.amount)||0);const us=ye.booking||`MANUAL-${ye.id}`;let ls="Seat Booking";return es&&(ye.service_type==="long_drive"?ls="Long Drive":ye.offer_type==="whole_hire"?ls="Full Vehicle Hire":ls="Full Vehicle"),{id:ye.id,bookingId:us,vehicleNumber:ye.vehicle_number||"UNKNOWN",customerName:ye.passenger_name||"Guest",service:es?ls:`${Qt.length||ye.seats_booked||0} Seats`,amount:St,date:GA(ye.created_at),bookingStatus:ye.booking_status||ye.status||"UNKNOWN",paymentStatus:ye.payment_status||"UNKNOWN",paymentType:ye.payment_method||"MANUAL",screenshotUrl:Lt,arrivalDate:ye.arrival_date||ye.travel_date||"N/A",arrivalTime:ye.arrival_time||ye.travel_time||"N/A",routeFrom:ye.route_from||"N/A",routeTo:ye.route_to||"N/A",departureDate:rt,returnDate:vt,bookingDuration:Tt,serviceType:ye.service_type||(es?"long_drive":"seat"),durationType:ye.duration_type,durationValue:ye.duration_value,hasTicket:!1,raw:ye,source:"manual-only"}}),ct=[...ht,..._t];console.log(` Total combined bookings: ${ct.length}`),ct.length>0&&console.log(" Sample bookings:",ct.slice(0,3));const dt=[],At=[];ct.forEach(ye=>{ye.service.includes("Full Vehicle")||ye.service.includes("Long Drive")||ye.service.includes("Hire")||ye.raw.service_type==="long_drive"||ye.raw.offer_type==="whole_vehicle"?dt.push(ye):At.push(ye)}),s({fullVehicle:dt,seat:At}),console.log(` Final - Full Vehicle: ${dt.length}, Seat: ${At.length}`)}catch(oe){if(oe.name==="AbortError")return;if(oe.message==="NO_TOKEN"){h("Authentication token missing. Please log in."),o(!1);return}console.error("fetchBookings error:",oe),h(oe.message||"Failed to load booking data from backend API.")}finally{o(!1)}},[]);S.useEffect(()=>{const ve=new AbortController;return D.current=ve,I(ve.signal),()=>{ve.abort(),D.current=null}},[I]);const G=S.useMemo(()=>ge(t.fullVehicle),[t.fullVehicle]),X=S.useMemo(()=>ge(t.seat),[t.seat]),ie=r==="fullVehicle"?G:X;function ge(ve){const oe=ve.reduce((Ee,ze)=>{let Oe;return ze.service.includes("Full Vehicle")||ze.service.includes("Long Drive")||ze.service.includes("Hire")?Oe=`${ze.vehicleNumber}_${ze.departureDate}_${ze.returnDate}_${ze.bookingDuration}`:Oe=`${ze.vehicleNumber}_${ze.arrivalDate}`,Ee[Oe]||(ze.service.includes("Full Vehicle")||ze.service.includes("Long Drive")||ze.service.includes("Hire")?Ee[Oe]={vehicleNumber:ze.vehicleNumber,arrivalDate:ze.departureDate,returnDate:ze.returnDate,bookingDuration:ze.bookingDuration,routeFrom:ze.routeFrom,routeTo:ze.routeTo,bookings:[],times:new Set,isFullVehicle:!0,serviceType:ze.serviceType||"long_drive"}:Ee[Oe]={vehicleNumber:ze.vehicleNumber,arrivalDate:ze.arrivalDate,routeFrom:ze.routeFrom,routeTo:ze.routeTo,bookings:[],times:new Set,isFullVehicle:!1}),Ee[Oe].bookings.push(ze),ze.arrivalTime&&ze.arrivalTime!=="N/A"&&Ee[Oe].times.add(ze.arrivalTime),Ee},{}),Te=Object.values(oe);return Te.sort((Ee,ze)=>{const Oe=new Date(Ee.arrivalDate),Je=new Date(ze.arrivalDate);return isNaN(Oe.getTime())||isNaN(Je.getTime())?0:Je-Oe}),Te.forEach(Ee=>{Ee.bookings.sort((ze,Oe)=>new Date(Oe.date)-new Date(ze.date)),Ee.times=Array.from(Ee.times).sort()}),Te}const ee=S.useMemo(()=>{const ve=(R-1)*re,oe=ve+re;return ie.slice(ve,oe)},[ie,R,re]),M=Math.ceil(ie.length/re),H=()=>{P(ve=>Math.min(ve+1,M))},Z=()=>{P(ve=>Math.max(ve-1,1))},Ae=ve=>{x(ve),B(r),_(!0)},fe=()=>{x(null),B(null),_(!1)},pe=ve=>{ve?(console.log("Opening screenshot:",ve),K(ve),$(!0)):alert("No screenshot available for this payment.")},Se=()=>{$(!1),K(null)},me=S.useCallback(async(ve,oe,Te)=>{if(!ve)return;A(!0),h(null),g(null);const Ee=ve.raw?.booking||ve.bookingId;if(!Ee){h("Booking ID not found. Cannot update status."),A(!1);return}console.log(" Updating booking ID:",Ee),console.log("New status:",oe),console.log("New payment status:",Te),L.current&&L.current.abort();const ze=new AbortController;L.current=ze;try{const Oe=`${rf}${ZB}${Ee}/status/`;console.log("API URL:",Oe);const Je=await U0(Oe,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_status:oe,new_payment_status:Te}),signal:ze.signal});if(console.log("Response status:",Je.status),!Je.ok){const _t=await Je.json().catch(()=>({}));throw new Error(_t.detail||`HTTP error! status: ${Je.status}`)}const ot=await Je.json();console.log("Update successful:",ot);const ht=w||r;s(_t=>{const ct=ht==="fullVehicle"?_t.fullVehicle.map(At=>At.id===ve.id||At.bookingId===Ee?{...At,bookingStatus:oe,paymentStatus:Te,raw:{...At.raw,status:oe,payment_status:Te}}:At):_t.fullVehicle,dt=ht==="seat"?_t.seat.map(At=>At.id===ve.id||At.bookingId===Ee?{...At,bookingStatus:oe,paymentStatus:Te,raw:{...At.raw,status:oe,payment_status:Te}}:At):_t.seat;return{fullVehicle:ct,seat:dt}}),g(` Status updated successfully! Booking is now ${oe} with payment ${Te}.`),fe()}catch(Oe){if(Oe.name==="AbortError")return;console.error("updateBookingStatus error:",Oe),h(`Could not update booking status: ${Oe.message}`)}finally{A(!1),L.current=null}},[w,r]),Le=S.useCallback(async(ve,oe)=>{const Ee=(oe==="fullVehicle"?t.fullVehicle:t.seat).find(ze=>ze.bookingId===ve||ze.id===ve);if(Ee&&Ee.raw)return console.log(" Found ticket data locally"),Ee.raw;try{const ze=`${rf}${PG}?booking_id=${ve}`,Oe=await U0(ze);if(!Oe.ok)throw new Error(`HTTP error! status: ${Oe.status}`);const Je=await Oe.json();if(Array.isArray(Je)){const ot=Je.find(ht=>String(ht.booking_id)===String(ve));if(ot)return ot}else if(Je&&Je.booking_id)return Je;throw new Error("Ticket not found in API response")}catch(ze){throw console.error("fetchTicketDetails error:",ze),ze}},[t]),Ve=async()=>{const ve=k.current;if(!(!ve||!T))try{const Te=(await Ju(ve,{useCORS:!0,scale:3,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png",1),Ee=new Nt("p","mm","a4"),ze=Ee.internal.pageSize.getWidth(),Oe=Ee.internal.pageSize.getHeight(),Je=Ee.getImageProperties(Te),ot=Je.height/Je.width,ht=Oe/ze;let _t,ct;ot>ht?(ct=Oe*.9,_t=ct/ot):(_t=ze*.9,ct=_t*ot);const dt=(ze-_t)/2,At=(Oe-ct)/2;Ee.addImage(Te,"PNG",dt,At,_t,ct);const ye=`ticket_${T?.passenger_name?.replace(/\s/g,"_")||"passenger"}_${T?.booking||T?.id}.pdf`;Ee.save(ye),g(" Ticket downloaded successfully!")}catch(oe){console.error("PDF generation failed:",oe),h(" PDF generation failed. Check console for error details.")}},ke=async(ve,oe,Te)=>{x(ve),B(Te||r),E(!0);try{if(ve.raw)U(ve.raw);else{const Ee=await Le(ve.bookingId||ve.id,Te||r);U(Ee)}}catch(Ee){console.error("Error loading ticket:",Ee),h("Failed to load ticket details. Please try again.")}},Ke=()=>{E(!1),U(null),x(null),B(null)};S.useEffect(()=>{function ve(oe){oe.key==="Escape"&&(j&&fe(),Q&&Ke(),z&&Se())}return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[j,Q,z]),S.useEffect(()=>{P(1)},[r]);const ae=t.fullVehicle.length,Y=t.seat.length,xe=()=>{if(!b)return null;const[ve,oe]=S.useState(b.bookingStatus||""),[Te,Ee]=S.useState(b.paymentStatus||"");S.useEffect(()=>{oe(b.bookingStatus||""),Ee(b.paymentStatus||"")},[b]);const ze=Oe=>{Oe.preventDefault(),!(ve===qo.CONFIRMED&&Te===Lu.UNPAID&&!window.confirm("Are you sure you want to CONFIRM the booking while the payment status is still 'UNPAID'? Ticket generation requires both CONFIRMED and PAID statuses."))&&me(b,ve,Te)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 border-b pb-2",children:["Update ",w==="fullVehicle"?"Full Vehicle":"Seat"," Booking:",e.jsx("span",{className:"text-indigo-600 ml-2",children:b.bookingId||b.id})]}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",b.vehicleNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Customer:"})," ",b.customerName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Route:"})," ",b.routeFrom,"  ",b.routeTo]}),w==="fullVehicle"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"From Date:"})," ",GA(b.departureDate||b.arrivalDate)]}),b.returnDate&&b.returnDate!=="N/A"&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"To Date:"})," ",GA(b.returnDate)]}),b.bookingDuration&&e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Duration:"})," ",b.bookingDuration]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",wg(b.arrivalTime)]})]}):e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Date/Time:"})," ",GA(b.arrivalDate)," at ",wg(b.arrivalTime)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Current Status:"})," ",b.bookingStatus," / ",b.paymentStatus]})]}),b?.screenshotUrl&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Payment Screenshot:"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:b.screenshotUrl,alt:"Payment screenshot thumbnail",className:"w-24 h-24 object-cover rounded-lg border border-gray-300 cursor-pointer hover:opacity-90",onClick:()=>pe(b.screenshotUrl),onError:Oe=>{Oe.target.onerror=null,Oe.target.src="https://via.placeholder.com/100x100?text=No+Image"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx(fi,{className:"w-6 h-6 text-white"})})]}),e.jsxs("button",{type:"button",onClick:()=>pe(b.screenshotUrl),className:"px-3 py-2 text-sm font-medium text-purple-700 bg-purple-100 rounded-lg hover:bg-purple-200",children:[e.jsx(fi,{className:"w-4 h-4 inline mr-1"}),"View Full Size"]})]})]}),e.jsxs("form",{onSubmit:ze,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),e.jsx("select",{value:ve,onChange:Oe=>oe(Oe.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2.5 border",children:Object.values(qo).map(Oe=>e.jsx("option",{value:Oe,children:Oe},Oe))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsx("select",{value:Te,onChange:Oe=>Ee(Oe.target.value),className:"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2.5 border",children:Object.values(Lu).map(Oe=>e.jsx("option",{value:Oe,children:Oe},Oe))})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," Ticket will be available for download only when status is ",e.jsx("span",{className:"font-bold",children:"CONFIRMED"})," and payment is ",e.jsx("span",{className:"font-bold",children:"PAID"}),"."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:fe,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c,children:c?"Saving...":"Save Changes"})]})]})]})})},Ue=()=>b?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 p-4",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto p-4 bg-gray-100 rounded-xl shadow-2xl",children:T?e.jsx(GG,{ticket:T,ticketRef:k,handleDownload:Ve,closeTicketModal:Ke,bookingType:w||r}):e.jsxs("div",{className:"flex items-center justify-center p-10 space-x-3 text-indigo-500 bg-white rounded-xl shadow-md",children:[e.jsx("svg",{className:"animate-spin h-6 w-6",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),e.jsx("span",{children:"Loading Ticket Data..."})]})})}):null;return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 font-sans",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:"Online Payment Bookings Management"}),e.jsx("p",{className:"mt-1 text-lg text-gray-500",children:"Manage all ONLINE PAYMENT vehicle and seat bookings"}),f&&e.jsxs("div",{className:"mt-4 p-3 bg-green-100 text-green-700 border border-green-300 rounded-lg flex items-center",children:[e.jsx(zs,{className:"w-5 h-5 mr-2"}),f]}),u&&e.jsxs("div",{className:"mt-4 p-3 bg-red-100 text-red-700 border border-red-300 rounded-lg flex items-center",children:[e.jsx(nn,{className:"w-5 h-5 mr-2"}),e.jsx("strong",{children:"Error:"})," ",u]}),c&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-100 text-yellow-700 border border-yellow-300 rounded-lg flex items-center",children:[e.jsx("svg",{className:"animate-spin h-4 w-4 mr-2",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),"Updating booking status..."]})]}),e.jsx("div",{className:"bg-white shadow-xl rounded-xl mb-8 overflow-hidden border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 text-purple-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Showing Only Online Payment Bookings"}),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full",children:"ONLINE PAYMENT"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Total: ",e.jsx("span",{className:"font-bold text-gray-700",children:ae+Y})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>a("fullVehicle"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="fullVehicle"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Full Vehicle Bookings",ae>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ae})]})}),e.jsx("button",{onClick:()=>a("seat"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="seat"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Gt,{className:"w-5 h-5 mr-2"}),"Seat Bookings",Y>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:Y})]})})]})})}),i&&e.jsxs("div",{className:"p-6 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:[e.jsx("svg",{className:"animate-spin h-5 w-5 mr-3 inline-block",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",fill:"none"})}),"Loading online payment bookings from backend API..."]}),!i&&e.jsx("div",{className:"space-y-8",children:ee.length===0?e.jsx("div",{className:"p-10 text-center text-gray-500 bg-white shadow-lg rounded-xl",children:r==="fullVehicle"?"No full vehicle online payment bookings found.":"No seat online payment bookings found."}):e.jsxs(e.Fragment,{children:[ee.map(ve=>e.jsxs("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden border border-gray-200",children:[e.jsx("div",{className:`px-6 py-4 border-b ${r==="fullVehicle"?"bg-gradient-to-r from-blue-50 to-indigo-50":"bg-gradient-to-r from-green-50 to-teal-50"}`,children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[r==="fullVehicle"?e.jsx(gs,{className:"inline-block w-5 h-5 mr-2 -mt-1 text-gray-800"}):e.jsx(Vs,{className:"inline-block w-5 h-5 mr-2 -mt-1 text-gray-800"}),"Vehicle: ",e.jsx("span",{className:"text-indigo-600",children:ve.vehicleNumber}),e.jsx("span",{className:"ml-2 text-sm font-medium px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:ve.isFullVehicle?ve.serviceType==="long_drive"?"Long Drive":"Full Vehicle":"Seat Booking"}),ve.isFullVehicle&&ve.bookingDuration&&e.jsx("span",{className:"ml-2 text-sm font-medium px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:ve.bookingDuration})]}),e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:ve.isFullVehicle?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"From:"}),e.jsx("span",{className:"ml-1",children:Lb(ve.arrivalDate)}),ve.returnDate&&ve.returnDate!=="N/A"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{className:"font-medium",children:"To:"}),e.jsx("span",{className:"ml-1",children:Lb(ve.returnDate)})]})]}),ve.times.length>0&&e.jsxs("p",{className:"flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Times:"}),e.jsx("span",{className:"ml-1",children:ve.times.join(", ")})]}),e.jsxs("p",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"mr-2",children:""}),ve.routeFrom,"  ",ve.routeTo]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),Lb(ve.arrivalDate),ve.times.length>0&&e.jsxs("span",{className:"ml-4 flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Times: ",ve.times.join(", ")]})]}),e.jsxs("p",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"mr-2",children:""}),ve.routeFrom,"  ",ve.routeTo]})]})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:ve.bookings.length})," ",r==="fullVehicle"?"vehicle bookings":"seat bookings"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ve.isFullVehicle?e.jsxs(e.Fragment,{children:[ve.arrivalDate," ",ve.returnDate&&ve.returnDate!=="N/A"?`to ${ve.returnDate}`:""]}):ve.arrivalDate})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer / Service"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ve.bookings.map(oe=>e.jsx(KG,{booking:oe,onOpenStatusModal:Ae,onHandleTicket:ke,onViewScreenshot:pe,isActionDisabled:c||i,bookingType:r},`${oe.id}-${oe.bookingId}`))})]})})]},ve.vehicleNumber+ve.arrivalDate)),M>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 py-3 bg-white shadow-lg rounded-xl border border-gray-200 gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-semibold",children:R})," of ",e.jsx("span",{className:"font-semibold",children:M}),e.jsxs("span",{className:"ml-4",children:["Total ",r==="fullVehicle"?"full vehicle":"seat"," groups: ",e.jsx("span",{className:"font-semibold",children:ie.length})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Z,disabled:R===1,className:"px-3 py-1 text-sm font-medium text-indigo-600 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(q4,{className:"w-4 h-4 mr-1"})," Previous"]}),e.jsxs("button",{onClick:H,disabled:R===M,className:"px-3 py-1 text-sm font-medium text-indigo-600 bg-indigo-100 rounded-lg hover:bg-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next ",e.jsx(Nl,{className:"w-4 h-4 ml-1"})]})]})]})]})}),j&&e.jsx(xe,{}),Q&&e.jsx(Ue,{}),z&&e.jsx(qG,{screenshotUrl:q,onClose:Se})]})},k0=({title:t,count:s,icon:r,color:a})=>{const i={green:{border:"border-green-500",text:"text-green-500"},blue:{border:"border-blue-500",text:"text-blue-500"},orange:{border:"border-orange-500",text:"text-orange-500"},indigo:{border:"border-indigo-500",text:"text-indigo-500"},pink:{border:"border-pink-500",text:"text-pink-500"},teal:{border:"border-teal-500",text:"text-teal-500"}},o=i[a]||i.indigo;return e.jsx("div",{className:`p-5 bg-white rounded-xl shadow-lg border-l-4 ${o.border} transform hover:scale-[1.02] transition duration-300`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:t}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mt-1",children:s})]}),e.jsx(r,{size:32,className:`${o.text} opacity-70`})]})})},XG=()=>{const t=Js(),s=Ur(),[r,a]=S.useState(null),[i,o]=S.useState("overview"),[c,A]=S.useState(!0),[u,h]=S.useState({}),[f,g]=S.useState(!1),[b,x]=S.useState(null),[w,B]=S.useState(!1),[j,_]=S.useState(!1),Q=async()=>{try{const R=await Kt.get("/auth/my-company-detail/");a(R.data)}catch(R){console.error(" Fetch failed:",R)}finally{A(!1)}};S.useEffect(()=>{s.state?.openVehicles&&o("vehicles"),Q()},[s.state?.openVehicles]);const E=r?.company_logo_url||r?.company_logo||"https://placehold.co/96x96/FFFFFF/4F46E5?text=LOGO",T=r?.company_banner_url||r?.company_banner||"https://placehold.co/1920x400/31333B/C7C7C7?text=Background",U=async R=>{R.preventDefault();try{const P=i==="vehicles"?"/company/vehicles/":i==="drivers"?"/company/drivers/":"/company/routes/";b?await Kt.put(`${P}${b}/`,u):await Kt.post(P,u),await Q(),g(!1),x(null),h({})}catch(P){console.error(" Save failed:",P)}},k=async R=>{try{const P=i==="vehicles"?"/company/vehicles/":i==="drivers"?"/company/drivers/":"/company/routes/";await Kt.delete(`${P}${R}/`),await Q()}catch(P){console.error(" Delete failed:",P)}},q=R=>{x(R.id),h(R),g(!0)},K=()=>{x(null),h({}),g(!0)},z=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_role"),localStorage.removeItem("company_status"),t("/")},$=[{id:"vehicles",name:"Vehicles",icon:Vs},{id:"bookings",name:"Bookings",icon:as},{id:"cash-tx",name:"Cash Transactions",icon:Vr},{id:"online-pay",name:"Menual Payment",icon:Mi},{id:"routes",name:"Routes & Fares",icon:Jr},{id:"drivers",name:"Drivers",icon:Gt},{id:"settings",name:"Settings",icon:Su}],D=R=>{o(R),B(!1),g(!1),x(null),h({})},L=r?.company_name||r?.username||"Transport Company";return c?e.jsx("div",{className:"p-10 text-center text-xl",children:"Loading..."}):e.jsxs("div",{className:"bg-gray-50",children:[e.jsxs("div",{className:"lg:flex",children:[e.jsx("div",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsx("div",{className:"w-80 lg:sticky lg:top-0 h-screen p-8 bg-white shadow-xl z-30 flex flex-col justify-between overflow-y-auto",children:e.jsxs("div",{children:[e.jsx("div",{className:"space-y-2 mb-8",children:$.map(R=>{const P=R.icon,re=i===R.id;return R.id==="logout"?null:e.jsxs("button",{onClick:()=>D(R.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition ${re?"bg-indigo-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:[e.jsx(P,{size:20}),e.jsx("span",{children:R.name})]},R.id)})}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-700 mb-3",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-1 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Total Vehicles"}),e.jsx("span",{className:"font-semibold text-blue-600",children:r?.vehicles?.length||0})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Total Drivers"}),e.jsx("span",{className:"font-semibold text-green-600",children:r?.drivers?.length||0})]}),e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-gray-600",children:"Total Routes"}),e.jsx("span",{className:"font-semibold text-purple-600",children:r?.routes?.length||0})]})]})]})]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>B(!0),className:"lg:hidden fixed left-4 z-50 flex items-center justify-center w-10 h-10 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition-all",style:{top:"4rem"},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})}),e.jsxs("div",{className:"w-full h-[45vh] relative flex items-center justify-center bg-cover bg-center shadow-lg",style:{backgroundImage:`url(${T})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("img",{src:E,alt:"Company Logo",className:"w-32 h-32 rounded-full object-cover border-4 border-white mx-auto shadow-xl",onError:R=>R.target.src="https://placehold.co/96x96/FFFFFF/4F46E5?text=LOGO"}),e.jsx("h1",{className:"text-white text-4xl mt-4 font-extrabold drop-shadow-lg",children:L}),e.jsx("p",{className:"text-gray-200 font-medium mt-1",children:"Premium Transport Services"})]})]}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("button",{onClick:()=>_(!j),className:"lg:hidden w-full flex items-center justify-between p-4 bg-indigo-100 text-indigo-700 font-bold rounded-xl mb-6 shadow-lg transition hover:bg-indigo-200",children:[e.jsx("span",{children:j?"Hide Overview":"Show Overview"}),j?e.jsx(Ug,{size:20}):e.jsx(Hf,{size:20})]}),e.jsx("div",{className:`${j?"block":"hidden"} lg:block`,children:i==="overview"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-5 mt-4 md:mt-8 lg:mt-0",children:"Business Overview"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:[e.jsx(k0,{title:"Total Routes",count:r?.routes?.length||0,icon:Jr,color:"green"}),e.jsx(k0,{title:"Total Vehicles",count:r?.vehicles?.length||0,icon:Vs,color:"blue"}),e.jsx(k0,{title:"Total Drivers",count:r?.drivers?.length||0,icon:Gt,color:"orange"}),e.jsx(k0,{title:"Active Bookings",count:r?.bookings?.length||0,icon:as,color:"indigo"})]})]})}),e.jsx("main",{className:"flex-1 bg-gray-50",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 min-h-[500px]",children:[i==="vehicles"&&e.jsx(jG,{vehicles:r?.vehicles,onAdd:K,onEdit:q,onDelete:k}),i==="drivers"&&e.jsx(_G,{drivers:r?.drivers,onAdd:K,onEdit:q,onDelete:k}),i==="routes"&&e.jsx(SG,{routes:r?.routes,onAdd:K,onEdit:q,onDelete:k}),i==="bookings"&&e.jsx(FG,{}),i==="cash-tx"&&e.jsx(HG,{user:r}),i==="online-pay"&&e.jsx($G,{user:r}),i==="settings"&&e.jsx(nS,{user:r,fetchUser:Q})]})})})})]})]})]}),w&&e.jsxs("div",{className:"fixed inset-0 z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>B(!1)}),e.jsxs("div",{className:"fixed inset-y-0 left-0 w-72 bg-white shadow-2xl flex flex-col",children:[e.jsx("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 text-gray-600 hover:text-gray-900",children:e.jsx(Is,{className:"w-6 h-6"})}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-600 to-indigo-700",children:e.jsxs("h1",{className:"text-xl font-extrabold text-white tracking-widest flex items-center",children:[e.jsx(e_,{className:"w-5 h-5 mr-2"})," Dashboard"]})}),e.jsx("nav",{className:"flex-grow px-3 py-4 space-y-1 overflow-y-auto",children:$.map(R=>{const P=R.icon,re=i===R.id;return e.jsxs("button",{onClick:()=>{D(R.id),B(!1)},className:`w-full flex items-center p-3 rounded-xl transition-colors duration-200 ${re?"bg-indigo-600 text-white shadow-xl":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(P,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:R.name})]},R.id)})}),e.jsxs("div",{className:"px-3 py-4 border-t border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center p-3 rounded-lg mb-2",children:[e.jsx(Zo,{className:"w-5 h-5 mr-3 text-indigo-400"}),e.jsx("span",{className:"font-semibold truncate",children:L})]}),e.jsxs("button",{onClick:z,className:"w-full flex items-center p-3 rounded-lg text-red-600 hover:bg-red-50 transition",children:[e.jsx(s_,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center p-4",onClick:()=>g(!1),children:e.jsxs("form",{onSubmit:U,onClick:R=>R.stopPropagation(),className:"bg-white p-6 rounded-xl shadow-2xl max-w-lg w-full space-y-4 relative",children:[e.jsxs("h2",{className:"text-xl font-bold text-center border-b pb-2 mb-4",children:[b?"Edit":"Add"," ",i==="vehicles"?"Vehicle":i==="drivers"?"Driver":"Route"]}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-red-600 transition p-1 rounded-full",title:"Close Form",children:e.jsx(Is,{size:24})}),i==="vehicles"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Vehicle Type",value:u.vehicle_type||"",onChange:R=>h({...u,vehicle_type:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"text",placeholder:"Vehicle Number",value:u.vehicle_number||"",onChange:R=>h({...u,vehicle_number:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",placeholder:"Number of Seats",value:u.number_of_seats||"",onChange:R=>h({...u,number_of_seats:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),i==="drivers"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Driver Name",value:u.driver_name||"",onChange:R=>h({...u,driver_name:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"text",placeholder:"Driving License No",value:u.driving_license_no||"",onChange:R=>h({...u,driving_license_no:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),i==="routes"&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"From Location",value:u.from_location||"",onChange:R=>h({...u,from_location:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"text",placeholder:"To Location",value:u.to_location||"",onChange:R=>h({...u,to_location:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",placeholder:"Fare",value:u.fare||"",onChange:R=>h({...u,fare:R.target.value}),className:"border p-3 w-full rounded-lg focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-2 bg-gray-300 text-gray-800 rounded-full font-semibold hover:bg-gray-400 transition",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-full font-semibold hover:bg-blue-700 transition",children:"Save"})]})]})})]})},lS="/static/assets/PTMS_GB_LOGO-CwTretsG.PNG",fu=(t,s,r)=>s==="/"?t==="/"?"text-white font-bold bg-white/20 px-4 py-2 rounded-full border-2 border-white":r:s==="/seat-booking"||s==="/vehicle-booking"?t.startsWith(s)||t.includes("/company/")?"text-white font-bold bg-white/20 px-4 py-2 rounded-full border-2 border-white":r:t.startsWith(s)?"text-white font-bold bg-white/20 px-4 py-2 rounded-full border-2 border-white":r,YG={hidden:{x:"100%"},visible:{x:0,transition:{type:"spring",stiffness:100,damping:20}},exit:{x:"100%",transition:{duration:.2}}};function WG({isLoggedIn:t,onOpenLoginModal:s}){const r=Js(),a=Ur(),i=a.pathname,[o,c]=S.useState(!1),[A,u]=S.useState(!1),[h,f]=S.useState(!1),[g,b]=S.useState(null),[x,w]=S.useState(null),B=S.useRef(null),j=S.useRef(null),_=S.useRef(null),Q=S.useRef(null);S.useEffect(()=>{const z=localStorage.getItem("user_role"),$=localStorage.getItem("company_status");b(z||null),w($||null)},[t]),S.useEffect(()=>{c(!1),f(!1),u(!1)},[a.pathname]),S.useEffect(()=>{const z=$=>{B.current&&!B.current.contains($.target)&&f(!1),j.current&&!j.current.contains($.target)&&u(!1),o&&_.current&&!_.current.contains($.target)&&Q.current&&!Q.current.contains($.target)&&c(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[o]);const E=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user_role"),localStorage.removeItem("user_id"),localStorage.removeItem("company_status"),r("/login"),window.location.reload()},T=()=>{switch(f(!1),g){case"company":r(x==="approved"?"/CompanyDashboard":"/CompanyProfileForm");break;case"passenger":r("/PassengerDashboard");break;case"admin":r("/admin/dashboard");break;default:r("/")}},U="text-white font-semibold hover:text-white hover:bg-white/10 px-4 py-2 rounded-full transition duration-300",k="block w-full text-left px-6 py-3 text-lg font-semibold text-white hover:bg-white/20 transition",q="block w-full text-left px-6 py-3 text-lg font-bold text-white bg-white/30 border-l-4 border-white transition",K=()=>g==="company"&&x!=="approved"?e.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 bg-white border shadow-xl rounded-lg w-48 z-50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b bg-yellow-50",children:[e.jsxs("p",{className:"text-sm text-yellow-700 font-medium",children:[e.jsx("span",{className:"font-bold",children:"Status:"})," ",x||"pending"]}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Your application is under review"})]}),e.jsx("button",{onClick:()=>{f(!1),r("/CompanyProfileForm")},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-700 border-b",children:"Update Profile"}),e.jsx("button",{onClick:E,className:"block w-full text-left px-4 py-2 hover:bg-red-50 text-red-500",children:"Logout"})]}):e.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 bg-white border shadow-xl rounded-lg w-40 z-50 overflow-hidden",children:[g==="company"&&x==="approved"&&e.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 font-bold hover:bg-indigo-50 text-indigo-600 border-b",children:"Dashboard"}),g==="passenger"&&e.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 font-bold hover:bg-indigo-50 text-indigo-600 border-b",children:"Dashboard"}),g==="admin"&&e.jsx("button",{onClick:T,className:"block w-full text-left px-4 py-2 font-bold hover:bg-indigo-50 text-indigo-600 border-b",children:"Admin Dashboard"}),e.jsx("button",{onClick:()=>{f(!1),r(g==="company"?"/Company_profile":"/Passenger_profile")},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-700 border-b",children:"My Profile"}),e.jsx("button",{onClick:E,className:"block w-full text-left px-4 py-2 hover:bg-red-50 text-red-500",children:"Logout"})]});return e.jsxs("header",{className:"sticky top-0 z-40 bg-gradient-to-r from-blue-700 via-indigo-600 to-purple-700 backdrop-blur-sm shadow-2xl border-b border-white/20",children:[e.jsxs("div",{className:"py-3 px-4 sm:px-6 flex justify-between items-center max-w-7xl mx-auto",children:[e.jsxs("div",{onClick:()=>r("/"),className:"text-xl sm:text-2xl font-extrabold text-white flex items-center gap-2 cursor-pointer hover:opacity-90 transition",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full overflow-hidden border-2 border-white",children:e.jsx("img",{src:lS,alt:"PTMS_GB Logo",className:"w-full h-full object-cover"})}),"PTMS_GB"]}),e.jsxs("nav",{className:"hidden md:flex flex-wrap justify-center gap-4 relative",children:[e.jsx("button",{onClick:()=>r("/"),className:fu(i,"/",U),children:"Home"}),e.jsxs("div",{className:"relative",ref:j,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsx("button",{className:`${U} ${i.startsWith("/seat-booking")||i.startsWith("/vehicle-booking")||i.includes("/company/")?"bg-white/20 border-2 border-white":""}`,children:"Companies"}),e.jsx(ui,{children:A&&e.jsxs(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-12 left-0 bg-white shadow-xl rounded-lg border w-48 overflow-hidden z-50",children:[e.jsx("button",{onClick:()=>{r("/seat-booking"),u(!1)},className:`w-full text-left px-4 py-2 hover:bg-indigo-50 ${i.startsWith("/seat-booking")?"text-indigo-600 font-semibold bg-indigo-50":"text-gray-700"}`,children:"Seat Booking"}),e.jsx("button",{onClick:()=>{r("/vehicle-booking"),u(!1)},className:`w-full text-left px-4 py-2 hover:bg-indigo-50 ${i.startsWith("/vehicle-booking")?"text-indigo-600 font-semibold bg-indigo-50":"text-gray-700"}`,children:"Vehicle Booking"})]})})]}),e.jsx("button",{onClick:()=>r("/AllVehiclesPage"),className:fu(i,"/AllVehiclesPage",U),children:"Vehicles"}),e.jsx("button",{onClick:()=>r("/CompanyRegistrationSection"),className:fu(i,"/CompanyRegistrationSection",U),children:"Add Service"}),e.jsx("button",{onClick:()=>r("/weather"),className:fu(i,"/weather",U),children:"Weather"}),e.jsx("button",{onClick:()=>r("/AboutUs"),className:fu(i,"/AboutUs",U),children:"About Us"}),e.jsx("button",{onClick:()=>r("/ContactPage"),className:fu(i,"ContactPage",U),children:"Contact Us"})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 relative",children:[t?e.jsxs(e.Fragment,{children:[g==="company"&&x!=="approved"&&e.jsx("div",{className:"hidden md:flex items-center gap-2 px-3 py-1 bg-yellow-500/20 border border-yellow-400/30 rounded-full",children:e.jsxs("span",{className:"text-xs font-semibold text-yellow-200",children:["Status: ",x||"pending"]})}),e.jsxs("div",{className:"relative",ref:B,children:[e.jsxs("button",{onClick:()=>f(z=>!z),className:"p-1 sm:p-2 rounded-full bg-white/20 hover:bg-white/30 relative",children:[e.jsx(rs,{className:"w-5 h-5 text-white"}),g==="company"&&x!=="approved"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full border-2 border-purple-700"})]}),e.jsx(ui,{children:h&&K()})]})]}):e.jsxs("div",{className:"hidden md:flex gap-3",children:[e.jsx("button",{onClick:s,className:"bg-white text-indigo-700 px-5 py-2 rounded-full text-sm font-bold shadow-lg hover:bg-gray-100 hover:text-indigo-800 transition",children:"Login"}),e.jsx("button",{onClick:()=>r("/PassengerRegistration"),className:"border-2 border-white text-white px-5 py-2 rounded-full text-sm font-bold hover:bg-white hover:text-indigo-700 transition",children:"Sign Up"})]}),e.jsx("button",{ref:Q,onClick:()=>c(!o),className:"p-1 sm:p-2 md:hidden rounded-full bg-white/20 hover:bg-white/30",children:o?e.jsx(Is,{className:"w-6 h-6 text-white"}):e.jsx(uL,{className:"w-6 h-6 text-white"})})]})]}),e.jsx(ui,{children:o&&e.jsxs(nt.div,{ref:_,initial:"hidden",animate:"visible",exit:"exit",variants:YG,className:"fixed top-16 right-0 w-64 bg-gradient-to-b from-blue-800 to-purple-800 shadow-2xl border-l border-white/20 md:hidden z-50 overflow-y-auto h-auto max-h-[calc(100vh-64px)]",children:[e.jsxs("nav",{className:"flex flex-col p-4 space-y-1",children:[e.jsx("button",{onClick:()=>r("/"),className:i==="/"?q:k,children:"Home"}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!A),className:`w-full text-left px-6 py-3 text-lg font-semibold text-white hover:bg-white/20 transition flex justify-between items-center ${i.startsWith("/seat-booking")||i.startsWith("/vehicle-booking")||i.includes("/company/")?"font-bold text-white bg-white/30":""}`,children:["Companies ",A?e.jsx(Ug,{className:"w-4 h-4 text-white"}):e.jsx(Hf,{className:"w-4 h-4 text-white"})]}),e.jsx(ui,{children:A&&e.jsxs(nt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden bg-white/10 border-l-4 border-white/30",children:[e.jsx("button",{onClick:()=>{r("/seat-booking"),u(!1)},className:`block w-full text-left pl-10 py-2 text-base ${i.startsWith("/seat-booking")?"text-white font-semibold bg-white/20":"text-white/90 hover:text-white hover:bg-white/10"}`,children:"- Seat Booking"}),e.jsx("button",{onClick:()=>{r("/vehicle-booking"),u(!1)},className:`block w-full text-left pl-10 py-2 text-base ${i.startsWith("/vehicle-booking")?"text-white font-semibold bg-white/20":"text-white/90 hover:text-white hover:bg-white/10"}`,children:"- Vehicle Booking"})]})})]}),e.jsx("button",{onClick:()=>r("/AllVehiclesPage"),className:i.startsWith("/AllVehiclesPage")?q:k,children:"Vehicles"}),e.jsx("button",{onClick:()=>r("/CompanyRegistrationSection"),className:i.startsWith("/CompanyRegistrationSection")?q:k,children:"Add Service"}),e.jsx("button",{onClick:()=>r("/weather"),className:i.startsWith("/weather")?q:k,children:"Weather"}),e.jsx("button",{onClick:()=>r("/AboutUs"),className:i.startsWith("/AboutUs")?q:k,children:"About Us"}),e.jsx("button",{onClick:()=>r("/ContactPage"),className:i.startsWith("/ContactPage")?q:k,children:"Contact Us"})]}),t?e.jsxs("div",{className:"p-4 border-t border-white/30 mt-4",children:[g==="company"&&x!=="approved"&&e.jsxs("div",{className:"mb-4 p-3 bg-yellow-500/20 border border-yellow-400/30 rounded-lg",children:[e.jsxs("p",{className:"text-sm font-semibold text-yellow-200",children:["Status: ",x||"pending"]}),e.jsx("p",{className:"text-xs text-yellow-100 mt-1",children:"Your application is under review"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[g==="company"&&x==="approved"&&e.jsx("button",{onClick:()=>{c(!1),r("/CompanyDashboard")},className:"w-full bg-white/30 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/40 transition",children:"Dashboard"}),g==="passenger"&&e.jsx("button",{onClick:()=>{c(!1),r("/PassengerDashboard")},className:"w-full bg-white/30 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/40 transition",children:"Dashboard"}),g==="admin"&&e.jsx("button",{onClick:()=>{c(!1),r("/admin/dashboard")},className:"w-full bg-white/30 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/40 transition",children:"Admin Dashboard"}),e.jsx("button",{onClick:()=>{c(!1),r(g==="company"?"/Company_profile":"/Passenger_profile")},className:"w-full border border-white/30 text-white px-4 py-2 rounded-lg font-bold hover:bg-white/10 transition",children:"My Profile"}),e.jsx("button",{onClick:E,className:"w-full border border-red-400/30 text-red-300 px-4 py-2 rounded-lg font-bold hover:bg-red-500/20 transition",children:"Logout"})]})]}):e.jsxs("div",{className:"p-4 border-t border-white/30 mt-4 flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>{c(!1),s&&s()},className:"bg-white text-indigo-700 px-4 py-2 rounded-lg font-bold shadow-lg hover:bg-gray-100 hover:text-indigo-800 transition",children:"Login"}),e.jsx("button",{onClick:()=>{c(!1),r("/PassengerRegistration")},className:"border-2 border-white text-white px-4 py-2 rounded-lg font-bold hover:bg-white hover:text-indigo-700 transition",children:"Sign Up"})]})]})})]})}const Xy="/static/assets/Banner_1-BJR__7Rz.PNG",r4=["         !","Travel with Pakistans trusted travel partners.","           "],JG=()=>{const[t,s]=S.useState([]),[r,a]=S.useState(!0),[i,o]=S.useState(null),[c,A]=S.useState(0),u=Js();return S.useEffect(()=>{(async()=>{try{const g=(await ya.get("/companies/seat-booking/")).data.map(b=>({company:b,sort:Math.random()})).sort((b,x)=>b.sort-x.sort).map(({company:b})=>b);s(g),a(!1)}catch(f){console.error("Error fetching seat booking companies:",f),o("Failed to load companies. Please try again."),a(!1)}})()},[]),S.useEffect(()=>{const h=setInterval(()=>{A(f=>(f+1)%r4.length)},3e3);return()=>clearInterval(h)},[]),r?e.jsx("div",{className:"flex justify-center items-center h-screen text-xl font-medium text-indigo-600",children:"Loading amazing travel partners..."}):i?e.jsxs("div",{className:"flex justify-center items-center h-screen text-xl font-medium text-red-600",children:[" ",i]}):t.length===0?e.jsx("div",{className:"flex justify-center items-center h-screen text-xl font-medium text-gray-500",children:" No companies currently offering seat booking services."}):e.jsxs("div",{className:"bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 min-h-screen",children:[e.jsxs("div",{className:"relative min-h-[50vh] flex items-center justify-center overflow-hidden transition-all duration-500",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat object-cover  ",style:{backgroundImage:`url(${Xy})`,backgroundPosition:"center"},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/70 to-purple-900/60"})}),e.jsxs("div",{className:"relative z-10 text-white text-center px-4 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 drop-shadow-lg",children:r4[c]}),e.jsx("p",{className:"text-lg md:text-xl text-blue-100/90 drop-shadow-md",children:"Your additional text here (optional)"})]})]}),e.jsx("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(h=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden transform transition duration-500 hover:shadow-2xl hover:scale-[1.03] cursor-pointer",onClick:()=>u(`/company/${h.id}/transports`,{state:{company:h}}),children:[e.jsx("div",{className:"w-full bg-indigo-50 p-6 flex justify-center",children:e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white overflow-hidden shadow-lg",children:e.jsx("img",{src:h.company_logo_url||"https://via.placeholder.com/200?text=No+Logo",alt:h.company_name,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"p-5 flex flex-col justify-between h-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-indigo-700 mb-3 text-center truncate",title:h.company_name,children:h.company_name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx("strong",{children:"Services:"}),e.jsx("span",{className:"ml-2 truncate",children:h.services_offered})]}),e.jsxs("p",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2 text-red-500 flex-shrink-0"}),e.jsx("strong",{children:"City:"}),e.jsx("span",{className:"ml-2",children:h.main_office_city})]}),e.jsxs("p",{className:"text-sm text-gray-700 flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-2 text-green-600 flex-shrink-0"}),e.jsx("strong",{children:"Call Service:"}),h.contact_number_1?e.jsx("a",{href:`tel:${h.contact_number_1}`,className:"ml-2 font-semibold text-green-600 hover:text-green-700",onClick:f=>{f.stopPropagation(),console.log(`Calling ${h.contact_number_1}`)},children:h.contact_number_1}):e.jsx("span",{className:"ml-2 text-gray-500",children:"N/A"})]})]}),e.jsx("button",{className:"mt-4 w-full bg-indigo-600 text-white py-2 rounded-xl font-semibold hover:bg-indigo-700 transition duration-300 shadow-md",children:"View Options"})]})]},h.id))})})})]})},ZG=({vehicle:t})=>{const s=Js(),r=!t.vehicle_image||t.vehicle_image==="Nill"?defaultVehicleImage:t.vehicle_image.startsWith("http")?t.vehicle_image:`http://127.0.0.1:8000${t.vehicle_image}`,a=()=>{if(t.is_specific_route&&t.fixed_fare)return{primary:`Rs. ${parseInt(t.fixed_fare).toLocaleString()}`,secondary:t.distance?` ${t.distance} km`:"Fixed Route",icon:Jr,color:"text-green-600"};if(t.is_long_drive){if(t.per_day_rate)return{primary:`Rs. ${parseInt(t.per_day_rate).toLocaleString()}`,secondary:"/ day",icon:as,color:"text-blue-600"};if(t.per_hour_rate)return{primary:`Rs. ${parseInt(t.per_hour_rate).toLocaleString()}`,secondary:"/ hour",icon:is,color:"text-purple-600"}}return t.rate_per_km?{primary:`Rs. ${t.rate_per_km}`,secondary:"/ km",icon:kg,color:"text-red-600"}:{primary:"Contact for Price",secondary:"Custom Quote",icon:Vr,color:"text-gray-600"}},i=()=>{const g=[];return t.is_specific_route&&g.push({text:"Fixed Route",icon:Jr,color:"bg-green-100 text-green-700 border border-green-200"}),t.is_long_drive&&g.push({text:"Long Drive",icon:as,color:"bg-blue-100 text-blue-700 border border-blue-200"}),t.is_taxi_service&&g.push({text:"Taxi Service",icon:gs,color:"bg-orange-100 text-orange-700 border border-orange-200"}),g},o=a(),c=i(),A=g=>{g&&g.stopPropagation();const b=localStorage.getItem("accessToken"),x=t;if(console.log("Card data:",x),!b||b==="null"||b==="undefined"||b.trim()===""){s("/login",{replace:!0,state:{from:`/book-vehical/${x.id}`,vehicleDetails:x,fromCard:!0}});return}s(`/book-vehical/${x.id}`,{state:{vehicleDetails:x,fromCard:!0}})},u=g=>{g&&g.stopPropagation();const b=t;s(`/book-vehical-details/${b.id}`,{state:{vehicleDetails:b}})},h=()=>{if(typeof t.rating=="number"&&t.rating>0&&t.rating<=5){const g=Math.floor(t.rating);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((b,x)=>e.jsx(za,{className:`w-3 h-3 ${x<g?"fill-yellow-400":"text-gray-300"}`},x))}),e.jsx("span",{className:"ml-1 text-xs font-semibold text-gray-700",children:t.rating.toFixed(1)})]})}return e.jsx("span",{className:"text-xs font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:" New"})},f=()=>t.is_specific_route&&t.route_from&&t.route_to?e.jsxs("div",{className:"flex items-center text-green-700 font-semibold text-sm bg-green-50 px-3 py-1.5 rounded-lg border border-green-200 mb-2",children:[e.jsx(Jr,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{className:"truncate",children:[t.route_from,"  ",t.route_to]})]}):t.location_address?e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2 text-indigo-500"}),e.jsx("span",{className:"truncate",children:t.location_address})]}):null;return e.jsxs(nt.div,{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 hover:border-indigo-300 flex flex-col md:flex-row overflow-hidden transform hover:-translate-y-1",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"relative md:w-2/5 h-48 md:h-auto overflow-hidden",children:[e.jsx("img",{src:r,alt:t.vehicle_type,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:g=>{g.target.onerror=null,g.target.src=defaultVehicleImage}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:t.is_taxi_service?"TAXI SERVICE":"WHOLE VEHICLE HIRE"})}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-center",children:[t.vehicle_number&&t.vehicle_number!=="N/A"&&e.jsx("span",{className:"bg-black/70 text-white text-xs px-3 py-1 rounded-full backdrop-blur-sm",children:t.vehicle_number}),e.jsx("div",{className:"flex-shrink-0",children:h()})]})]}),e.jsxs("div",{className:"md:w-3/5 p-5 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight pr-2",children:t.company_name||t.vehicle_type})}),f(),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1.5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:t.driver_name||"Driver N/A"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1.5 text-green-500"}),e.jsx("span",{children:t.driver_contact||"N/A"})]})]}),e.jsxs("div",{className:`flex items-center ${o.color} font-bold text-lg mb-4 py-3 border-y border-gray-100`,children:[e.jsx(o.icon,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"text-lg",children:o.primary}),e.jsx("span",{className:"text-sm font-semibold ml-2 text-gray-600",children:o.secondary})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2 text-green-500"}),e.jsxs("span",{children:[t.vehicle_seats||"N/A"," Seats"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(gs,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsx("span",{className:"font-semibold capitalize",children:t.vehicle_type||"Vehicle"})]})]}),e.jsxs("div",{className:"flex items-start pt-2 mb-4",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2 text-indigo-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-gray-700 line-clamp-2",children:t.location_address||"Location not specified"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((g,b)=>e.jsxs("span",{className:`flex items-center text-xs font-semibold px-3 py-1.5 rounded-full ${g.color} transition-colors duration-300`,children:[e.jsx(g.icon,{className:"w-3 h-3 mr-1.5"}),g.text]},b))})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[e.jsx(nt.button,{onClick:A,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold text-sm hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center group/btn",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx("span",{className:"group-hover/btn:scale-105 transition-transform",children:"Book Now"})}),e.jsx(nt.button,{onClick:u,className:"px-4 border-2 border-indigo-200 text-indigo-600 py-3 rounded-xl font-semibold text-sm hover:bg-indigo-50 hover:border-indigo-300 transition-all duration-300 flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx("span",{children:"Details"})})]})]})]})},eq=({company:t,onSelect:s})=>{const r=t.company_logo_url||"https://via.placeholder.com/400x192?text=Company+Logo";return e.jsxs("div",{className:`\r
        bg-white rounded-3xl shadow-xl overflow-hidden\r
        transform transition duration-500 hover:shadow-2xl \r
        hover:scale-[1.03] cursor-pointer\r
      `,onClick:()=>s(t),children:[e.jsx("div",{className:"w-full h-48 bg-gray-200 border-b-2 border-indigo-100",children:e.jsx("img",{src:r,alt:t.company_name,className:"w-full h-full object-cover",onError:a=>{a.target.onerror=null,a.target.src="https://placehold.co/400x192/6366f1/ffffff?text=LOGO"}})}),e.jsxs("div",{className:"p-5 flex flex-col justify-between h-auto",children:[e.jsx("h3",{className:"text-2xl font-bold text-indigo-700 mb-2 truncate",title:t.company_name,children:t.company_name}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx("span",{className:"text-green-500 text-lg mr-2",children:""}),e.jsx("span",{className:"font-semibold",children:"Services:"})," ",e.jsx("span",{className:"ml-1",children:t.offer_type||"Vehicle Rental"})]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx("span",{className:"text-gray-400 text-lg mr-2",children:""}),"City: ",e.jsx("strong",{className:"ml-1",children:t.main_office_city||"Unknown"})]})]}),e.jsx("button",{className:`\r
            mt-4 w-full bg-indigo-600 text-white py-2 \r
            rounded-xl font-semibold hover:bg-indigo-700 \r
            transition duration-300\r
          `,children:"View Options"})]})]})},tq=()=>{const[t,s]=S.useState([]),[r,a]=S.useState({}),[i,o]=S.useState(!0),[c,A]=S.useState(null),u=Js();S.useEffect(()=>{(async()=>{try{const w=((await ya.get("/companies/vehicle-booking/")).data||[]).map(j=>({company:j,sort:Math.random()})).sort((j,_)=>j.sort-_.sort).map(({company:j})=>j);s(w);const B={};for(const j of w)try{const Q=((await ya.get(`/company/${j.id}/vehicles/`)).data||[]).filter(E=>E.offer_type==="whole_hire");B[j.id]=Q}catch{B[j.id]=[]}a(B)}finally{o(!1)}})()},[]);const h=g=>{u(`/book-vehicle/${g.id}`,{state:{vehicle:g}})},f=g=>{u(`/book-vehicle-details/${g.id}`,{state:{vehicleDetails:g}})};return i?e.jsx("div",{className:"p-10 text-center text-green-600 font-bold",children:"Loading vehicle partners..."}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 pb-20",children:[e.jsxs("div",{className:"relative w-full h-64 overflow-hidden shadow-lg",children:[e.jsx("img",{style:{backgroundImage:`url(${Xy})`,backgroundPosition:"center"},src:c?c.company_banner_url||c.company_logo_url:Xy,alt:" khan",className:"w-full h-full object-cover bg-contain "}),e.jsxs("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center",children:[c&&e.jsx("img",{src:c.company_logo_url,alt:"Logo",className:"w-28 h-28 rounded-full border-4 border-white shadow-lg mb-3 object-cover"}),e.jsx("h1",{className:"text-3xl md:text-5xl text-white font-extrabold text-center",children:c?c.company_name:"Vehicle Rental Partners"})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 mt-10",children:c?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>A(null),className:"mb-6 px-5 py-2 bg-gray-200 rounded-lg font-semibold hover:bg-gray-300",children:" Back to Companies"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:c.company_name}),r[c.id]?.length===0?e.jsx("p",{className:"text-gray-500",children:"No vehicles available."}):e.jsx("div",{className:"grid grid-cols-1 gap-8",children:r[c.id].map(g=>e.jsx(ZG,{vehicle:g,onBook:h,onDetails:f},g.id))})]}):e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(g=>e.jsx(eq,{company:g,onSelect:A},g.id))})})]})},sq=()=>{const{company_id:t}=h4(),s=Ur(),r=Js(),a=s.state?.company,[i,o]=S.useState([]),[c,A]=S.useState(!0),[u,h]=S.useState(null),[f,g]=S.useState(""),[b,x]=S.useState(""),[w,B]=S.useState(""),[j,_]=S.useState(!1),[Q,E]=S.useState({}),[T,U]=S.useState({}),[k,q]=S.useState({}),K=s.pathname.includes("/transports"),z=K?"offer_sets":"offer_vehicle",$=K?"Available Seat Bookings":"Available Vehicle Rentals";S.useEffect(()=>{(async()=>{try{const re=await ya.get(`/companies/${t}/transports/?type=${z}`);o(re.data),A(!1),K&&D(re.data)}catch{h(`Failed to load ${$}.`),A(!1)}})()},[t,z,$]);const D=async P=>{const re={},I={},G={};P.forEach(X=>{I[X.id]=!0}),U(I);for(const X of P){const ie=X.vehicle_id||X.vehicle||X.id,ge=X.arrival_date||X.departure_date,ee=X.arrival_time||X.departure_time;if(!ie||!ge||!ee){I[X.id]=!1,U(M=>({...M,[X.id]:!1}));continue}try{const M=localStorage.getItem("access_token");let H=ee;H&&H.split(":").length===2&&(H=`${H}:00`);const Z=`http://localhost:8000/api/checkout/bookings/?vehicle_id=${ie}&arrival_date=${ge}&arrival_time=${H}`,Ae=await fetch(Z,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(Ae.ok){const fe=await Ae.json();re[X.id]=Array.isArray(fe)?fe:[],G[X.id]=null}else if(Ae.status===404)re[X.id]=[],G[X.id]=null;else throw new Error(`Failed to fetch seats: ${Ae.status}`)}catch(M){console.error(`Error fetching booked seats for transport ${X.id}:`,M),re[X.id]=[],G[X.id]=M.message}finally{I[X.id]=!1}}E(re),U(I),q(G)},L=P=>{const re=P.vehicle_seats||P.vehicle_seats_snapshot||P.seats_available||40,I=P?.reserve_seats||[],G=Q[P.id]||[],X=[...new Set([...I,...G])],ie=re-X.length;return ie>=0?ie:0};if(c)return e.jsxs("div",{className:"p-10 text-center text-xl font-bold",children:["Loading ",$,"..."]});if(u)return e.jsx("div",{className:"p-10 text-center text-xl font-bold text-red-600",children:u});const R=i.filter(P=>(f?P.route_display?.toLowerCase().includes(f.toLowerCase()):!0)&&(b?P.vehicle_type?.toLowerCase()===b.toLowerCase():!0)&&(w?Number(P.rating||0)>=Number(w):!0));return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[a&&e.jsxs("div",{className:"relative w-full h-64 md:h-72 bg-gray-200 shadow-md flex items-center justify-center mt-4",children:[e.jsx("img",{src:a.company_banner_url,className:"absolute inset-0 w-full h-full object-cover opacity-80",alt:"Company Banner"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsxs("div",{className:"relative text-center flex flex-col items-center",children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white shadow-xl mb-3",children:e.jsx("img",{src:a.company_logo_url,className:"w-full h-full object-cover",alt:"Company logo"})}),e.jsx("h1",{className:"text-3xl font-extrabold text-white drop-shadow-lg",children:a.company_name}),e.jsx("p",{className:"text-gray-200 text-sm",children:a.services_offered}),e.jsxs("p",{className:"text-gray-300 text-sm flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"})," ",a.main_office_city]}),e.jsx("button",{className:"mt-3 px-4 py-2 bg-white text-indigo-700 rounded-lg shadow font-semibold hover:bg-indigo-100 transition",onClick:()=>_(!0),children:"View Company Details"})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-8 px-4",children:[e.jsxs("button",{onClick:()=>r(-1),className:`flex items-center gap-2 px-3 py-2 bg-white border border-indigo-200 \r
                     rounded-lg shadow-sm hover:shadow-md hover:bg-indigo-50 \r
                     text-indigo-600 font-semibold transition`,children:[e.jsx(ka,{className:"w-5 h-5"})," Back"]}),e.jsx("h2",{className:`text-3xl md:text-4xl font-extrabold text-center flex-1 ${K?"text-indigo-600":"text-green-600"}`,children:$}),e.jsx("div",{className:"w-[95px]"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-6 px-4 pb-10 mt-10",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl p-5 md:sticky md:top-5 h-fit",children:[e.jsxs("h3",{className:"text-xl font-bold flex items-center mb-4",children:[e.jsx(Yc,{className:"w-5 h-5 mr-2"})," Filters"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"font-semibold",children:"Route"}),e.jsx("input",{type:"text",placeholder:"Search route...",className:"w-full mt-1 p-2 border rounded",value:f,onChange:P=>g(P.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"font-semibold",children:"Vehicle Type"}),e.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:b,onChange:P=>x(P.target.value),children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"Hiace",children:"Hiace"}),e.jsx("option",{value:"Coaster",children:"Coaster"}),e.jsx("option",{value:"Car",children:"Car"}),e.jsx("option",{value:"APV",children:"APV"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"font-semibold",children:"Rating"}),e.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:w,onChange:P=>B(P.target.value),children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"5",children:"5 Stars"})]})]})]}),e.jsxs("div",{className:"md:col-span-3 space-y-6",children:[R.length===0&&e.jsx("p",{className:"text-center text-gray-600 font-semibold py-8 bg-white rounded-xl shadow-sm",children:"No transports match your filter."}),R.map(P=>{const re=()=>!P.vehicle_image||P.vehicle_image==="Nill"?defaultVehicleImage:P.vehicle_image.startsWith("http")?P.vehicle_image:`http://127.0.0.1:8000${P.vehicle_image}`,I=T[P.id]||!1,G=k[P.id],X=P.vehicle_seats||P.vehicle_seats_snapshot||P.seats_available||40;let ie;I?ie="Loading...":G?ie=X:ie=L(P);const ge=()=>I?"bg-gray-100 text-gray-700 border-gray-200":G?"bg-amber-100 text-amber-700 border-amber-200":ie===0?"bg-red-500 text-white":ie<=5?"bg-amber-500 text-white":"bg-green-500 text-white",ee=()=>I?"Loading...":G?`${X}`:ie;return e.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 hover:border-indigo-300 flex flex-col md:flex-row overflow-hidden",children:[e.jsxs("div",{className:"relative md:w-2/5 h-48 md:h-auto overflow-hidden",children:[e.jsx("img",{src:re(),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",alt:"Vehicle",onError:M=>{M.target.onerror=null,M.target.src=defaultVehicleImage}}),e.jsxs("div",{className:`absolute top-4 right-4 px-3 py-1.5 rounded-full shadow-lg flex items-center gap-2 ${ge()}`,children:[e.jsx(Gt,{size:14}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium",children:"SEATS LEFT"}),e.jsx("div",{className:"text-base font-bold",children:ee()})]})]}),e.jsx("div",{className:"absolute top-4 left-3",children:e.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"SEAT BOOKING"})}),I&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-2 rounded-lg flex flex-col items-center",children:[e.jsx(Nn,{className:"w-5 h-5 animate-spin text-blue-600 mb-1"}),e.jsx("p",{className:"text-xs text-gray-700",children:"Loading seats..."})]})}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-center",children:[P.vehicle_number&&e.jsx("span",{className:"bg-black/70 text-white text-xs px-3 py-1 rounded-full",children:P.vehicle_number}),P.rating&&e.jsxs("div",{className:"flex items-center bg-white/90 px-2 py-1 rounded-full",children:[e.jsx(za,{className:"w-3 h-3 fill-yellow-500 text-yellow-500"}),e.jsx("span",{className:"ml-1 text-xs font-bold text-gray-700",children:P.rating})]})]})]}),e.jsxs("div",{className:"md:w-3/5 p-5 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 leading-tight pr-2",children:[P.company_name||P.vehicle_type,P.vehicle_number&&` (${P.vehicle_number})`]}),P.is_ac&&e.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-100 px-3 py-1 rounded-full",children:"AC"})]}),P.route_display&&e.jsxs("div",{className:"flex items-center text-green-700 font-semibold text-sm bg-green-50 px-3 py-1.5 rounded-lg border border-green-200 mb-3",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:P.route_display})]}),P.driver_name&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(rs,{className:"w-4 h-4 mr-1.5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:P.driver_name})]}),P.driver_contact&&e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1.5 text-green-500"}),e.jsx("span",{children:P.driver_contact})]})]}),e.jsxs("div",{className:"flex items-center text-red-700 font-bold text-xl mb-4 py-3 border-y border-gray-100",children:[e.jsx(Vr,{className:"w-5 h-5 mr-3 text-red-600"}),e.jsx("span",{className:"text-xl",children:P.price_per_seat?`Rs. ${P.price_per_seat}`:"Contact for Price"}),e.jsx("span",{className:"text-base font-semibold ml-2",children:"/ Seat"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(as,{className:"w-4 h-4 mr-2 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("div",{className:"font-semibold",children:P.arrival_date||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(is,{className:"w-4 h-4 mr-2 text-red-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Time"}),e.jsx("div",{className:"font-semibold",children:P.arrival_time||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Seats Left"}),e.jsx("div",{className:`font-semibold ${I?"text-gray-600":G?"text-amber-600":ie===0?"text-red-600":ie<=5?"text-amber-600":"text-green-600"}`,children:ee()}),G&&e.jsx("div",{className:"text-xs text-amber-500",children:"(Showing total seats)"})]})]}),e.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-2 rounded-lg",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2 text-blue-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Vehicle Type"}),e.jsx("div",{className:"font-semibold capitalize",children:P.vehicle_type||"N/A"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>{if(!I&&!G&&ie===0){alert("Sorry, no seats available for this vehicle!");return}const M=localStorage.getItem("accessToken");if(!M||M==="null"||M==="undefined"||M.trim()===""){r("/login",{state:{from:"/book-seat",transport:P,fromCard:!0}});return}r("/book-seat",{state:{fromCard:!0,transport:P}})},disabled:I,className:`flex-1 py-3 rounded-xl font-semibold text-sm transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center ${I?"bg-gray-300 text-gray-500 cursor-not-allowed":!G&&ie===0?"bg-red-300 text-white cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:from-indigo-700 hover:to-purple-700"}`,children:I?e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-4 h-4 animate-spin mr-2"}),"Loading..."]}):!G&&ie===0?"Sold Out":"Book Seat"}),e.jsx("button",{onClick:()=>{r(`/view-seat-offer/${P.id}`,{state:{transport:P,vehicleDetails:P}})},className:"px-4 border-2 border-indigo-200 text-indigo-600 py-3 rounded-xl font-semibold text-sm hover:bg-indigo-50 hover:border-indigo-300 transition-all duration-300 flex items-center justify-center",children:e.jsx("span",{className:"mr-2",children:"Details"})})]})]})]},P.id)})]})]}),j&&a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl w-full max-w-md shadow-2xl transform transition-all duration-300",children:[e.jsxs("h2",{className:"text-3xl font-extrabold text-indigo-700 mb-4 text-center",children:[a.company_name," Details"]}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{className:"flex items-center text-lg font-semibold border-b pb-2",children:[e.jsx(Yt,{className:"w-5 h-5 mr-3 text-red-500"}),"Office Location: ",e.jsx("span",{className:"ml-2 font-normal",children:a.main_office_city||"N/A"})]}),e.jsxs("p",{className:"flex items-start",children:[e.jsx(G4,{className:"w-5 h-5 mr-3 mt-1 text-green-600"}),"Services Offered: ",e.jsx("span",{className:"ml-2 font-normal flex-1",children:a.services_offered||"N/A"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(ln,{className:"w-5 h-5 mr-3 text-blue-500"}),"Email: ",e.jsx("span",{className:"ml-2 font-normal",children:a.company_email||"N/A"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ls,{className:"w-5 h-5 mr-3 text-orange-500"}),"Contact 1: ",e.jsx("span",{className:"ml-2 font-normal",children:a.contact_number_1||"N/A"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ls,{className:"w-5 h-5 mr-3 text-orange-500"}),"Contact 2: ",e.jsx("span",{className:"ml-2 font-normal",children:a.contact_number_2||"N/A"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsxs("h3",{className:"flex items-center text-lg font-bold text-indigo-800 mb-2",children:[e.jsx(tc,{className:"w-5 h-5 mr-2"})," Passenger Instructions"]}),e.jsx("p",{className:"text-gray-700 text-sm",children:a.passenger_instruction||"No specific instructions provided by the company."})]}),e.jsx("button",{className:"mt-6 w-full px-4 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition shadow-md",onClick:()=>_(!1),children:"Close Details"})]})})]})},rq="/static/assets/Banner_3-BsaE2tLY.PNG";var aq={};const nq=()=>{const t=Ur(),s=t.state?.onlyVehicles||!1,r=t.state?.onlySeatOffers||!1,[a,i]=S.useState([]),[o,c]=S.useState([]),[A,u]=S.useState(r?"offer_sets":s?"whole_hire":"all"),[h,f]=S.useState(""),[g,b]=S.useState("all"),[x,w]=S.useState("all"),[B,j]=S.useState(!0),[_,Q]=S.useState(null),[E,T]=S.useState(!1),[U,k]=S.useState(!1),q=["all","Car","Hiace","Coaster","Bus"],K=async()=>{try{j(!0);const L=(await ya.get("/search/?offer_type=whole_hire")).data.map(R=>({...R,company_name:R.company_name||R.name||"Unknown Company",vehicle_type_snapshot:R.vehicle_type_snapshot||R.vehicle_type||"Unknown Vehicle",vehicle_image:R.vehicle_image||null,location_address:R.location_address||R.location||"Location not specified",is_long_drive:R.is_long_drive||!1,is_specific_route:R.is_specific_route||!1,rate_per_km:R.rate_per_km||R.fare||0,per_hour_rate:R.per_hour_rate||0,per_day_rate:R.per_day_rate||0,weekly_rate:R.weekly_rate||0,fixed_fare:R.fixed_fare||0,vehicle_seats:R.vehicle_seats||R.vehicle_seats_snapshot||"N/A",vehicle_number:R.vehicle_number||R.vehicle_number_snapshot||"N/A"}));i(L),c(L)}catch(D){console.error("Error fetching whole hire offers:",D),Q("Failed to load vehicle offers.")}finally{j(!1)}},z=async()=>{try{j(!0);const D=await ya.get("/search/?offer_type=offer_sets");i(D.data),c(D.data)}catch(D){console.error("Error fetching seat offers:",D),Q("Failed to load seat offers.")}finally{j(!1)}},$=async()=>{try{j(!0);const D=await ya.get("/search/");i(D.data),c(D.data)}catch(D){console.error("Error fetching all offers:",D),Q("Failed to load offers.")}finally{j(!1)}};return S.useEffect(()=>{r?z():s?K():$(),T(!0)},[r,s]),S.useEffect(()=>{E&&(A==="offer_sets"?z():A==="whole_hire"?K():$())},[A,E]),S.useEffect(()=>{let D=a;if(g!=="all"&&(D=D.filter(L=>(L.vehicle_type_snapshot||L.vehicle_type||"").toLowerCase().includes(g.toLowerCase()))),A==="whole_hire"&&x!=="all"&&(D=D.filter(L=>x==="long_drive"?L.is_long_drive:x==="specific_route"?L.is_specific_route:!0)),h.trim()!==""){const L=h.toLowerCase();D=D.filter(R=>R.name?.toLowerCase().includes(L)||R.company_name?.toLowerCase().includes(L)||(R.vehicle_type_snapshot||R.vehicle_type)?.toLowerCase().includes(L)||R.location_address?.toLowerCase().includes(L)||R.route_from?.toLowerCase().includes(L)||R.route_to?.toLowerCase().includes(L))}c(D)},[g,x,h,a,A]),B?e.jsx("div",{className:"p-10 text-center text-xl font-bold",children:"Loading..."}):_?e.jsx("div",{className:"p-10 text-center text-xl text-red-600",children:_}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[e.jsx("div",{className:"w-full bg-cover bg-center flex items-center justify-center",style:{height:"50vh",backgroundImage:`url(${rq})`},children:e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-7xl font-extrabold text-white p-4 bg-black bg-opacity-30 rounded-lg text-center",children:"Find Your Perfect Ride"})}),e.jsxs("div",{className:"max-w-[96rem] mx-auto py-6 md:py-12 px-3 sm:px-4 lg:px-6",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-between px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Yc,{className:"w-5 h-5"})," Show Filters"]}),e.jsx("span",{children:""})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6 relative",children:[e.jsx("div",{className:"hidden lg:block lg:w-[280px] xl:w-[300px] flex-shrink-0",children:e.jsxs("div",{className:"sticky top-6 space-y-5 max-h-[calc(100vh-120px)] overflow-y-auto pr-3",children:[e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(Iu,{className:"w-5 h-5 mr-2 text-indigo-500"})," Search Offers"]}),e.jsx("input",{type:"text",placeholder:"Search by name, route, or type...",value:h,onChange:D=>f(D.target.value),className:"w-full px-4 py-2 border rounded-lg text-sm"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(t5,{className:"w-5 h-5 mr-2 text-indigo-500"})," Service Type"]}),[{key:"all",icon:e5,label:"All Offers"},{key:"offer_sets",icon:Vs,label:"Seat Booking"},{key:"whole_hire",icon:gs,label:"Vehicle Hire"}].map(D=>e.jsxs("button",{onClick:()=>u(D.key),className:`w-full text-left px-4 py-2.5 rounded-lg mb-2 transition-colors duration-200 ${A===D.key?"bg-indigo-600 text-white":"border hover:bg-gray-50"}`,children:[e.jsx(D.icon,{className:"inline w-4 h-4 mr-2"})," ",D.label]},D.key))]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(Vs,{className:"w-5 h-5 mr-2 text-indigo-500"})," Vehicle Type"]}),q.map(D=>e.jsx("button",{onClick:()=>b(D),className:`w-full text-left px-4 py-2.5 rounded-lg capitalize mb-1.5 transition-colors duration-200 ${g===D?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:D},D))]})]})}),e.jsxs("div",{className:"flex-1",children:[A==="whole_hire"&&e.jsxs("div",{className:"bg-white p-4 mb-6 md:mb-8 rounded-xl shadow-lg border",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-semibold mb-3 flex items-center",children:[e.jsx(Ka,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 text-pink-600"})," Hire Tag"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["all","long_drive","specific_route"].map(D=>e.jsx("button",{onClick:()=>w(D),className:`px-3 py-1.5 md:px-4 md:py-2 rounded-full capitalize text-xs md:text-sm transition-colors duration-200 ${x===D?"bg-pink-600 text-white":"border hover:bg-gray-50"}`,children:D.replace("_"," ")},D))})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-extrabold",children:["Available Offers (",o.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-gray-600 bg-gray-100 px-3 py-1.5 md:px-4 md:py-2 rounded-full",children:[e.jsx(Ka,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{children:"Click on offers for details"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-5",children:o.length?o.map(D=>D.offer_type==="offer_sets"?e.jsx(eS,{transport:D},D.id):e.jsx(sS,{id:D.id,complete_offer:D,company_name:D.company_name,route:D.vehicle_type_snapshot||D.vehicle_type,fare:D.rate_per_km||D.price_per_seat,rating:D.rating||0,image:D.vehicle_image?.startsWith("http")?D.vehicle_image:D.vehicle_image?`${aq.REACT_APP_BASE_URL||""}${D.vehicle_image}`:null,is_long_drive:D.is_long_drive,is_specific_route:D.is_specific_route,location_address:D.location_address,vehicle_details:D.vehicle_details},D.id)):e.jsx("div",{className:"p-8 md:p-10 text-center text-base md:text-xl text-gray-500 col-span-full",children:" No active offers found."})})]})]})]}),U&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 lg:hidden transition-all duration-300",onClick:()=>k(!1)}),e.jsx("div",{className:"fixed inset-y-0 left-0 w-4/5 max-w-sm bg-white z-50 overflow-y-auto lg:hidden animate-slideIn",children:e.jsxs("div",{className:"p-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 sticky top-0 bg-white pt-4 pb-4 border-b",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-700 flex items-center",children:[e.jsx(Yc,{className:"w-5 h-5 mr-2"})," Filters"]}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 p-2 hover:bg-gray-100 rounded-full transition",children:e.jsx(Is,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(Iu,{className:"w-5 h-5 mr-2 text-indigo-500"})," Search Offers"]}),e.jsx("input",{type:"text",placeholder:"Search by name, route, or type...",value:h,onChange:D=>f(D.target.value),className:"w-full px-4 py-2 border rounded-lg"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(t5,{className:"w-5 h-5 mr-2 text-indigo-500"})," Service Type"]}),[{key:"all",icon:e5,label:"All Offers"},{key:"offer_sets",icon:Vs,label:"Seat Booking"},{key:"whole_hire",icon:gs,label:"Vehicle Hire"}].map(D=>e.jsxs("button",{onClick:()=>{u(D.key),k(!1)},className:`w-full text-left px-4 py-2 rounded-lg mb-2 ${A===D.key?"bg-indigo-600 text-white":"border bg-white"}`,children:[e.jsx(D.icon,{className:"inline w-5 h-5 mr-2"})," ",D.label]},D.key))]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(Vs,{className:"w-5 h-5 mr-2 text-indigo-500"})," Vehicle Type"]}),q.map(D=>e.jsx("button",{onClick:()=>{b(D),k(!1)},className:`w-full text-left px-4 py-2 rounded-lg capitalize mb-1 ${g===D?"bg-blue-600 text-white":"border bg-white"}`,children:D},D))]}),e.jsx("div",{className:"sticky bottom-0 bg-white pt-4 border-t mt-4",children:e.jsx("button",{onClick:()=>k(!1),className:"w-full py-3 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white font-bold rounded-xl shadow-lg transition-all duration-300",children:"Apply Filters"})})]})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideIn {
          from {
            transform: translateX(-100%);
          }
          to {
            transform: translateX(0);
          }
        }
        
        .animate-slideIn {
          animation: slideIn 0.3s ease-out;
        }
      `})]})},iq=({isLoggedIn:t})=>t?e.jsx(pF,{}):e.jsx(vf,{to:"/login",replace:!0});function lq(){const[t,s]=S.useState("benefits");return e.jsxs("section",{className:"relative py-20 px-4 sm:px-6 lg:px-8 overflow-hidden bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-10 right-10 w-96 h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-80 h-80 bg-amber-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse animation-delay-2000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl opacity-10"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("h2",{className:"text-5xl md:text-6xl font-extrabold text-gray-900 mb-6 leading-tight",children:["Grow Your ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-700",children:"Transport Business"})," With Us"]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-700 max-w-4xl mx-auto leading-relaxed",children:"Join Pakistan's leading transport platform to expand your reach, increase revenue, and streamline operations with powerful tools designed for service providers."})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:[{key:"benefits",label:"Key Benefits",icon:R0},{key:"services",label:"Services Offered",icon:Gt},{key:"how-to",label:"How to Register",icon:ld},{key:"support",label:"Support & Contact",icon:M0}].map(({key:r,label:a,icon:i})=>e.jsxs("button",{onClick:()=>s(r),className:`group flex items-center gap-3 px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-500 transform hover:scale-105 ${t===r?"bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-2xl":"bg-white/80 backdrop-blur-sm text-gray-700 shadow-xl hover:shadow-2xl"}`,children:[e.jsx(i,{className:`h-6 w-6 transition-colors ${t===r?"text-white":"text-blue-600 group-hover:text-indigo-700"}`}),a]},r))}),e.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 overflow-hidden mb-12",children:e.jsxs("div",{className:"p-10 lg:p-16",children:[t==="benefits"&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-10",children:[e.jsxs("h3",{className:"text-3xl font-extrabold text-gray-900 flex items-center gap-4",children:[e.jsx(zs,{className:"h-10 w-10 text-emerald-500"}),"Why Register With Us?"]}),[{icon:Vr,color:"blue",title:"Increase Revenue",desc:"Access thousands of customers actively looking for transport services across GB. Our platform helps you fill empty seats and optimize vehicle utilization."},{icon:wa,color:"amber",title:"Secure & Reliable",desc:"Verified customers and secure payment processing. We handle transactions so you can focus on providing excellent service."},{icon:R0,color:"blue",title:"Business Analytics",desc:"Get detailed insights into your bookings, customer preferences, and revenue trends to make informed business decisions."}].map(({icon:r,color:a,title:i,desc:o})=>e.jsxs("div",{className:"flex gap-5 group",children:[e.jsx("div",{className:`h-12 w-12 rounded-2xl bg-${a}-100 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:e.jsx(r,{className:`h-7 w-7 text-${a}-600`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o})]})]},i))]}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("h3",{className:"text-3xl font-extrabold text-gray-900 flex items-center gap-4",children:[e.jsx(a5,{className:"h-10 w-10 text-indigo-600"}),"Platform Features"]}),[{icon:as,color:"amber",title:"Flexible Scheduling",desc:"Post availability up to 30 days in advance. Set your own schedules, routes, and pricing for maximum flexibility."},{icon:Gt,color:"blue",title:"Team Management",desc:"Easily manage multiple vehicles and drivers from a single dashboard. Assign bookings and track performance."},{icon:Pb,color:"amber",title:"Direct Communication",desc:"Integrated messaging system to communicate with customers about bookings, schedules, and special requests."}].map(({icon:r,color:a,title:i,desc:o})=>e.jsxs("div",{className:"flex gap-5 group",children:[e.jsx("div",{className:`h-12 w-12 rounded-2xl bg-${a}-100 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:e.jsx(r,{className:`h-7 w-7 text-${a}-600`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:o})]})]},i))]})]}),t==="services"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-4xl font-extrabold text-center text-gray-900 mb-12",children:"Services You Can Offer"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50/80 to-indigo-100/60 p-8 rounded-2xl border border-blue-200/50 backdrop-blur-sm hover:shadow-2xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center shadow-lg",children:e.jsx(Gt,{className:"h-8 w-8 text-white"})}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Seat-Based Services"})]}),e.jsx("p",{className:"text-gray-700 mb-6 text-lg",children:"Perfect for buses, minivans, and shared transport services. Sell individual seats on your scheduled routes."}),e.jsx("ul",{className:"space-y-3",children:["Set different fare classes (economy, premium)","Manage seat availability in real-time","Receive group booking requests","Ideal for inter-city and tourist routes"].map(r=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(zs,{className:"h-6 w-6 text-emerald-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:r})]},r))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-orange-100/60 p-8 rounded-2xl border border-amber-200/50 backdrop-blur-sm hover:shadow-2xl transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:e.jsx(wa,{className:"h-8 w-8 text-white"})}),e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Full Vehicle Rental"})]}),e.jsx("p",{className:"text-gray-700 mb-6 text-lg",children:"For private cars, SUVs, vans, and buses. Rent your entire vehicle for private trips, tours, or corporate travel."}),e.jsx("ul",{className:"space-y-3",children:["Set hourly, daily, or weekly rental rates","Offer chauffeur services or self-drive options","Perfect for weddings, events, and tourism","Corporate contracts and long-term rentals"].map(r=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx(zs,{className:"h-6 w-6 text-emerald-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:r})]},r))})]})]})]}),t==="how-to"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-4xl font-extrabold text-center text-gray-900 mb-12",children:"Simple Registration Process"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[{step:1,title:"Create Account",desc:"Sign up with your business email and contact information"},{step:2,title:"Add Vehicle Details",desc:"Provide information about your vehicles, capacity, and amenities"},{step:3,title:"Set Services & Pricing",desc:"Define your services, routes, schedules, and pricing structure"},{step:4,title:"Start Accepting Bookings",desc:"Go live and start receiving booking requests immediately"}].map(({step:r,title:a,desc:i})=>e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:`h-20 w-20 rounded-3xl ${r%2===1?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-amber-500 to-orange-600"} 
                        flex items-center justify-center mx-auto mb-5 shadow-2xl group-hover:scale-110 transition-transform`,children:e.jsx("span",{className:"text-4xl font-bold text-white",children:r})}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-3",children:a}),e.jsx("p",{className:"text-gray-600",children:i})]},r))}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50/70 to-amber-50/70 p-10 rounded-3xl border border-blue-200/30 backdrop-blur-sm",children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Required Documents"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"For All Providers",items:["Business Registration Certificate","CNIC of Owner/Manager","Valid Mobile Number","Bank Account Details"]},{title:"For Vehicle Owners",items:["Vehicle Registration Certificate","Fitness Certificate","Route Permit (if applicable)","Insurance Documents"]},{title:"For Drivers",items:["Valid Driving License","CNIC Copy","Recent Medical Certificate","Police Clearance Certificate"]}].map(({title:r,items:a})=>e.jsxs("div",{className:"bg-white/70 p-6 rounded-2xl shadow-xl border border-gray-100",children:[e.jsx("h5",{className:"font-bold text-gray-900 mb-4 text-lg",children:r}),e.jsx("ul",{className:"space-y-2",children:a.map(i=>e.jsxs("li",{className:"text-gray-700 flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),i]},i))})]},r))})]})]}),t==="support"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-4xl font-extrabold text-center text-gray-900 mb-12 ",children:"We're Here to Help You"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg",children:e.jsx(M0,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Support Channels"}),e.jsx("p",{className:"text-gray-600",children:"Multiple ways to get assistance"})]})]}),[{icon:Pb,color:"amber",title:"Live Chat",desc:"Available 9 AM - 10 PM, 7 days a week"},{icon:a5,color:"blue",title:"Phone Support",desc:"Call us at 0800-78672 (TOLL-FREE)"},{icon:Gt,color:"amber",title:"Dedicated Account Manager",desc:"For registered companies with 5+ vehicles"}].map(({icon:r,color:a,title:i,desc:o})=>e.jsxs("div",{className:"flex gap-5 p-5 bg-gray-50/70 rounded-2xl backdrop-blur-sm hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`h-14 w-14 rounded-2xl bg-${a}-100 flex items-center justify-center`,children:e.jsx(r,{className:`h-7 w-7 text-${a}-600`})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xl font-bold text-gray-900",children:i}),e.jsx("p",{className:"text-gray-600",children:o})]})]},i))]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:e.jsx(ld,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Quick Assistance"}),e.jsx("p",{className:"text-gray-600",children:"Common questions & solutions"})]})]}),[{q:"How long does verification take?",a:"Typically 24-48 hours after submitting all required documents."},{q:"What commission do you charge?",a:"Only 10-15% per booking, with no hidden fees or monthly charges."},{q:"Can I manage multiple vehicles?",a:"Yes, our dashboard allows you to manage unlimited vehicles and drivers."}].map(({q:r,a})=>e.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 rounded-2xl border border-blue-200/30",children:[e.jsx("h5",{className:"text-xl font-bold text-gray-900 mb-3",children:r}),e.jsx("p",{className:"text-gray-700",children:a})]},r))]})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-700 rounded-3xl p-12 shadow-2xl text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h3",{className:"text-4xl md:text-5xl font-extrabold text-white mb-6",children:"Ready to Grow Your Business?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-10 max-w-3xl mx-auto",children:"Join over 500 transport service providers already expanding their reach across Gilgit-Baltistan."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-6",children:[e.jsxs("a",{href:"/CompanyRegistration",className:"inline-flex items-center justify-center bg-white text-indigo-700 font-bold py-5 px-12 rounded-2xl text-xl shadow-2xl hover:shadow-3xl transform hover:-translate-y-2 transition-all duration-500",children:[e.jsx(R0,{className:"mr-3 h-7 w-7"}),"Register Your Company Now"]}),e.jsxs("a",{href:"/ContactUs",className:"inline-flex items-center justify-center bg-transparent border-4 border-white text-white font-bold py-5 px-12 rounded-2xl text-xl hover:bg-white hover:text-indigo-700 transition-all duration-500",children:[e.jsx(M0,{className:"mr-3 h-7 w-7"}),"Schedule a Demo"]})]}),e.jsxs("p",{className:"text-blue-200 mt-8 text-lg",children:["Have questions? Call our business support team at ",e.jsx("span",{className:"font-bold",children:"0800-78672"}),"  Email: partners@transportplatform.com"]})]})]})]})]})}const oq={truck:jn,users:Gt,"map-pin":Yt,shield:wa,globe:W4,cloud:X4,navigation:kg,"check-circle":zs,phone:Ls,mail:ln,map:Cu,award:M8,star:za,calendar:as,clock:is},a4=window.location.hostname==="localhost"?"http://localhost:8000":"",Aq=()=>{const[t,s]=S.useState(null),[r,a]=S.useState(!0),[i,o]=S.useState(null);S.useEffect(()=>{(async()=>{try{const f=await fetch("/api/about/active/",{headers:{"ngrok-skip-browser-warning":"true",Accept:"application/json"}});if(!f.ok)throw new Error("Failed to fetch data");const g=await f.json();s(g),console.log("Images to find",g.hero_images)}catch(f){o(f.message),console.error("Error fetching about data:",f)}finally{a(!1)}})()},[]);const A=t||{hero_title:"Revolutionizing Transport in Gilgit-Baltistan",hero_subtitle:"Connecting verified transport companies with passengers through a seamless, technology-driven platform featuring real-time weather updates and priority-based booking.",mission_statement:"To transform transportation in Gilgit-Baltistan by creating a unified platform that brings transparency, reliability, and convenience to both transport providers and passengers, while addressing the unique challenges of mountainous terrain through technology and innovation.",statistics:[{title:"Verified Companies",value:78,suffix:"+",description:"Registered & Operating",icon:"shield",color:"blue"},{title:"Successful Bookings",value:12540,suffix:"+",description:"Since 2023",icon:"calendar",color:"green"},{title:"Cities Covered",value:15,suffix:"+",description:"Across Gilgit-Baltistan",icon:"map-pin",color:"purple"},{title:"Happy Passengers",value:8500,suffix:"+",description:"Trust Our Platform",icon:"users",color:"orange"}],features:[{title:"Complete Vehicle Booking",description:"Book entire vehicles for groups, families, or cargo transport across Gilgit-Baltistan",icon:"truck"},{title:"Individual Seat Reservation",description:"Book single seats on shared vehicles with transparent pricing",icon:"users"},{title:"Real-time Weather Updates",description:"Live weather conditions and forecasts for 15+ cities in the region",icon:"cloud"},{title:"Verified Transport Companies",description:"All registered companies are verified, licensed, and rated by passengers",icon:"shield"},{title:"Priority-based Booking",description:"Book according to your priority - speed, cost, comfort, or safety",icon:"navigation"},{title:"Multi-City Coverage",description:"Services connecting Gilgit with Skardu, Hunza, Chilas, and beyond",icon:"globe"}],team_members:[{name:"Ahmed Khan",role:"Founder & CEO",bio:"10+ years in transportation logistics",email:"ahmed.khan@gilgittms.com"},{name:"Fatima Shah",role:"Operations Director",bio:"Tourism & hospitality expert",email:"fatima.shah@gilgittms.com"},{name:"Bilal Hassan",role:"Tech Lead",bio:"Full-stack developer specializing in travel tech",email:"bilal.hassan@gilgittms.com"},{name:"Sara Ali",role:"Customer Success",bio:"Ensuring smooth passenger experiences",email:"sara.ali@gilgittms.com"}],values:[{title:"Safety First",description:"All vehicles and drivers undergo strict safety checks",icon:"check-circle"},{title:"Transparent Pricing",description:"No hidden charges, clear breakdown of all costs",icon:"check-circle"},{title:"Regional Expertise",description:"Deep understanding of Gilgit-Baltistan's unique transportation needs",icon:"check-circle"},{title:"Technology Driven",description:"Modern solutions for traditional transportation challenges",icon:"check-circle"}],process_steps:[{step_number:"01",title:"For Passengers",subtitle:"Easy Booking Process",color:"blue",items:[{text:"Select route and travel date"},{text:"Choose booking type (vehicle/seat)"},{text:"Filter by priority (cost, comfort, etc.)"},{text:"Check real-time weather updates"},{text:"Book & pay securely online"},{text:"Receive instant confirmation"}]},{step_number:"02",title:"For Companies",subtitle:"Business Management",color:"green",items:[{text:"Register & verify your company"},{text:"List vehicles and set schedules"},{text:"Update real-time availability"},{text:"Manage bookings & payments"},{text:"Receive passenger ratings"},{text:"Access analytics dashboard"}]},{step_number:"03",title:"Platform Services",subtitle:"Value Added Features",color:"purple",items:[{text:"24/7 customer support"},{text:"Weather advisory alerts"},{text:"Route optimization"},{text:"Safety compliance checks"},{text:"Multi-language support"},{text:"Mobile app accessibility"}]}],contact_info:[{title:"Call Us",description:"Available 24/7 for support",detail:"+92 123 4567890",icon:"phone"},{title:"Email Us",description:"Quick response guaranteed",detail:"contact@gilgittms.com",icon:"mail"},{title:"Visit Us",description:"Our headquarters",detail:"Gilgit City Center, GB",icon:"map"}],hero_images:[]},u=h=>{const f=oq[h]||jn;return e.jsx(f,{className:"w-8 h-8"})};return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-yellow-50",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})}):i&&!t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-yellow-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-2xl mb-4",children:"Error loading content"}),e.jsx("div",{className:"text-gray-600",children:"Using static content"})]})}):e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-blue-25 to-yellow-50 min-h-screen",children:[e.jsxs("section",{className:"relative bg-gradient-to-r from-blue-400 via-blue-300 to-yellow-100 text-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-300/30 via-transparent to-yellow-200/30"}),e.jsx("div",{className:"absolute inset-0 opacity-15 bg-cover bg-center",style:{backgroundImage:A.hero_images&&A.hero_images.length>0?`url(${a4}${A.hero_images[0].image})`:"url('https://images.unsplash.com/photo-1548013146-72479768bada?w=1800&q=80')"}})]}),e.jsx("div",{className:"relative container mx-auto px-4 pt-16 pb-32",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("div",{className:"inline-flex items-center bg-blue-100/50 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-blue-300/50",children:e.jsx("span",{className:"text-blue-700 text-sm font-medium",children:"Gilgit Transport Management System"})}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:[A.hero_title||"Revolutionizing Transport in ",e.jsx("span",{className:"text-blue-600",children:"Gilgit-Baltistan"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-10 text-gray-700 leading-relaxed",children:A.hero_subtitle}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-16",children:[e.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-300 text-gray-800 px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300 hover:shadow-xl shadow-lg",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(jn,{className:"w-5 h-5"}),"Explore Services"]})}),e.jsx("button",{className:"bg-transparent border-2 border-blue-600 hover:bg-blue-600 hover:text-white text-blue-600 px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(as,{className:"w-5 h-5"}),"Watch Demo"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 pt-8 border-t border-blue-300/50",children:A.statistics?.slice(0,3).map((h,f)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100/60 rounded-xl flex items-center justify-center",children:u(h.icon)}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-xl text-gray-800",children:[h.value,h.suffix||"+"]}),e.jsx("div",{className:"text-gray-700",children:h.title})]})]},f))})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsxs("svg",{className:"w-full h-16 md:h-24",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:[e.jsx("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",fill:"white"}),e.jsx("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",fill:"white"}),e.jsx("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",fill:"white"})]})})]}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200 -mt-1 relative z-10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:A.statistics?.map((h,f)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-blue-100/50 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-blue-500",children:u(h.icon)}),e.jsxs("div",{className:"text-3xl font-bold text-gray-800",children:[h.value,h.suffix||"+"]})]}),e.jsx("div",{className:"text-gray-700 font-semibold",children:h.title}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:h.description})]},f))})})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"Our Mission & Vision"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:A.mission_statement})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Why Choose GilgitTMS?"}),e.jsx("ul",{className:"space-y-5",children:A.values?.map((h,f)=>e.jsxs("li",{className:"flex items-start group",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100/70 rounded-xl flex items-center justify-center group-hover:bg-yellow-100/70 transition-colors",children:u(h.icon)})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 text-lg mb-1",children:h.title}),e.jsx("p",{className:"text-gray-700",children:h.description})]})]},f))})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-blue-100/50",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl flex items-center justify-center mr-4",children:e.jsx(Yt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-gray-800",children:"Regional Expertise"}),e.jsx("p",{className:"text-gray-700",children:"Specialized for Gilgit-Baltistan"})]})]}),e.jsxs("div",{className:"relative h-64 rounded-lg overflow-hidden mb-6",children:[e.jsx("img",{src:A.hero_images&&A.hero_images.length>0?`${a4}${A.hero_images[0].image}`:"https://images.unsplash.com/photo-1548013146-72479768bada?w=800&q=80",alt:"Gilgit Landscape",className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-500",onError:h=>{h.target.src="https://images.unsplash.com/photo-1548013146-72479768bada?w=800&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Gilgit-Baltistan Region"}),e.jsx("div",{className:"text-xs",children:"Transportation Hub"})]})]}),e.jsx("p",{className:"text-gray-700",children:"Our platform is specifically designed for mountain transportation challenges - from weather-dependent routes to seasonal variations. We understand the terrain and provide solutions that work in real-world conditions."})]})})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Platform Features"}),e.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Comprehensive solutions designed for modern transportation needs in Gilgit-Baltistan"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:A.features?.map((h,f)=>e.jsxs("div",{className:"group relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-blue-100/50 hover:border-blue-200 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-yellow-100/50 rounded-full -translate-y-12 translate-x-12 group-hover:scale-150 transition-transform duration-500"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl flex items-center justify-center mb-6 transform group-hover:scale-110 transition-transform duration-300",children:e.jsx("div",{className:"text-white",children:u(h.icon)})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors",children:h.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:h.description}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]},f))})]})}),e.jsx("section",{className:"py-20  from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"How It Works"}),e.jsx("p",{className:"text-lg text-gray-700",children:"Three simple processes for different stakeholders"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:A.process_steps?.map((h,f)=>e.jsxs("div",{className:`relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl hover:shadow-2xl transition-shadow duration-300 overflow-hidden border-t-4 border-${h.color}-400`,children:[e.jsxs("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-blue-400 to-blue-500 text-white px-4 py-2 rounded-bl-lg font-bold",children:["Step ",h.step_number]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-blue-600 font-semibold mb-2",children:h.subtitle}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:h.title})]}),e.jsx("ul",{className:"space-y-4",children:h.items?.map((g,b)=>e.jsxs("li",{className:"flex items-start group",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100/70 rounded-full flex items-center justify-center mr-3 mt-0.5 flex-shrink-0 group-hover:bg-yellow-100/70 transition-colors",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),e.jsx("span",{className:"text-gray-700 group-hover:text-gray-800 transition-colors",children:g.text})]},b))}),e.jsx("div",{className:"absolute bottom-0 right-0 w-20 h-20 bg-yellow-100/30 rounded-tl-full"})]},f))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:"Our Leadership Team"}),e.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Dedicated professionals working to transform transportation in Gilgit-Baltistan"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:A.team_members?.map((h,f)=>e.jsxs("div",{className:"group relative bg-gradient-to-b from-white/80 to-blue-50/50 backdrop-blur-sm rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:h.image_url||h.image||`https://images.unsplash.com/photo-${f===0?"1507003211169-0a1dd7228f2d":f===1?"1494790108755-2616b612b786":f===2?"1507591064344-4c6ce005-128":"1534528741775-53994a69daeb"}?w=400&h=400&fit=crop&crop=face`,alt:h.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:h.name}),e.jsx("div",{className:"text-blue-600 font-medium mb-3",children:h.role}),e.jsx("p",{className:"text-gray-700 text-sm",children:h.bio}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-100/50",children:[e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(ln,{className:"w-4 h-4 mr-2"}),h.email]}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(t_,{className:"w-4 h-4 mr-2"}),h.linkedin_url]})]})]}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 bg-gradient-to-br from-blue-400 to-transparent rounded-br-full"})]},f))})]})}),e.jsx("section",{className:"py-20  from-gray-200 via-blue-200 to-sky-200",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Get In Touch With Us"}),e.jsx("p",{className:"text-xl text-gray-700 max-w-2xl mx-auto",children:"Have questions about our platform, services, or partnership opportunities?"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:A.contact_info?.map((h,f)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-blue-100/50",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-500 rounded-xl flex items-center justify-center mb-4",children:u(h.icon)}),e.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-800",children:h.title}),e.jsx("p",{className:"text-gray-700 mb-4",children:h.description}),e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:h.detail})]},f))}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300 transform hover:-translate-y-1 shadow-lg hover:shadow-xl active:scale-95",children:e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx(Gt,{className:"w-5 h-5"}),"Become a Partner Company"]})}),e.jsx("button",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-800 hover:from-yellow-500 hover:to-yellow-600 px-8 py-4 rounded-lg font-bold text-lg transition-all duration-300 transform hover:-translate-y-1 hover:shadow-xl active:scale-95",children:e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx(jn,{className:"w-5 h-5"}),"Start Booking Journey"]})})]}),e.jsxs("p",{className:"mt-8 text-gray-700 text-sm",children:["Looking for weather updates? Visit our ",e.jsx("a",{href:"/weather",className:"underline hover:text-blue-600 font-medium",children:"Weather Center"})]})]})]})})})]})};function cq(){const t=Js(),[s,r]=S.useState({name:"",email:"",subject:"",message:"",category:"general"}),[a,i]=S.useState({settings:[],departments:[],faqs:[],categories:[]}),[o,c]=S.useState(!1),[A,u]=S.useState(!1),[h,f]=S.useState({}),[g,b]=S.useState(!0),[x,w]=S.useState(null),B="/api/contact";S.useEffect(()=>{j()},[]);const j=async()=>{try{b(!0),w(null);const L=await ks.get(`${B}/contact-data/`,{headers:{"Content-Type":"application/json",Accept:"application/json"}});L.data.success?i({settings:L.data.settings,departments:L.data.departments,faqs:L.data.faqs,categories:L.data.categories||T()}):w("Failed to load contact data")}catch(L){console.error("Error fetching contact data:",L),w(L.response?.data?.error||"Failed to connect to server"),i({settings:_(),departments:Q(),faqs:E(),categories:T()})}finally{b(!1)}},_=()=>({site_name:"PTMS Gilgit-Baltistan",office_address:"PTMS GB Headquarters, Jutial Road, Gilgit, Gilgit-Baltistan",primary_email:"support@ptmsgb.pk",secondary_email:"info@ptmsgb.pk",primary_phone:"+92 5811 123456",secondary_phone:"+92 5811 123457",emergency_phone:"+92 300 1234567",working_hours:`Mon - Sat: 8:00 AM - 8:00 PM
Sunday: 9:00 AM - 6:00 PM`,facebook_url:"#",twitter_url:"#",instagram_url:"#",youtube_url:"#",linkedin_url:"#"}),Q=()=>[{id:1,department_name:"passenger_support",department_display:"Passenger Support",contact_person:"Passenger Support Team",email:"passenger@ptmsgb.pk",phone:"+92 5811 234567",description:"For ticket booking, cancellations, and passenger queries"},{id:2,department_name:"company_registration",department_display:"Company Registration",contact_person:"Company Relations Team",email:"companies@ptmsgb.pk",phone:"+92 5811 234568",description:"For transport companies and service provider inquiries"},{id:3,department_name:"technical_support",department_display:"Technical Support",contact_person:"Technical Support Team",email:"tech@ptmsgb.pk",phone:"+92 5811 234569",description:"For website/app issues and technical assistance"},{id:4,department_name:"customer_care",department_display:"Customer Care",contact_person:"Customer Care Team",email:"care@ptmsgb.pk",phone:"+92 300 1234567",description:"General inquiries, feedback, and complaints"}],E=()=>[{id:1,question:"How can I book a ticket as a passenger?",answer:"Simply register as a passenger, log in to your account, select your route and date, choose your seat, and complete the secure payment process."},{id:2,question:"How do transport companies register on PTMS GB?",answer:"Transport companies can register by clicking 'Join as Company' on our homepage. You'll need to provide company documents, vehicle details, and complete the verification process."},{id:3,question:"What payment methods do you accept?",answer:"We accept multiple secure payment methods including JazzCash, EasyPaisa, bank transfers, and credit/debit cards for ticket bookings."},{id:4,question:"How can I track my booked vehicle?",answer:"Once booked, you'll receive a confirmation email with tracking details. You can also track your vehicle in real-time through your passenger dashboard."},{id:5,question:"What should I do in case of travel delays?",answer:"We provide real-time updates on delays through SMS and app notifications. For extended delays, our support team will assist with rescheduling or refunds."}],T=()=>[{value:"general",label:"General Inquiry"},{value:"passenger",label:"Passenger Support"},{value:"company",label:"Company Registration"},{value:"technical",label:"Technical Support"},{value:"feedback",label:"Feedback & Suggestions"},{value:"emergency",label:"Emergency Assistance"}],U=()=>a.settings?[{icon:Yt,title:"Our Office",details:a.settings.office_address,description:"Visit us at our main office for in-person assistance",color:"from-blue-500 to-cyan-400"},{icon:Ls,title:"Phone Numbers",details:`${a.settings.primary_phone} (Office)
${a.settings.emergency_phone} (24/7 Support)`,description:"Available 24/7 for emergency travel assistance",color:"from-emerald-500 to-teal-400"},{icon:ln,title:"Email Address",details:`${a.settings.primary_email}
${a.settings.secondary_email}`,description:"We respond within 2 hours during business days",color:"from-purple-500 to-pink-400"},{icon:is,title:"Working Hours",details:a.settings.working_hours,description:"Ramadan Timings: 9:00 AM - 5:00 PM",color:"from-amber-500 to-orange-400"}]:[],k=L=>{const{name:R,value:P}=L.target;r(re=>({...re,[R]:P})),h[R]&&f(re=>({...re,[R]:""}))},q=()=>{const L={};return s.name.trim()?s.name.length<2&&(L.name="Name must be at least 2 characters"):L.name="Name is required",s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(L.email="Email is invalid"):L.email="Email is required",s.subject.trim()?s.subject.length<5&&(L.subject="Subject must be at least 5 characters"):L.subject="Subject is required",s.message.trim()?s.message.length<10?L.message="Message must be at least 10 characters":s.message.length>5e3&&(L.message="Message cannot exceed 5000 characters"):L.message="Message is required",L},K=async L=>{L.preventDefault();const R=q();if(Object.keys(R).length>0){f(R);return}c(!0),f({});try{const P=await ks.post(`${B}/submit/`,s,{headers:{"Content-Type":"application/json",Accept:"application/json"}});P.data.success?(u(!0),setTimeout(()=>{r({name:"",email:"",subject:"",message:"",category:"general"}),u(!1)},3e3)):f(P.data.errors||{general:"Submission failed"})}catch(P){if(console.error("Submission error:",P),P.response){const re=P.response.data;typeof re=="object"?re.detail?f({general:re.detail}):f(re):f({general:re.error||"Submission failed"})}else P.request?f({general:"Network error. Please check your connection."}):f({general:"Error submitting form. Please try again."})}finally{c(!1)}},z=L=>({passenger_support:e.jsx(Gt,{className:"w-5 h-5 text-white"}),company_registration:e.jsx(Zo,{className:"w-5 h-5 text-white"}),technical_support:e.jsx(wa,{className:"w-5 h-5 text-white"}),customer_care:e.jsx(M0,{className:"w-5 h-5 text-white"}),emergency:e.jsx(Ls,{className:"w-5 h-5 text-white"})})[L]||e.jsx(Gt,{className:"w-5 h-5 text-white"}),$=L=>({passenger_support:"from-blue-500 to-indigo-500",company_registration:"from-emerald-500 to-teal-500",technical_support:"from-purple-500 to-pink-500",customer_care:"from-amber-500 to-orange-500",emergency:"from-red-500 to-rose-500"})[L]||"from-blue-500 to-indigo-500",D=()=>a.settings?[{icon:Y4,label:"Facebook",color:"from-blue-600 to-blue-700",url:a.settings.facebook_url||"#"},{icon:n_,label:"Twitter",color:"from-cyan-500 to-blue-500",url:a.settings.twitter_url||"#"},{icon:J4,label:"Instagram",color:"from-pink-500 to-rose-600",url:a.settings.instagram_url||"#"},{icon:i_,label:"YouTube",color:"from-red-600 to-red-700",url:a.settings.youtube_url||"#"},{icon:t_,label:"LinkedIn",color:"from-blue-700 to-blue-800",url:a.settings.linkedin_url||"#"}].filter(L=>L.url!==""):[];return g?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 font-sans flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nn,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading contact information..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 font-sans overflow-x-hidden",children:[x&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nn,{className:"h-5 w-5 text-yellow-400 mr-3"}),e.jsx("p",{className:"text-yellow-700",children:x})]})})}),e.jsxs("section",{className:"relative py-20 lg:py-28 bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-900/10"}),e.jsx("div",{className:"container mx-auto px-4 lg:px-8 relative z-10",children:e.jsxs(nt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-white/20",children:[e.jsx(Pb,{className:"w-4 h-4 text-cyan-300"}),e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"WE'RE HERE TO HELP"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-black text-white mb-6 leading-tight",children:["Get in ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-300",children:"Touch"})]}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8 leading-relaxed",children:"Have questions about our transport services? Our dedicated team is here to assist you 24/7 with all your travel needs across Gilgit-Baltistan."})]})}),e.jsx(nt.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:e.jsx("div",{className:"w-1 h-3 bg-white/70 rounded-full mt-2"})})})]}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[e.jsxs(nt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 lg:mb-16",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Contact ",e.jsx("span",{className:"text-blue-600",children:"Information"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Multiple ways to reach us for any assistance regarding your travel needs"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8 max-w-6xl mx-auto",children:U().map((L,R)=>e.jsx(nt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:R*.1},className:"group",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 lg:p-8 border border-gray-200 shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 h-full",children:[e.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-br ${L.color} mb-6`,children:e.jsx(L.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:L.title}),e.jsx("div",{className:"text-gray-600 whitespace-pre-line mb-4",children:L.details}),e.jsx("p",{className:"text-sm text-gray-500",children:L.description})]})},R))})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16",children:[e.jsxs(nt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"lg:pr-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Send Us a Message"}),e.jsx("p",{className:"text-gray-600",children:"Fill out the form below and our team will get back to you within 24 hours."})]}),h.general&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:e.jsxs("p",{className:"text-red-600 flex items-center gap-2",children:[e.jsx(nn,{className:"w-5 h-5"}),h.general]})}),A?e.jsxs(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-8 border border-emerald-200 text-center",children:[e.jsx("div",{className:"inline-flex p-3 rounded-full bg-emerald-100 mb-4",children:e.jsx(zs,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Message Sent Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting PTMS GB. We've received your message and will respond within 24 hours."}),e.jsx("button",{onClick:()=>u(!1),className:"px-6 py-3 bg-emerald-600 text-white font-semibold rounded-xl hover:bg-emerald-700 transition-colors duration-300",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:K,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:k,className:`w-full px-4 py-3 rounded-xl border ${h.name?"border-red-300":"border-gray-300"} focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition duration-300`,placeholder:"Enter your full name",disabled:o}),h.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:k,className:`w-full px-4 py-3 rounded-xl border ${h.email?"border-red-300":"border-gray-300"} focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition duration-300`,placeholder:"Enter your email",disabled:o}),h.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:k,className:`w-full px-4 py-3 rounded-xl border ${h.subject?"border-red-300":"border-gray-300"} focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition duration-300`,placeholder:"What is this regarding?",disabled:o}),h.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{id:"category",name:"category",value:s.category,onChange:k,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition duration-300 bg-white disabled:bg-gray-100",disabled:o,children:a.categories.map(L=>e.jsx("option",{value:L.value,children:L.label},L.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:k,rows:"6",className:`w-full px-4 py-3 rounded-xl border ${h.message?"border-red-300":"border-gray-300"} focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition duration-300 resize-none disabled:bg-gray-100`,placeholder:"Please describe your inquiry in detail...",disabled:o}),h.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.message})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full group relative px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-5 h-5 animate-spin relative z-10"}),e.jsx("span",{className:"relative z-10",children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-700 to-indigo-700 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsx("span",{className:"relative z-10",children:"Send Message"}),e.jsx(a_,{className:"w-5 h-5 relative z-10 transform group-hover:translate-x-1 transition-transform"})]})}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"By submitting this form, you agree to our privacy policy. We never share your information with third parties."})]})]}),e.jsxs(nt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Department Contacts"}),e.jsx("div",{className:"space-y-4",children:a.departments.length>0?a.departments.map(L=>e.jsx(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"group bg-white rounded-xl p-5 border border-gray-200 shadow-sm hover:shadow-lg hover:border-blue-200 transition-all duration-300",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${$(L.department_name)} flex-shrink-0`,children:z(L.department_name)}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"font-bold text-gray-800 mb-1",children:L.department_display||L.department_name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.description}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("a",{href:`mailto:${L.email}`,className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-2",children:[e.jsx(ln,{className:"w-4 h-4"}),L.email]}),e.jsxs("a",{href:`tel:${L.phone.replace(/\D/g,"")}`,className:"text-sm text-emerald-600 hover:text-emerald-800 font-medium flex items-center gap-2",children:[e.jsx(Ls,{className:"w-4 h-4"}),L.phone]})]})]})]})},L.id||L.department_name)):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:e.jsx("p",{className:"text-yellow-800",children:"Department contacts are currently being updated. Please use the contact form for assistance."})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-4",children:a.faqs.length>0?a.faqs.map((L,R)=>e.jsxs(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:R*.1},className:"bg-white rounded-xl p-5 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[e.jsxs("h4",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-600",children:"Q:"})," ",L.question]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[e.jsx("span",{className:"font-medium text-emerald-600",children:"A:"})," ",L.answer]})]},L.id||R)):e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsx("p",{className:"text-blue-800",children:"FAQs are being updated. Please check back soon or use the contact form for immediate assistance."})})})]})]})]})})})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-gray-200 via-blue-200 to-sky-200",children:e.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[e.jsxs(nt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-10",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-4",children:["Find Our ",e.jsx("span",{className:"text-blue-600",children:"Location"})]}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Visit us at our headquarters in Gilgit for in-person assistance"})]}),e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-2xl border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 h-[400px] lg:h-[500px] relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white p-8",children:[e.jsx(Yt,{className:"w-16 h-16 mx-auto mb-4 opacity-80"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:a.settings?.site_name||"PTMS GB Headquarters"}),e.jsx("p",{className:"text-blue-100",children:a.settings?.office_address||"Jutial Road, Gilgit, Gilgit-Baltistan"}),e.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Open: Mon-Sat 8:00 AM - 8:00 PM"})]})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-64 h-64 bg-white/10 backdrop-blur-sm rounded-3xl border-2 border-white/30 animate-pulse"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"w-12 h-12 text-white mx-auto mb-4"}),e.jsx("p",{className:"text-white font-medium",children:"Interactive Map"}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"(Would display Google Maps)"})]})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-b from-blue-50 to-white p-8 lg:p-10",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Location Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Getting Here"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:a.settings.google_maps_embed})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"10-minute drive from Gilgit Airport"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:"Parking available for visitors"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Best Time to Visit"}),e.jsx("p",{className:"text-gray-600",children:"For faster service, visit between 10:00 AM - 12:00 PM or 2:00 PM - 4:00 PM on weekdays."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"What to Bring"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(zs,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"CNIC/Passport for identification"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(zs,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Relevant documents for your inquiry"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(zs,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Booking reference if applicable"})]})]})]}),e.jsxs("button",{onClick:()=>window.open(`https://maps.google.com/?q=${encodeURIComponent(a.settings?.google_maps_embed||"Gilgit Gilgit-Baltistan")}`,"_blank"),className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Get Directions on Google Maps"]})]})]})]})})})]})}),e.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-10",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:["Stay ",e.jsx("span",{className:"text-cyan-300",children:"Connected"})]}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Follow us on social media for the latest updates on routes, weather alerts, and special offers"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-10",children:D().map((L,R)=>e.jsxs(nt.a,{href:L.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:R*.1},className:"group",children:[e.jsx("div",{className:`p-4 rounded-2xl bg-gradient-to-br ${L.color} shadow-lg hover:shadow-xl transition-all duration-300 group-hover:-translate-y-1`,children:e.jsx(L.icon,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-sm text-blue-200 mt-2 block",children:L.label})]},R))}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Links"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"px-4 py-3 bg-white/20 text-white rounded-xl hover:bg-white/30 transition-all duration-300 text-sm font-medium",children:"Book Tickets"}),e.jsx("button",{onClick:()=>t("/weather"),className:"px-4 py-3 bg-white/20 text-white rounded-xl hover:bg-white/30 transition-all duration-300 text-sm font-medium",children:"Weather Updates"}),e.jsx("button",{onClick:()=>t("/CompanyDashboard"),className:"px-4 py-3 bg-white/20 text-white rounded-xl hover:bg-white/30 transition-all duration-300 text-sm font-medium",children:"Company Portal"})]})]}),e.jsx(nt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"mt-12 bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-6 border border-red-300 shadow-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"24/7 Emergency Support"}),e.jsx("p",{className:"text-red-100",children:"For emergency travel assistance or safety concerns, call our dedicated helpline"})]}),e.jsxs("a",{href:`tel:${a.settings?.emergency_phone?.replace(/\D/g,"")||"+923001234567"}`,className:"px-6 py-3 bg-white text-red-600 font-bold rounded-xl hover:bg-red-50 transition-colors duration-300 flex items-center gap-2 whitespace-nowrap",children:[e.jsx(Ls,{className:"w-5 h-5"}),a.settings?.emergency_phone||"+92 300 1234567"]})]})})]})})})]})}function dq(){const t=Ur();Js();const s=localStorage.getItem("access_token"),[r,a]=S.useState("passengerCardList"),[i,o]=S.useState([]),[c,A]=S.useState(null),[u,h]=S.useState(null),[f,g]=S.useState(!1),[b,x]=S.useState(null),[w,B]=S.useState(t.state?.transport||null),[j,_]=S.useState(null);if(!s||s.trim()==="")return e.jsx(vf,{to:"/login",replace:!0,state:{from:t.pathname,transport:w}});if(!w&&r!=="passengerCardList")return e.jsx(vf,{to:"/",replace:!0});const Q=U=>{if(typeof U=="string"){a(U);return}typeof U=="object"&&(U.passengerInfo&&A(U.passengerInfo),U.paymentType&&h(U.paymentType),U.transport&&B(U.transport),U.step&&a(U.step))};function E(U,k){const q=U.split(","),K=q[0].match(/:(.*?);/)[1],z=atob(q[1]);let $=z.length;const D=new Uint8Array($);for(;$--;)D[$]=z.charCodeAt($);return new File([D],k,{type:K})}const T=U=>{if(!w)return;const k={seats:i,amount:i.length*(w?.price_per_seat||0),transport:w,passengerInfo:c,paymentType:"Manual Payment",screenshot:U};_(k),g(!1),a("summary")};return e.jsxs(e.Fragment,{children:[r==="passengerCardList"&&e.jsx(VC,{transports:w?[w]:[],setStep:U=>Q(U.step,{...U,transport:U.transport||w}),setFilteredTransports:()=>{},setPassengerInfo:U=>A(U)}),r==="seatSelection"&&w&&e.jsx(z1,{transport:w,selectedSeats:i,setSelectedSeats:o,setStep:a,onSelectPayment:(U,k)=>{if(h(U),U==="MANUAL")x(k),g(!0);else{const q={seats:i,amount:i.length*(w?.price_per_seat||0),transport:w,passengerInfo:c,paymentType:U};_(q),a("summary")}}}),f&&b&&e.jsx(Ig,{onClose:()=>g(!1),paymentData:b,onSuccess:T}),r==="summary"&&j&&e.jsx(rv,{passengerInfo:j.passengerInfo||c,selectedSeats:j.seats||i,transport:j.transport||w,paymentType:j.paymentType||u,manualPaymentScreenshot:j.screenshot?E(j.screenshot,"payment.png"):null,setStep:a})]})}const uq=Ju||$3,hq=Nt||QK,eo=({label:t,value:s,icon:r})=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-white rounded-xl shadow-sm border border-gray-100 transition-all duration-150 hover:shadow-md",children:[e.jsx("span",{className:"text-xl text-teal-500",children:r}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),e.jsx("p",{className:"text-sm font-semibold text-gray-800 break-words",children:s||"N/A"})]})]}),fq=(t,s="booking-receipt.pdf")=>{uq(t,{scale:2}).then(r=>{const a=r.toDataURL("image/jpeg",1),i=new hq("p","mm","a4"),o=210,c=297,A=r.height*o/r.width;let u=A,h=0;for(i.addImage(a,"JPEG",0,h,o,A),u-=c;u>=0;)h=u-A,i.addPage(),i.addImage(a,"JPEG",0,h,o,A),u-=c;i.save(s)})},mq=({bookingData:t,onDownloadPDF:s})=>{const r=JSON.stringify({bookingId:t.booking_id,amount:t.total_amount,passenger:t.passenger_name});return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 font-inter",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-green-600 mb-8 text-center",children:" Booking Confirmed!"}),e.jsx("p",{className:"text-center text-lg text-gray-600 mb-10",children:"Your journey is booked. Please find your receipt below."}),e.jsxs("div",{id:"receipt-content",className:"bg-white p-8 rounded-3xl shadow-2xl border-4 border-teal-500 space-y-6",children:[e.jsxs("div",{className:"text-center border-b pb-4 mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-teal-700",children:"Official Receipt"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Booking ID: ",e.jsx("span",{className:"font-mono font-semibold",children:t.booking_id||"N/A"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-xl text-teal-600",children:"Trip Summary"}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["From: ",e.jsx("span",{className:"font-semibold",children:t.from_location})]}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["To: ",e.jsx("span",{className:"font-semibold",children:t.to_location})]}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Date & Time: ",e.jsxs("span",{className:"font-semibold",children:[t.arrival_date," at ",t.arrival_time]})]}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Vehicle Type: ",e.jsx("span",{className:"font-semibold",children:t.vehicle_type})]}),t.service_type==="long_drive"&&e.jsxs("p",{className:"text-gray-700 font-medium",children:["Duration: ",e.jsxs("span",{className:"font-semibold capitalize",children:[t.duration_value," ",t.duration_type,t.duration_value>1?"s":""]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-xl text-teal-600",children:"Passenger & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Name:"})," ",e.jsx("span",{className:"font-semibold",children:t.passenger_name})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Phone:"})," ",e.jsx("span",{className:"font-semibold",children:t.passenger_phone})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"CNIC:"})," ",e.jsx("span",{className:"font-semibold",children:t.passenger_cnic||"N/A"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Email:"})," ",e.jsx("span",{className:"font-semibold",children:t.passenger_email||"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-xl text-teal-600",children:"Driver Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Driver Name:"})," ",e.jsx("span",{className:"font-semibold",children:t.driver_name})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-500",children:"Driver Contact:"})," ",e.jsx("span",{className:"font-semibold",children:t.driver_contact})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-bold text-xl text-teal-600",children:"Payment Details"}),e.jsxs("p",{className:"text-2xl font-extrabold text-gray-800",children:["Total Paid: ",e.jsxs("span",{className:"text-red-600",children:[t.total_amount," ",t.currency]})]}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Payment Method: ",e.jsx("span",{className:"font-semibold",children:t.payment_method})]}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["Company: ",e.jsx("span",{className:"font-semibold",children:t.company_name})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-center items-center flex-col pt-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-700 mb-2",children:"Scan for Verification"}),e.jsx(eh,{value:r,size:128}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"This QR code contains your booking details."})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("button",{onClick:s,className:"px-6 py-3 sm:px-10 sm:py-4 bg-red-600 hover:bg-red-700 text-white font-bold text-base sm:text-lg rounded-xl shadow-xl transition duration-150",children:" Download Receipt (PDF)"})})]})})},gq=()=>{const t=localStorage.getItem("passengerData");return t?JSON.parse(t):{name:"",contact:"",cnic:"",email:""}},pq=()=>{const t=localStorage.getItem("search_filters");return t?JSON.parse(t):null},xq=()=>localStorage.getItem("selectedToLocation")||"",bq=(t,s)=>{try{const r=t.split(",")[1]||t,a=atob(r),i=[];for(let c=0;c<a.length;c+=512){const A=a.slice(c,c+512),u=new Array(A.length);for(let f=0;f<A.length;f++)u[f]=A.charCodeAt(f);const h=new Uint8Array(u);i.push(h)}const o=new Blob(i,{type:"image/png"});return new File([o],s,{type:"image/png"})}catch(r){return console.error("Error converting base64 to file:",r),null}};function oS(t){const s=Ur(),r=Js(),a=t.vehicleDataFromCard,i=t.isDirectBooking,o=t.bookingData,c=t.onBack,[A,u]=S.useState(null),[h,f]=S.useState(""),[g,b]=S.useState({name:"",contact:"",cnic:"",email:""}),[x,w]=S.useState(!0),[B,j]=S.useState(null),[_,Q]=S.useState(!1),[E,T]=S.useState(0),[U,k]=S.useState(!1),[q,K]=S.useState(null);S.useRef(null),S.useEffect(()=>{(()=>{console.log(" Loading data in PaymentPage..."),console.log("Props received:",{bookingDataFromProps:o,vehicleDataFromCard:a,isDirectBooking:i}),console.log("Location state:",s.state);const X=JSON.parse(localStorage.getItem("selectedVehicle")||"null"),ie=JSON.parse(localStorage.getItem("directBookingOffer")||"null"),ge=JSON.parse(localStorage.getItem("booking_payload")||"null"),ee=pq(),M=gq();console.log(" All Data Sources:",{storedVehicle:X,directBookingOffer:ie,bookingPayload:ge,searchFilters:ee,passengerData:M,bookingDataFromProps:o});let H=null;if(o?H=o:s.state?.bookingData?(console.log(" Using booking data from LOCATION STATE"),H=s.state.bookingData):ge?(console.log(" Using booking data from LOCALSTORAGE"),H=ge):X&&(console.log(" Using stored vehicle data"),H=X),console.log(" FINAL BOOKING DATA (before processing):",H),!H){console.error(" No booking data found!"),alert("No booking data found. Please start over."),r("/");return}let Z=null;if(H._original_data||H._fromVehicalBookingCard){console.log(" Detected data from OLD CARD (VehicalBookingCard)");const pe=H._original_data||H;Z={payment_type:pe.payment_type||a.payment_type||"BOTH",easypaisa_name:pe.easypaisa_name||"",easypaisa_number:pe.easypaisa_number||"",jazzcash_name:pe.jazzcash_name||"",jazzcash_number:pe.jazzcash_number||"",bank_name:pe.bank_name||"",bank_account_title:pe.bank_account_title||"",bank_account_number:pe.bank_account_number||"",bank_iban:pe.bank_iban||""},console.log(" Payment data from old card:",Z)}b({name:H.passenger_name||M.name||"",contact:H.passenger_contact||H.passenger_phone||M.contact||"",cnic:H.passenger_cnic||M.cnic||"",email:H.passenger_email||M.email||""});const Ae={vehicle:H.vehicle||H.vehicle_id||X?.vehicle||X?.id,vehicle_id:H.vehicle_id||H.vehicle||X?.vehicle_id||X?.id,company:H.company||H.company_id||X?.company,company_id:H.company_id||H.company||X?.company_id,driver:H.driver||H.driver_id||X?.driver,driver_id:H.driver_id||H.driver||X?.driver_id,vehicle_image:H.vehicle_image||X?.vehicle_image||"https://placehold.co/400x220/82D8CC/ffffff?text=Vehicle+Image",vehicle_number:H.vehicle_number||X?.vehicle_number||"N/A",vehicle_type:H.vehicle_type||X?.vehicle_type||"N/A",driver_image:H.driver_image||X?.driver_image||"https://placehold.co/400x220/55D6C2/ffffff?text=Driver+Image",driver_name:H.driver_name||X?.driver_name||"Driver N/A",driver_contact:H.driver_contact||X?.driver_contact||"N/A",company_name:H.company_name||X?.company_name||"Transport Company",arrival_date:H.arrival_date||ee?.arrival_date||new Date().toISOString().split("T")[0],arrival_time:H.arrival_time||ee?.arrival_time||"12:00",service_type:H.service_type||"long_drive",duration_type:H.duration_type||H.durationType||"hourly",duration_value:H.duration_value||H.durationValue||1,to_location:H.to_location||xq()||"Destination",from_location:H.from_location||H.pickup_location||"Pickup Location",rate_per_km:H.rate_per_km||0,fixed_fare:H.fixed_fare||0,per_hour_rate:H.per_hour_rate||0,per_day_rate:H.per_day_rate||0,weekly_rate:H.weekly_rate||0,night_charge:H.night_charge||0,mountain_surcharge:H.mountain_surcharge||0,payment_type:Z?.payment_type||H.payment_type||a.payment_type||"BOTH",easypaisa_name:Z?.easypaisa_name||H.easypaisa_name||a.easypaisa_name||"",easypaisa_number:Z?.easypaisa_number||H.easypaisa_number||a.easypaisa_number||"",jazzcash_name:Z?.jazzcash_name||H.jazzcash_name||a.jazzcash_name||"",jazzcash_number:Z?.jazzcash_number||H.jazzcash_number||a.jazzcash_number||"",bank_name:Z?.bank_name||H.bank_name||a.bank_name||"",bank_account_title:Z?.bank_account_title||H.bank_account_title||a.bank_account_title||"",bank_account_number:Z?.bank_account_number||H.bank_account_number||a.bank_account_number||"",bank_iban:Z?.bank_iban||H.bank_iban||a.bank_iban||"",offer_type:H.offer_type||"whole_hire"};console.log(" TRANSPORT DATA (with payment info):",{vehicleId:Ae.vehicle_id,vehicle:Ae.vehicle,companyId:Ae.company_id,driverId:Ae.driver_id,paymentType:Ae.payment_type,hasEasypaisa:!!Ae.easypaisa_number,hasJazzcash:!!Ae.jazzcash_number,hasBank:!!Ae.bank_name}),u(Ae);const fe=H.total_amount||H.calculatedFare||H.fixed_fare||H.rate_per_km||0;T(fe),f(Ae.to_location),w(!1)})()},[s,a,i,o,r]);const z=G=>{if(!A||!g.name||!g.contact){alert("Please ensure trip details and passenger info are loaded.");return}if(!A.vehicle_id&&!A.vehicle){console.error(" ERROR: Vehicle ID is missing in transport data!"),console.error("Transport object:",A),alert("Error: Vehicle information is incomplete. Please try again.");return}const X=E>0?E:A?.rate_per_km||A?.fixed_fare||0,ie=A.offer_type==="whole_hire",ge={vehicle_id:A.vehicle_id||A.vehicle,vehicle:A.vehicle_id||A.vehicle,company_id:A.company_id||A.company,company:A.company_id||A.company,driver_id:A.driver_id||A.driver,driver:A.driver_id||A.driver,from_location:A.from_location||A.location_address||A.route_from,to_location:h||A.to_location||A.route_to,arrival_date:A.arrival_date,arrival_time:A.arrival_time,is_full_vehicle:ie,seats_booked:ie?0:1,total_amount:X,calculatedFare:X,currency:"PKR",passenger_name:g.name,passenger_phone:g.contact,passenger_contact:g.contact,passenger_cnic:g.cnic,passenger_email:g.email,company_name:A.company_name,driver_name:A.driver_name,driver_contact:A.driver_contact,vehicle_type:A.vehicle_type,vehicle_number:A.vehicle_number,vehicle_image:A.vehicle_image,driver_image:A.driver_image,payment_method:G,payment_type:A.payment_type||a.payment_type||"BOTH",service_type:A.service_type,duration_type:A.duration_type,duration_value:A.duration_value,rate_per_km:A.rate_per_km,fixed_fare:A.fixed_fare,per_hour_rate:A.per_hour_rate,per_day_rate:A.per_day_rate,weekly_rate:A.weekly_rate,night_charge:A.night_charge,mountain_surcharge:A.mountain_surcharge,easypaisa_name:A.easypaisa_name||"",easypaisa_number:A.easypaisa_number||"",jazzcash_name:A.jazzcash_name||"",jazzcash_number:A.jazzcash_number||"",bank_name:A.bank_name||"",bank_account_title:A.bank_account_title||"",bank_account_number:A.bank_account_number||"",bank_iban:A.bank_iban||"",booking_id:`TEMP-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,booking_reference:`REF-${Date.now()}`};if(console.log(" BOOKING PAYLOAD for",G,":",{vehicle_id:ge.vehicle_id,company_id:ge.company_id,driver_id:ge.driver_id,total_amount:ge.total_amount,payment_type:ge.payment_type,hasEasypaisa:!!ge.easypaisa_number,hasJazzcash:!!ge.jazzcash_number,hasBank:!!ge.bank_name}),G==="CASH"&&(console.log(" CASH payment selected. Making booking..."),$(ge)),G==="MANUAL"){const ee={company_name:A.company_name,payment_type:A.payment_type||a.payment_type||"BOTH",easypaisa_name:A.easypaisa_name||"",easypaisa_number:A.easypaisa_number||"",jazzcash_name:A.jazzcash_name||"",jazzcash_number:A.jazzcash_number||"",bank_name:A.bank_name||"",bank_account_title:A.bank_account_title||"",bank_account_number:A.bank_account_number||"",bank_iban:A.bank_iban||"",total_amount:X};console.log(" Manual payment data:",ee),localStorage.setItem("temp_booking_payload",JSON.stringify(ge)),K(ee),k(!0)}console.log(" Payment method selected:",G)},$=async G=>{if(!_){Q(!0);try{console.log(" Sending JSON booking request with payload:",{vehicle_id:G.vehicle_id,company_id:G.company_id,driver_id:G.driver_id});const X=localStorage.getItem("access_token"),ie=await ks.post("/api/checkout/full-vehicle-booking/",G,{headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"}}),ge={...G,...ie.data,booking_id:ie.data.booking_id||G.booking_id};j(ge),console.log(" Booking Success Response:",ie.data),localStorage.removeItem("booking_payload"),localStorage.removeItem("directBookingOffer"),localStorage.removeItem("selectedVehicle"),localStorage.removeItem("temp_booking_payload")}catch(X){console.error(" Booking API Error:",X.response?.data||X);let ie="Booking Failed! ";X.response?.data?.error?ie+=X.response.data.error:X.response?.data?.detail?ie+=X.response.data.detail:X.response?.status===401?ie="Authentication failed. Please login again.":X.response?.status===404?ie="API endpoint not found. Check the URL.":ie+="Could not connect to server or an unknown error occurred.",alert(ie)}finally{Q(!1)}}},D=G=>{const X=JSON.parse(localStorage.getItem("temp_booking_payload")||"{}");console.log(" Processing manual payment with screenshot...");const ie=new FormData;Object.keys(X).forEach(ee=>{ee!=="screenshot"&&ie.append(ee,String(X[ee]))});const ge=bq(G,"payment_screenshot.png");ge&&ie.append("screenshot",ge),ie.append("payment_method","MANUAL"),console.log(" Manual payment form data created"),L(ie),k(!1)},L=async G=>{if(!_){Q(!0);try{console.log(" Sending FormData booking request...");const X=localStorage.getItem("access_token");if(!X){alert("Please login to continue"),Q(!1);return}console.log(" FormData contents:");for(let[M,H]of G.entries())console.log(`${M}:`,H);const ie=await fetch("/api/checkout/full-vehicle-booking/",{method:"POST",headers:{Authorization:`Bearer ${X}`},body:G});if(!ie.ok){const M=await ie.text();throw console.error(" Server error response:",M),new Error(`Server error: ${ie.status} ${ie.statusText}`)}const ge=await ie.json();console.log(" Booking successful:",ge);const ee={...Object.fromEntries(G),...ge,booking_id:ge.booking_id||ge.booking_reference||`TEMP-${Date.now()}`,ticket_id:ge.ticket_id||null};j(ee),localStorage.removeItem("temp_booking_payload"),localStorage.removeItem("booking_payload"),localStorage.removeItem("directBookingOffer"),localStorage.removeItem("selectedVehicle")}catch(X){console.error(" Booking API Error:",X);let ie="Booking Failed! ";X.message.includes("Server error")?ie=X.message:X.message.includes("Failed to fetch")?ie="Network error.":ie+=X.message,alert(ie)}finally{Q(!1)}}},R=()=>{const G=document.getElementById("receipt-content");G?fq(G,`booking-receipt-${B.booking_id}.pdf`):alert("Receipt content not found for download.")};if(x)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-teal-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading booking details..."})]})});if(B)return e.jsx(mq,{bookingData:B,onDownloadPDF:R});const P=E>0?E:A?.rate_per_km||A?.fixed_fare||0,re=A?.vehicle_image||"https://placehold.co/400x220/82D8CC/ffffff?text=Vehicle+Image",I=A?.driver_image||"https://placehold.co/400x220/55D6C2/ffffff?text=Driver+Image";return e.jsxs(e.Fragment,{children:[U&&q&&e.jsx(Ig,{onClose:()=>k(!1),paymentData:q,onSuccess:D}),e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 font-inter",children:[c&&e.jsxs("button",{onClick:c,className:"fixed top-4 left-4 z-50 flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg shadow-md hover:bg-gray-50 transition",children:[e.jsx(ka,{className:"w-4 h-4"}),"Back to Search"]}),e.jsxs("div",{className:"max-w-4xl mx-auto pt-12",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-gray-800 mb-2 text-center border-b-4 border-teal-500 pb-2 inline-block",children:"Confirm Your Booking & Payment"}),e.jsx("p",{className:"text-center text-gray-600 mb-6 sm:mb-10 text-sm sm:text-base",children:"Review the trip summary before finalizing your payment."}),A&&e.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"p-4 sm:p-6 bg-teal-600 text-white",children:[e.jsxs("h2",{className:"text-lg sm:text-xl font-bold mb-1 flex items-center flex-wrap",children:[A.company_name||"Transport Company",A.offer_type==="whole_hire"&&e.jsx("span",{className:"ml-2 sm:ml-3 text-xs font-semibold px-2 sm:px-3 py-1 bg-white bg-opacity-20 rounded-full",children:"WHOLE HIRE"}),i&&e.jsx("span",{className:"ml-2 sm:ml-3 text-xs font-semibold px-2 sm:px-3 py-1 bg-blue-500 bg-opacity-20 rounded-full",children:"DIRECT BOOKING"})]}),e.jsxs("p",{className:"text-xs sm:text-sm opacity-90",children:[e.jsx("strong",{children:A.from_location||A.location_address||A.route_from||"Pickup Location"})," to ",e.jsx("strong",{children:h||A.to_location||A.route_to||"Destination"})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center bg-gray-50 p-3 sm:p-4 rounded-xl shadow-inner",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-700 mb-2 sm:mb-3",children:"Vehicle Details"}),e.jsx("img",{src:re,className:"w-full h-40 sm:h-48 object-cover rounded-xl border-4 border-white shadow-lg",alt:"Vehicle",onError:G=>{G.target.src="https://placehold.co/400x220/82D8CC/ffffff?text=Vehicle+Image"}}),e.jsxs("div",{className:"mt-2 sm:mt-3 text-center",children:[e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-gray-700",children:["No: ",A.vehicle_number||"N/A"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 capitalize",children:["Type: ",A.vehicle_type||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",A.vehicle_id||A.vehicle||"N/A"]})]})]}),e.jsxs("div",{className:"flex flex-col items-center bg-gray-50 p-3 sm:p-4 rounded-xl shadow-inner",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-700 mb-2 sm:mb-3",children:"Driver Details"}),e.jsx("img",{src:I,className:"w-full h-40 sm:h-48 object-cover rounded-xl border-4 border-white shadow-lg",alt:"Driver",onError:G=>{G.target.src="https://placehold.co/400x220/55D6C2/ffffff?text=Driver+Image"}}),e.jsxs("div",{className:"mt-2 sm:mt-3 text-center",children:[e.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-700",children:A.driver_name||A.driver_name_snapshot||"Driver N/A"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Contact: ",A.driver_contact||A.driver_contact_snapshot||"N/A"]})]})]})]}),e.jsxs("div",{className:"bg-teal-50 p-3 sm:p-4 rounded-xl border border-teal-100",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-teal-800 mb-2 sm:mb-3 border-b border-teal-200 pb-2",children:"Trip & Rate Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx(eo,{label:"Arrival Date",value:A.arrival_date,icon:""}),e.jsx(eo,{label:"Arrival Time",value:A.arrival_time,icon:""}),e.jsx(eo,{label:"Service Type",value:A.service_type?A.service_type.replace("_"," "):"N/A",icon:""}),A.service_type==="long_drive"&&A.duration_type&&e.jsx(eo,{label:"Duration",value:`${A.duration_value} ${A.duration_type}`,icon:""})]}),A.night_charge>0&&e.jsxs("div",{className:"mt-3 text-sm text-blue-600",children:["Includes night charge: Rs. ",A.night_charge]}),A.mountain_surcharge>0&&e.jsxs("div",{className:"mt-1 text-sm text-green-600",children:["Includes mountain surcharge: Rs. ",A.mountain_surcharge]})]}),e.jsxs("div",{className:"bg-amber-50 p-3 sm:p-4 rounded-xl border border-amber-100",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-amber-800 mb-2 sm:mb-3 border-b border-amber-200 pb-2",children:"Fare Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx(eo,{label:"Total Amount",value:`${P.toLocaleString()} PKR`,icon:""}),e.jsx(eo,{label:"Rate Type",value:A.service_type==="long_drive"?`Per ${A.duration_type}`:"Fixed Fare",icon:""})]}),A.service_type==="long_drive"&&e.jsxs("p",{className:"text-xs text-amber-700 mt-2 text-center",children:["Calculated for ",A.duration_value," ",A.duration_type,A.duration_value>1?"s":""]})]}),e.jsxs("div",{className:"bg-sky-50 p-3 sm:p-4 rounded-xl border border-sky-100",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-sky-800 mb-2 sm:mb-3 border-b border-sky-200 pb-2",children:"Passenger Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx(eo,{label:"Name",value:g.name,icon:""}),e.jsx(eo,{label:"Phone",value:g.contact,icon:""}),e.jsx(eo,{label:"CNIC",value:g.cnic,icon:""}),e.jsx(eo,{label:"Email",value:g.email,icon:""})]})]}),e.jsxs("div",{className:"bg-green-50 p-3 sm:p-4 rounded-xl border border-green-100",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-green-800 mb-2 sm:mb-3 border-b border-green-200 pb-2",children:"Payment Options"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.payment_type==="BOTH"&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:"Cash Payment"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:"Online Payment"})]}),A.payment_type==="CASH"&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:"Cash Only"}),A.payment_type==="ADVANCE"&&e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:"Online Only"})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[A.easypaisa_number&&e.jsxs("p",{children:["Easypaisa: ",A.easypaisa_number]}),A.jazzcash_number&&e.jsxs("p",{children:["JazzCash: ",A.jazzcash_number]}),A.bank_account_number&&e.jsxs("p",{children:["Bank: ",A.bank_name," - ",A.bank_account_number]})]})]}),e.jsx("p",{className:"text-center pt-3 sm:pt-4 text-xs sm:text-sm font-medium text-red-500",children:" Please double-check all details before confirming."})]})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 p-4 sm:p-6 bg-white rounded-xl sm:rounded-2xl shadow-xl border border-gray-100",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-3 sm:mb-4 text-center",children:"Choose Payment Method"}),(()=>{const G=A?.payment_type,X=a?.payment_type,ie=X||G;return console.log(" Payment Types:",{transport:G,card:X,final:ie}),e.jsxs("div",{className:"space-y-3",children:[ie==="BOTH"||ie==="CASH"?e.jsxs("button",{onClick:()=>z("CASH"),disabled:_,className:`w-full flex items-center justify-center py-3 sm:py-4 rounded-xl text-base sm:text-lg font-bold transition duration-200 border-2 ${_?"bg-gray-300 text-gray-600 cursor-not-allowed opacity-70 border-gray-400":"bg-white text-green-700 border-green-700 hover:bg-green-50 shadow-md"}`,children:[e.jsx(Eu,{className:"h-6 w-6 mr-2"})," Cash On Counter"]}):null,ie==="BOTH"||ie==="ADVANCE"||ie==="ONLINE"?e.jsxs("button",{onClick:()=>z("MANUAL"),disabled:_,className:`w-full flex items-center justify-center py-3 sm:py-4 rounded-xl text-base sm:text-lg font-bold text-white transition duration-200 shadow-xl ${_?"bg-blue-400 cursor-not-allowed opacity-70":"bg-blue-700 hover:bg-blue-800"}`,children:[e.jsx(Mi,{className:"h-6 w-6 mr-2"})," Pay Now (Manual)"]}):null,_&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Processing booking..."})]}),!["BOTH","CASH","ADVANCE","ONLINE"].includes(ie)&&e.jsx("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsx("p",{className:"text-yellow-700",children:"No payment methods available for this booking."})})]})})()]})]})]})]})}function yq(){const t=Ur(),s=Js(),r=t.state?.vehicleDetails||JSON.parse(localStorage.getItem("selectedVehicleForBooking")||"null"),a=t.state?.fromCard||!1,[i,o]=S.useState(!1),[c,A]=S.useState(null),u=localStorage.getItem("accessToken")||localStorage.getItem("access_token");S.useEffect(()=>{t.state?.preserveData||(localStorage.removeItem("paymentData"),localStorage.removeItem("booking_payload"),localStorage.removeItem("selectedVehicleForBooking"));const g=localStorage.getItem("paymentData");if(g&&!t.state?.fromCard)try{const b=JSON.parse(g);A(b),o(!0)}catch(b){console.error("Error parsing stored payment data:",b),localStorage.removeItem("paymentData")}},[t]);const h=g=>{A(g),localStorage.setItem("paymentData",JSON.stringify(g)),localStorage.setItem("booking_payload",JSON.stringify(g)),localStorage.setItem("selectedVehicleForBooking",JSON.stringify(g)),o(!0),window.history.replaceState({},"","/booking/payment")},f=()=>{o(!1),A(null),localStorage.removeItem("paymentData"),localStorage.removeItem("booking_payload"),s(-1)};return!u||u.trim()===""||u==="undefined"||u==="null"?(localStorage.setItem("redirectAfterLogin",JSON.stringify({path:t.pathname,state:{vehicleDetails:r,fromCard:a}})),e.jsx(vf,{to:"/login",replace:!0,state:{from:t.pathname,vehicleDetails:r,fromCard:a}})):a&&!r?e.jsx(vf,{to:"/",replace:!0}):i&&c?e.jsx(oS,{bookingData:c,isDirectBooking:a,vehicleDataFromCard:r,onBack:f}):e.jsx(J6,{vehicleDataFromCard:r,isDirectBooking:a,onProceedToPayment:h})}function vq(){const t=Ur(),s=Js(),r=t.state?.transport,[a,i]=S.useState([]),[o,c]=S.useState(!1),[A,u]=S.useState(0),[h,f]=S.useState(0),[g,b]=S.useState(null);if(!r)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"No transport details found."}),e.jsx("button",{onClick:()=>s(-1),className:"bg-indigo-600 text-white px-5 py-2 rounded-lg hover:bg-indigo-700 transition",children:"Go Back"})]});const x=window.location.hostname==="localhost"?"http://127.0.0.1:8000":"",w=r.vehicle_image?r.vehicle_image.startsWith("http")?r.vehicle_image:`${x}${r.vehicle_image}`:ao;S.useEffect(()=>{const E=async()=>{c(!0),b(null);const U=r.vehicle_id||r.vehicle||r.id||r.transport_id,k=r.arrival_date||r.departure_date,q=r.arrival_time||r.departure_time;if(!U||!k||!q){console.log("Missing required parameters for seat fetch"),c(!1),T();return}try{let K=q;K&&K.split(":").length===2&&(K=`${K}:00`);const z=`/api/checkout/bookings/?vehicle_id=${U}&arrival_date=${k}&arrival_time=${K}`,$=await fetch(z,{headers:{"Content-Type":"application/json"}});if($.ok){const D=await $.json();if(Array.isArray(D)){i(D);const L=r.vehicle_seats||40,R=r?.reserve_seats||[],P=Array.isArray(R)?R.length:0,re=D.length,I=P+re,G=L-I;u(G>=0?G:0),f(L)}else i([]),T()}else $.status===404?(i([]),T()):(b("Could not load seat data"),T())}catch(K){console.error("Error fetching booked seats:",K),b("Network error loading seats"),i([]),T()}finally{c(!1)}},T=()=>{const U=r.vehicle_seats||40,k=r?.reserve_seats||[],q=Array.isArray(k)?k.length:0,K=U-q;u(K>=0?K:0),f(U)};E()},[r]);const B=()=>a.length,j=()=>{const E=localStorage.getItem("accessToken");if(!E||E.trim()===""||E==="null"||E==="undefined"){s("/login",{state:{from:t.pathname,transport:r}});return}s("/book-seat",{state:{fromCard:!0,transport:r}})},_={AC:{label:"AC",icon:VL},WiFi:{label:"WiFi",icon:eA},RecliningSeats:{label:"Reclining Seats",icon:ld},ChargingPorts:{label:"Charging Ports",icon:ld},FreeWaterBottle:{label:"Free Water Bottle",icon:Pf}},Q=E=>!E||Object.keys(E).length===0?e.jsx("p",{className:"text-gray-500",children:"No features listed"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(E).filter(([T,U])=>U===!0).map(([T])=>{const U=_[T]?.icon||gs;return e.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 text-xs rounded-full bg-green-100 text-green-700",children:[e.jsx(U,{className:"w-4 h-4"})," ",_[T]?.label||T]},T)})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-100 py-10 px-4",children:e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-4xl mx-auto bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:w,alt:"Vehicle",className:"w-full h-64 object-cover",onError:E=>{E.target.onerror=null,E.target.src=ao}}),e.jsx("button",{onClick:()=>s(-1),className:"absolute top-4 left-4 bg-white/80 hover:bg-white text-gray-700 rounded-full p-2 shadow-md transition",children:e.jsx(ka,{size:20})}),e.jsx("div",{className:"absolute bottom-4 left-4 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-semibold shadow-md",children:r.vehicle_type_snapshot||"Vehicle"})]}),e.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(Ri,{className:"text-indigo-600"})," ",r.company_name||"Transport Company"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yt,{className:"text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Route"}),e.jsxs("p",{children:[r.route_from,"  ",r.route_to]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(is,{className:"text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Departure Time"}),e.jsx("p",{children:r.arrival_time||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(as,{className:"text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Departure Date"}),e.jsx("p",{children:r.arrival_date||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Gt,{className:"text-green-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold",children:"Seats Left"}),o&&e.jsx(Nn,{className:"w-4 h-4 animate-spin text-blue-500"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:`font-bold text-lg ${A===0?"text-red-600":A<=5?"text-amber-600":"text-green-600"}`,children:o?"Loading...":A}),g&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:g})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vr,{className:"text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Price per Seat"}),e.jsxs("p",{children:["Rs. ",r.price_per_seat||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zo,{className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Company Status"}),e.jsx("p",{children:r.status||"Active"})]})]})]}),e.jsx("div",{className:"border-t pt-4 space-y-3",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Company Contact 1"}),e.jsx("p",{children:r.company_contact_1||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ls,{className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Company Contact 2"}),e.jsx("p",{children:r.company_contact_2||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gs,{className:"text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Vehicle Info"}),e.jsx("p",{children:r.vehicle_details||"N/A"})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-100",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(Gt,{className:"text-blue-500"})," Seat Breakdown"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center bg-white p-3 rounded-lg border",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r.vehicle_seats||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Seats"})]}),e.jsxs("div",{className:"text-center bg-white p-3 rounded-lg border",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:Array.isArray(r.reserve_seats)?r.reserve_seats.length:0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Reserved"})]}),e.jsxs("div",{className:"text-center bg-white p-3 rounded-lg border",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o?"...":B()}),e.jsx("div",{className:"text-sm text-gray-600",children:"Booked (API)"})]}),e.jsxs("div",{className:"text-center bg-white p-3 rounded-lg border",children:[e.jsx("div",{className:`text-2xl font-bold ${A===0?"text-red-600":A<=5?"text-amber-600":"text-green-600"}`,children:o?"...":A}),e.jsx("div",{className:"text-sm text-gray-600",children:"Available"})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Available = Total - (Reserved + Booked)"}),g&&e.jsxs("div",{className:"mt-2 text-xs text-red-500 text-center flex items-center justify-center gap-1",children:[e.jsx(nn,{size:12}),g]})]}),e.jsxs("div",{className:"pt-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Features"}),Q(r.vehicle_features)]}),e.jsx("div",{className:"pt-4",children:e.jsx(nt.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:j,disabled:o||A===0,className:`w-full md:w-auto px-6 py-3 rounded-xl font-semibold shadow-md transition ${o||A===0?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:o?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Nn,{className:"w-4 h-4 animate-spin"}),"Loading Seats..."]}):A===0?"No Seats Available":"Book Now"})})]})]})})}function wq(){const[t,s]=S.useState(new Date().getFullYear()),[r,a]=S.useState(null),[i,o]=S.useState(!1);S.useEffect(()=>{s(new Date().getFullYear()),setTimeout(()=>o(!0),100)},[]);const c={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,staggerChildren:.1}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},u={hover:{scale:1.2,rotate:5,transition:{duration:.3}}},h={hover:{x:5,transition:{duration:.2}}};return e.jsxs("footer",{className:"relative z-10 bg-gradient-to-r from-blue-700",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-indigo-600/20 to-purple-600/20",children:["Animated floating elements",e.jsx("div",{className:"absolute top-10 left-1/4 w-32 h-32 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-1/4 w-40 h-40 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-gradient-to-r from-blue-300/20 to-indigo-300/20 rounded-full blur-3xl animate-pulse delay-500"})]}),e.jsxs(nt.div,{initial:"hidden",animate:i?"visible":"hidden",variants:c,className:"relative bg-gradient-to-br from-blue-700 via-indigo-600 to-purple-700 shadow-2xl backdrop-blur-lg border-t border-white/10",children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs(nt.div,{variants:A,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt.div,{whileHover:{rotate:360},transition:{duration:.6},className:"p-3 rounded-xl shadow-lg bg-gradient-to-r from-blue-500 to-purple-600",children:e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:lS,alt:"PTMS_GB Logo",className:"w-full h-full object-cover"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-2xl bg-gradient-to-r from-blue-300 via-white to-purple-300 bg-clip-text text-transparent",children:"PTMS GB"}),e.jsx("p",{className:"text-sm text-white/70",children:"Gilgit-Baltistan"})]})]}),e.jsxs("p",{className:"text-white/80 leading-relaxed",children:[e.jsx(Mu,{className:"inline h-4 w-4 mr-1 text-yellow-300"}),"Passenger Transport Management System for Gilgit-Baltistan. Seamless booking, reliable providers, and secure travel experiences."]}),e.jsx("div",{className:"space-y-3",children:[{icon:Yt,text:"Gilgit, GB Pakistan"},{icon:Ls,text:"+92 123 456789"},{icon:ln,text:"info@ptmsgb.com"}].map((f,g)=>e.jsxs(nt.div,{whileHover:{x:5},className:"flex items-center gap-3 group",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg group-hover:from-blue-500/30 group-hover:to-purple-500/30 transition-all",children:e.jsx(f.icon,{className:"h-4 w-4 text-white/80"})}),e.jsx("span",{className:"text-sm text-white/70 group-hover:text-white transition-colors",children:f.text})]},g))})]}),e.jsxs(nt.div,{variants:A,children:[e.jsxs("h4",{className:"font-bold text-lg mb-6 text-white flex items-center gap-3",children:[e.jsx("div",{className:"h-1 w-8 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent",children:"Quick Links"})]}),e.jsx("ul",{className:"space-y-3",children:[{to:"/seat-booking",label:"Seat Booking"},{to:"/vehicle-booking",label:"Vehicle Reservation"},{to:"/CompanyRegistrationSection",label:"Provide Services"},{to:"/weather",label:"Weather Updates"}].map((f,g)=>e.jsx(nt.li,{whileHover:"hover",onHoverStart:()=>a(g),onHoverEnd:()=>a(null),children:e.jsxs(Qu,{to:f.to,className:"flex items-center justify-between group py-2",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(nt.div,{variants:h,className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-3 w-3 text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("span",{className:"text-white/80 group-hover:text-white font-medium transition-colors",children:f.label})]})}),r===g&&e.jsx(nt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:20},className:"h-0.5 bg-gradient-to-r from-blue-400 to-purple-400"})]})},g))})]}),e.jsxs(nt.div,{variants:A,children:[e.jsxs("h4",{className:"font-bold text-lg mb-6 text-white flex items-center gap-3",children:[e.jsx("div",{className:"h-1 w-8 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent",children:"Company"})]}),e.jsx("ul",{className:"space-y-3",children:[{to:"/AboutUs",label:"About Us"},{to:"/blog",label:"Blog"},{to:"/ContactPage",label:"Contact Us"},{to:"/privacy-policy",label:"Privacy Policy"},{to:"/terms",label:"Terms & Conditions"}].map((f,g)=>e.jsx(nt.li,{whileHover:"hover",onHoverStart:()=>a(g+10),onHoverEnd:()=>a(null),children:e.jsxs(Qu,{to:f.to,className:"flex items-center justify-between group py-2",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(nt.div,{variants:h,className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-3 w-3 text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx("span",{className:"text-white/80 group-hover:text-white font-medium transition-colors",children:f.label})]})}),r===g+10&&e.jsx(nt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:20},className:"h-0.5 bg-gradient-to-r from-blue-400 to-purple-400"})]})},g))})]}),e.jsxs(nt.div,{variants:A,children:[e.jsxs("h4",{className:"font-bold text-lg mb-6 text-white flex items-center gap-3",children:[e.jsx("div",{className:"h-1 w-8 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent",children:"Connect With Us"})]}),e.jsx("p",{className:"text-white/70 mb-6 text-sm leading-relaxed",children:"Follow us on social media for updates, travel tips, and exclusive offers."}),e.jsx("div",{className:"flex gap-4 mb-8",children:[{icon:J4,color:"from-pink-500 to-purple-600",label:"Instagram"},{icon:Y4,color:"from-blue-600 to-blue-800",label:"Facebook"},{icon:i_,color:"from-red-600 to-red-700",label:"YouTube"},{icon:n_,color:"from-blue-400 to-blue-500",label:"Twitter"}].map((f,g)=>e.jsxs(nt.a,{href:"#","aria-label":f.label,variants:u,whileHover:"hover",whileTap:{scale:.95},className:`p-3 rounded-xl bg-gradient-to-r ${f.color} text-white shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden group`,children:[e.jsx(f.icon,{size:22}),e.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},g))}),e.jsxs(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-2 group",children:[e.jsx("span",{children:"Download App"}),e.jsx(va,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]}),e.jsx(nt.div,{variants:A,className:"border-t border-white/10 bg-gradient-to-r from-blue-900/80 via-indigo-900/80 to-purple-900/80 backdrop-blur-lg",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 flex flex-col sm:flex-row justify-between items-center gap-4",children:e.jsxs("div",{className:"text-sm text-white/70 flex items-center gap-2",children:[e.jsx(wa,{className:"h-4 w-4 text-green-400"}),e.jsxs("span",{children:[" ",t," ",e.jsx("span",{className:"font-semibold text-white",children:"PTMS_GB"}),". All rights reserved."]})]})})})]}),e.jsx(nt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.1},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl z-40 hover:shadow-3xl transition-all duration-300",children:e.jsx(va,{className:"h-5 w-5 rotate-90"})})]})}const Nq=t=>{if(!t)return{type:"custom",primary:"Contact for Price",secondary:"",icon:Vr,color:"text-gray-600",description:"Price available on request"};if(t.is_long_drive){if(t.per_day_rate)return{type:"daily",primary:`Rs. ${parseInt(t.per_day_rate).toLocaleString()}`,secondary:"/ day",icon:as,color:"text-blue-600",description:"Per day rental"};if(t.per_hour_rate)return{type:"hourly",primary:`Rs. ${parseInt(t.per_hour_rate).toLocaleString()}`,secondary:"/ hour",icon:is,color:"text-purple-600",description:"Hourly rental"};if(t.weekly_rate)return{type:"weekly",primary:`Rs. ${parseInt(t.weekly_rate).toLocaleString()}`,secondary:"/ week",icon:Du,color:"text-orange-600",description:"Weekly package"}}return t.is_specific_route&&t.fixed_fare?{type:"fixed_route",primary:`Rs. ${parseInt(t.fixed_fare).toLocaleString()}`,secondary:t.distance?` ${t.distance} km`:"Fixed Route",icon:Jr,color:"text-green-600",description:"Complete route package"}:t.rate_per_km?{type:"rate_km",primary:`Rs. ${t.rate_per_km}`,secondary:"/ km",icon:kg,color:"text-red-600",description:"Per kilometer rate"}:{type:"custom",primary:"Custom Price",secondary:"Contact for details",icon:Vr,color:"text-gray-600",description:"Custom pricing available"}},jq=t=>{if(!t||!t.vehicle_features)return[];const s=[],r=t.vehicle_features;return r.AC&&s.push({name:"Air Conditioning",icon:k8,color:"text-blue-500"}),r.WiFi&&s.push({name:"WiFi",icon:eA,color:"text-green-500"}),r.RecliningSeats&&s.push({name:"Reclining Seats",icon:Gt,color:"text-purple-500"}),r.ChargingPorts&&s.push({name:"Charging Ports",icon:ld,color:"text-yellow-500"}),r.FreeWaterBottle&&s.push({name:"Free Water",icon:fL,color:"text-cyan-500"}),s};function Bq(){const t=Ur(),s=Js(),{id:r}=h4(),[a,i]=S.useState(null),[o,c]=S.useState(!0);if(S.useEffect(()=>{console.log("Location state:",t.state),t.state?.vehicleDetails&&i(t.state.vehicleDetails),c(!1)},[t.state,r]),o)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading vehicle details..."})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(nn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vehicle Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The vehicle details could not be loaded."}),e.jsx("button",{onClick:()=>s(-1),className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700",children:"Go Back"})]})});a.rating;const A=a.location_address||"Location not specified",u=a.vehicle_type||"Premium Vehicle",h=a.vehicle_image||ao,f=a.vehicle_seats||"N/A",g=a.vehicle_details||"N/A",b=a.vehicle_number||"Not Available",x=a.driver_name||"Professional Driver",w=a.driver_contact||"Contact not available",B=a.driver_image||ao,j=Nq(a),_=jq(a);console.log("Vehicle data:",a);const Q=()=>{const U=localStorage.getItem("accessToken");if(!U||U==="null"||U==="undefined"||U.trim()===""){s("/login",{replace:!0,state:{from:`/book-vehical/${r}`,vehicleDetails:a}});return}s(`/book-vehical/${r}`,{state:{vehicleDetails:a}})},E=()=>{s(-1)},T=()=>{if(typeof a.rating=="number"&&a.rating>0&&a.rating<=5){const U=Math.floor(a.rating);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((k,q)=>e.jsx(za,{className:`w-5 h-5 ${q<U?"fill-yellow-400":"text-gray-300"}`},q))}),e.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-700",children:a.rating.toFixed(1)})]})}return e.jsx("span",{className:"text-lg font-semibold text-green-600 bg-green-100 px-4 py-2 rounded-full",children:" New Service"})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[e.jsx(nt.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:E,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(ka,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"font-semibold",children:"Back"})]}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Vehicle Details"}),e.jsx("div",{className:"w-6"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:e.jsx("img",{src:h,alt:a.company_name,className:"w-full h-96 object-cover",onError:U=>{U.target.onerror=null,U.target.src=ao}})}),e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Driver Information"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:B,alt:x,className:"w-20 h-20 rounded-full object-cover border-4 border-indigo-100",onError:U=>{U.target.onerror=null,U.target.src=ao}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x}),e.jsxs("div",{className:"flex items-center mt-2 text-gray-600",children:[e.jsx(r_,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-medium",children:w})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx(rs,{className:"w-3 h-3 mr-1"}),"Professional Driver"]})})]})]})]}),e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Vehicle Specifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx(gs,{className:"w-8 h-8 text-blue-500 mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Vehicle Type"}),e.jsx("div",{className:"font-semibold text-gray-900",children:u})]})]}),e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx(Gt,{className:"w-8 h-8 text-green-500 mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Seating Capacity"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[f," Seats"]})]})]}),b!=="Not Available"&&e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx(wa,{className:"w-8 h-8 text-indigo-500 mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Vehicle Number"}),e.jsx("div",{className:"font-semibold text-gray-900",children:b})]})]}),a.allow_custom_quote&&e.jsxs("div",{className:"flex items-center p-4 bg-purple-50 rounded-xl",children:[e.jsx(ld,{className:"w-8 h-8 text-purple-500 mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Custom Quote"}),e.jsx("div",{className:"font-semibold text-purple-700",children:"Available"})]})]})]})]}),e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Vehicle Specifications"}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx(Gt,{className:"w-8 h-8 text-green-500 mr-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Details Explain"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[g," Details Explain"]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.company_name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[e.jsx(Yt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"text-lg",children:A})]})]}),a.company_logo_url&&e.jsx("img",{src:a.company_logo_url,alt:a.company_name,className:"w-16 h-16 rounded-full border-2 border-gray-200"})]}),T()]}),a.route_from&&e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Route Information"}),e.jsxs("div",{className:"flex items-center justify-center p-4 bg-blue-50 rounded-xl border-2 border-blue-200",children:[e.jsx(Jr,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-700",children:[a.route_from,"  ",a.route_to]}),a.is_long_drive&&e.jsx("div",{className:"text-blue-600 mt-1",children:"Long Drive Service Available"})]})]})]}),e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Pricing Details"}),e.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Best Price"})]}),e.jsxs("div",{className:`flex items-center ${j.color} font-bold text-3xl mb-6 py-4 border-y border-gray-100`,children:[e.jsx(j.icon,{className:"w-8 h-8 mr-4"}),e.jsx("span",{children:j.primary}),e.jsx("span",{className:"text-xl font-semibold ml-3 text-gray-600",children:j.secondary})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.per_hour_rate&&e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx(is,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-xl font-bold text-blue-700",children:["Rs. ",parseInt(a.per_hour_rate).toLocaleString()]}),e.jsx("div",{className:"text-sm text-blue-600",children:"Per Hour"})]}),a.per_day_rate&&e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx(as,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-xl font-bold text-green-700",children:["Rs. ",parseInt(a.per_day_rate).toLocaleString()]}),e.jsx("div",{className:"text-sm text-green-600",children:"Per Day"})]}),a.weekly_rate&&e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-xl border border-orange-200",children:[e.jsx(Du,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-xl font-bold text-orange-700",children:["Rs. ",parseInt(a.weekly_rate).toLocaleString()]}),e.jsx("div",{className:"text-sm text-orange-600",children:"Weekly Package"})]})]}),(a.night_charge||a.mountain_surcharge)&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Additional Charges"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.night_charge&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Night Charge"}),e.jsxs("span",{className:"font-bold text-purple-700",children:["+Rs. ",parseInt(a.night_charge).toLocaleString()]})]}),a.mountain_surcharge&&e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-orange-700 font-medium",children:"Mountain Surcharge"}),e.jsxs("span",{className:"font-bold text-orange-700",children:["+Rs. ",parseInt(a.mountain_surcharge).toLocaleString()]})]})]})]})]}),_.length>0&&e.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Features & Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:_.map((U,k)=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(U.icon,{className:`w-5 h-5 mr-3 ${U.color}`}),e.jsx("span",{className:"font-medium text-gray-700",children:U.name})]},k))})]})]})]})}),e.jsx(nt.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:j.primary}),e.jsx("div",{className:"text-gray-600",children:j.description})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("a",{href:`tel:${w}`,className:"flex items-center px-6 py-3 border-2 border-indigo-600 text-indigo-600 rounded-xl font-semibold hover:bg-indigo-50 transition-colors",children:[e.jsx(Ls,{className:"w-5 h-5 mr-2"}),"Call Driver"]}),e.jsxs("button",{onClick:Q,className:"flex items-center px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg",children:[e.jsx(zs,{className:"w-5 h-5 mr-2"}),"Book Now"]})]})]})})})]})}function _q(){const[t,s]=S.useState(""),[r,a]=S.useState(!1),[i,o]=S.useState(""),[c,A]=S.useState(""),[u,h]=S.useState(null),f=Js(),g=async b=>{b.preventDefault(),o(""),A(""),a(!0);try{const x=await ya.post("auth/forgot-password/",{email:t});x.data.user_id?(h(x.data.user_id),A("Reset code has been sent to your email!"),setTimeout(()=>{f("/verify-otp",{state:{email:t,userId:x.data.user_id}})},2e3)):o("Email not found. Please enter a registered email.")}catch(x){console.error("Forgot password error:",x),x.response?.status===404?o("Email not found. Please enter a registered email."):o("Failed to send reset code. Please try again.")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 p-4",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-md shadow-2xl rounded-3xl border-t-8 border-indigo-500 relative",children:[e.jsx("button",{onClick:()=>f(-1),className:"absolute top-4 left-4 text-gray-500 hover:text-indigo-600 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(ka,{size:22})}),e.jsx("button",{onClick:()=>f("/"),className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(Is,{size:22})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4 shadow-xl",children:e.jsx(ln,{size:34,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Forgot Password?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your email address and we'll send you a code to reset your password."})]}),c&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zs,{className:"text-green-500",size:20}),e.jsx("p",{className:"text-green-700 text-sm",children:c})]}),u&&e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(lo,{className:"animate-spin text-indigo-500",size:16}),e.jsx("p",{className:"text-xs text-indigo-600",children:"Redirecting to verification..."})]})]}),i&&e.jsx("div",{className:"mb-6 bg-red-50 text-red-700 border border-red-200 p-4 rounded-xl text-sm",children:i}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ln,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-400"}),e.jsx("input",{type:"email",placeholder:"Enter your email address",value:t,onChange:b=>s(b.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition"})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold text-lg shadow-md hover:shadow-xl transition-all disabled:opacity-60 flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx(lo,{className:"animate-spin",size:20}),"Sending Code..."]}):"Send Reset Code"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(Qu,{to:"/login",className:"text-indigo-600 hover:text-indigo-800 font-semibold",children:"Back to Login"})]})}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-100",children:e.jsxs("p",{className:"text-xs text-blue-700",children:[e.jsx("strong",{children:"Note:"})," The reset code will expire in 10 minutes. Check your spam folder if you don't see the email."]})})]})})}function Cq(){const[t,s]=S.useState(""),[r,a]=S.useState(""),[i,o]=S.useState(!1),[c,A]=S.useState(""),[u,h]=S.useState(!1),[f,g]=S.useState(!1),[b,x]=S.useState(!1),w=Js(),B=Ur(),{email:j,userId:_,resetToken:Q}=B.state||{},E={minLength:t.length>=8,hasUppercase:/[A-Z]/.test(t),hasLowercase:/[a-z]/.test(t),hasNumber:/\d/.test(t),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(t)},T=Object.values(E).every(Boolean),U=()=>T?t!==r?"Passwords do not match":null:"Password must meet all requirements",k=async q=>{q.preventDefault();const K=U();if(K){A(K);return}if(!_||!Q){A("Invalid reset session. Please start over.");return}A(""),o(!0);try{const z=await ya.post("/auth/reset-password/",{user_id:_,reset_token:Q,new_password:t});h(!0),setTimeout(()=>{w("/login",{state:{message:"Password reset successful! Please login with your new password."}})},3e3)}catch(z){console.error("Reset password error:",z),A(z.response?.data?.error||"Failed to reset password. Please try again.")}finally{o(!1)}};return!j||!_||!Q?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 p-4",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-md shadow-2xl rounded-3xl border-t-8 border-red-500 text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Invalid Reset Session"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your password reset session has expired or is invalid."}),e.jsx("button",{onClick:()=>w("/forgot-password"),className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-semibold hover:bg-indigo-700 transition",children:"Start Over"})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 p-4",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-md shadow-2xl rounded-3xl border-t-8 border-green-500 relative",children:[e.jsx("button",{onClick:()=>w(-1),className:"absolute top-4 left-4 text-gray-500 hover:text-indigo-600 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(ka,{size:22})}),e.jsx("button",{onClick:()=>w("/"),className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(Is,{size:22})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4 shadow-xl",children:e.jsx(_u,{size:34,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reset Password"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Create a new password for"," ",e.jsx("span",{className:"font-semibold text-indigo-600",children:j})]})]}),u&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l1,{className:"text-green-500",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-semibold",children:"Password Reset Successful!"}),e.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Redirecting to login page..."})]})]})}),c&&e.jsx("div",{className:"mb-6 bg-red-50 text-red-700 border border-red-200 p-4 rounded-xl text-sm",children:c}),!u&&e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_u,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:f?"text":"password",placeholder:"Enter new password",value:t,onChange:q=>s(q.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition"}),e.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-indigo-600",children:f?e.jsx(Zw,{size:20}):e.jsx(fi,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_u,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:b?"text":"password",placeholder:"Confirm new password",value:r,onChange:q=>a(q.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition"}),e.jsx("button",{type:"button",onClick:()=>x(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-indigo-600",children:b?e.jsx(Zw,{size:20}):e.jsx(fi,{size:20})})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Password must contain:"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsxs("li",{className:`flex items-center gap-2 ${E.minLength?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E.minLength?"bg-green-500":"bg-gray-300"}`}),"At least 8 characters"]}),e.jsxs("li",{className:`flex items-center gap-2 ${E.hasUppercase?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E.hasUppercase?"bg-green-500":"bg-gray-300"}`}),"One uppercase letter"]}),e.jsxs("li",{className:`flex items-center gap-2 ${E.hasLowercase?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E.hasLowercase?"bg-green-500":"bg-gray-300"}`}),"One lowercase letter"]}),e.jsxs("li",{className:`flex items-center gap-2 ${E.hasNumber?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E.hasNumber?"bg-green-500":"bg-gray-300"}`}),"One number"]}),e.jsxs("li",{className:`flex items-center gap-2 ${E.hasSpecialChar?"text-green-600":"text-gray-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${E.hasSpecialChar?"bg-green-500":"bg-gray-300"}`}),"One special character"]})]})]}),e.jsx("button",{type:"submit",disabled:i||!T||t!==r,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 rounded-xl font-semibold text-lg shadow-md hover:shadow-xl transition-all disabled:opacity-60 flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(lo,{className:"animate-spin",size:20}),"Resetting Password..."]}):"Reset Password"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remembered your password?"," ",e.jsx(Qu,{to:"/login",className:"text-indigo-600 hover:text-indigo-800 font-semibold",children:"Back to Login"})]})})]})})}function Sq(){const[t,s]=S.useState(["","","","","",""]),[r,a]=S.useState(!1),[i,o]=S.useState(""),[c,A]=S.useState(600),[u,h]=S.useState(!1),f=S.useRef([]),g=Js(),b=Ur(),{email:x,userId:w}=b.state||{};S.useEffect(()=>{if(!x||!w){g("/forgot-password");return}const T=setInterval(()=>{A(U=>U<=1?(clearInterval(T),h(!0),0):U-1)},1e3);return()=>clearInterval(T)},[x,w,g]);const B=T=>{const U=Math.floor(T/60),k=T%60;return`${U.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`},j=(T,U)=>{if(U.length>1){const q=U.slice(0,6).split(""),K=[...t];q.forEach(($,D)=>{D<6&&(K[D]=$)}),s(K);const z=Math.min(5,q.length-1);f.current[z]?.focus();return}if(!/^\d*$/.test(U))return;const k=[...t];k[T]=U,s(k),U&&T<5&&f.current[T+1]?.focus()},_=(T,U)=>{U.key==="Backspace"&&!t[T]&&T>0&&f.current[T-1]?.focus()},Q=async T=>{T.preventDefault();const U=t.join("");if(U.length!==6){o("Please enter all 6 digits");return}o(""),a(!0);try{const k=await ya.post("/auth/verify-reset-otp/",{user_id:w,otp:U});k.data.reset_token&&g("/reset-password",{state:{email:x,userId:w,resetToken:k.data.reset_token}})}catch(k){console.error("OTP verification error:",k),o(k.response?.data?.error||"Invalid or expired OTP. Please try again.")}finally{a(!1)}},E=async()=>{a(!0),o("");try{await ya.post("/auth/forgot-password/",{email:x}),A(600),h(!1),s(["","","","","",""]),f.current[0]?.focus()}catch{o("Failed to resend code. Please try again.")}finally{a(!1)}};return!x||!w?null:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 p-4",children:e.jsxs("div",{className:"bg-white p-8 w-full max-w-md shadow-2xl rounded-3xl border-t-8 border-indigo-500 relative",children:[e.jsx("button",{onClick:()=>g("/forgot-password"),className:"absolute top-4 left-4 text-gray-500 hover:text-indigo-600 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(ka,{size:22})}),e.jsx("button",{onClick:()=>g("/"),className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition",children:e.jsx(Is,{size:22})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4 shadow-xl",children:e.jsx(wa,{size:34,className:"text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Verify OTP"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Enter the 6-digit code sent to"," ",e.jsx("span",{className:"font-semibold text-indigo-600",children:x})]})]}),e.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2 text-sm",children:[e.jsx(is,{size:16,className:"text-indigo-500"}),e.jsxs("span",{className:"font-mono text-gray-700",children:["Code expires in: ",B(c)]})]}),i&&e.jsx("div",{className:"mb-6 bg-red-50 text-red-700 border border-red-200 p-4 rounded-xl text-sm",children:i}),e.jsxs("form",{onSubmit:Q,className:"space-y-8",children:[e.jsx("div",{className:"flex justify-center gap-3",children:t.map((T,U)=>e.jsx("input",{ref:k=>f.current[U]=k,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:T,onChange:k=>j(U,k.target.value),onKeyDown:k=>_(U,k),className:"w-14 h-14 text-center text-2xl font-bold border-2 border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition"},U))}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-xl font-semibold text-lg shadow-md hover:shadow-xl transition-all disabled:opacity-60 flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx(lo,{className:"animate-spin",size:20}),"Verifying..."]}):"Verify Code"}),e.jsx("button",{type:"button",onClick:E,disabled:!u||r,className:"w-full py-3 border-2 border-indigo-500 text-indigo-600 rounded-xl font-semibold hover:bg-indigo-50 transition disabled:opacity-40 disabled:cursor-not-allowed",children:u?"Resend Code":`Resend available in ${B(c)}`})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the code? Check your spam folder or"," ",e.jsx("button",{onClick:()=>g("/forgot-password"),className:"text-indigo-600 hover:text-indigo-800 font-semibold",children:"try another email"})]})})]})})}function Eq(){const[t,s]=S.useState(!1),[r,a]=S.useState(!1),i=()=>{s(!0),a(!1)},o=()=>s(!1),c=A=>a(A);return e.jsxs(e.Fragment,{children:[e.jsx(WG,{isLoggedIn:t,onOpenLoginModal:()=>c(!0),onLogout:o}),r&&e.jsx(rS,{onClose:()=>c(!1),children:e.jsx(dy,{isModal:!0,onSuccessfulLogin:i})}),e.jsxs(bF,{children:[e.jsx(_s,{path:"/",element:e.jsx(bG,{})}),e.jsx(_s,{path:"/login",element:e.jsx(dy,{onSuccessfulLogin:i})}),e.jsx(_s,{path:"/PassengerRegistration",element:e.jsx(JI,{})}),e.jsx(_s,{path:"/CompanyProfileForm",element:e.jsx(wG,{})}),e.jsx(_s,{path:"/CompanyRegistration",element:e.jsx(ZI,{})}),e.jsx(_s,{path:"/logout",element:e.jsx(WI,{})}),e.jsx(_s,{path:"/Weather",element:e.jsx(lG,{})}),e.jsx(_s,{path:"/PassengerCardList",element:e.jsx(zC,{})}),e.jsx(_s,{path:"/passenger/booking",element:e.jsx(z1,{})}),e.jsx(_s,{path:"/summary",element:e.jsx(rv,{})}),e.jsx(_s,{path:"/book-vehical-details/:id",element:e.jsx(Bq,{})}),e.jsx(_s,{path:"/payment",element:e.jsx(oS,{})}),e.jsx(_s,{path:"/ServiceProviderDashboard",element:e.jsx(XG,{})}),e.jsx(_s,{path:"/seat-booking",element:e.jsx(JG,{})}),e.jsx(_s,{path:"/vehicle-booking",element:e.jsx(tq,{})}),e.jsx(_s,{path:"/company/:company_id/transports",element:e.jsx(sq,{})}),e.jsx(_s,{path:"/Seatbookingoffers",element:e.jsx(tS,{})}),e.jsx(_s,{path:"/AllVehiclesPage",element:e.jsx(nq,{})}),e.jsx(_s,{path:"/CompanyRegistrationSection",element:e.jsx(lq,{})}),e.jsx(_s,{path:"/AboutUs",element:e.jsx(Aq,{})}),e.jsx(_s,{path:"/ContactPage",element:e.jsx(cq,{})}),e.jsx(_s,{path:"/Passenger_profile",element:e.jsx(W6,{})}),e.jsxs(_s,{element:e.jsx(iq,{isLoggedIn:t}),children:[e.jsx(_s,{path:"/Company_profile",element:e.jsx(nS,{})}),e.jsx(_s,{path:"/PassengerDashboard",element:e.jsx(rG,{})}),e.jsx(_s,{path:"/CompanyDashboard",element:e.jsx(uM,{})})]}),e.jsx(_s,{path:"/book-seat",element:e.jsx(dq,{})}),e.jsx(_s,{path:"/book-vehical/:id",element:e.jsx(yq,{})}),e.jsx(_s,{path:"/view-seat-offer/:id",element:e.jsx(vq,{})}),e.jsx(_s,{path:"/forgot-password",element:e.jsx(_q,{})}),e.jsx(_s,{path:"/verify-otp",element:e.jsx(Sq,{})}),e.jsx(_s,{path:"/reset-password",element:e.jsx(Cq,{})})]}),e.jsx(wq,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")});_E.createRoot(document.getElementById("root")).render(e.jsx(Ds.StrictMode,{children:e.jsx(PF,{children:e.jsx(Eq,{})})}));export{Ps as _,Fq as c,n4 as g};
